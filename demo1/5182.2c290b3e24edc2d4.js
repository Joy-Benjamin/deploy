"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[5182],{5182:(ui,K,D)=>{D.r(K),D.d(K,{rdtstepperModule:()=>si});var n=D(86656),A=D(96814),p=D(56223),M=D(14934),re=D(94955),I=D(64190),y=D(15861),S=D(65619);const x={scale_threshold:null,sc_multiply:null,sc_unit:""},f={vm_align_type:"",vm_animation:"",vm_equation:"",vm_font:"",vm_font_size:0,vm_icon:"",vm_label:"",vm_label_color:"",vm_text_color:"",vm_value:null},_={decimalpoint:1,mX_C_C_Correction_Factor:"0",mX_C_X_Multiplication_Factor:"1",parameterDescription:"",parameterID:"",parameterLabel:"",scheduleparameters:[],scalingtable:[],scaling_table:!1,schedule_parameter:!1,valuemapping:[],value_mapping:!1,tempInput:!1,schedule_heatmap_type:"",schedule_max:0,schedule_operation_type:"",schedule_parameter_name:"",schedule_parameter_label:"",schedule_value_type:""},d={virtual_equation_textarea:"",v_decimalPoint:1,v_mX_C_C_Correction_Factor:"1",v_mX_C_X_Multiplication_Factor:"1",v_parameterDescription:"",v_parameterID:"",v_parameterLabel:"",v_scalingtableBoolean:!1,v_scaling_table:[],v_scheduleparameters:[],v_valuemappingBoolean:!1,v_value_mapping:[],v_schedule_parameter:!1,v_schedule_heatmap_type:"",v_schedule_max:0,v_schedule_operation_type:"",v_schedule_parameter_name:"",v_schedule_parameter_label:"",v_schedule_value_type:""},k={v_schedule_heatmap_type:"Disabled",v_schedule_max:1e3,v_schedule_operation_type:"Normal",v_schedule_parameter_name:"name",v_schedule_value_type:"Difference"},v={v_vm_align_type:"",v_vm_animation:"",v_vm_equation:"",v_vm_font:"",v_vm_font_size:1,v_vm_icon:"",v_vm_label:"",v_vm_label_color:"",v_vm_text_color:"#000000",v_vm_value:null},U={v_scale_threshold:null,v_sc_multiply:null,v_sc_unit:""},q={schedule_heatmap_type:"Disabled",schedule_max:1e3,schedule_operation_type:"Normal",schedule_parameter_name:"name",schedule_value_type:"Difference",schedule_parameter_label:""},C={rdt_id:"",client_id:"Google",alerts:!1,deviceTimeout:15,mxC:!1,parameters:[],parameters_view:!1,rdtLabel:"",reading_device_type_id:"RDT_XLSX",schedule_type:!1,updated:"2024-05-02T07:24:42.744Z",updateTime:1,virtual_parameters:[]};var e=D(65879),O=D(5588),V=D(31552);let L=(()=>{var o;class s{constructor(){}onWheel(t){t.preventDefault()}}return o=s,(0,n.Z)(s,"\u0275fac",function(t){return new(t||o)}),(0,n.Z)(s,"\u0275dir",e.lG2({type:o,selectors:[["","appPreventScroll",""]],hostBindings:function(t,a){1&t&&e.NdJ("wheel",function(r){return a.onWheel(r)})}})),s})();function se(o,s){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const l=e.oxw();e.xp6(1),e.hij(" ",l.errorForUniqueParameter_id," ")}}function ue(o,s){1&o&&(e.TgZ(0,"div"),e._uU(1," Parameter ID is required "),e.qZA())}function ce(o,s){if(1&o&&e.YNc(0,ue,2,0,"div",20),2&o){const l=e.oxw();let t;e.Q6J("ngIf",(null==(t=l.form.get("parameterID"))?null:t.hasError("required"))&&(null==(t=l.form.get("parameterID"))?null:t.touched))}}function pe(o,s){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const l=e.oxw();e.xp6(1),e.hij(" ",l.errorForUniqueParameter_label," ")}}function de(o,s){1&o&&(e.TgZ(0,"div"),e._uU(1," Parameter Label is required "),e.qZA())}function _e(o,s){if(1&o&&e.YNc(0,de,2,0,"div",20),2&o){const l=e.oxw();let t;e.Q6J("ngIf",(null==(t=l.form.get("parameterLabel"))?null:t.hasError("required"))&&(null==(t=l.form.get("parameterLabel"))?null:t.touched))}}function me(o,s){1&o&&(e.TgZ(0,"div",6),e._uU(1," Decimal Point is required "),e.qZA())}function he(o,s){1&o&&(e.TgZ(0,"div",6),e._uU(1," Invalid format. Enter a valid decimal number. "),e.qZA())}function ge(o,s){1&o&&(e.TgZ(0,"div",6),e._uU(1," Invalid format. Enter a valid decimal number. "),e.qZA())}let Y=(()=>{var o;class s{constructor(t,a,i,r){(0,n.Z)(this,"fb",void 0),(0,n.Z)(this,"getPowerBoard",void 0),(0,n.Z)(this,"api",void 0),(0,n.Z)(this,"cd",void 0),(0,n.Z)(this,"updateParentModel",void 0),(0,n.Z)(this,"form",void 0),(0,n.Z)(this,"parameterData",[]),(0,n.Z)(this,"hideDeleteButton",void 0),(0,n.Z)(this,"defaultValues",void 0),(0,n.Z)(this,"EditOperation",void 0),(0,n.Z)(this,"unsubscribe",[]),(0,n.Z)(this,"errorForUniqueParameter_id",""),(0,n.Z)(this,"errorForUniqueParameter_label",""),(0,n.Z)(this,"lookup_data_temp1",[]),(0,n.Z)(this,"getLoggedUser",void 0),(0,n.Z)(this,"SK_clientID",void 0),(0,n.Z)(this,"myValue",void 0),this.fb=t,this.getPowerBoard=a,this.api=i,this.cd=r}ngOnChanges(t){t.defaultValues&&(console.log("Step 1 On changes All inits ",_),this.initForm())}ngOnInit(){this.getLoggedUser=this.getPowerBoard.getLoggedUserDetails(),this.SK_clientID=this.getLoggedUser.attributes["custom:clientID"],this.initForm(),this.updateParentModel({},this.checkForm())}initForm(){console.log("Step 1 All inits ",_),this.form=this.fb.group({parameterID:[{value:this.defaultValues.parameterID,disabled:this.EditOperation},[p.kI.required]],parameterLabel:[this.defaultValues.parameterLabel,[p.kI.required]],parameterDescription:[this.defaultValues.parameterDescription],decimalpoint:[this.defaultValues.decimalpoint,[p.kI.required]],mX_C_X_Multiplication_Factor:[this.defaultValues.mX_C_X_Multiplication_Factor,[p.kI.required,p.kI.pattern(/^\d*(\.\d+)?$/)]],mX_C_C_Correction_Factor:[this.defaultValues.mX_C_C_Correction_Factor,[p.kI.required,p.kI.pattern(/^\d*(\.\d+)?$/)]],tempInput:[""]}),0==this.hideDeleteButton&&this.form.disable();const t=this.form.valueChanges.subscribe(a=>{this.updateParentModel(a,(""==this.errorForUniqueParameter_id&&""==this.errorForUniqueParameter_label||0!=this.EditOperation)&&this.checkForm())});this.unsubscribe.push(t),this.cd.detectChanges()}checkForm(){return!(this.form.get("parameterID")?.hasError("required")||this.form.get("parameterLabel")?.hasError("required")||this.form.get("decimalpoint")?.hasError("required")||this.form.get("mX_C_X_Multiplication_Factor")?.hasError("required")||this.form.get("mX_C_C_Correction_Factor")?.hasError("required")||this.form.get("mX_C_X_Multiplication_Factor")?.hasError("pattern")||this.form.get("mX_C_C_Correction_Factor")?.hasError("pattern"))}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}checkforParameterID(t){if(this.parameterData){this.errorForUniqueParameter_id="";for(let a=0;a<this.parameterData.length;a++){if(console.log(t.target.value,"-------"),t.target.value.trim()==this.parameterData[a].parameterID){this.errorForUniqueParameter_id="Parameter ID already exists",this.updateParentModel({},!1);break}""==this.errorForUniqueParameter_label&&this.updateParentModel({},this.checkForm())}}}checkforParameterLabel(t){if(this.errorForUniqueParameter_label="",this.parameterData)for(let a=0;a<this.parameterData.length;a++){if(console.log(t.target.value,"-------"),console.log(t.target.value.trim()+" == "+this.parameterData[a].parameterLabel+" &&"+_.parameterLabel+" != "+t.target.value.trim()),t.target.value.trim()==this.parameterData[a].parameterLabel&&_.parameterLabel!=t.target.value.trim()){this.errorForUniqueParameter_label="Parameter Label already exists",this.updateParentModel({},!1);break}""==this.errorForUniqueParameter_id&&this.updateParentModel({},this.checkForm())}}}return o=s,(0,n.Z)(s,"\u0275fac",function(t){return new(t||o)(e.Y36(p.qu),e.Y36(O.F),e.Y36(V.t),e.Y36(e.sBO))}),(0,n.Z)(s,"\u0275cmp",e.Xpm({type:o,selectors:[["app-parameter-step1"]],inputs:{updateParentModel:"updateParentModel",parameterData:"parameterData",hideDeleteButton:"hideDeleteButton",defaultValues:"defaultValues",EditOperation:"EditOperation"},features:[e.TTD],decls:47,vars:8,consts:[[3,"formGroup"],[1,"row","mb-7"],[1,"col-md-4","mb-md-0"],[1,"d-flex","align-items-center","fs-6","fw-bold","form-label","mb-2"],[1,"required"],["type","text","name","parameterID","formControlName","parameterID","placeholder","Enter Parameter ID","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"keyup"],[1,"fv-plugins-message-container","invalid-feedback"],[4,"ngIf","ngIfElse"],["defaultErrorMessagerparameter",""],["type","text","name","parameterLabel","formControlName","parameterLabel","placeholder","Enter Parameter Label","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"keyup"],["defaultErrorMessagerparameterLabel",""],[1,"col-md-4"],["type","text","name","parameterDescription","formControlName","parameterDescription","placeholder","Enter Parameter Description","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["ngbTooltip","Enter Decimal Point",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["type","number","step","0.01","name","decimalpoint","formControlName","decimalpoint","placeholder","Enter Decimal Point","required","","appPreventScroll","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["class","fv-plugins-message-container invalid-feedback",4,"ngIf"],["ngbTooltip","Enter Multiplication Factor",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["type","text","name","mX_C_X_Multiplication_Factor","formControlName","mX_C_X_Multiplication_Factor","placeholder","Enter Multiplication Factor","required","","appPreventScroll","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["ngbTooltip","Enter Correction Factor",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["type","text","pattern","^\\d*(\\.\\d+)?$","name","mX_C_C_Correction_Factor","formControlName","mX_C_C_Correction_Factor","placeholder","Enter Correction Factor","required","","appPreventScroll","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[4,"ngIf"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3)(4,"span",4),e._uU(5,"Parameter ID"),e.qZA()(),e.TgZ(6,"input",5),e.NdJ("keyup",function(r){return a.checkforParameterID(r)}),e.qZA(),e.TgZ(7,"div",6),e.YNc(8,se,2,1,"ng-container",7),e.YNc(9,ce,1,1,"ng-template",null,8,e.W1O),e.qZA()(),e.TgZ(11,"div",2)(12,"label",3)(13,"span",4),e._uU(14,"Parameter Label"),e.qZA()(),e.TgZ(15,"input",9),e.NdJ("keyup",function(r){return a.checkforParameterLabel(r)}),e.qZA(),e.TgZ(16,"div",6),e.YNc(17,pe,2,1,"ng-container",7),e.YNc(18,_e,1,1,"ng-template",null,10,e.W1O),e.qZA()(),e.TgZ(20,"div",11)(21,"label",3)(22,"span"),e._uU(23,"Parameter Description"),e.qZA()(),e._UZ(24,"input",12),e.qZA()(),e.TgZ(25,"div",1)(26,"div",2)(27,"label",3)(28,"span",4),e._uU(29,"Decimal Point"),e.qZA(),e._UZ(30,"i",13),e.qZA(),e._UZ(31,"input",14),e.YNc(32,me,2,0,"div",15),e.qZA(),e.TgZ(33,"div",2)(34,"label",3)(35,"span",4),e._uU(36," Multi. Factor(mx+c)"),e.qZA(),e._UZ(37,"i",16),e.qZA(),e._UZ(38,"input",17),e.YNc(39,he,2,0,"div",15),e.qZA(),e.TgZ(40,"div",11)(41,"label",3)(42,"span",4),e._uU(43,"Correction Factor(mx+c)"),e.qZA(),e._UZ(44,"i",18),e.qZA(),e._UZ(45,"input",19),e.YNc(46,ge,2,0,"div",15),e.qZA()()()),2&t){const i=e.MAs(10),r=e.MAs(19);let c,u,m;e.Q6J("formGroup",a.form),e.xp6(8),e.Q6J("ngIf",""!==a.errorForUniqueParameter_id)("ngIfElse",i),e.xp6(9),e.Q6J("ngIf",""!==a.errorForUniqueParameter_label)("ngIfElse",r),e.xp6(15),e.Q6J("ngIf",(null==(c=a.form.get("decimalpoint"))?null:c.hasError("required"))&&(null==(c=a.form.get("decimalpoint"))?null:c.touched)),e.xp6(7),e.Q6J("ngIf",(null==(u=a.form.get("mX_C_X_Multiplication_Factor"))?null:u.hasError("pattern"))&&(null==(u=a.form.get("mX_C_X_Multiplication_Factor"))?null:u.touched)),e.xp6(7),e.Q6J("ngIf",(null==(m=a.form.get("mX_C_C_Correction_Factor"))?null:m.hasError("pattern"))&&(null==(m=a.form.get("mX_C_C_Correction_Factor"))?null:m.touched))}},dependencies:[A.O5,p.Fj,p.wV,p.JJ,p.JL,p.Q7,p.c5,p.sg,p.u,M._L,L],styles:["input[disabled][_ngcontent-%COMP%]{cursor:not-allowed}"]})),s})();var ve=D(13519),h=D.n(ve),E=D(22939);const fe=["myButton"];function be(o,s){1&o&&(e.TgZ(0,"div",1)(1,"span",10),e._uU(2,"To configure Scaling Table, please enable the checkbox. input the threshold value, multiplication factor, and unit for each range."),e.qZA()())}function Ze(o,s){1&o&&(e.TgZ(0,"div",11)(1,"div",12)(2,"i",13),e._uU(3," Threshold"),e.qZA(),e._UZ(4,"input",14),e.qZA(),e.TgZ(5,"div",12)(6,"i",13),e._uU(7," Multiplication Factor"),e.qZA(),e._UZ(8,"input",15),e.qZA(),e.TgZ(9,"div",16)(10,"i",13),e._uU(11," Unit"),e.qZA(),e._UZ(12,"input",17),e.qZA()())}function Te(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",25)(1,"button",26),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(2);return e.KtG(a.getscalingtable("","html"))}),e._uU(2," Add Scaling "),e.qZA()()}if(2&o){const l=e.oxw(2);let t;e.xp6(1),e.Q6J("disabled",(null==(t=l.form.get("scale_threshold"))?null:t.hasError("required"))||(null==(t=l.form.get("sc_multiply"))?null:t.hasError("required"))||(null==(t=l.form.get("sc_unit"))?null:t.hasError("required"))||0==l.hideDeleteButton)}}function Ce(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",25)(1,"button",26),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(2);return e.KtG(a.getscalingtable("","update"))}),e._uU(2," Update Scaling "),e.qZA()()}if(2&o){const l=e.oxw(2);let t;e.xp6(1),e.Q6J("disabled",(null==(t=l.form.get("scale_threshold"))?null:t.hasError("required"))||(null==(t=l.form.get("sc_multiply"))?null:t.hasError("required"))||(null==(t=l.form.get("sc_unit"))?null:t.hasError("required"))||0==l.hideDeleteButton)}}function ye(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",18),e.YNc(1,Te,3,1,"div",19),e.YNc(2,Ce,3,1,"div",19),e.TgZ(3,"div",20)(4,"button",21),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.copyToLocalStorage())}),e._UZ(5,"i",22),e._uU(6," Copy"),e.qZA(),e.TgZ(7,"button",23),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.pasteFromLocalStorage())}),e._UZ(8,"i",24),e._uU(9," Paste"),e.qZA()()()}if(2&o){const l=e.oxw();e.xp6(1),e.Q6J("ngIf",!l.editOperation),e.xp6(1),e.Q6J("ngIf",l.editOperation)}}let G=(()=>{var o;class s{constructor(t,a,i){(0,n.Z)(this,"fb",void 0),(0,n.Z)(this,"cd",void 0),(0,n.Z)(this,"toast",void 0),(0,n.Z)(this,"updateParentModel",void 0),(0,n.Z)(this,"form",void 0),(0,n.Z)(this,"customInit",void 0),(0,n.Z)(this,"hideDeleteButton",void 0),(0,n.Z)(this,"defaultValues",void 0),(0,n.Z)(this,"editOperation",void 0),(0,n.Z)(this,"scallingTable_horizontal",void 0),(0,n.Z)(this,"scaleOperation",void 0),(0,n.Z)(this,"myButton",void 0),(0,n.Z)(this,"dataChange",new e.vpe),(0,n.Z)(this,"unsubscribe",[]),(0,n.Z)(this,"showUpdate_ScalingButton",!1),(0,n.Z)(this,"scalingTable_data",[]),(0,n.Z)(this,"validateContinue",!1),this.fb=t,this.cd=a,this.toast=i}ngOnChanges(t){t.scallingTable_horizontal&&(this.scalingTable_data=this.scallingTable_horizontal)}ngOnInit(){this.initForm(),this.updateParentModel({},this.checkForm())}initForm(){this.form=this.fb.group({scaling_table:[_.scaling_table],scale_threshold:[x.scale_threshold],sc_multiply:[x.sc_multiply],sc_unit:[x.sc_unit]}),0==this.hideDeleteButton&&this.form.disable(),null!=x.sc_multiply&&null!=x.scale_threshold&&""!=x.sc_unit&&(this.editOperation=!0);const t=this.form.valueChanges.subscribe(a=>{console.log("Iam Triggered :"),this.scalingTable_data.length>0?this.updateParentModel(a,!0):0==this.form.get("scaling_table")?.value?(this.form.reset(),this.updateParentModel(a,!0)):this.updateParentModel(a,this.validateContinue)});this.unsubscribe.push(t),this.cd.detectChanges()}checkForm(){return!(this.form.get("scale_threshold")?.hasError("required")||this.form.get("sc_multiply")?.hasError("required")||this.form.get("sc_unit")?.hasError("required"))}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}getscalingtable(t,a){if("html"==a){this.scalingTable_data||(this.scalingTable_data=[]);for(let i=0;i<this.scalingTable_data.length;i++)if(this.scalingTable_data[i].scale_threshold===this.form.value.scale_threshold&&this.scalingTable_data[i].sc_multiply===this.form.value.sc_multiply)return h().fire({customClass:{container:"my-swal"},position:"center",title:"Already exists?",text:"Add New Scaling values again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1});this.form.value&&this.form.value.scale_threshold&&this.scalingTable_data.push({scale_threshold:this.form.value.scale_threshold,sc_multiply:this.form.value.sc_multiply,sc_unit:this.form.value.sc_unit}),h().fire({customClass:{container:"my-swal"},position:"center",title:"Scaling Factor Added",text:"Confirm Changes by Clicking Update/Submit",icon:"success"}),console.log("Scaling Table Data here:",this.scalingTable_data)}else if("ts_edit"==a)if(this.scalingTable_data=[],void 0!==t&&t.length>=1){if(t&&void 0!==t)for(let i=0;i<t.length;i++)this.scalingTable_data.push({scale_threshold:t[i].scale_threshold,sc_multiply:t[i].sc_multiply,sc_unit:t[i].sc_unit})}else this.scalingTable_data=[];else if("update"==a){if(this.form.value&&this.form.value.scale_threshold)for(let i=0;i<this.scalingTable_data.length;i++)this.scalingTable_data[i].scale_threshold==this.form.value.scale_threshold&&(this.scalingTable_data[i].sc_multiply=this.form.value.sc_multiply,this.scalingTable_data[i].sc_unit=this.form.value.sc_unit);h().fire({customClass:{container:"my-swal"},position:"center",title:"Scaling Factor Updated",text:"Confirm Changes by Clicking Update/Submit",icon:"success"}),this.editOperation=!1,x.scale_threshold=null,x.sc_multiply=null,x.sc_unit="",this.cd.detectChanges()}return console.log("All Scaling Table Data here:",this.scalingTable_data),this.updateData(this.scalingTable_data),this.validateContinue=!0,this.updateParentModel(this.form.value,this.validateContinue),this.form.get("scale_threshold")?.setValue(""),this.form.get("sc_multiply")?.setValue(""),this.form.get("sc_unit")?.setValue(""),this.cd.detectChanges(),this.scalingTable_data}updateData(t){console.log("I am getting triggered iam changing;"),this.scalingTable_data=t,this.dataChange.emit(this.scalingTable_data)}copyToLocalStorage(){const t=this.form.value;console.log("Values are here for copying ",t),localStorage.setItem("formscaleData",JSON.stringify(t)),this.toast.open("Your data has been copied successfully!","",{duration:1e3,horizontalPosition:"center",verticalPosition:"bottom"}),console.log("Copied to local storage:",t)}pasteFromLocalStorage(){const t=localStorage.getItem("formscaleData");if(t){const a=JSON.parse(t),i=document.getElementById("advancedOptions");i&&i.classList.add("show"),this.form.patchValue(a),this.cd.detectChanges(),console.log("Pasted from local storage:",a)}else console.log("No data found in local storage")}}return o=s,(0,n.Z)(s,"\u0275fac",function(t){return new(t||o)(e.Y36(p.qu),e.Y36(e.sBO),e.Y36(E.ux))}),(0,n.Z)(s,"\u0275cmp",e.Xpm({type:o,selectors:[["app-parameter-step3"]],viewQuery:function(t,a){if(1&t&&e.Gf(fe,5),2&t){let i;e.iGM(i=e.CRH())&&(a.myButton=i.first)}},inputs:{updateParentModel:"updateParentModel",customInit:"customInit",hideDeleteButton:"hideDeleteButton",defaultValues:"defaultValues",editOperation:"editOperation",scallingTable_horizontal:"scallingTable_horizontal",scaleOperation:"scaleOperation"},outputs:{dataChange:"dataChange"},features:[e.TTD],decls:11,vars:4,consts:[[3,"formGroup"],[1,"row","mb-7"],[1,"col"],[1,"form-check","form-check-inline","form-check-solid","me-5"],["name","scaling_table","type","checkbox","formControlName","scaling_table",1,"form-check-input"],[1,"fw-bold","ps-2","fc-8"],["ngbTooltip","Example: threshold value: 1000, multiplication factor: 0.001, and unit: 'k,' it will display as '1k'",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["class","row mb-7",4,"ngIf"],["class","row mb-1",4,"ngIf"],["style","display: flex;flex-direction: row;justify-content: space-between;gap:10px;align-items: baseline;",4,"ngIf"],[2,"font-size","15px"],[1,"row","mb-1"],[1,"col-md-4","mb-md-0"],[1,"col-lg-12","col-form-label","fw-bold","fs-6","required"],["type","number","placeholder","Enter threshold ","name","scale_threshold","formControlName","scale_threshold","required","","appPreventScroll","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","number","placeholder","Enter multiply factor","name","sc_multiply","formControlName","sc_multiply","required","","appPreventScroll","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[1,"col-md-4"],["type","text","placeholder","Enter scaling unit ","name","sc_unit","formControlName","sc_unit","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[2,"display","flex","flex-direction","row","justify-content","space-between","gap","10px","align-items","baseline"],["class","footer col","style","padding-top: 30px;",4,"ngIf"],[2,"padding-top","20px"],["type","button",1,"btn","btn-success","btn-sm",2,"margin-right","5px",3,"click"],[1,"fa-solid","fa-copy"],["type","button",1,"btn","btn-warning","btn-sm",3,"click"],[1,"fa-solid","fa-paste"],[1,"footer","col",2,"padding-top","30px"],["type","button",1,"btn","btn-sm","btn-primary",3,"disabled","click"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e._UZ(4,"input",4),e.TgZ(5,"span",5),e._uU(6,"Enable Scaling"),e._UZ(7,"i",6),e.qZA()()()(),e.YNc(8,be,3,0,"div",7),e.YNc(9,Ze,13,0,"div",8),e.YNc(10,ye,10,2,"div",9),e.qZA()),2&t){let i,r,c;e.Q6J("formGroup",a.form),e.xp6(8),e.Q6J("ngIf",!(null!=(i=a.form.get("scaling_table"))&&i.value)),e.xp6(1),e.Q6J("ngIf",null==(r=a.form.get("scaling_table"))?null:r.value),e.xp6(1),e.Q6J("ngIf",null==(c=a.form.get("scaling_table"))?null:c.value)}},dependencies:[A.O5,p.Fj,p.wV,p.Wl,p.JJ,p.JL,p.Q7,p.sg,p.u,M._L,L],styles:["input[disabled][_ngcontent-%COMP%]{cursor:not-allowed}.btn-success[_ngcontent-%COMP%]:hover, .btn-warning[_ngcontent-%COMP%]:hover{transform:translateY(-2px);transition:.7s}"]})),s})();var z=D(98525),j=D(23680);function De(o,s){1&o&&(e.TgZ(0,"div",1)(1,"span",11),e._uU(2," To configure value mapping, please enable the checkbox. Value mapping allows you to associate specific values with custom labels, icons, animations, font sizes, and more. Additionally, users can set these mappings to personalize the display of data according to their preferences. "),e.qZA()())}function xe(o,s){1&o&&(e.TgZ(0,"div",22),e._uU(1," Value Mapping Value is required "),e.qZA())}function Ue(o,s){1&o&&(e.TgZ(0,"div",22),e._uU(1," Value Mapping Label is required "),e.qZA())}function qe(o,s){if(1&o&&(e.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"label",15)(4,"span",16),e._uU(5,"Value"),e.qZA(),e._UZ(6,"i",17),e.qZA(),e._UZ(7,"input",18),e.YNc(8,xe,2,0,"div",19),e.qZA(),e.TgZ(9,"div",14)(10,"label",15)(11,"span",16),e._uU(12,"Label"),e.qZA(),e._UZ(13,"i",20),e.qZA(),e._UZ(14,"input",21),e.YNc(15,Ue,2,0,"div",19),e.qZA()()()),2&o){const l=e.oxw();let t,a;e.xp6(8),e.Q6J("ngIf",(null==(t=l.form.get("vm_value"))?null:t.hasError("required"))&&(null==(t=l.form.get("vm_value"))?null:t.touched)),e.xp6(7),e.Q6J("ngIf",(null==(a=l.form.get("vm_label"))?null:a.hasError("required"))&&(null==(a=l.form.get("vm_label"))?null:a.touched))}}function Ae(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",23)(1,"button",24),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.toggleAdvancedOptions())}),e._uU(2," Advanced Options "),e._UZ(3,"i",25),e.qZA(),e.TgZ(4,"div",26)(5,"div",27)(6,"div",14)(7,"label",15)(8,"span"),e._uU(9,"Equation"),e.qZA(),e._UZ(10,"i",28),e.qZA(),e._UZ(11,"textarea",29),e.qZA(),e.TgZ(12,"div",14)(13,"label",15)(14,"span"),e._uU(15,"Class Icon"),e.qZA(),e._UZ(16,"i",30),e.qZA(),e.TgZ(17,"mat-select",31)(18,"mat-option",32),e._uU(19," None "),e.qZA(),e.TgZ(20,"mat-option",33),e._UZ(21,"i",34),e._uU(22," Graph Up "),e.qZA(),e.TgZ(23,"mat-option",35),e._UZ(24,"i",36),e._uU(25," Graph Down "),e.qZA(),e.TgZ(26,"mat-option",37),e._UZ(27,"i",38),e._uU(28," Bar Chart "),e.qZA(),e.TgZ(29,"mat-option",39),e._UZ(30,"i",40),e._uU(31," Pie Chart "),e.qZA(),e.TgZ(32,"mat-option",41),e._UZ(33,"i",42),e._uU(34," Speedometer "),e.qZA(),e.TgZ(35,"mat-option",43),e._UZ(36,"i",44),e._uU(37," Alarm "),e.qZA(),e.TgZ(38,"mat-option",45),e._UZ(39,"i",46),e._uU(40," Notifications "),e.qZA(),e.TgZ(41,"mat-option",47),e._UZ(42,"i",48),e._uU(43," Calendar "),e.qZA(),e.TgZ(44,"mat-option",49),e._UZ(45,"i",50),e._uU(46," CPU Usage "),e.qZA(),e.TgZ(47,"mat-option",51),e._UZ(48,"i",52),e._uU(49," Filled Bar Chart "),e.qZA(),e.TgZ(50,"mat-option",53),e._UZ(51,"i",54),e._uU(52," Diagram "),e.qZA(),e.TgZ(53,"mat-option",55),e._UZ(54,"i",56),e._uU(55," Data Table "),e.qZA(),e.TgZ(56,"mat-option",57),e._UZ(57,"i",58),e._uU(58," Filter "),e.qZA(),e.TgZ(59,"mat-option",59),e._UZ(60,"i",60),e._uU(61," Storage "),e.qZA(),e.TgZ(62,"mat-option",61),e._UZ(63,"i",62),e._uU(64," User "),e.qZA(),e.TgZ(65,"mat-option",63),e._UZ(66,"i",64),e._uU(67," Users "),e.qZA(),e.TgZ(68,"mat-option",65),e._UZ(69,"i",66),e._uU(70," User Check "),e.qZA(),e.TgZ(71,"mat-option",67),e._UZ(72,"i",68),e._uU(73," User Removal "),e.qZA(),e.TgZ(74,"mat-option",69),e._UZ(75,"i",70),e._uU(76," Warning "),e.qZA(),e.TgZ(77,"mat-option",71),e._UZ(78,"i",72),e._uU(79," Alert "),e.qZA(),e.TgZ(80,"mat-option",73),e._UZ(81,"i",74),e._uU(82," Activity Monitoring "),e.qZA(),e.TgZ(83,"mat-option",75),e._UZ(84,"i",76),e._uU(85," Security Shield "),e.qZA(),e.TgZ(86,"mat-option",77),e._UZ(87,"i",78),e._uU(88," Folder "),e.qZA(),e.TgZ(89,"mat-option",79),e._UZ(90,"i",80),e._uU(91," Folder (Filled) "),e.qZA(),e.TgZ(92,"mat-option",81),e._UZ(93,"i",82),e._uU(94," Hard Drive "),e.qZA(),e.TgZ(95,"mat-option",83),e._UZ(96,"i",84),e._uU(97," Cloud Download "),e.qZA(),e.TgZ(98,"mat-option",85),e._UZ(99,"i",86),e._uU(100," Cloud Upload "),e.qZA(),e.TgZ(101,"mat-option",87),e._UZ(102,"i",88),e._uU(103," Settings "),e.qZA(),e.TgZ(104,"mat-option",89),e._UZ(105,"i",90),e._uU(106," Tools "),e.qZA(),e.TgZ(107,"mat-option",91),e._UZ(108,"i",92),e._uU(109," Arrow Up "),e.qZA(),e.TgZ(110,"mat-option",93),e._UZ(111,"i",94),e._uU(112," Arrow Down "),e.qZA(),e.TgZ(113,"mat-option",95),e._UZ(114,"i",96),e._uU(115," Reply All "),e.qZA(),e.TgZ(116,"mat-option",97),e._UZ(117,"i",98),e._uU(118," Time "),e.qZA(),e.TgZ(119,"mat-option",99),e._UZ(120,"i",100),e._uU(121," Lightbulb "),e.qZA(),e.TgZ(122,"mat-option",101),e._UZ(123,"i",102),e._uU(124," Lightbulb (Filled) "),e.qZA(),e.TgZ(125,"mat-option",103),e._UZ(126,"i",104),e._uU(127," Clipboard Data "),e.qZA(),e.TgZ(128,"mat-option",105),e._UZ(129,"i",106),e._uU(130," File "),e.qZA(),e.TgZ(131,"mat-option",107),e._UZ(132,"i",108),e._uU(133," Linked Folder "),e.qZA(),e.TgZ(134,"mat-option",109),e._UZ(135,"i",110),e._uU(136," Basket "),e.qZA()()(),e.TgZ(137,"div",111)(138,"label",15)(139,"span"),e._uU(140,"Style Text Color"),e.qZA(),e._UZ(141,"i",112),e.qZA(),e.TgZ(142,"div",113),e._UZ(143,"input",114),e.TgZ(144,"datalist",115)(145,"option"),e._uU(146,"#ff0000"),e.qZA(),e.TgZ(147,"option"),e._uU(148,"#133E87"),e.qZA(),e.TgZ(149,"option"),e._uU(150,"#0000ff"),e.qZA(),e.TgZ(151,"option"),e._uU(152,"#3B1E54"),e.qZA(),e.TgZ(153,"option"),e._uU(154,"#F9E400"),e.qZA(),e.TgZ(155,"option"),e._uU(156,"#3B1E54"),e.qZA(),e.TgZ(157,"option"),e._uU(158,"#493628"),e.qZA(),e.TgZ(159,"option"),e._uU(160,"#EC8305"),e.qZA(),e.TgZ(161,"option"),e._uU(162,"#001F3F"),e.qZA(),e.TgZ(163,"option"),e._uU(164,"#000000"),e.qZA()()()(),e.TgZ(165,"div",116)(166,"label",15)(167,"span"),e._uU(168,"Label Color"),e.qZA(),e._UZ(169,"i",117),e.qZA(),e.TgZ(170,"select",118)(171,"option",119),e._uU(172,"Select Color"),e.qZA(),e.TgZ(173,"option",120),e._uU(174,"Default"),e.qZA(),e.TgZ(175,"option",121),e._uU(176,"Green"),e.qZA(),e.TgZ(177,"option",122),e._uU(178,"Blue"),e.qZA(),e.TgZ(179,"option",123),e._uU(180,"Turquoise"),e.qZA(),e.TgZ(181,"option",124),e._uU(182,"Yellow"),e.qZA(),e.TgZ(183,"option",125),e._uU(184,"Red"),e.qZA()()()(),e.TgZ(185,"div",126)(186,"div",127)(187,"label",15)(188,"span"),e._uU(189,"Animation"),e.qZA(),e._UZ(190,"i",128),e.qZA(),e.TgZ(191,"select",129)(192,"option",119),e._uU(193,"Select Animation"),e.qZA(),e.TgZ(194,"optgroup",130)(195,"option",131),e._uU(196,"Bounce"),e.qZA(),e.TgZ(197,"option",132),e._uU(198,"Flash"),e.qZA(),e.TgZ(199,"option",133),e._uU(200,"Pulse"),e.qZA(),e.TgZ(201,"option",134),e._uU(202,"RubberBand"),e.qZA(),e.TgZ(203,"option",135),e._uU(204,"ShakeX"),e.qZA(),e.TgZ(205,"option",136),e._uU(206,"ShakeY"),e.qZA(),e.TgZ(207,"option",137),e._uU(208,"HeadShake"),e.qZA(),e.TgZ(209,"option",138),e._uU(210,"Swing"),e.qZA(),e.TgZ(211,"option",139),e._uU(212,"Tada"),e.qZA(),e.TgZ(213,"option",140),e._uU(214,"Wobble"),e.qZA(),e.TgZ(215,"option",141),e._uU(216,"Jello"),e.qZA(),e.TgZ(217,"option",142),e._uU(218,"HeartBeat"),e.qZA()(),e.TgZ(219,"optgroup",143)(220,"option",144),e._uU(221,"BackInDown"),e.qZA(),e.TgZ(222,"option",145),e._uU(223,"BackInLeft"),e.qZA(),e.TgZ(224,"option",146),e._uU(225,"BackInRight"),e.qZA(),e.TgZ(226,"option",147),e._uU(227,"BackInUp"),e.qZA()(),e.TgZ(228,"optgroup",148)(229,"option",149),e._uU(230,"BackOutDown"),e.qZA(),e.TgZ(231,"option",150),e._uU(232,"BackOutLeft"),e.qZA(),e.TgZ(233,"option",151),e._uU(234,"BackOutRight"),e.qZA(),e.TgZ(235,"option",152),e._uU(236,"BackOutUp"),e.qZA()(),e.TgZ(237,"optgroup",153)(238,"option",154),e._uU(239,"BounceIn"),e.qZA(),e.TgZ(240,"option",155),e._uU(241,"BounceInDown"),e.qZA(),e.TgZ(242,"option",156),e._uU(243,"BounceInLeft"),e.qZA(),e.TgZ(244,"option",157),e._uU(245,"BounceInRight"),e.qZA(),e.TgZ(246,"option",158),e._uU(247,"BounceInUp"),e.qZA()(),e.TgZ(248,"optgroup",159)(249,"option",160),e._uU(250,"BounceOut"),e.qZA(),e.TgZ(251,"option",161),e._uU(252,"BounceOutDown"),e.qZA(),e.TgZ(253,"option",162),e._uU(254,"BounceOutLeft"),e.qZA(),e.TgZ(255,"option",163),e._uU(256,"BounceOutRight"),e.qZA(),e.TgZ(257,"option",164),e._uU(258,"BounceOutUp"),e.qZA()(),e.TgZ(259,"optgroup",165)(260,"option",166),e._uU(261,"FadeIn"),e.qZA(),e.TgZ(262,"option",167),e._uU(263,"FadeInDown"),e.qZA(),e.TgZ(264,"option",168),e._uU(265,"FadeInDownBig"),e.qZA(),e.TgZ(266,"option",169),e._uU(267,"FadeInLeft"),e.qZA(),e.TgZ(268,"option",170),e._uU(269,"FadeInLeftBig"),e.qZA(),e.TgZ(270,"option",171),e._uU(271,"FadeInRight"),e.qZA(),e.TgZ(272,"option",172),e._uU(273,"FadeInRightBig"),e.qZA(),e.TgZ(274,"option",173),e._uU(275,"FadeInUp"),e.qZA(),e.TgZ(276,"option",174),e._uU(277,"FadeInUpBig"),e.qZA(),e.TgZ(278,"option",175),e._uU(279,"FadeInTopLeft"),e.qZA(),e.TgZ(280,"option",176),e._uU(281,"FadeInTopRight"),e.qZA(),e.TgZ(282,"option",177),e._uU(283,"FadeInBottomLeft"),e.qZA(),e.TgZ(284,"option",178),e._uU(285,"FadeInBottomRight"),e.qZA()(),e.TgZ(286,"optgroup",179)(287,"option",180),e._uU(288,"FadeOut"),e.qZA(),e.TgZ(289,"option",181),e._uU(290,"FadeOutDown"),e.qZA(),e.TgZ(291,"option",182),e._uU(292,"FadeOutDownBig"),e.qZA(),e.TgZ(293,"option",183),e._uU(294,"FadeOutLeft"),e.qZA(),e.TgZ(295,"option",184),e._uU(296,"FadeOutLeftBig"),e.qZA(),e.TgZ(297,"option",185),e._uU(298,"FadeOutRight"),e.qZA(),e.TgZ(299,"option",186),e._uU(300,"FadeOutRightBig"),e.qZA(),e.TgZ(301,"option",187),e._uU(302,"FadeOutUp"),e.qZA(),e.TgZ(303,"option",188),e._uU(304,"FadeOutUpBig"),e.qZA(),e.TgZ(305,"option",189),e._uU(306,"FadeOutTopLeft"),e.qZA(),e.TgZ(307,"option",190),e._uU(308,"FadeOutTopRight"),e.qZA(),e.TgZ(309,"option",191),e._uU(310,"FadeOutBottomRight"),e.qZA(),e.TgZ(311,"option",192),e._uU(312,"FadeOutBottomLeft"),e.qZA()(),e.TgZ(313,"optgroup",193)(314,"option",194),e._uU(315,"Flip"),e.qZA(),e.TgZ(316,"option",195),e._uU(317,"FlipInX"),e.qZA(),e.TgZ(318,"option",196),e._uU(319,"FlipInY"),e.qZA(),e.TgZ(320,"option",197),e._uU(321,"FlipOutX"),e.qZA(),e.TgZ(322,"option",198),e._uU(323,"FlipOutY"),e.qZA()(),e.TgZ(324,"optgroup",199)(325,"option",200),e._uU(326,"LightSpeedInRight"),e.qZA(),e.TgZ(327,"option",201),e._uU(328,"LightSpeedInLeft"),e.qZA(),e.TgZ(329,"option",202),e._uU(330,"LightSpeedOutRight"),e.qZA(),e.TgZ(331,"option",203),e._uU(332,"LightSpeedOutLeft"),e.qZA()(),e.TgZ(333,"optgroup",204)(334,"option",205),e._uU(335,"RotateIn"),e.qZA(),e.TgZ(336,"option",206),e._uU(337,"RotateInDownLeft"),e.qZA(),e.TgZ(338,"option",207),e._uU(339,"RotateInDownRight"),e.qZA(),e.TgZ(340,"option",208),e._uU(341,"RotateInUpLeft"),e.qZA(),e.TgZ(342,"option",209),e._uU(343,"RotateInUpRight"),e.qZA()(),e.TgZ(344,"optgroup",210)(345,"option",211),e._uU(346,"RotateOut"),e.qZA(),e.TgZ(347,"option",212),e._uU(348,"RotateOutDownLeft"),e.qZA(),e.TgZ(349,"option",213),e._uU(350,"RotateOutDownRight"),e.qZA(),e.TgZ(351,"option",214),e._uU(352,"RotateOutUpLeft"),e.qZA(),e.TgZ(353,"option",215),e._uU(354,"RotateOutUpRight"),e.qZA()(),e.TgZ(355,"optgroup",216)(356,"option",217),e._uU(357,"Hinge"),e.qZA(),e.TgZ(358,"option",218),e._uU(359,"JackInTheBox"),e.qZA(),e.TgZ(360,"option",219),e._uU(361,"RollIn"),e.qZA(),e.TgZ(362,"option",220),e._uU(363,"RollOut"),e.qZA()(),e.TgZ(364,"optgroup",221)(365,"option",222),e._uU(366,"ZoomIn"),e.qZA(),e.TgZ(367,"option",223),e._uU(368,"ZoomInDown"),e.qZA(),e.TgZ(369,"option",224),e._uU(370,"ZoomInLeft"),e.qZA(),e.TgZ(371,"option",225),e._uU(372,"ZoomInRight"),e.qZA(),e.TgZ(373,"option",226),e._uU(374,"ZoomInUp"),e.qZA()(),e.TgZ(375,"optgroup",227)(376,"option",228),e._uU(377,"ZoomOut"),e.qZA(),e.TgZ(378,"option",229),e._uU(379,"ZoomOutDown"),e.qZA(),e.TgZ(380,"option",230),e._uU(381,"ZoomOutLeft"),e.qZA(),e.TgZ(382,"option",231),e._uU(383,"ZoomOutRight"),e.qZA(),e.TgZ(384,"option",232),e._uU(385,"ZoomOutUp"),e.qZA()(),e.TgZ(386,"optgroup",233)(387,"option",234),e._uU(388,"SlideInDown"),e.qZA(),e.TgZ(389,"option",235),e._uU(390,"SlideInLeft"),e.qZA(),e.TgZ(391,"option",236),e._uU(392,"SlideInRight"),e.qZA(),e.TgZ(393,"option",237),e._uU(394,"SlideInUp"),e.qZA()(),e.TgZ(395,"optgroup",238)(396,"option",239),e._uU(397,"SlideOutDown"),e.qZA(),e.TgZ(398,"option",240),e._uU(399,"SlideOutLeft"),e.qZA(),e.TgZ(400,"option",241),e._uU(401,"SlideOutRight"),e.qZA(),e.TgZ(402,"option",242),e._uU(403,"SlideOutUp"),e.qZA()()()(),e.TgZ(404,"div",14)(405,"label",15)(406,"span"),e._uU(407,"Font"),e.qZA(),e._UZ(408,"i",243),e.qZA(),e.TgZ(409,"select",244)(410,"option",119),e._uU(411,"Select Font"),e.qZA(),e.TgZ(412,"option",245),e._uU(413,"Normal"),e.qZA(),e.TgZ(414,"option",246),e._uU(415,"Bold"),e.qZA(),e.TgZ(416,"option",247),e._uU(417,"Italic"),e.qZA()()(),e.TgZ(418,"div",127)(419,"label",15)(420,"span"),e._uU(421,"Font Size"),e.qZA(),e._UZ(422,"i",248),e.qZA(),e._UZ(423,"input",249),e.qZA()(),e.TgZ(424,"div",13)(425,"div",127)(426,"label",15)(427,"span"),e._uU(428,"Align"),e.qZA(),e._UZ(429,"i",250),e.qZA(),e.TgZ(430,"select",251)(431,"option",119),e._uU(432,"Select Align"),e.qZA(),e.TgZ(433,"option",252),e._uU(434,"Right"),e.qZA(),e.TgZ(435,"option",253),e._uU(436,"Left"),e.qZA(),e.TgZ(437,"option",254),e._uU(438,"Center"),e.qZA()()()()()()}2&o&&(e.xp6(171),e.Q6J("selected",!0),e.xp6(21),e.Q6J("selected",!0),e.xp6(218),e.Q6J("selected",!0),e.xp6(21),e.Q6J("selected",!0))}function Se(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",262)(1,"button",263),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(2);return e.KtG(a.getValueMap("","html"))}),e._uU(2," Add Value Mapping "),e.qZA()()}if(2&o){const l=e.oxw(2);let t;e.xp6(1),e.Q6J("disabled",(null==(t=l.form.get("vm_label"))?null:t.hasError("required"))||(null==(t=l.form.get("vm_value"))?null:t.hasError("required"))||0==l.hideDeleteButton)}}function we(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",262)(1,"button",263),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(2);return e.KtG(a.getValueMap("","update"))}),e._uU(2," Update Value Mapping "),e.qZA()()}if(2&o){const l=e.oxw(2);let t;e.xp6(1),e.Q6J("disabled",(null==(t=l.form.get("vm_label"))?null:t.hasError("required"))||(null==(t=l.form.get("vm_value"))?null:t.hasError("required"))||0==l.hideDeleteButton)}}function Pe(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",255),e.YNc(1,Se,3,1,"div",256),e.YNc(2,we,3,1,"div",256),e.TgZ(3,"div",257)(4,"button",258),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.copyToLocalStorage())}),e._UZ(5,"i",259),e._uU(6," Copy"),e.qZA(),e.TgZ(7,"button",260),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.pasteFromLocalStorage())}),e._UZ(8,"i",261),e._uU(9," Paste"),e.qZA()()()}if(2&o){const l=e.oxw();e.xp6(1),e.Q6J("ngIf",!l.editOperation),e.xp6(1),e.Q6J("ngIf",l.editOperation)}}let W=(()=>{var o;class s{constructor(t,a,i,r,c){(0,n.Z)(this,"cd",void 0),(0,n.Z)(this,"fb",void 0),(0,n.Z)(this,"api",void 0),(0,n.Z)(this,"getPowerBoard",void 0),(0,n.Z)(this,"toast",void 0),(0,n.Z)(this,"updateParentModel",void 0),(0,n.Z)(this,"form",void 0),(0,n.Z)(this,"customInit",void 0),(0,n.Z)(this,"hideDeleteButton",void 0),(0,n.Z)(this,"defaultValues",void 0),(0,n.Z)(this,"dataChange",new e.vpe),(0,n.Z)(this,"valueOperation",void 0),(0,n.Z)(this,"editOperation",void 0),(0,n.Z)(this,"valueMapping_horizontal",void 0),(0,n.Z)(this,"unsubscribe",[]),(0,n.Z)(this,"showUpdate_ValueMapButton",!1),(0,n.Z)(this,"valueMapTable_data",[]),(0,n.Z)(this,"lookup_data_temp1",[]),(0,n.Z)(this,"getLoggedUser",void 0),(0,n.Z)(this,"SK_clientID",void 0),(0,n.Z)(this,"validateContinue",!1),(0,n.Z)(this,"selectedColor","#000000"),(0,n.Z)(this,"showPalette",!1),(0,n.Z)(this,"standardColors",["#FF5733","#33FF57","#3357FF","#F1C40F","#8E44AD","#2ECC71"]),this.cd=t,this.fb=a,this.api=i,this.getPowerBoard=r,this.toast=c}ngOnChanges(t){t.valueMapping_horizontal&&(this.valueMapTable_data=this.valueMapping_horizontal)}toggleAdvancedOptions(){const t=document.getElementById("advancedOptions");t&&(t.classList.contains("show")?t.classList.remove("show"):t.classList.add("show")),this.form.get("vm_icon")?.patchValue(f.vm_icon),this.form.get("vm_animation")?.patchValue(f.vm_animation),this.form.get("vm_font_size")?.patchValue(f.vm_font_size),this.form.get("vm_label_color")?.patchValue(f.vm_label_color),this.form.get("vm_text_color")?.patchValue(f.vm_text_color),this.form.get("vm_align_type")?.patchValue(f.vm_align_type),this.form.get("vm_font")?.patchValue(f.vm_font),this.cd.detectChanges()}ngOnInit(){this.getLoggedUser=this.getPowerBoard.getLoggedUserDetails(),this.SK_clientID=this.getLoggedUser.attributes["custom:clientID"],this.initForm(),this.updateParentModel({},!0),this.fetchTMData(1)}initForm(){console.log("Getiing val",f),this.form=this.fb.group({value_mapping:[_.value_mapping,[p.kI.required]],vm_label:[f.vm_label,[p.kI.required]],vm_value:[f.vm_value,[p.kI.required]],vm_equation:[f.vm_equation],vm_icon:[f.vm_icon],vm_label_color:[f.vm_label_color],vm_animation:[f.vm_animation],vm_font:[f.vm_font],vm_text_color:[f.vm_text_color],vm_font_size:[f.vm_font_size],vm_align_type:[f.vm_align_type]}),0==this.hideDeleteButton&&this.form.disable(),""!=f.vm_label&&null!=f.vm_value&&(this.editOperation=!0),this.cd.detectChanges();const t=this.form.valueChanges.subscribe(a=>{this.valueMapTable_data.length>0?this.updateParentModel(a,!0):0==this.form.get("value_mapping")?.value?(this.form.reset(),this.updateParentModel(a,!0)):this.updateParentModel(a,this.validateContinue)});this.unsubscribe.push(t)}checkForm(){return!(this.form.get("vm_label")?.hasError("required")||this.form.get("vm_value")?.hasError("required"))}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}getValueMap(t,a){if(console.log("Array check1",this.valueMapTable_data),"html"==a){for(let i=0;i<this.valueMapTable_data.length;i++)if(this.valueMapTable_data[i].vm_label===this.form.value.vm_label.trim()||this.valueMapTable_data[i].vm_value===this.form.value.vm_value)return h().fire({customClass:{container:"my-swal"},position:"center",title:"Already exists?",text:"Add New Value Map again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1});(null==this.form.value.vm_text_color||""==this.form.value.vm_text_color)&&(this.form.value.vm_text_color="#000000"),this.form.value&&this.form.value.vm_label&&this.valueMapTable_data.push({vm_label:this.form.value.vm_label,vm_value:this.form.value.vm_value,vm_equation:this.form.value.vm_equation,vm_icon:this.form.value.vm_icon,vm_label_color:this.form.value.vm_label_color,vm_animation:this.form.value.vm_animation,vm_font:this.form.value.vm_font,vm_text_color:this.form.value.vm_text_color,vm_font_size:this.form.value.vm_font_size,vm_align_type:this.form.value.vm_align_type}),console.log("All the value mappings :",this.valueMapTable_data),h().fire({customClass:{container:"my-swal"},position:"center",title:"Value Mapping Added",text:"Confirm Changes by Clicking Submit/Update",icon:"success"})}else if("ts_edit"==a)if(this.valueMapTable_data=[],console.log("getValues of value map",t.length),void 0!==t&&t.length>=1){if(t&&void 0!==t)for(let i=0;i<t.length;i++)null!=t[i].vm_label?this.valueMapTable_data.push({vm_label:t[i].vm_label?t[i].vm_label:"",vm_value:t[i].vm_value?t[i].vm_value:"",vm_equation:t[i].vm_equation?t[i].vm_equation:"",vm_icon:t[i].vm_icon?t[i].vm_icon:"",vm_label_color:t[i].vm_label_color?t[i].vm_label_color:"",vm_animation:t[i].vm_animation?t[i].vm_animation:"",vm_font:t[i].vm_font?t[i].vm_font:"",vm_text_color:t[i].vm_text_color?t[i].vm_text_color:"",vm_font_size:t[i].vm_font_size?t[i].vm_font_size:"",vm_align_type:t[i].vm_align_type?t[i].vm_align_type:""}):this.valueMapTable_data=[]}else this.valueMapTable_data=[];else if("update"==a){if(console.log("Iam insite Update state :"),(null==this.form.value.vm_text_color||""==this.form.value.vm_text_color)&&(this.form.value.vm_text_color="#000000"),this.form.value&&this.form.value.vm_label){console.log("Iam insite Update state : check2"+this.valueMapTable_data[0].vm_label);for(let i=0;i<this.valueMapTable_data.length;i++)this.valueMapTable_data[i].vm_label==this.form.value.vm_label&&(console.log("Iam insite Update state : check3"),this.valueMapTable_data[i].vm_value=this.form.value.vm_value,this.valueMapTable_data[i].vm_equation=this.form.value.vm_equation,this.valueMapTable_data[i].vm_icon=this.form.value.vm_icon,this.valueMapTable_data[i].vm_label_color=this.form.value.vm_label_color,this.valueMapTable_data[i].vm_animation=this.form.value.vm_animation,this.valueMapTable_data[i].vm_font=this.form.value.vm_font,this.valueMapTable_data[i].vm_text_color=this.form.value.vm_text_color,this.valueMapTable_data[i].vm_font_size=this.form.value.vm_font_size,this.valueMapTable_data[i].vm_align_type=this.form.value.vm_align_type)}h().fire({customClass:{container:"my-swal"},position:"center",title:"Value Mapping Updated",text:"Confirm Changes by Clicking Submit/Update",icon:"success"}),this.editOperation=!1,f.vm_align_type="",f.vm_animation="",f.vm_equation="",f.vm_font="",f.vm_font_size=0,f.vm_icon="",f.vm_label="",f.vm_label_color="",f.vm_text_color="",f.vm_value=null,console.log("updated valuemap",this.valueMapTable_data)}else if("delete"==a){this.valueMapTable_data=[];for(let i=0;i<t.length;i++)this.valueMapTable_data.push({vm_label:t[i].vm_label,vm_value:t[i].vm_value,vm_equation:t[i].vm_equation,vm_icon:t[i].vm_icon,vm_label_color:t[i].vm_label_color,vm_animation:t[i].vm_animation,vm_font:t[i].vm_font,vm_text_color:t[i].vm_text_color,vm_font_size:t[i].vm_font_size,vm_align_type:t[i].vm_align_type})}return console.log("table data after update",this.valueMapTable_data),console.log("valuempatable",JSON.stringify(this.valueMapTable_data).replace(/\"/g,"")),this.form.get("vm_label")?.setValue(""),this.form.get("vm_value")?.setValue(""),this.form.get("vm_equation")?.setValue(""),this.form.get("vm_icon")?.setValue(""),this.form.get("vm_label_color")?.setValue(""),this.form.get("vm_animation")?.setValue(""),this.form.get("vm_font")?.setValue(""),this.form.get("vm_text_color")?.setValue(""),this.form.get("vm_font_size")?.setValue(""),this.form.get("vm_align_type")?.setValue(""),this.updateData(this.valueMapTable_data),this.validateContinue=!0,this.updateParentModel(this.form.value,this.validateContinue),this.valueMapTable_data}updateData(t){console.log("I am getting triggered iam changing;"),this.valueMapTable_data=t,this.dataChange.emit(this.valueMapTable_data)}fetchTMData(t){var a=this;return(0,y.Z)(function*(){console.log("iam trying to fetch",a.SK_clientID);try{const i=yield a.api.GetLookupRdt(a.SK_clientID,t);if(i&&i.items)if("string"==typeof i.items){let r=JSON.parse(i.items);if(console.log("d1 =",r),Array.isArray(r)){for(let c=0;c<r.length;c++){const u=r[c];if(null==u)break;{const m=Object.keys(u)[0],{P1:g,P2:b,P3:Z,P4:T}=u[m];a.lookup_data_temp1.push({P1:g,P2:b,P3:Z,P4:T}),console.log("d2 =",a.lookup_data_temp1)}}a.lookup_data_temp1.sort((c,u)=>u.P4-c.P4),console.log("Lookup sorting",a.lookup_data_temp1),yield a.fetchTMData(t+1)}else console.error("Invalid data format - not an array.")}else console.error("response.listOfItems is not a string.");else console.log(),console.log("RDT to be displayed",a.lookup_data_temp1),a.form.get("vm_icon")?.patchValue(f.vm_icon),a.form.get("vm_animation")?.patchValue(f.vm_animation),a.form.get("vm_font_size")?.patchValue(f.vm_font_size),a.form.get("vm_label_color")?.patchValue(f.vm_label_color),a.form.get("vm_text_color")?.patchValue(f.vm_text_color),a.cd.detectChanges()}catch(i){console.error("Error:",i)}})()}copyToLocalStorage(){const t=this.form.value;console.log("Values are here for copying ",t),localStorage.setItem("formMappingData",JSON.stringify(t)),this.toast.open("Your data has been copied successfully!","",{duration:1e3,horizontalPosition:"center",verticalPosition:"bottom"}),console.log("Copied to local storage:",t)}pasteFromLocalStorage(){const t=localStorage.getItem("formMappingData");if(t){const a=JSON.parse(t),i=document.getElementById("advancedOptions");i&&i.classList.add("show"),this.form.patchValue(a),this.cd.detectChanges(),console.log("Pasted from local storage:",a)}else console.log("No data found in local storage")}togglePalette(t){this.showPalette=t}selectColor(t){console.log("Color is here ",t),this.selectedColor=t,this.togglePalette(!1),this.cd.detectChanges()}}return o=s,(0,n.Z)(s,"\u0275fac",function(t){return new(t||o)(e.Y36(e.sBO),e.Y36(p.qu),e.Y36(V.t),e.Y36(O.F),e.Y36(E.ux))}),(0,n.Z)(s,"\u0275cmp",e.Xpm({type:o,selectors:[["app-parameter-step2"]],inputs:{updateParentModel:"updateParentModel",customInit:"customInit",hideDeleteButton:"hideDeleteButton",defaultValues:"defaultValues",valueOperation:"valueOperation",editOperation:"editOperation",valueMapping_horizontal:"valueMapping_horizontal"},outputs:{dataChange:"dataChange"},features:[e.TTD],decls:12,vars:5,consts:[[3,"formGroup"],[1,"row","mb-7"],[1,"col"],[1,"form-check","form-check-inline","form-check-solid","me-5"],["name","value_mapping","type","checkbox","formControlName","value_mapping",1,"form-check-input"],[1,"fw-bold","ps-2","fc-8"],["ngbTooltip","Example: Map temperature ranges (e.g., 0-10\xb0C, 11-20\xb0C, etc.) to descriptive labels like 'Cold,' 'Moderate,' and 'Hot'",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["class","row mb-7",4,"ngIf"],["class","required-fields",4,"ngIf"],["class","advanced-options",4,"ngIf"],["style","display: flex;flex-direction: row;justify-content: space-between;gap:10px;align-items: baseline;",4,"ngIf"],[2,"font-size","15px"],[1,"required-fields"],[1,"row","mb-5"],[1,"col-md-4","mb-md-0"],[1,"d-flex","align-items-center","fs-6","fw-bold","form-label","mb-2"],[1,"required"],["ngbTooltip","Enter the Value",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["type","number","name","vm_value","formControlName","vm_value","placeholder","Enter Value","required","","appPreventScroll","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["class","fv-plugins-message-container invalid-feedback",4,"ngIf"],["ngbTooltip","Enter the Label",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["type","text","name","vm_label","formControlName","vm_label","placeholder","Enter Label","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[1,"fv-plugins-message-container","invalid-feedback"],[1,"advanced-options"],["type","button",1,"btn","btn-sm","btn-dark","btn-advanced",3,"click"],[1,"fas","fa-chevron-down"],["id","advancedOptions",1,"collapse"],[1,"row","mb-7","mt-3"],["ngbTooltip","Enter the Equation",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["placeholder","Enter equation","formControlName","vm_equation",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",2,"height","10px"],["ngbTooltip","Enter the Class Icon to display",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["placeholder","Select Icon","formControlName","vm_icon","required",""],["value","None"],["value","bi bi-graph-up",1,"icon-option"],[1,"bi","bi-graph-up","icon"],["value","bi bi-graph-down",1,"icon-option"],[1,"bi","bi-graph-down","icon"],["value","bi bi-bar-chart",1,"icon-option"],[1,"bi","bi-bar-chart","icon"],["value","bi bi-pie-chart",1,"icon-option"],[1,"bi","bi-pie-chart","icon"],["value","bi bi-speedometer2",1,"icon-option"],[1,"bi","bi-speedometer2","icon"],["value","bi bi-alarm",1,"icon-option"],[1,"bi","bi-alarm","icon"],["value","bi bi-bell",1,"icon-option"],[1,"bi","bi-bell","icon"],["value","bi bi-calendar",1,"icon-option"],[1,"bi","bi-calendar","icon"],["value","bi bi-cpu",1,"icon-option"],[1,"bi","bi-cpu","icon"],["value","bi bi-bar-chart-fill",1,"icon-option"],[1,"bi","bi-bar-chart-fill","icon"],["value","bi bi-diagram-3-fill",1,"icon-option"],[1,"bi","bi-diagram-3-fill","icon"],["value","bi bi-table",1,"icon-option"],[1,"bi","bi-table","icon"],["value","bi bi-filter",1,"icon-option"],[1,"bi","bi-filter","icon"],["value","bi bi-hdd",1,"icon-option"],[1,"bi","bi-hdd","icon"],["value","bi bi-person",1,"icon-option"],[1,"bi","bi-person","icon"],["value","bi bi-people",1,"icon-option"],[1,"bi","bi-people","icon"],["value","bi bi-person-check",1,"icon-option"],[1,"bi","bi-person-check","icon"],["value","bi bi-person-x",1,"icon-option"],[1,"bi","bi-person-x","icon"],["value","bi bi-exclamation-triangle",1,"icon-option"],[1,"bi","bi-exclamation-triangle","icon"],["value","bi bi-exclamation-circle",1,"icon-option"],[1,"bi","bi-exclamation-circle","icon"],["value","bi bi-activity",1,"icon-option"],[1,"bi","bi-activity","icon"],["value","bi bi-shield",1,"icon-option"],[1,"bi","bi-shield","icon"],["value","bi bi-folder",1,"icon-option"],[1,"bi","bi-folder","icon"],["value","bi bi-folder-fill",1,"icon-option"],[1,"bi","bi-folder-fill","icon"],["value","bi bi-hdd-fill",1,"icon-option"],[1,"bi","bi-hdd-fill","icon"],["value","bi bi-cloud-download",1,"icon-option"],[1,"bi","bi-cloud-download","icon"],["value","bi bi-cloud-upload",1,"icon-option"],[1,"bi","bi-cloud-upload","icon"],["value","bi bi-gear",1,"icon-option"],[1,"bi","bi-gear","icon"],["value","bi bi-wrench",1,"icon-option"],[1,"bi","bi-wrench","icon"],["value","bi bi-arrow-up-right",1,"icon-option"],[1,"bi","bi-arrow-up-right","icon"],["value","bi bi-arrow-down-left",1,"icon-option"],[1,"bi","bi-arrow-down-left","icon"],["value","bi bi-reply-all",1,"icon-option"],[1,"bi","bi-reply-all","icon"],["value","bi bi-clock",1,"icon-option"],[1,"bi","bi-clock","icon"],["value","bi bi-lightbulb",1,"icon-option"],[1,"bi","bi-lightbulb","icon"],["value","bi bi-lightbulb-fill",1,"icon-option"],[1,"bi","bi-lightbulb-fill","icon"],["value","bi bi-clipboard-data",1,"icon-option"],[1,"bi","bi-clipboard-data","icon"],["value","bi bi-file-earmark",1,"icon-option"],[1,"bi","bi-file-earmark","icon"],["value","bi bi-folder-symlink",1,"icon-option"],[1,"bi","bi-folder-symlink","icon"],["value","bi bi-basket",1,"icon-option"],[1,"bi","bi-basket","icon"],[1,"col-md-4","mb-md-0","position-relative"],["ngbTooltip","Enter the Style Text Color",1,"fas","fa-exclamation-circle","ms-2","fs-7"],[1,"d-flex","align-items-center"],["type","color","list","presetColors","name","vm_text_color","formControlName","vm_text_color",1,"form-select","form-control-lg","form-control-solid","mb-3","mb-lg-0","me-2"],["id","presetColors"],[1,"col-md-4","mb-md-0",2,"display","none"],["ngbTooltip","Enter the Label color",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["placeholder","select label color","name","vm_label_color","formControlName","vm_label_color","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["value","null","disabled","true",3,"selected"],["value","Default"],["value","Green"],["value","Blue"],["value","Turquoise"],["value","Yellow"],["value","Red"],[1,"row"],[1,"col-md-4"],["ngbTooltip","Select the Animation from the list",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["placeholder","select animation","name","vm_animation","formControlName","vm_animation","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["label","Attention Seekers"],["value","bounce"],["value","flash"],["value","pulse"],["value","rubberBand"],["value","shakeX"],["value","shakeY"],["value","headShake"],["value","swing"],["value","tada"],["value","wobble"],["value","jello"],["value","heartBeat"],["label","Back Entrances"],["value","backInDown"],["value","backInLeft"],["value","backInRight"],["value","backInUp"],["label","Back Exits"],["value","backOutDown"],["value","backOutLeft"],["value","backOutRight"],["value","backOutUp"],["label","Bouncing Entrances"],["value","bounceIn"],["value","bounceInDown"],["value","bounceInLeft"],["value","bounceInRight"],["value","bounceInUp"],["label","Bouncing Exits"],["value","bounceOut"],["value","bounceOutDown"],["value","bounceOutLeft"],["value","bounceOutRight"],["value","bounceOutUp"],["label","Fading Entrances"],["value","fadeIn"],["value","fadeInDown"],["value","fadeInDownBig"],["value","fadeInLeft"],["value","fadeInLeftBig"],["value","fadeInRight"],["value","fadeInRightBig"],["value","fadeInUp"],["value","fadeInUpBig"],["value","fadeInTopLeft"],["value","fadeInTopRight"],["value","fadeInBottomLeft"],["value","fadeInBottomRight"],["label","Fading Exits"],["value","fadeOut"],["value","fadeOutDown"],["value","fadeOutDownBig"],["value","fadeOutLeft"],["value","fadeOutLeftBig"],["value","fadeOutRight"],["value","fadeOutRightBig"],["value","fadeOutUp"],["value","fadeOutUpBig"],["value","fadeOutTopLeft"],["value","fadeOutTopRight"],["value","fadeOutBottomRight"],["value","fadeOutBottomLeft"],["label","Flippers"],["value","flip"],["value","flipInX"],["value","flipInY"],["value","flipOutX"],["value","flipOutY"],["label","Lightspeed"],["value","lightSpeedInRight"],["value","lightSpeedInLeft"],["value","lightSpeedOutRight"],["value","lightSpeedOutLeft"],["label","Rotating Entrances"],["value","rotateIn"],["value","rotateInDownLeft"],["value","rotateInDownRight"],["value","rotateInUpLeft"],["value","rotateInUpRight"],["label","Rotating Exits"],["value","rotateOut"],["value","rotateOutDownLeft"],["value","rotateOutDownRight"],["value","rotateOutUpLeft"],["value","rotateOutUpRight"],["label","Specials"],["value","hinge"],["value","jackInTheBox"],["value","rollIn"],["value","rollOut"],["label","Zooming Entrances"],["value","zoomIn"],["value","zoomInDown"],["value","zoomInLeft"],["value","zoomInRight"],["value","zoomInUp"],["label","Zooming Exits"],["value","zoomOut"],["value","zoomOutDown"],["value","zoomOutLeft"],["value","zoomOutRight"],["value","zoomOutUp"],["label","Sliding Entrances"],["value","slideInDown"],["value","slideInLeft"],["value","slideInRight"],["value","slideInUp"],["label","Sliding Exits"],["value","slideOutDown"],["value","slideOutLeft"],["value","slideOutRight"],["value","slideOutUp"],["ngbTooltip","Enter the Font Style",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["placeholder","select font style","name","vm_font","formControlName","vm_font","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["value","Normal"],["value","Bold"],["value","Italic"],["ngbTooltip","Select the Font Size",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["type","number","min","0","placeholder","Enter font size","name","vm_font_size","formControlName","vm_font_size","appPreventScroll","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["ngbTooltip","Specify the Align type",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["placeholder","select align type","name","vm_align_type","formControlName","vm_align_type","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["value","Right"],["value","Left"],["value","Center"],[2,"display","flex","flex-direction","row","justify-content","space-between","gap","10px","align-items","baseline"],["class","footer col","style","padding-top: 20px;",4,"ngIf"],[2,"padding-top","20px"],["type","button",1,"btn","btn-success","btn-sm",2,"margin-right","5px",3,"click"],[1,"fa-solid","fa-copy"],["type","button",1,"btn","btn-warning","btn-sm",3,"click"],[1,"fa-solid","fa-paste"],[1,"footer","col",2,"padding-top","20px"],["type","button",1,"btn","btn-sm","btn-primary",3,"disabled","click"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e._UZ(4,"input",4),e.TgZ(5,"span",5),e._uU(6,"Enable Value Mapping "),e._UZ(7,"i",6),e.qZA()()()(),e.YNc(8,De,3,0,"div",7),e.YNc(9,qe,16,2,"div",8),e.YNc(10,Ae,439,4,"div",9),e.YNc(11,Pe,10,2,"div",10),e.qZA()),2&t){let i,r,c,u;e.Q6J("formGroup",a.form),e.xp6(8),e.Q6J("ngIf",!(null!=(i=a.form.get("value_mapping"))&&i.value)),e.xp6(1),e.Q6J("ngIf",null==(r=a.form.get("value_mapping"))?null:r.value),e.xp6(1),e.Q6J("ngIf",null==(c=a.form.get("value_mapping"))?null:c.value),e.xp6(1),e.Q6J("ngIf",null==(u=a.form.get("value_mapping"))?null:u.value)}},dependencies:[A.O5,p.YN,p.Kr,p.Fj,p.wV,p.Wl,p.EJ,p.JJ,p.JL,p.Q7,p.qQ,p.sg,p.u,M._L,z.gD,j.ey,L],styles:["mat-select[_ngcontent-%COMP%]{background-color:var(--bs-gray-100);color:var(--bs-gray-700);font-weight:600!important;padding:.825rem 1.3rem .825rem 1.5rem;font-size:1.15rem;border-radius:.625rem}input[disabled][_ngcontent-%COMP%]{cursor:not-allowed}.btn-advanced[_ngcontent-%COMP%]{position:relative;display:inline-block;color:#fff;border:none;padding:8px 16px;font-weight:700;cursor:pointer;outline:none;overflow:hidden;transition:background-color .3s,color .3s,transform .3s;border-radius:4px}.btn-advanced[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff;transform:translateY(-2px)}.btn-advanced[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{margin-left:5px;transition:transform .3s ease}.btn-advanced[_ngcontent-%COMP%]:hover   .fas[_ngcontent-%COMP%]{transform:translate(5px)}.btn-primary[_ngcontent-%COMP%]:hover, .btn-success[_ngcontent-%COMP%]:hover, .btn-warning[_ngcontent-%COMP%]:hover{transform:translateY(-2px);transition:.7s}.color-palette[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-top:10px;justify-content:center}.color-box[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;border:1px solid #ccc;border-radius:4px}.icon-option[_ngcontent-%COMP%]{display:flex;align-items:center}.icon[_ngcontent-%COMP%]{font-size:15px;margin-right:8px;color:#000;font-weight:bolder}"]})),s})();function Ie(o,s){1&o&&(e.TgZ(0,"div",1)(1,"span",8),e._uU(2,"Enable this checkbox to schedule your consumption on an hourly, daily, and monthly basis. Once enabled, input fields will be populated for specifying your desired schedule preferences. "),e.qZA()())}function Me(o,s){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const l=e.oxw(2);e.xp6(1),e.hij(" ",l.errorForUniqueSchedule," ")}}function ke(o,s){1&o&&(e.TgZ(0,"div"),e._uU(1," Schedule Parameter is required "),e.qZA())}function Oe(o,s){if(1&o&&e.YNc(0,ke,2,0,"div",19),2&o){const l=e.oxw(2);let t;e.Q6J("ngIf",(null==(t=l.form.get("schedule_parameter_name"))?null:t.hasError("required"))&&(null==(t=l.form.get("schedule_parameter_name"))?null:t.touched))}}function Ve(o,s){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const l=e.oxw(2);e.xp6(1),e.hij(" ",l.errorForUniqueScheduleLabel," ")}}function Fe(o,s){1&o&&(e.TgZ(0,"div"),e._uU(1," Schedule Parameter Label is required "),e.qZA())}function Le(o,s){if(1&o&&e.YNc(0,Fe,2,0,"div",19),2&o){const l=e.oxw(2);let t;e.Q6J("ngIf",(null==(t=l.form.get("schedule_parameter_label"))?null:t.hasError("required"))&&(null==(t=l.form.get("schedule_parameter_label"))?null:t.touched))}}function Be(o,s){1&o&&(e.TgZ(0,"div",12),e._uU(1," Schedule Max Value is required "),e.qZA())}function Ee(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",1)(1,"div",9)(2,"label",10),e._uU(3," Schedule Parameter Name"),e.qZA(),e.TgZ(4,"input",11),e.NdJ("keyup",function(a){e.CHM(l);const i=e.oxw();return e.KtG(i.checkforSchedule(a))}),e.qZA(),e.TgZ(5,"div",12),e.YNc(6,Me,2,1,"ng-container",13),e.YNc(7,Oe,1,1,"ng-template",null,14,e.W1O),e.qZA()(),e.TgZ(9,"div",9)(10,"label",10),e._uU(11," Schedule Parameter Label"),e.qZA(),e.TgZ(12,"input",15),e.NdJ("keyup",function(a){e.CHM(l);const i=e.oxw();return e.KtG(i.checkforScheduleLabel(a))}),e.qZA(),e.TgZ(13,"div",12),e.YNc(14,Ve,2,1,"ng-container",13),e.YNc(15,Le,1,1,"ng-template",null,16,e.W1O),e.qZA()(),e.TgZ(17,"div",9)(18,"label",10),e._uU(19," Max Value"),e.qZA(),e._UZ(20,"input",17),e.YNc(21,Be,2,0,"div",18),e.qZA()()}if(2&o){const l=e.MAs(8),t=e.MAs(16),a=e.oxw();let i;e.xp6(6),e.Q6J("ngIf",""!==a.errorForUniqueSchedule)("ngIfElse",l),e.xp6(8),e.Q6J("ngIf",""!==a.errorForUniqueScheduleLabel)("ngIfElse",t),e.xp6(7),e.Q6J("ngIf",(null==(i=a.form.get("schedule_max"))?null:i.hasError("required"))&&(null==(i=a.form.get("schedule_max"))?null:i.touched))}}function Ne(o,s){1&o&&(e.TgZ(0,"div",12),e._uU(1," Schedule Value Type is required "),e.qZA())}function Re(o,s){1&o&&(e.TgZ(0,"div",9)(1,"label",10),e._uU(2," Operation Type"),e.qZA(),e.TgZ(3,"select",34)(4,"option",22),e._uU(5,"Select Operation Type "),e.qZA(),e.TgZ(6,"option",35),e._uU(7,"Normal"),e.qZA(),e.TgZ(8,"option",36),e._uU(9,"Zero Roll Over"),e.qZA()()()),2&o&&(e.xp6(4),e.Q6J("selected",!0))}function Je(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",1)(1,"div",20)(2,"label",10),e._uU(3,"Value Type"),e.qZA(),e.TgZ(4,"select",21),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.changeValueType())}),e.TgZ(5,"option",22),e._uU(6,"Select Value Type "),e.qZA(),e.TgZ(7,"option",23),e._uU(8,"Maximum"),e.qZA(),e.TgZ(9,"option",24),e._uU(10,"Difference"),e.qZA(),e.TgZ(11,"option",25),e._uU(12,"Minimum"),e.qZA(),e.TgZ(13,"option",26),e._uU(14,"Average"),e.qZA(),e.TgZ(15,"option",27),e._uU(16,"Sum"),e.qZA(),e.TgZ(17,"option",28),e._uU(18,"StdDevPop"),e.qZA(),e.TgZ(19,"option",29),e._uU(20,"StdDevSamp "),e.qZA(),e.TgZ(21,"option",30),e._uU(22,"Latest "),e.qZA()(),e.YNc(23,Ne,2,0,"div",18),e.qZA(),e.YNc(24,Re,10,1,"div",31),e.TgZ(25,"div",20)(26,"label",10),e._uU(27," Heat Map Type"),e.qZA(),e.TgZ(28,"select",32)(29,"option",22),e._uU(30,"Select Heat Map Type "),e.qZA(),e.TgZ(31,"option",33),e._uU(32,"Disabled"),e.qZA(),e.TgZ(33,"option",24),e._uU(34,"Difference"),e.qZA(),e.TgZ(35,"option",23),e._uU(36,"Maximum"),e.qZA()()()()}if(2&o){const l=e.oxw();let t,a;e.xp6(5),e.Q6J("selected",!0),e.xp6(18),e.Q6J("ngIf",(null==(t=l.form.get("schedule_value_type"))?null:t.hasError("required"))&&(null==(t=l.form.get("schedule_value_type"))?null:t.touched)),e.xp6(1),e.Q6J("ngIf","Difference"==(null==(a=l.form.get("schedule_value_type"))?null:a.value)),e.xp6(5),e.Q6J("selected",!0)}}function $e(o,s){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const l=e.oxw(2);e.xp6(1),e.hij(" ",l.errorForUniqueSchedule," ")}}function Qe(o,s){1&o&&(e.TgZ(0,"div"),e._uU(1," Schedule Parameter is required "),e.qZA())}function Ye(o,s){if(1&o&&e.YNc(0,Qe,2,0,"div",19),2&o){const l=e.oxw(2);let t;e.Q6J("ngIf",(null==(t=l.form.get("schedule_parameter_name"))?null:t.hasError("required"))&&(null==(t=l.form.get("schedule_parameter_name"))?null:t.touched))}}function ze(o,s){1&o&&(e.TgZ(0,"div",12),e._uU(1," Schedule Max Value is required "),e.qZA())}function Xe(o,s){1&o&&(e.TgZ(0,"div",12),e._uU(1," Schedule Value Type is required "),e.qZA())}function He(o,s){1&o&&(e.TgZ(0,"div",9)(1,"label",10),e._uU(2,"Operation Type"),e.qZA(),e.TgZ(3,"select",34)(4,"option",22),e._uU(5,"Select Operation Type"),e.qZA(),e.TgZ(6,"option",35),e._uU(7,"Normal"),e.qZA(),e.TgZ(8,"option",36),e._uU(9,"Zero Roll Over"),e.qZA()()()),2&o&&(e.xp6(4),e.Q6J("selected",!0))}function Ke(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",47)(1,"button",48),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(3);return e.KtG(a.getSchedule("","html"))}),e._uU(2," Add Schedule Parameter "),e.qZA()()}if(2&o){const l=e.oxw(3);e.xp6(1),e.Q6J("disabled",!l.checkForm())}}function Ge(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",47)(1,"button",48),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(3);return e.KtG(a.getSchedule("","update"))}),e._uU(2," Update Schedule Parameter "),e.qZA()()}if(2&o){const l=e.oxw(3);e.xp6(1),e.Q6J("disabled",!l.checkForm())}}function je(o,s){if(1&o&&(e.TgZ(0,"div",45)(1,"div",2),e.YNc(2,Ke,3,1,"div",46),e.YNc(3,Ge,3,1,"div",46),e.qZA()()),2&o){const l=e.oxw(2);e.xp6(2),e.Q6J("ngIf",!l.EditOperation),e.xp6(1),e.Q6J("ngIf",l.EditOperation)}}function We(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",37)(1,"button",38),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.toggleAdvancedOptions())}),e._uU(2," Advanced Options "),e._UZ(3,"i",39),e.qZA(),e.TgZ(4,"div",40)(5,"div",1)(6,"div",9)(7,"label",10),e._uU(8,"Schedule Parameter Name"),e.qZA(),e.TgZ(9,"input",11),e.NdJ("keyup",function(a){e.CHM(l);const i=e.oxw();return e.KtG(i.checkforSchedule(a))}),e.qZA(),e.TgZ(10,"div",12),e.YNc(11,$e,2,1,"ng-container",13),e.YNc(12,Ye,1,1,"ng-template",null,41,e.W1O),e.qZA()(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16,"Max Value"),e.qZA(),e._UZ(17,"input",42),e.YNc(18,ze,2,0,"div",18),e.qZA(),e.TgZ(19,"div",20)(20,"label",10),e._uU(21,"Value Type"),e.qZA(),e.TgZ(22,"select",21),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.changeValueType())}),e.TgZ(23,"option",22),e._uU(24,"Select Advanced Value Type"),e.qZA(),e.TgZ(25,"option",23),e._uU(26,"Maximum"),e.qZA(),e.TgZ(27,"option",24),e._uU(28,"Difference"),e.qZA(),e.TgZ(29,"option",25),e._uU(30,"Minimum"),e.qZA(),e.TgZ(31,"option",26),e._uU(32,"Average"),e.qZA(),e.TgZ(33,"option",27),e._uU(34,"Sum"),e.qZA(),e.TgZ(35,"option",28),e._uU(36,"StdDevPop"),e.qZA(),e.TgZ(37,"option",29),e._uU(38,"StdDevSamp"),e.qZA()(),e.YNc(39,Xe,2,0,"div",18),e.qZA()(),e.TgZ(40,"div",1),e.YNc(41,He,10,1,"div",31),e.TgZ(42,"div",20)(43,"label",10),e._uU(44,"Advanced Heat Map Type"),e.qZA(),e.TgZ(45,"select",43)(46,"option",22),e._uU(47,"Select Advanced Heat Map Type"),e.qZA(),e.TgZ(48,"option",33),e._uU(49,"Disabled"),e.qZA(),e.TgZ(50,"option",24),e._uU(51,"Difference"),e.qZA(),e.TgZ(52,"option",23),e._uU(53,"Maximum"),e.qZA()()()(),e.YNc(54,je,4,2,"div",44),e.qZA()()}if(2&o){const l=e.MAs(13),t=e.oxw();let a,i,r,c;e.xp6(11),e.Q6J("ngIf",""!==t.errorForUniqueSchedule)("ngIfElse",l),e.xp6(7),e.Q6J("ngIf",(null==(a=t.form.get("schedule_max"))?null:a.hasError("required"))&&(null==(a=t.form.get("schedule_max"))?null:a.touched)),e.xp6(5),e.Q6J("selected",!0),e.xp6(16),e.Q6J("ngIf",(null==(i=t.form.get("schedule_value_type"))?null:i.hasError("required"))&&(null==(i=t.form.get("schedule_value_type"))?null:i.touched)),e.xp6(2),e.Q6J("ngIf","Difference"==(null==(r=t.form.get("schedule_value_type"))?null:r.value)),e.xp6(5),e.Q6J("selected",!0),e.xp6(8),e.Q6J("ngIf",null==(c=t.form.get("schedule_parameter"))?null:c.value)}}let ee=(()=>{var o;class s{constructor(t,a,i,r){(0,n.Z)(this,"fb",void 0),(0,n.Z)(this,"cd",void 0),(0,n.Z)(this,"getPowerBoard",void 0),(0,n.Z)(this,"api",void 0),(0,n.Z)(this,"updateParentModel",void 0),(0,n.Z)(this,"form",void 0),(0,n.Z)(this,"dataChange",new e.vpe),(0,n.Z)(this,"customInit",void 0),(0,n.Z)(this,"hideDeleteButton",void 0),(0,n.Z)(this,"parameterData",void 0),(0,n.Z)(this,"defaultValues",void 0),(0,n.Z)(this,"EditOperation",void 0),(0,n.Z)(this,"unsubscribe",[]),(0,n.Z)(this,"errorForUniqueSchedule",""),(0,n.Z)(this,"errorForUniqueScheduleLabel",""),(0,n.Z)(this,"Schedule_data",[]),(0,n.Z)(this,"validateContinue",void 0),(0,n.Z)(this,"scheduleOperation",!1),(0,n.Z)(this,"scedule_horizontal",void 0),(0,n.Z)(this,"getLoggedUser",void 0),(0,n.Z)(this,"SK_clientID",void 0),(0,n.Z)(this,"lookup_data_temp1",[]),this.fb=t,this.cd=a,this.getPowerBoard=i,this.api=r}ngAfterViewInit(){this.initForm(),this.updateParentModel({},!0)}ngOnChanges(t){t.scedule_horizontal&&(this.Schedule_data=this.scedule_horizontal)}ngOnInit(){this.getLoggedUser=this.getPowerBoard.getLoggedUserDetails(),this.SK_clientID=this.getLoggedUser.attributes["custom:clientID"],this.initForm(),this.updateParentModel({},!0)}initForm(){console.log("All the inits are here :",_),this.form=this.fb.group({schedule_parameter:[this.defaultValues.schedule_parameter],schedule_parameter_name:[_.schedule_parameter_name,[p.kI.required]],schedule_max:[_.schedule_max,[p.kI.required]],schedule_value_type:[_.schedule_value_type,[p.kI.required]],schedule_operation_type:[_.schedule_operation_type,[p.kI.required]],schedule_heatmap_type:[_.schedule_heatmap_type,[p.kI.required]],schedule_parameter_label:[_.schedule_parameter_label,[p.kI.required]]}),0==this.hideDeleteButton&&this.form.disable(),this.form.get("schedule_parameter")?.patchValue(_.schedule_parameter),this.fetchTMData(1),this.cd.detectChanges();const t=this.form.valueChanges.subscribe(a=>{_.schedule_heatmap_type=this.form.value.schedule_heatmap_type,_.schedule_max=this.form.value.schedule_max,_.schedule_operation_type=this.form.value.schedule_operation_type,_.schedule_parameter=this.form.value.schedule_parameter,_.schedule_parameter_name=this.form.value.schedule_parameter_name,_.schedule_parameter_label=this.form.value.schedule_parameter_label,_.schedule_value_type=this.form.value.schedule_value_type,0==this.form.get("schedule_parameter")?.value?(this.form.reset(),this.updateParentModel(a,!0)):""!=this.errorForUniqueSchedule&&0==this.EditOperation?(console.log("Iam Trigeered :"),this.updateParentModel(a,!1)):this.updateParentModel(a,this.checkForm())});this.unsubscribe.push(t),this.cd.detectChanges()}checkForm(){return"Difference"!=this.form.get("schedule_value_type")?.value?!(this.form.get("schedule_parameter_name")?.hasError("required")||this.form.get("schedule_max")?.hasError("required")||this.form.get("schedule_value_type")?.hasError("required")||this.form.get("schedule_heatmap_type")?.hasError("required")||this.form.get("schedule_parameter_label")?.hasError("required")):!(this.form.get("schedule_parameter_name")?.hasError("required")||this.form.get("schedule_max")?.hasError("required")||this.form.get("schedule_value_type")?.hasError("required")||this.form.get("schedule_operation_type")?.hasError("required")||this.form.get("schedule_heatmap_type")?.hasError("required")||this.form.get("schedule_parameter_label")?.hasError("required"))}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}toggleAdvancedOptions(){const t=document.getElementById("advancedOptions");t&&(t.classList.contains("show")?t.classList.remove("show"):t.classList.add("show"))}changeValueType(){this.form.valueChanges.subscribe(t=>{"Difference"==t.schedule_value_type?(this.form.get("schedule_operation_type")?.enable({emitEvent:!1}),this.updateParentModel(this.form.value,this.checkForm())):(this.form.get("schedule_operation_type")?.setValue("",{emitEvent:!1}),this.form.get("schedule_operation_type")?.disable({emitEvent:!1}))})}checkforSchedule(t){if(this.parameterData){this.errorForUniqueSchedule="";for(let a=0;a<this.parameterData.length;a++)if(console.log(t.target.value,"-------"),t.target.value.trim()==this.parameterData[a].schedule_parameter_name){this.errorForUniqueSchedule="Schedule Parameter Already exists",this.updateParentModel({},!1);break}}}checkforScheduleLabel(t){if(this.parameterData){this.errorForUniqueScheduleLabel="";for(let a=0;a<this.parameterData.length;a++)if(console.log(t.target.value,"-------"),t.target.value.trim()==this.parameterData[a].schedule_parameter_label){this.errorForUniqueScheduleLabel="Schedule Parameter Label Already exists",this.updateParentModel({},!1);break}}}getSchedule(t,a){if(console.log("Array check1",this.Schedule_data),"html"==a){Array.isArray(this.Schedule_data)||(this.Schedule_data=[]);for(let i=0;i<this.Schedule_data.length;i++)if(this.Schedule_data[i].schedule_parameter_name===this.form.value.schedule_parameter_name.trim())return h().fire({customClass:{container:"my-swal"},position:"center",title:"Already exists?",text:"Add Schedule Parameter again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1});this.form.value&&this.form.value.schedule_parameter_name&&this.Schedule_data.push({schedule_parameter_name:this.form.value.schedule_parameter_name,schedule_heatmap_type:this.form.value.schedule_heatmap_type,schedule_max:this.form.value.schedule_max,schedule_value_type:this.form.value.schedule_value_type,schedule_operation_type:this.form.value.schedule_operation_type}),console.log("All the value mappings :",this.Schedule_data),h().fire({customClass:{container:"my-swal"},position:"center",title:"Value Mapping Added",text:"Confirm Changes by Clicking Submit/Update",icon:"success"})}else if("ts_edit"!=a)if("update"==a){if(console.log("Iam insite Update state :"),this.form.value&&this.form.value.schedule_parameter_name){console.log("Iam insite Update state : check2"+this.Schedule_data[0].schedule_parameter_name);for(let i=0;i<this.Schedule_data.length;i++)this.Schedule_data[i].schedule_parameter_name==this.form.value.schedule_parameter_name&&(console.log("Iam insite Update state : check3"),this.Schedule_data[i].schedule_parameter_name=this.form.value.schedule_parameter_name,this.Schedule_data[i].schedule_heatmap_type=this.form.value.schedule_heatmap_type,this.Schedule_data[i].schedule_max=this.form.value.schedule_max,this.Schedule_data[i].schedule_value_type=this.form.value.schedule_value_type,this.Schedule_data[i].schedule_operation_type=this.form.value.schedule_operation_type)}h().fire({customClass:{container:"my-swal"},position:"center",title:"Value Mapping Updated",text:"Confirm Changes by Clicking Submit/Update",icon:"success"}),console.log("updated valuemap",this.Schedule_data)}else if("delete"==a){this.Schedule_data=[];for(let i=0;i<t.length;i++)this.Schedule_data.push({schedule_parameter_name:t[i].schedule_parameter_name,schedule_heatmap_type:t[i].schedule_heatmap_type,schedule_max:t[i].schedule_max,schedule_value_type:t[i].schedule_value_type,schedule_operation_type:t[i].schedule_operation_type})}return console.log("table data after update",this.Schedule_data),console.log("valuempatable",JSON.stringify(this.Schedule_data).replace(/\"/g,"")),this.form.get("schedule_parameter_name")?.setValue(""),this.form.get("schedule_heatmap_type")?.setValue(""),this.form.get("schedule_max")?.setValue(""),this.form.get("schedule_value_type")?.setValue(""),this.form.get("schedule_operation_type")?.setValue(""),this.updateData(this.Schedule_data),this.validateContinue=!0,this.updateParentModel(this.form.value,this.validateContinue),this.Schedule_data}updateData(t){console.log("I am getting triggered iam changing;"),this.Schedule_data=t,this.dataChange.emit(this.Schedule_data)}fetchTMData(t){var a=this;return(0,y.Z)(function*(){console.log("iam trying to fetch",a.SK_clientID);try{const i=yield a.api.GetLookupRdt(a.SK_clientID,t);if(i&&i.items)if("string"==typeof i.items){let r=JSON.parse(i.items);if(console.log("d1 =",r),Array.isArray(r)){for(let c=0;c<r.length;c++){const u=r[c];if(null==u)break;{const m=Object.keys(u)[0],{P1:g,P2:b,P3:Z,P4:T}=u[m];a.lookup_data_temp1.push({P1:g,P2:b,P3:Z,P4:T}),console.log("d2 =",a.lookup_data_temp1)}}a.lookup_data_temp1.sort((c,u)=>u.P4-c.P4),yield a.fetchTMData(t+1)}else console.error("Invalid data format - not an array.")}else console.error("response.listOfItems is not a string.");else a.form.get("schedule_parameter")?.patchValue(_.schedule_parameter),a.form.get("schedule_parameter_label")?.patchValue(_.schedule_parameter_label),a.form.get("schedule_value_type")?.patchValue(_.schedule_value_type),a.form.get("schedule_operation_type")?.patchValue(_.schedule_operation_type),a.form.get("schedule_heatmap_type")?.patchValue(_.schedule_heatmap_type),a.cd.detectChanges()}catch(i){console.error("Error:",i)}})()}}return o=s,(0,n.Z)(s,"\u0275fac",function(t){return new(t||o)(e.Y36(p.qu),e.Y36(e.sBO),e.Y36(O.F),e.Y36(V.t))}),(0,n.Z)(s,"\u0275cmp",e.Xpm({type:o,selectors:[["app-parameter-step2temp"]],inputs:{updateParentModel:"updateParentModel",customInit:"customInit",hideDeleteButton:"hideDeleteButton",parameterData:"parameterData",defaultValues:"defaultValues",EditOperation:"EditOperation",scheduleOperation:"scheduleOperation",scedule_horizontal:"scedule_horizontal"},outputs:{dataChange:"dataChange"},features:[e.TTD],decls:11,vars:5,consts:[[3,"formGroup"],[1,"row","mb-7"],[1,"col"],[1,"form-check","form-check-inline","form-check-solid","me-5"],["name","schedule_parameter","type","checkbox","formControlName","schedule_parameter",1,"form-check-input"],[1,"fw-bold","ps-2","fc-8"],["class","row mb-7",4,"ngIf"],["class","advanced-options","style","display: none;",4,"ngIf"],[1,"info"],[1,"col-md-4","mb-md-0"],[1,"col-lg-12","col-form-label","fw-bold","fs-6","required"],["type","text","placeholder","Enter Schedule Parameter Name","name","schedule_parameter_name","formControlName","schedule_parameter_name","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"keyup"],[1,"fv-plugins-message-container","invalid-feedback"],[4,"ngIf","ngIfElse"],["defaultErrorMessagerSchedule",""],["type","text","placeholder","Enter Schedule Parameter Label","name","schedule_parameter_label","formControlName","schedule_parameter_label","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"keyup"],["defaultErrorMessagerScheduleLabel",""],["type","number","placeholder","Enter max value","name","schedule_max","formControlName","schedule_max","required","","appPreventScroll","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["class","fv-plugins-message-container invalid-feedback",4,"ngIf"],[4,"ngIf"],[1,"col-md-4"],["name","schedule_value_type","formControlName","schedule_value_type","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold",3,"click"],["value","null","disabled","true",3,"selected"],["value","Maximum"],["value","Difference"],["value","Minimum"],["value","Average"],["value","Sum"],["value","StdDevPop"],["value","StdDevSamp"],["value","Latest"],["class","col-md-4 mb-md-0",4,"ngIf"],["placeholder","select heatmap type","name","schedule_heatmap_type","formControlName","schedule_heatmap_type","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["value","Disabled"],["name","schedule_operation_type","formControlName","schedule_operation_type","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["value","Normal"],["value","Zero Roll Over"],[1,"advanced-options",2,"display","none"],["type","button",1,"btn","btn-link",3,"click"],[1,"fas","fa-chevron-down"],["id","advancedOptions",1,"collapse"],["defaultErrorMessagerAdvancedSchedule",""],["type","number","placeholder","Enter Max Value","name","schedule_max","formControlName","schedule_max","required","","appPreventScroll","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["placeholder","select advanced heatmap type","name","schedule_heatmap_type","formControlName","schedule_heatmap_type","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["class","row",4,"ngIf"],[1,"row"],["class","footer col","style","padding-top: 30px;",4,"ngIf"],[1,"footer","col",2,"padding-top","30px"],["type","button",1,"btn","btn-sm","btn-primary",3,"disabled","click"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e._UZ(4,"input",4),e.TgZ(5,"span",5),e._uU(6,"Enable Schedule Parameter "),e.qZA()()()(),e.YNc(7,Ie,3,0,"div",6),e.YNc(8,Ee,22,5,"div",6),e.YNc(9,Je,37,4,"div",6),e.YNc(10,We,55,8,"div",7),e.qZA()),2&t){let i,r,c,u;e.Q6J("formGroup",a.form),e.xp6(7),e.Q6J("ngIf",!(null!=(i=a.form.get("schedule_parameter"))&&i.value)),e.xp6(1),e.Q6J("ngIf",null==(r=a.form.get("schedule_parameter"))?null:r.value),e.xp6(1),e.Q6J("ngIf",null==(c=a.form.get("schedule_parameter"))?null:c.value),e.xp6(1),e.Q6J("ngIf",null==(u=a.form.get("schedule_parameter"))?null:u.value)}},dependencies:[A.O5,p.YN,p.Kr,p.Fj,p.wV,p.Wl,p.EJ,p.JJ,p.JL,p.Q7,p.sg,p.u,L],styles:[".info[_ngcontent-%COMP%]{font-size:15px}input[disabled][_ngcontent-%COMP%]{cursor:not-allowed}"]})),s})();var te=D(57362),X=D(16519),N=D(88672);let et=(()=>{var o;class s{constructor(t,a){(0,n.Z)(this,"cd",void 0),(0,n.Z)(this,"router",void 0),(0,n.Z)(this,"step1",void 0),(0,n.Z)(this,"updateParentModel",void 0),(0,n.Z)(this,"form",void 0),(0,n.Z)(this,"isCurrentFormValid$",new S.X(!1)),(0,n.Z)(this,"dataChange",new e.vpe),(0,n.Z)(this,"account$",new S.X(_)),(0,n.Z)(this,"ParametercurrentStep$",new S.X(1)),(0,n.Z)(this,"customInit",void 0),(0,n.Z)(this,"defaultValues",void 0),(0,n.Z)(this,"editOperation",void 0),(0,n.Z)(this,"scaleOperation",void 0),(0,n.Z)(this,"ValueMappingData",[]),(0,n.Z)(this,"scalingTableData",[]),this.cd=t,this.router=a}newParameter(){this.router.navigate(["rdt-stepper/parameter"]).then(()=>{window.location.reload()})}}return o=s,(0,n.Z)(s,"\u0275fac",function(t){return new(t||o)(e.Y36(e.sBO),e.Y36(I.F0))}),(0,n.Z)(s,"\u0275cmp",e.Xpm({type:o,selectors:[["app-parameter-step4"]],viewQuery:function(t,a){if(1&t&&e.Gf(Y,5),2&t){let i;e.iGM(i=e.CRH())&&(a.step1=i.first)}},inputs:{updateParentModel:"updateParentModel",customInit:"customInit",defaultValues:"defaultValues",editOperation:"editOperation",scaleOperation:"scaleOperation"},outputs:{dataChange:"dataChange"},decls:8,vars:0,consts:[[1,"pb-8","pb-lg-10"],[1,"fw-bolder","text-dark"],[1,"fs-5","text-gray-600","mb-4"],["type","button",1,"btn","btn-sm","fw-bold","btn-primary",3,"click"],["onmouseover","this.style.transform='translateY(-2px)'","onmouseout","this.style.transform='translateY(0)'",1,"bi","bi-plus-square-fill","fs-4","text-white",2,"transform","translateY(0)","transition","transform 0.2s"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Continue Adding Parameters?"),e.qZA(),e.TgZ(3,"div",2),e._uU(4," Parameter Configured Successfully "),e.qZA()(),e.TgZ(5,"button",3),e.NdJ("click",function(){return a.newParameter()}),e._UZ(6,"i",4),e._uU(7,"New Parameter "),e.qZA())}})),s})();function tt(o,s){1&o&&(e.TgZ(0,"h1",52),e._uU(1,"Reading Parameter Configuration"),e.qZA())}function at(o,s){1&o&&(e.TgZ(0,"h1",52),e._uU(1,"Update Parameter Configuration"),e.qZA())}function it(o,s){if(1&o&&(e.TgZ(0,"span",53),e._uU(1," Parameter: "),e.TgZ(2,"a",54),e._uU(3),e.qZA()()),2&o){const l=e.oxw();e.xp6(3),e.hij(" ",l.selectedParameter," ")}}function ot(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"app-parameter-step1",55),e.BQk()),2&o){const l=e.oxw();e.xp6(1),e.Q6J("updateParentModel",l.updateAccount)("defaultValues",l.account$.value)("EditOperation",l.EditOperation)("parameterData",l.parameterData)("hideDeleteButton",l.hideDeleteButton)}}function lt(o,s){if(1&o){const l=e.EpF();e.ynx(0),e.TgZ(1,"app-parameter-step2temp",56),e.NdJ("dataChange",function(a){e.CHM(l);const i=e.oxw();return e.KtG(i.onsceduleP(a))}),e.qZA(),e.BQk()}if(2&o){const l=e.oxw();e.xp6(1),e.Q6J("updateParentModel",l.updateAccount)("defaultValues",l.account$.value)("parameterData",l.parameterData)("EditOperation",l.scaleOperation)("scedule_horizontal",l.scheduleData)("hideDeleteButton",l.hideDeleteButton)}}function nt(o,s){if(1&o){const l=e.EpF();e.ynx(0),e.TgZ(1,"app-parameter-step2",57),e.NdJ("dataChange",function(a){e.CHM(l);const i=e.oxw();return e.KtG(i.onDataChange(a))}),e.qZA(),e.BQk()}if(2&o){const l=e.oxw();e.xp6(1),e.Q6J("updateParentModel",l.updateAccount)("defaultValues",l.account$.value)("valueMapping_horizontal",l.ValueMappingData)("hideDeleteButton",l.hideDeleteButton)}}function rt(o,s){if(1&o){const l=e.EpF();e.ynx(0),e.TgZ(1,"app-parameter-step3",58),e.NdJ("dataChange",function(a){e.CHM(l);const i=e.oxw();return e.KtG(i.onScalingChange(a))}),e.qZA(),e.BQk()}if(2&o){const l=e.oxw();e.xp6(1),e.Q6J("updateParentModel",l.updateAccount)("defaultValues",l.account$.value)("scallingTable_horizontal",l.scalingTableData)("hideDeleteButton",l.hideDeleteButton)}}function st(o,s){1&o&&(e.ynx(0),e._UZ(1,"app-parameter-step4",59),e.BQk())}function ut(o,s){if(1&o){const l=e.EpF();e.ynx(0),e.TgZ(1,"button",60),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.prevStep())}),e._UZ(2,"i",61),e._uU(3," Back "),e.qZA(),e.BQk()}}function ct(o,s){if(1&o){const l=e.EpF();e.ynx(0),e.TgZ(1,"button",62),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.prevStep())}),e._UZ(2,"i",61),e._uU(3," Back "),e.qZA(),e.BQk()}if(2&o){const l=e.oxw();e.xp6(1),e.Q6J("disabled",!l.isCurrentFormValid$.value)}}function pt(o,s){if(1&o){const l=e.EpF();e.ynx(0),e.TgZ(1,"button",63),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.onSubmit("update"))}),e.TgZ(2,"span",64),e._uU(3," Update "),e.qZA()(),e.BQk()}if(2&o){const l=e.oxw();e.xp6(1),e.Q6J("disabled",!l.isCurrentFormValid$.value||0==l.hideDeleteButton)}}function dt(o,s){1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o&&(e.xp6(1),e.hij(" Continue "," "," "))}function _t(o,s){if(1&o){const l=e.EpF();e.ynx(0),e.TgZ(1,"div",65)(2,"button",63),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.nextStep())}),e.TgZ(3,"span",64),e.YNc(4,dt,2,1,"ng-container",25),e.qZA(),e._UZ(5,"i",66),e.qZA()(),e.BQk()}if(2&o){const l=e.oxw();e.xp6(1),e.Q6J("ngbTooltip",l.isCurrentFormValid$.value?"":"Please fill all the Required fields"),e.xp6(1),e.Q6J("disabled",!l.isCurrentFormValid$.value),e.xp6(2),e.Q6J("ngIf",l.ParametercurrentStep$.value<l.formsCount-1)}}function mt(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"button",63),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(2);return a.onSubmit("add"),e.KtG(a.nextStep())}),e.TgZ(1,"span",64),e.ynx(2),e._uU(3," Submit "),e.BQk(),e.qZA()()}if(2&o){const l=e.oxw(2);e.Q6J("disabled",0==l.hideDeleteButton||!l.isCurrentFormValid$.value)}}function ht(o,s){1&o&&(e.ynx(0),e._uU(1," Update "),e.BQk())}function gt(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"button",63),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(2);return a.onSubmit("update"),e.KtG(a.nextStep())}),e.TgZ(1,"span",64),e.YNc(2,ht,2,0,"ng-container",25),e.qZA()()}if(2&o){const l=e.oxw(2);e.Q6J("disabled",!l.isCurrentFormValid$.value||0==l.hideDeleteButton),e.xp6(2),e.Q6J("ngIf",l.ParametercurrentStep$.value===l.formsCount-1)}}function vt(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"div",65),e.YNc(2,mt,4,1,"button",67),e.YNc(3,gt,3,2,"ng-template",null,68,e.W1O),e.qZA(),e.BQk()),2&o){const l=e.MAs(4),t=e.oxw();e.xp6(1),e.Q6J("ngbTooltip",t.isCurrentFormValid$.value&&0!=t.hideDeleteButton?"":"Please fill all the Required fields"),e.xp6(1),e.Q6J("ngIf",!t.EditOperation)("ngIfElse",l)}}function ft(o,s){1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Label"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Value"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Equation"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Icon"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Animation"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Font"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Text Color"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Font Size"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Align Type"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Edit"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Delete"),e.qZA()())}function bt(o,s){1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Label"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Value"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Equation"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Icon"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Animation"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Font"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Text Color"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Font Size"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Align Type"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Edit"),e.qZA()())}function Zt(o,s){1&o&&(e.TgZ(0,"tr")(1,"th")(2,"b"),e._uU(3,"Threshold"),e.qZA()(),e.TgZ(4,"th")(5,"b"),e._uU(6,"Multiplication Factor"),e.qZA()(),e.TgZ(7,"th")(8,"b"),e._uU(9,"Unit"),e.qZA()(),e.TgZ(10,"th")(11,"b"),e._uU(12,"Edit"),e.qZA()(),e.TgZ(13,"th")(14,"b"),e._uU(15,"Delete"),e.qZA()()())}function Tt(o,s){1&o&&(e.TgZ(0,"tr")(1,"th")(2,"b"),e._uU(3,"Threshold"),e.qZA()(),e.TgZ(4,"th")(5,"b"),e._uU(6,"Multiplication Factor"),e.qZA()(),e.TgZ(7,"th")(8,"b"),e._uU(9,"Unit"),e.qZA()(),e.TgZ(10,"th")(11,"b"),e._uU(12,"Edit"),e.qZA()()())}const J=function(o,s){return{current:o,completed:s}};let Ct=(()=>{var o;class s{constructor(t,a,i,r,c,u){(0,n.Z)(this,"modalService",void 0),(0,n.Z)(this,"getPowerBoard",void 0),(0,n.Z)(this,"api",void 0),(0,n.Z)(this,"cd",void 0),(0,n.Z)(this,"router",void 0),(0,n.Z)(this,"auditTrialServices",void 0),(0,n.Z)(this,"formsCount",5),(0,n.Z)(this,"account$",new S.X(_)),(0,n.Z)(this,"ParametercurrentStep$",new S.X(1)),(0,n.Z)(this,"step1Comp",void 0),(0,n.Z)(this,"step4Comp",void 0),(0,n.Z)(this,"step2Comp",void 0),(0,n.Z)(this,"step2Comptemp",void 0),(0,n.Z)(this,"isCurrentFormValid$",new S.X(!1)),(0,n.Z)(this,"unsubscribe",[]),(0,n.Z)(this,"scalingTableModal",void 0),(0,n.Z)(this,"customInit",void 0),(0,n.Z)(this,"getLoggedUser",void 0),(0,n.Z)(this,"SK_clientID",void 0),(0,n.Z)(this,"username",void 0),(0,n.Z)(this,"parameterData",[]),(0,n.Z)(this,"deviceTableData",void 0),(0,n.Z)(this,"dataform",[]),(0,n.Z)(this,"hideDeleteButton",!1),(0,n.Z)(this,"columnDatatable",[]),(0,n.Z)(this,"alertsDatatable",void 0),(0,n.Z)(this,"ValueMappingData",[]),(0,n.Z)(this,"scalingTableData",void 0),(0,n.Z)(this,"EditOperation",!1),(0,n.Z)(this,"parameterArray",[]),(0,n.Z)(this,"TempObj",void 0),(0,n.Z)(this,"toast",void 0),(0,n.Z)(this,"allRDTDetails",void 0),(0,n.Z)(this,"UpdateParameterType",void 0),(0,n.Z)(this,"scalingTable",void 0),(0,n.Z)(this,"ValueMapping",void 0),(0,n.Z)(this,"scaleOperation",!1),(0,n.Z)(this,"valueOperation",!1),(0,n.Z)(this,"showUpdateParameterButton",void 0),(0,n.Z)(this,"allPermissions_user",[]),(0,n.Z)(this,"scalingTabletemp",void 0),(0,n.Z)(this,"restrict",!1),(0,n.Z)(this,"clientID",void 0),(0,n.Z)(this,"selectedParameter",void 0),(0,n.Z)(this,"tempValueMapping",void 0),(0,n.Z)(this,"scalingtemp",void 0),(0,n.Z)(this,"scheduleData",void 0),(0,n.Z)(this,"tempschedule",void 0),(0,n.Z)(this,"scheduleOperation",!1),(0,n.Z)(this,"selected_Parameter_ID",void 0),(0,n.Z)(this,"isMenuOpen",!1),(0,n.Z)(this,"updateAccount",(m,g)=>{const Z={...this.account$.value,...m};this.account$.next(Z),this.isCurrentFormValid$.next(g)}),this.modalService=t,this.getPowerBoard=a,this.api=i,this.cd=r,this.router=c,this.auditTrialServices=u,this.router.events.subscribe(m=>{m instanceof I.m2&&(console.log("NavigationEnd event in PowerBoard1Component"),this.EditOperation=!1,_.parameterID="",_.decimalpoint=1,_.mX_C_C_Correction_Factor="0",_.mX_C_X_Multiplication_Factor="1",_.parameterDescription="",_.parameterLabel="",_.scalingtable=[],_.scaling_table=!1,q.schedule_heatmap_type="",q.schedule_max=NaN,q.schedule_operation_type="",_.schedule_parameter=!1,q.schedule_parameter_name="",q.schedule_parameter_label="",q.schedule_value_type="",_.valuemapping=[],_.value_mapping=!1,f.vm_align_type="",f.vm_equation="",f.vm_font="",f.vm_font_size=NaN,f.vm_icon="",f.vm_label="",f.vm_label_color="",f.vm_text_color="",f.vm_value=null,f.vm_animation="",x.scale_threshold=null,x.sc_unit="",x.sc_multiply=null,this.ValueMappingData=[],this.scalingTableData=[])})}throwValidation(){h().fire({icon:"warning",title:"Missing Information",text:"Please fill in all the required fields to proceed.",confirmButtonText:"OK"})}goToStep(t){if(5!=this.ParametercurrentStep$.value){if(this.ParametercurrentStep$.value>t)return void this.ParametercurrentStep$.next(t);this.isCurrentFormValid$.value?this.ParametercurrentStep$.next(t):this.throwValidation()}}toggleMenu(t){this.isMenuOpen=!this.isMenuOpen}onDataChange(t){this.ValueMappingData=t,this.addTable(""),console.log("Value Mappign Coming from Step2 :",this.ValueMappingData)}onScalingChange(t){this.scalingTableData=t,this.scaleaddTable(""),console.log("Scaling Data Coming from Step3 :",this.scalingTableData)}onsceduleP(t){this.scheduleData=t,this.scheduleTable(""),console.log("Scheduled Data Coming from Step2 :",this.scheduleData)}ngOnInit(){const t=localStorage.getItem("editInits");this.customInit=t?JSON.parse(t):null,console.log("localstrorage",this.customInit),this.getLoggedUser=this.getPowerBoard.getLoggedUserDetails(),this.SK_clientID=this.getLoggedUser.attributes["custom:clientID"],this.clientID=this.getLoggedUser.attributes["custom:clientID"]+"#rdt",this.username=this.getLoggedUser.attributes["custom:username"],this.allPermissions_user=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("permissionDetails")))),this.addFromService(),this.getParametersFromRDT(this.customInit),this.auditTrialServices.audit_trail("2.1","Reading Device Type","Viewed",`"${this.customInit.rdtLabel}" RDT Parameters Table viewed`,"1"),this.cd.detectChanges(),this.ParametercurrentStep$.subscribe(a=>{3===a?this.addTable(this.ValueMappingData):4===a?this.scaleaddTable(this.scalingTableData):2==a&&this.scheduleTable(this.scheduleData)})}nextStep(){const t=this.ParametercurrentStep$.value+1;t>this.formsCount||this.ParametercurrentStep$.next(t)}prevStep(){const t=this.ParametercurrentStep$.value-1;0!==t&&this.ParametercurrentStep$.next(t)}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}addFromService(){this.columnDatatable=[],this.alertsDatatable=[],this.columnDatatable=[{data:"parameterID"},{data:"parameterLabel"}],this.alertsDatatable=[{data:"alert_datatype"},{data:"alert_variabletype"},{data:"parameterID"},{data:"severity"}],this.checkPermission()}checkPermission(){let t=!1,a=!1;for(let i=0;i<this.allPermissions_user.length;i++)"Reading Device Type - Update"===this.allPermissions_user[i]?t=!0:"Reading Device Type - View"===this.allPermissions_user[i]&&(a=!0);t&&a||t?this.hideDeleteButton=!0:a?this.hideDeleteButton=!1:this.router.navigate(["/404"])}getParametersFromRDT(t){var a=this;console.log("On Edit Data ",t),console.log("On Edit Data ",typeof t),this.api.GetReadingDeviceType(t.rdt_id,this.SK_clientID).then(function(){var i=(0,y.Z)(function*(r){r&&(console.log("Data that is being coming from db",r),a.parameterData=JSON.parse(r.parameters),console.log("All the parameters :",a.parameterData),a.showTable(a.parameterData))});return function(r){return i.apply(this,arguments)}}())}showTable(t){let a="";const i=(m,g,b,Z,T)=>`\n  <button class="btn btn-sm ${m}" title="${b}" style="display: flex; align-items: center; justify-content: center;" ${Z?`data-bs-toggle='${Z}'`:""} ${T?`data-bs-target='${T}'`:""}>\n    <i class="${g}"></i>\n  </button>\n`;a=1==this.hideDeleteButton?`\n    <div class="btn-group" role="group">\n      ${i("btn-primary editparamspopup","fa fa-edit","Edit Parameter")}\n      ${i("btn-success scalingparamspopup","bi bi-speedometer fs-5","Open Scaling Table","modal","#open_scaling_table")}\n      ${i("btn-warning valueparamspopup","fa fa-table","Open Value Mapping Table","modal","#open_value_mapping_table")}\n      ${i("btn-danger deleteparamspopup","fa fa-trash","Delete Parameter")}\n    </div>\n  `:`\n    <div class="btn-group" role="group">\n      ${i("btn-primary editparamspopup","fa fa-edit","Edit Parameter")}\n      ${i("btn-success scalingparamspopup","fa fa-table","Open Scaling Table","modal","#open_scaling_table")}\n      ${i("btn-warning valueparamspopup","fa fa-table","Open Value Mapping Table","modal","#open_value_mapping_table")}\n    </div>\n  `,$("#params_tables").off("click").on("click",".editparamspopup, .deleteparamspopup, .scalingparamspopup, .valueparamspopup, .mappingparamspopup",function(){const m=u.scalingTable.row($(this).closest("tr")).data();$(this).hasClass("editparamspopup")?u.editParameter(m,"parameter"):$(this).hasClass("deleteparamspopup")?u.deleteParamter(m):$(this).hasClass("scalingparamspopup")?u.editParameter(m,"scaling"):$(this).hasClass("valueparamspopup")&&u.editParameter(m,"mapping")});const c={pagingType:"full_numbers",destroy:!0,lengthChange:!0,responsive:!0,ordering:!0,data:this.parameterData,columns:[{data:"parameterID"},{data:"parameterLabel"},{data:"schedule_parameter_label",defaultContent:""},{defaultContent:a,orderable:!1}],scrollX:!0,dom:"Bfrtip",buttons:[{extend:"colvis",text:"Column Visibility"}]};this.scalingTable=$("#params_tables").DataTable(c),this.scalingTable.column(2).visible(!1);let u=this}editParameter(t,a){let i;console.log("Parameter Data on Edit :",t),console.log("In Edit All the Parameters Come Here :",this.parameterData);for(let r=0;r<this.parameterData.length;r++)if(this.parameterData[r].parameterID==t.parameterID){this.selected_Parameter_ID=t.parameterID,console.log("Matched Parameter :",this.parameterData[r]),this.selectedParameter=t.parameterLabel,this.auditTrialServices.audit_trail("2.1","Reading Device Type","View",`"${this.customInit.rdtLabel}" RDT Parameter (${t.parameterLabel}) was Viewed`,"1"),i=this.parameterData[r],console.log("Data to be edited :",i);break}this.scalingTableData=i.scalingtable,this.ValueMappingData=i.valuemapping,this.scheduleData=i.scheduleparameters,"parameter"==String(a)&&(this.newParameter(),_.parameterID=i.parameterID,_.decimalpoint=i.decimalpoint,_.parameterDescription=i.parameterDescription,_.mX_C_C_Correction_Factor=i.mX_C_C_Correction_Factor,_.mX_C_X_Multiplication_Factor=i.mX_C_X_Multiplication_Factor,_.parameterLabel=i.parameterLabel,_.schedule_parameter=i.schedule_parameter,i&&i.schedule_parameter&&("true"==i.schedule_parameter||1==i.schedule_parameter)?(this.scaleOperation=!0,_.schedule_parameter=!0,_.schedule_heatmap_type=i.schedule_heatmap_type,_.schedule_max=i.schedule_max,_.schedule_operation_type=i.schedule_operation_type,_.schedule_parameter_name=i.schedule_parameter_name,_.schedule_parameter_label=i.schedule_parameter_label,_.schedule_value_type=i.schedule_value_type):_.schedule_parameter=!1,"scaling"==String(a)?_.scaling_table=i.scaling_table:"mapping"==String(a)?_.value_mapping=i.value_mapping:(_.value_mapping=!1,_.scaling_table=!1),this.scalingTableData=i.scalingtable,this.ValueMappingData=i.valuemapping,this.scheduleData=i.scheduleparameters,this.ParametercurrentStep$.next(1),console.log("Inits Values :",_),console.log("see that data coming",this.account$.value),this.EditOperation=!0,this.isCurrentFormValid$.next(!0),this.account$.next(_),setTimeout(()=>{this.step1Comp.initForm()},100),this.cd.detectChanges(),console.log("this accow",this.account$.value)),"scaling"==String(a)?this.initializeScaling_datatable():"mapping"==String(a)&&this.initializeValueMap_datatable()}deleteParamter(t){h().fire({customClass:{container:"my-swal"},position:"center",title:"Are you sure?",text:"You wont get these details back again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, let me think"}).then(a=>{if(console.log("inside sweetalert",a),a.dismiss!==h().DismissReason.cancel){if(1==a.isConfirmed){for(let i=0;i<this.parameterData.length;i++)t.parameterID==this.parameterData[i].parameterID&&(console.log("It will get Deleted :",this.parameterData[i].parameterID),this.auditTrialServices.audit_trail("2.1","Reading Device Type","Delete",`"${this.customInit.rdtLabel}" RDT Parameter (${this.parameterData[i].parameterLabel}) was Deleted`,"1"),this.parameterData.splice(i,1));this.HelpherDelete(this.parameterData,"parameter"),h().fire("Removed!","Parameter removed successfully.","success")}}else a.dismiss===h().DismissReason.cancel&&h().fire("Cancelled","Parameter not removed","error");console.log("After Delete Paaramter Data List :",this.parameterData)})}HelpherDelete(t,a){var i=this;this.UpdateParameterType={PK:this.customInit.rdt_id,SK:this.SK_clientID,parameters:JSON.stringify(t),updated:new Date},console.log("Final Data from parameters :",this.UpdateParameterType),this.api.UpdateReadingDeviceType(this.UpdateParameterType).then(function(){var r=(0,y.Z)(function*(c){i.addFromService();let m="";m=1==t.length?t[0].parameterID:t.length>1?t[0].parameterID+"...("+t.length+")":"...(0)";const b=Math.ceil((new Date).getTime()/1e3),Z={P1:i.customInit.rdt_id,P2:i.customInit.rdtLabel,P3:m,P4:b};console.log("Items----",Z),c?(yield i.fetchTimeMachineById(1,i.customInit.rdt_id,"update",Z),"parameter"==String(a)?(i.newParameter(),yield i.showTable(i.parameterData)):"scale_table"==String(a)?yield i.initializeScaling_datatable():"value_mapping"==String(a)?yield i.initializeValueMap_datatable():"step_value_mapping"==String(a)?i.addTable(""):"step_schedule_parameter"==String(a)?i.scheduleTable(""):i.scaleaddTable("")):alert("Error in Updating Reading Device Type Configuration")});return function(c){return r.apply(this,arguments)}}()).catch(r=>{console.log("err for creation",r),this.toast.open("Error in Updating New RDT Configuration ","Check again",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})})}getLookupTableData(t,a){var i=this;return(0,y.Z)(function*(){console.log("chk1 tm",t),console.log("chk2 tm",a);try{i.deviceTableData&&$.fn.DataTable.isDataTable("#params_tables")&&i.deviceTableData.destroy(),i.deviceTableData=$("#params_tables").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!0,responsive:!0,data:t,ordering:!0,order:[[1,"asc"]],columns:a})}catch(r){console.error("Error initializing DataTable:",r)}})()}scheduleTable(t){console.log("Value mapping array Data is Here :",this.scheduleData);const a=this.hideDeleteButton?'\n    <div class="btn-group" role="group">\n      <button class="btn btn-sm btn-primary edittschedule" title="Edit Parameter"><i class="fa fa-edit"></i></button>\n      <button class="btn btn-sm btn-danger deleteschedule" title="Delete Parameter"><i class="fa fa-trash"></i></button>\n    </div>\n  ':'\n    <div class="btn-group" role="group">\n      <button class="btn btn-sm btn-primary edittschedule" title="Edit Parameter"><i class="fa fa-edit"></i></button>\n    </div>\n  ';$("#schedule_value_tables").off("click"),$("#schedule_value_tables").on("click",".edittschedule, .deleteschedule",function(){const c=$(this).closest("tr"),u=r.tempschedule.row(c);u.index(),$(this).hasClass("edittschedule")?r.editScdedule(u.data()):$(this).hasClass("deleteschedule")&&r.deleteSchedule_datatable(u.data(),"step_schedule_parameter")}),console.log("Here after is correct :");const i={pagingType:"full_numbers",destroy:!0,lengthChange:!0,ordering:!0,responsive:!0,data:this.scheduleData,columns:[{data:"schedule_parameter_name"},{data:"schedule_value_type"},{defaultContent:a}]};console.log("Here also it is correct :"),this.tempschedule=$("#schedule_value_tables").DataTable(i);const r=this}addTable(t){console.log("Value mapping array Data is Here :",this.ValueMappingData);const a=this.hideDeleteButton?'\n    <div class="btn-group" role="group">\n      <button class="btn btn-sm btn-primary edittempvaluemapping" title="Edit Parameter"><i class="fa fa-edit"></i></button>\n      <button class="btn btn-sm btn-danger deletetempvaluemapping" title="Delete Parameter"><i class="fa fa-trash"></i></button>\n    </div>\n  ':'\n    <div class="btn-group" role="group">\n      <button class="btn btn-sm btn-primary edittempvaluemapping" title="Edit Parameter"><i class="fa fa-edit"></i></button>\n    </div>\n  ';$("#temp_value_tables").off("click"),$("#temp_value_tables").on("click",".edittempvaluemapping, .deletetempvaluemapping",function(){const c=$(this).closest("tr"),u=r.tempValueMapping.row(c);u.index(),$(this).hasClass("edittempvaluemapping")?r.editValueMapping(u.data(),"sub_table"):$(this).hasClass("deletetempvaluemapping")&&r.deleteValueMap_datatable(u.data(),"step_value_mapping")}),console.log("Here after is correct :");const i={pagingType:"full_numbers",destroy:!0,lengthChange:!0,ordering:!0,responsive:!0,data:this.ValueMappingData,columns:[{data:"vm_label"},{data:"vm_value"},{defaultContent:a}]};console.log("Here also it is correct :"),this.tempValueMapping=$("#temp_value_tables").DataTable(i);const r=this}initializeValueMap_datatable(){console.log("Value mapping array Data is Here :",this.ValueMappingData);let t="btn btn-sm btn-primary editvaluemappingpopup",a="btn btn-sm btn-danger editvaluemappingpopup";$("#Mapping_values_tables").off("click"),$("#Mapping_values_tables").on("click",".editvaluemappingpopup",function(){let r=$(this).closest("tr"),c=i.ValueMapping.row(r);c.index(),this.className==t?i.editValueMapping(c.data(),"main_table"):this.className==a&&i.deleteValueMap_datatable(c.data(),"value_mapping")}),this.ValueMapping=1==this.hideDeleteButton?$("#Mapping_values_tables").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!0,ordering:!0,responsive:!0,data:this.ValueMappingData,columns:[{data:"vm_label"},{data:"vm_value"},{data:"vm_equation"},{data:"vm_icon"},{data:"vm_animation"},{data:"vm_font"},{data:"vm_text_color"},{data:"vm_font_size"},{data:"vm_align_type"},{defaultContent:"<button class='"+t+"'data-bs-dismiss='modal' ><i class='fa fa-edit'></i></button>"},{defaultContent:"<button class='"+a+"'><i class='fa fa-trash'></i></button>"}]}):$("#Mapping_values_tables").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!1,responsive:!0,data:this.ValueMappingData,columns:[{data:"vm_label"},{data:"vm_value"},{data:"vm_equation"},{data:"vm_icon"},{data:"vm_animation"},{data:"vm_font"},{data:"vm_text_color"},{data:"vm_font_size"},{data:"vm_align_type"},{defaultContent:"<button class='"+t+"'data-bs-dismiss='modal' ><i class='fa fa-edit'></i></button>"}]});let i=this;this.showTable(this.parameterData)}openScalingModel(){console.log("Iam triggred :"),this.scalingTableModal=this.modalService.show("open_scaling_table"),this.initializeScaling_datatable()}scaleaddTable(t){console.log("Scaling Table array Data is Here :",this.scalingTableData);const a=this.hideDeleteButton?'\n  <div class="btn-group" role="group">\n    <button class="btn btn-sm btn-primary editscalepopin" title="Edit Parameter"><i class="fa fa-edit"></i></button>\n    <button class="btn btn-sm btn-danger deletescalepopin" title="Delete Parameter"><i class="fa fa-trash"></i></button>\n  </div>\n':'\n  <div class="btn-group" role="group">\n    <button class="btn btn-sm btn-primary editscalepopin" title="Edit Parameter"><i class="fa fa-edit"></i></button>\n  </div>\n';$("#temp_scale_tables").off("click"),$("#temp_scale_tables").on("click",".editscalepopin, .deletescalepopin",function(){const c=$(this).closest("tr"),u=r.scalingtemp.row(c);u.index(),$(this).hasClass("editscalepopin")?(console.log("Data that is in row:",u.data()),r.editScalingMapping(u.data(),"sub_table")):$(this).hasClass("deletescalepopin")&&r.deleteScale_datatable(u.data(),"")});const i={pagingType:"full_numbers",destroy:!0,lengthChange:!0,ordering:!0,responsive:!0,data:this.scalingTableData,columns:[{data:"scale_threshold"},{data:"sc_multiply"},{data:"sc_unit"},{defaultContent:a}]};this.scalingtemp=$("#temp_scale_tables").DataTable(i);const r=this}initializeScaling_datatable(){console.log("Scaling Table array Data is Here :",this.scalingTableData);let t="btn btn-sm btn-primary editvaluemappingpopup",a="btn btn-sm btn-danger editvaluemappingpopup";$("#Mapping_scaling_table").off("click"),$("#Mapping_scaling_table").on("click",".editvaluemappingpopup",function(){let r=$(this).closest("tr"),c=i.scalingTabletemp.row(r);c.index(),this.className==t?(console.log("Data that is in row :",c.data()),i.editScalingMapping(c.data(),"main_table")):this.className==a&&i.deleteScale_datatable(c.data(),"scale_table")}),this.scalingTabletemp=1==this.hideDeleteButton?$("#Mapping_scaling_table").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!0,ordering:!0,responsive:!0,data:this.scalingTableData,columns:[{data:"scale_threshold"},{data:"sc_multiply"},{data:"sc_unit"},{defaultContent:"<button class='"+t+"'data-bs-dismiss='modal' ><i class='fa fa-edit'></i></button>"},{defaultContent:"<button class='"+a+"'><i class='fa fa-trash'></i></button>"}]}):$("#Mapping_scaling_table").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!1,responsive:!0,data:this.scalingTableData,columns:[{data:"scale_threshold"},{data:"sc_multiply"},{data:"sc_unit"},{defaultContent:"<button class='"+t+"'data-bs-dismiss='modal' ><i class='fa fa-edit'></i></button>"}]});let i=this;this.showTable(this.parameterData)}deleteScale_datatable(t,a){h().fire({customClass:{container:"my-swal"},position:"center",title:"Are you sure?",text:"You wont get these details back again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, let me think"}).then(i=>{if(console.log("inside sweetalert",i),i.dismiss!==h().DismissReason.cancel){if(1==i.isConfirmed){for(let r=0;r<this.scalingTableData.length;r++)t.scale_threshold==this.scalingTableData[r].scale_threshold&&this.scalingTableData.splice(r,1);for(let r=0;r<this.parameterData.length;r++)this.account$.value.parameterID==this.parameterData[r].parameter_ID&&(this.parameterData[r].scalingtable=this.scalingTableData);console.log("After Deleting ScalingTable Data :",this.scalingTableData),console.log("After Deleting ScalingTable Data Paramter Data is:",this.parameterData),this.HelpherDelete(this.parameterData,a),h().fire("Removed!","Scaling Value removed successfully.","success")}}else i.dismiss===h().DismissReason.cancel&&h().fire("Cancelled","Scaling Value not removed","error")})}deleteSchedule_datatable(t,a){h().fire({customClass:{container:"my-swal"},position:"center",title:"Are you sure?",text:"You wont get these details back again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, let me think"}).then(i=>{if(console.log("inside sweetalert",i),i.dismiss!==h().DismissReason.cancel){if(1==i.isConfirmed){for(let r=0;r<this.scheduleData.length;r++)t.schedule_parameter_name==this.scheduleData[r].schedule_parameter_name&&this.scheduleData.splice(r,1);for(let r=0;r<this.parameterData.length;r++)this.account$.value.parameterID==this.parameterData[r].parameter_ID&&(this.parameterData[r].scheduleparameters=this.scheduleData);console.log("After Deleting ScalingTable Data :",this.scheduleData),console.log("After Deleting ScalingTable Data Paramter Data is:",this.parameterData),this.HelpherDelete(this.parameterData,a),h().fire("Removed!","Scaling Value removed successfully.","success")}}else i.dismiss===h().DismissReason.cancel&&h().fire("Cancelled","Scaling Value not removed","error")})}deleteValueMap_datatable(t,a){h().fire({customClass:{container:"my-swal"},position:"center",title:"Are you sure?",text:"You wont get these details back again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, let me think"}).then(i=>{if(console.log("inside sweetalert",i),i.dismiss!==h().DismissReason.cancel){if(1==i.isConfirmed){for(let r=0;r<this.ValueMappingData.length;r++)t.vm_label==this.ValueMappingData[r].vm_label&&t.vm_value==this.ValueMappingData[r].vm_value&&this.ValueMappingData.splice(r,1);for(let r=0;r<this.parameterData.length;r++)this.account$.value.parameterID==this.parameterData[r].parameter_ID&&(this.parameterData[r].valuemapping=this.ValueMappingData);console.log("After Deleting ScalingTable Data :",this.ValueMappingData),console.log("After Deleting ScalingTable Data Paramter Data is:",this.parameterData),this.HelpherDelete(this.parameterData,a),h().fire("Removed!","Scaling Value removed successfully.","success")}}else i.dismiss===h().DismissReason.cancel&&h().fire("Cancelled","Scaling Value not removed","error")})}onSubmit(t){var a=this;console.log("All Datas of the Form Are :",this.account$.value);const i=this.account$.value;this.api.GetReadingDeviceType(this.customInit.rdt_id,this.SK_clientID).then(function(){var r=(0,y.Z)(function*(c){if(c){if(console.log("Data that is being coming from db",c),a.parameterData=JSON.parse(c.parameters),console.log("All the parameters :",a.parameterData),"update"==String(t)){console.log("Iam insite Ready to be deleted :");for(let u=0;u<a.parameterData.length;u++)i.parameterID.trim()==a.parameterData[u].parameterID.trim()&&(a.auditTrialServices.audit_trail("2.1","Reading Device Type","Update",`"${a.customInit.rdtLabel}" RDT Parameter (${a.parameterData[u].parameterLabel}) was Updated`,"1"),a.parameterData.splice(u,1),a.parameterData.splice(u,0,{decimalpoint:i.decimalpoint,mX_C_C_Correction_Factor:parseFloat(i.mX_C_C_Correction_Factor),mX_C_X_Multiplication_Factor:parseFloat(i.mX_C_X_Multiplication_Factor),parameterDescription:i.parameterDescription,parameterID:i.parameterID.trim(),parameterLabel:i.parameterLabel.trim(),scalingtable:a.scalingTableData,scaling_table:i.scaling_table,scheduleparameters:a.scheduleData,schedule_parameter:i.schedule_parameter,valuemapping:a.ValueMappingData,value_mapping:i.value_mapping,schedule_heatmap_type:i.schedule_heatmap_type,schedule_max:i.schedule_max,schedule_operation_type:i.schedule_operation_type,schedule_parameter_name:i.schedule_parameter_name,schedule_parameter_label:i.schedule_parameter_label,schedule_value_type:i.schedule_value_type}))}else{a.parameterData||(a.parameterData=[]);for(let u=0;u<a.parameterData.length;u++)if(a.parameterData[u].parameterID.trim()==a.account$.value.parameterID.trim())return a.restrict=!0,h().fire({position:"center",title:"Already Added Parameter",text:"Parameter ID should be unique",icon:"error",allowOutsideClick:!1});a.parameterData||(a.parameterData=[]),a.auditTrialServices.audit_trail("2.1","Reading Device Type","Create",`"${a.customInit.rdtLabel}" RDT Parameter (${i.parameterLabel}) was Created`,"1"),a.parameterData.push({decimalpoint:i.decimalpoint,mX_C_C_Correction_Factor:parseFloat(i.mX_C_C_Correction_Factor),mX_C_X_Multiplication_Factor:parseFloat(i.mX_C_X_Multiplication_Factor),parameterDescription:i.parameterDescription,parameterID:i.parameterID.trim(),parameterLabel:i.parameterLabel.trim(),scalingtable:a.scalingTableData,scaling_table:i.scaling_table,scheduleparameters:a.scheduleData,schedule_parameter:i.schedule_parameter,valuemapping:a.ValueMappingData,value_mapping:i.value_mapping,schedule_heatmap_type:i.schedule_heatmap_type,schedule_max:i.schedule_max,schedule_operation_type:i.schedule_operation_type,schedule_parameter_name:i.schedule_parameter_name,schedule_parameter_label:i.schedule_parameter_label,schedule_value_type:i.schedule_value_type})}a.submitHelpher(c,a.parameterData)}});return function(c){return r.apply(this,arguments)}}())}submitHelpher(t,a){var i=this;this.allRDTDetails={PK:this.customInit.rdt_id,SK:this.SK_clientID,rdtLabel:t.rdtLabel,schedule_type:t.schedule_type,reading_device_type_id:t.rdt_id,updateTime:t.updateTime,deviceTimeout:t.deviceTimeout,mxC:t.mxC,parameters:JSON.stringify(a),alerts:t.alerts,parameters_view:t.parameters_view,updated:new Date},console.log("Final Data from parameters :",a),t.parameters=JSON.stringify(a),console.log("Final Object to push into Databse ",t),console.log("Data to be showed :",JSON.parse(this.allRDTDetails.parameters)),this.api.UpdateReadingDeviceType(this.allRDTDetails).then(function(){var r=(0,y.Z)(function*(c){i.addFromService();let u=a,m="";console.log("Parameter ID",u[0].parameterID),console.log("parameters all",u),m=1==u.length?u[0].parameterID:u.length>1?u[0].parameterID+"...("+u.length+")":"...(0)";const b=Math.ceil((new Date).getTime()/1e3),Z={P1:t.PK,P2:t.rdtLabel,P3:m,P4:b};if(console.log("Items----",Z),c)return yield i.fetchTimeMachineById(1,i.allRDTDetails.PK,"update",Z),yield i.showTable(i.parameterData),i.EditOperation?h().fire({position:"center",text:"Reading Device Type Parameter Configuration Updated successfully",icon:"success",allowOutsideClick:!1}):h().fire({position:"center",text:"Reading Device Type Parameter Configuration Added successfully",icon:"success",allowOutsideClick:!1});alert("Error in Updating Reading Device Type Configuration")});return function(c){return r.apply(this,arguments)}}()).catch(r=>{console.log("err for creation",r),this.toast.open("Error in Updating New RDT Configuration ","Check again",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})})}fetchTimeMachineById(t,a,i,r){var c=this;return(0,y.Z)(function*(){try{const u=yield c.api.GetLookupMasterTable(c.clientID,t);if(u&&u.items){let m=yield JSON.parse(u.items),g=m.findIndex(b=>b[Object.keys(b)[0]].P1===a);if(-1!==g){if("update"===i){m[g][`L${g+1}`]=r;const Z=[];for(let T=0;T<m.length;T++){const w=Object.keys(m[T])[0],P=`L${T+1}`;if(w){const B={[P]:m[T][w]},F=Z.findIndex(R=>Object.keys(R)[0]===P);-1!==F?Object.assign(Z[F][P],m[T][w]):Z.push(B)}else console.error(`Original key not found for renaming in data[${T}].`)}m=Z}else"delete"===i&&m.splice(g,1);let b={PK:c.clientID,SK:u.SK,items:JSON.stringify(m)};yield c.api.UpdateLookupMasterTable(b)}else yield new Promise(b=>setTimeout(b,500)),yield c.fetchTimeMachineById(t+1,a,i,r)}else h().fire({position:"top-right",icon:"error",title:`ID ${a} not found`,showConfirmButton:!1,timer:1500})}catch(u){console.error("Error:",u)}})()}editScalingMapping(t,a){if("main_table"==String(a)){let i;this.EditOperation=!0;for(let r=0;r<this.parameterData.length;r++)if(this.parameterData[r].parameterID==this.selected_Parameter_ID){console.log("Matched Parameter :",this.parameterData[r]),this.selectedParameter=this.parameterData[r].parameterLabel,i=this.parameterData[r],console.log("Data to be edited :",i);break}this.newParameter(),_.parameterID=i.parameterID,_.decimalpoint=i.decimalpoint,_.parameterDescription=i.parameterDescription,_.mX_C_C_Correction_Factor=i.mX_C_C_Correction_Factor,_.mX_C_X_Multiplication_Factor=i.mX_C_X_Multiplication_Factor,_.parameterLabel=i.parameterLabel,_.schedule_parameter=i.schedule_parameter,i&&i.schedule_parameter&&("true"==i.schedule_parameter||1==i.schedule_parameter)?(this.scaleOperation=!0,_.schedule_parameter=!0,_.schedule_heatmap_type=i.schedule_heatmap_type,_.schedule_max=i.schedule_max,_.schedule_operation_type=i.schedule_operation_type,_.schedule_parameter_name=i.schedule_parameter_name,_.schedule_parameter_label=i.schedule_parameter_label,_.schedule_value_type=i.schedule_value_type):_.schedule_parameter=!1,"scaling"==String(a)?_.scaling_table=i.scaling_table:"mapping"==String(a)?_.value_mapping=i.value_mapping:(_.value_mapping=!1,_.scaling_table=!1),this.scalingTableData=i.scalingtable,this.ValueMappingData=i.valuemapping,this.scheduleData=i.scheduleparameters}console.log("Scaling Values That are need to be Edited :",t),_.scaling_table=!0,x.scale_threshold=t.scale_threshold,x.sc_unit=t.sc_unit,x.sc_multiply=t.sc_multiply,this.ParametercurrentStep$.next(4),this.scaleOperation=!0,this.isCurrentFormValid$.next(!0),this.ParametercurrentStep$.next(4),setTimeout(()=>{this.step4Comp.initForm()},100),this.cd.detectChanges(),console.log("this accow",this.account$.value)}editScdedule(t){console.log("Value Mapping That are need to be Edited :",t),_.schedule_parameter=!0,q.schedule_parameter_name=t.schedule_parameter_name,q.schedule_heatmap_type=t.schedule_heatmap_type,q.schedule_max=t.schedule_max,q.schedule_value_type=t.schedule_value_type,q.schedule_operation_type=t.schedule_operation_type,this.scheduleOperation=!0,this.EditOperation=!0,this.isCurrentFormValid$.next(!0),setTimeout(()=>{this.step2Comptemp.initForm()},100),this.cd.detectChanges(),console.log("this accow",q)}editValueMapping(t,a){if("main_table"==a){let i;this.EditOperation=!0;for(let r=0;r<this.parameterData.length;r++)if(this.parameterData[r].parameterID==this.selected_Parameter_ID){console.log("Matched Parameter :",this.parameterData[r]),this.selectedParameter=this.parameterData[r].parameterLabel,i=this.parameterData[r],console.log("Data to be edited :",i);break}this.newParameter(),_.parameterID=i.parameterID,_.decimalpoint=i.decimalpoint,_.parameterDescription=i.parameterDescription,_.mX_C_C_Correction_Factor=i.mX_C_C_Correction_Factor,_.mX_C_X_Multiplication_Factor=i.mX_C_X_Multiplication_Factor,_.parameterLabel=i.parameterLabel,_.schedule_parameter=i.schedule_parameter,i&&i.schedule_parameter&&("true"==i.schedule_parameter||1==i.schedule_parameter)?(this.scaleOperation=!0,_.schedule_parameter=!0,_.schedule_heatmap_type=i.schedule_heatmap_type,_.schedule_max=i.schedule_max,_.schedule_operation_type=i.schedule_operation_type,_.schedule_parameter_name=i.schedule_parameter_name,_.schedule_parameter_label=i.schedule_parameter_label,_.schedule_value_type=i.schedule_value_type):_.schedule_parameter=!1,"scaling"==String(a)?_.scaling_table=i.scaling_table:"mapping"==String(a)?_.value_mapping=i.value_mapping:(_.value_mapping=!1,_.scaling_table=!1),this.scalingTableData=i.scalingtable,this.ValueMappingData=i.valuemapping,this.scheduleData=i.scheduleparameters}console.log("Value Mapping That are need to be Edited :",t),_.value_mapping=!0,f.vm_align_type=t.vm_align_type,f.vm_equation=t.vm_equation,f.vm_font=t.vm_font,f.vm_font_size=t.vm_font_size,f.vm_icon=t.vm_icon,f.vm_label=t.vm_label,f.vm_label_color=t.vm_label_color,f.vm_text_color=t.vm_text_color,f.vm_value=t.vm_value,f.vm_animation=t.vm_animation,this.ParametercurrentStep$.next(3),this.valueOperation=!0,this.isCurrentFormValid$.next(!0),this.ParametercurrentStep$.next(3),setTimeout(()=>{this.step2Comp.initForm()},100),this.cd.detectChanges(),console.log("this accow",f)}newParameter(){_.parameterID="",_.decimalpoint=1,_.mX_C_C_Correction_Factor="0",_.mX_C_X_Multiplication_Factor="1",_.parameterDescription="",_.parameterLabel="",_.scalingtable=[],_.scaling_table=!1,q.schedule_heatmap_type="",q.schedule_max=null,q.schedule_operation_type="",_.schedule_parameter=!1,q.schedule_parameter_name="",q.schedule_value_type="",_.valuemapping=[],_.value_mapping=!1,_.schedule_parameter_name="",_.schedule_parameter_label="",_.schedule_max=0,_.schedule_value_type="",_.schedule_operation_type="",_.schedule_heatmap_type="",f.vm_align_type="",f.vm_equation="",f.vm_font="",f.vm_font_size=NaN,f.vm_icon="",f.vm_label="",f.vm_label_color="",f.vm_text_color="",f.vm_value=null,f.vm_animation="",x.scale_threshold=null,x.sc_unit="",x.sc_multiply=null,this.ValueMappingData=[],this.scalingTableData=[],this.EditOperation=!1,this.scaleOperation=!1,this.valueOperation=!1,this.scheduleOperation=!1,this.account$.next(_),this.ParametercurrentStep$.next(1),this.isCurrentFormValid$.next(!1),setTimeout(()=>{this.step1Comp.initForm()},100),this.ParametercurrentStep$.next(1),this.cd.detectChanges(),console.log("this accow",f)}redirectDevice(){this.router.navigate(["rdt-stepper"]).then(()=>{})}toParameter(){console.log("From the Parameters :",this.customInit.rdt_id),localStorage.setItem("viInits",JSON.stringify(this.customInit)),this.router.navigate(["rdt-stepper/virtual-parameter"])}}return o=s,(0,n.Z)(s,"\u0275fac",function(t){return new(t||o)(e.Y36(te.tT),e.Y36(O.F),e.Y36(V.t),e.Y36(e.sBO),e.Y36(I.F0),e.Y36(X.C))}),(0,n.Z)(s,"\u0275cmp",e.Xpm({type:o,selectors:[["app-horizontal"]],viewQuery:function(t,a){if(1&t&&(e.Gf(Y,5),e.Gf(G,5),e.Gf(W,5),e.Gf(ee,5)),2&t){let i;e.iGM(i=e.CRH())&&(a.step1Comp=i.first),e.iGM(i=e.CRH())&&(a.step4Comp=i.first),e.iGM(i=e.CRH())&&(a.step2Comp=i.first),e.iGM(i=e.CRH())&&(a.step2Comptemp=i.first)}},decls:156,vars:40,consts:[[1,"d-flex","flex-column","flex-column-fluid"],[1,"app-toolbar","py-3","py-lg-6"],[1,"app-container","container-fluid"],[1,"row","align-items-center","justify-content-between"],[1,"col",2,"display","flex"],["class","page-heading text-gray-900 fw-bold fs-3 mb-0",4,"ngIf"],[1,"btn","btn-sm","btn-success","fw-bolder","ms-2","fs-8","py-1","px-3"],[1,"col-12","col-lg-6","mt-3","mt-lg-0"],[1,"d-flex","justify-content-end"],["type","button","disabled","","ngbTooltip","Add Reading Parameters","placement","bottom",1,"btn","btn-sm","fw-bold","btn-success","fs-6","me-2","mb-2","mb-lg-0","btn-equal-size"],[1,"bi","bi-plus-square-fill","fs-4","text-white"],["type","button","ngbTooltip","Add Reading Virtual Parameters","placement","bottom",1,"btn","btn-sm","fw-bold","btn-warning","fs-6","me-2","mb-2","mb-lg-0","btn-equal-size",3,"click"],["type","button","ngbTooltip","Redirects back to Reading Device Type Configuration","placement","bottom",1,"btn","btn-sm","fw-bold","btn-primary","me-2","mb-2","mb-lg-0","fs-6","btn-equal-size",3,"click"],[1,"bi","bi-arrow-left-short"],["type","button","ngbTooltip","Resets the Form Fields to Add new Parameter","placement","bottom",1,"btn","btn-sm","fw-bold","btn-primary","fs-6","btn-equal-size",3,"disabled","click"],[1,"container",2,"display","flex","flex-wrap","wrap"],[1,"card",2,"max-width","60%"],[1,"card-body"],["class","parameter-container","class","fw-bold",4,"ngIf"],["id","kt_create_account_stepper",1,"stepper","stepper-links","d-flex","flex-column","pt-15"],[1,"stepper-nav","mb-5",2,"flex-wrap","nowrap"],[1,"stepper-item",2,"cursor","pointer",3,"ngClass","click"],[1,"stepper-title"],["noValidate","","id","kt_create_account_form",1,"mx-auto","w-100","pt-15","pb-10"],[1,"current"],[4,"ngIf"],[1,"d-flex","flex-stack","pt-15"],[1,"mr-2"],[1,"container",2,"max-width","40%","padding","0px",3,"hidden"],[1,"card"],[1,"modal-header","pt-5"],[1,"modal-title",2,"padding-left","4%"],[1,"table-responsive"],["id","params_tables",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4"],[2,"text-align","center"],["id","temp_value_tables",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4"],["id","schedule_value_tables",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4"],[1,"container",2,"max-width","40%",3,"hidden"],["id","temp_scale_tables",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4"],["id","open_value_mapping_table","aria-labelledby","","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","custom-close-btn"],[1,"modal-body"],[1,"container","table-responsive"],["id","Mapping_values_tables",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4",2,"width","100%"],["id","open_scaling_table","aria-labelledby","","aria-hidden","true",1,"modal","fade"],["id","Mapping_scaling_table",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4",2,"width","100%"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],[1,"page-heading","text-gray-900","fw-bold","fs-3","mb-0"],[1,"fw-bold"],[1,"btn","btn-sm","btn-success","fw-bolder","ms-2","fs-8","py-1","px-3","parameter-button"],[1,"w-100",3,"updateParentModel","defaultValues","EditOperation","parameterData","hideDeleteButton"],[1,"w-100",3,"updateParentModel","defaultValues","parameterData","EditOperation","scedule_horizontal","hideDeleteButton","dataChange"],[1,"w-100",3,"updateParentModel","defaultValues","valueMapping_horizontal","hideDeleteButton","dataChange"],[1,"w-100",3,"updateParentModel","defaultValues","scallingTable_horizontal","hideDeleteButton","dataChange"],[1,"w-100"],["type","button",1,"btn","fw-bold","btn-lg","btn-light-primary","me-3",3,"click"],[1,"fa-solid","fa-arrow-left"],["type","button",1,"btn","fw-bold","btn-lg","btn-light-primary","me-3",3,"disabled","click"],["type","button",1,"btn","fw-bold","btn-lg","btn-primary","me-3",3,"disabled","click"],[1,"indicator-label"],["placement","bottom",3,"ngbTooltip"],[1,"fa-solid","fa-chevron-right"],["type","button","class","btn fw-bold btn-lg btn-primary me-3",3,"disabled","click",4,"ngIf","ngIfElse"],["other_btn",""]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.YNc(5,tt,2,0,"h1",5),e.YNc(6,at,2,0,"h1",5),e.TgZ(7,"a",6),e._uU(8),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8)(11,"button",9),e._UZ(12,"i",10),e._uU(13,"RP "),e.qZA(),e.TgZ(14,"button",11),e.NdJ("click",function(){return a.toParameter()}),e._UZ(15,"i",10),e._uU(16,"VP "),e.qZA(),e.TgZ(17,"button",12),e.NdJ("click",function(){return a.redirectDevice()}),e._UZ(18,"i",13),e._uU(19,"RDT "),e.qZA(),e.TgZ(20,"button",14),e.NdJ("click",function(){return a.newParameter()}),e._UZ(21,"i",10),e._uU(22,"Add "),e.qZA()()()()()()(),e.TgZ(23,"div",15)(24,"div",16)(25,"div",17),e.YNc(26,it,4,1,"span",18),e.TgZ(27,"div",19)(28,"div",20)(29,"div",21),e.NdJ("click",function(){return a.goToStep(1)}),e.TgZ(30,"h3",22),e._uU(31,"Parameter Identification"),e.qZA()(),e.TgZ(32,"div",21),e.NdJ("click",function(){return a.goToStep(2)}),e.TgZ(33,"h3",22),e._uU(34,"Schedule Parameter"),e.qZA()(),e.TgZ(35,"div",21),e.NdJ("click",function(){return a.goToStep(3)}),e.TgZ(36,"h3",22),e._uU(37,"Value Mapping"),e.qZA()(),e.TgZ(38,"div",21),e.NdJ("click",function(){return a.goToStep(4)}),e.TgZ(39,"h3",22),e._uU(40,"Scaling"),e.qZA()()(),e.TgZ(41,"form",23)(42,"div",24),e.YNc(43,ot,2,5,"ng-container",25),e.YNc(44,lt,2,6,"ng-container",25),e.YNc(45,nt,2,4,"ng-container",25),e.YNc(46,rt,2,4,"ng-container",25),e.YNc(47,st,2,0,"ng-container",25),e.qZA(),e.TgZ(48,"div",26)(49,"div",27),e.YNc(50,ut,4,0,"ng-container",25),e.YNc(51,ct,4,1,"ng-container",25),e.YNc(52,pt,4,1,"ng-container",25),e.qZA(),e.YNc(53,_t,6,3,"ng-container",25),e.YNc(54,vt,5,3,"ng-container",25),e.qZA()()()()(),e.TgZ(55,"div",28)(56,"div",29)(57,"div",30)(58,"h2",31),e._uU(59,"Parameters List"),e.qZA()(),e.TgZ(60,"div",17)(61,"div",32)(62,"table",33)(63,"thead")(64,"tr")(65,"th"),e._uU(66,"Parameter ID"),e.qZA(),e.TgZ(67,"th"),e._uU(68,"Parameter Label"),e.qZA(),e.TgZ(69,"th"),e._uU(70,"Schedule Label"),e.qZA(),e.TgZ(71,"th",34),e._uU(72,"Actions"),e.qZA()()(),e._UZ(73,"tbody"),e.qZA()()()()(),e.TgZ(74,"div",28)(75,"div",29)(76,"div",30)(77,"h2",31),e._uU(78,"Value mapping List"),e.qZA()(),e.TgZ(79,"div",17)(80,"div",32)(81,"table",35)(82,"thead")(83,"tr")(84,"th"),e._uU(85,"Label"),e.qZA(),e.TgZ(86,"th"),e._uU(87,"Value"),e.qZA(),e.TgZ(88,"th"),e._uU(89,"Actions"),e.qZA()()(),e._UZ(90,"tbody"),e.qZA()()()()(),e.TgZ(91,"div",28)(92,"div",29)(93,"div",30)(94,"h2",31),e._uU(95,"Schedule Parameters List"),e.qZA()(),e.TgZ(96,"div",17)(97,"div",32)(98,"table",36)(99,"thead")(100,"tr")(101,"th"),e._uU(102,"Parameter Name"),e.qZA(),e.TgZ(103,"th"),e._uU(104,"Value Type"),e.qZA(),e.TgZ(105,"th"),e._uU(106,"Actions"),e.qZA()()(),e._UZ(107,"tbody"),e.qZA()()()()(),e.TgZ(108,"div",37)(109,"div",29)(110,"div",30)(111,"h2",31),e._uU(112,"Scaling List"),e.qZA()(),e.TgZ(113,"div",17)(114,"div",32)(115,"table",38)(116,"thead")(117,"tr")(118,"th"),e._uU(119,"Threshold"),e.qZA(),e.TgZ(120,"th"),e._uU(121,"Multiplication Factor"),e.qZA(),e.TgZ(122,"th"),e._uU(123,"Unit"),e.qZA(),e.TgZ(124,"th"),e._uU(125,"Actions"),e.qZA()()(),e._UZ(126,"tbody"),e.qZA()()()()()(),e.TgZ(127,"div",39)(128,"div",40)(129,"div",41)(130,"div",42)(131,"h2",43),e._uU(132,"Mapping Values List"),e.qZA(),e._UZ(133,"button",44),e.qZA(),e.TgZ(134,"div",45)(135,"div",46)(136,"table",47)(137,"thead"),e.YNc(138,ft,23,0,"tr",25),e.YNc(139,bt,21,0,"tr",25),e.qZA()()()()()()(),e.TgZ(140,"div",48)(141,"div",40)(142,"div",41)(143,"div",42)(144,"h2",43),e._uU(145,"Scaling Table List"),e.qZA(),e._UZ(146,"button",44),e.qZA(),e.TgZ(147,"div",45)(148,"div",46)(149,"table",49)(150,"thead"),e.YNc(151,Zt,16,0,"tr",25),e.YNc(152,Tt,13,0,"tr",25),e.qZA()()()()()()(),e.TgZ(153,"ngx-spinner",50)(154,"p",51),e._uU(155,"Please wait your RDT List is Loading... "),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("ngIf",!a.EditOperation),e.xp6(1),e.Q6J("ngIf",a.EditOperation),e.xp6(2),e.Oqu(a.customInit.rdt_id),e.xp6(12),e.Q6J("disabled",1==a.ParametercurrentStep$.value&&0==a.EditOperation),e.xp6(6),e.Q6J("ngIf",a.EditOperation),e.xp6(3),e.Q6J("ngClass",e.WLB(28,J,1===a.ParametercurrentStep$.value,a.ParametercurrentStep$.value>1)),e.xp6(3),e.Q6J("ngClass",e.WLB(31,J,2===a.ParametercurrentStep$.value,a.ParametercurrentStep$.value>2)),e.xp6(3),e.Q6J("ngClass",e.WLB(34,J,3===a.ParametercurrentStep$.value,a.ParametercurrentStep$.value>3)),e.xp6(3),e.Q6J("ngClass",e.WLB(37,J,4===a.ParametercurrentStep$.value,a.ParametercurrentStep$.value>4)),e.xp6(5),e.Q6J("ngIf",1===a.ParametercurrentStep$.value),e.xp6(1),e.Q6J("ngIf",2===a.ParametercurrentStep$.value),e.xp6(1),e.Q6J("ngIf",3===a.ParametercurrentStep$.value),e.xp6(1),e.Q6J("ngIf",4===a.ParametercurrentStep$.value),e.xp6(1),e.Q6J("ngIf",5===a.ParametercurrentStep$.value),e.xp6(3),e.Q6J("ngIf",a.ParametercurrentStep$.value>=2&&!a.EditOperation&&a.ParametercurrentStep$.value<=a.formsCount-1),e.xp6(1),e.Q6J("ngIf",a.ParametercurrentStep$.value<=a.formsCount-1&&a.ParametercurrentStep$.value>=2&&a.EditOperation),e.xp6(1),e.Q6J("ngIf",a.ParametercurrentStep$.value<a.formsCount-1&&a.EditOperation),e.xp6(1),e.Q6J("ngIf",a.ParametercurrentStep$.value!==a.formsCount&&a.ParametercurrentStep$.value<a.formsCount-1),e.xp6(1),e.Q6J("ngIf",a.ParametercurrentStep$.value!==a.formsCount&&a.ParametercurrentStep$.value===a.formsCount-1),e.xp6(1),e.Q6J("hidden",3===a.ParametercurrentStep$.value||4===a.ParametercurrentStep$.value),e.xp6(19),e.Q6J("hidden",3!==a.ParametercurrentStep$.value),e.xp6(17),e.Q6J("hidden",!0),e.xp6(17),e.Q6J("hidden",4!==a.ParametercurrentStep$.value),e.xp6(30),e.Q6J("ngIf",1==a.hideDeleteButton),e.xp6(1),e.Q6J("ngIf",0==a.hideDeleteButton),e.xp6(12),e.Q6J("ngIf",1==a.hideDeleteButton),e.xp6(1),e.Q6J("ngIf",0==a.hideDeleteButton),e.xp6(1),e.Q6J("fullScreen",!0))},dependencies:[A.mk,A.O5,p._Y,p.JL,M._L,N.Ro,p.F,Y,W,G,ee,et],styles:[".btn-light-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:hover, .btn-warning[_ngcontent-%COMP%]:hover, .btn-success[_ngcontent-%COMP%]:hover{transform:translateY(-2px);transition:.5s}.bi-card-list[_ngcontent-%COMP%]{font-size:16px;margin-right:3px;margin-bottom:2px}.bi-plus-lg[_ngcontent-%COMP%]{font-size:16px;margin-left:2px;margin-bottom:2px}a[_ngcontent-%COMP%]{font-size:13px}.fa-chevron-right[_ngcontent-%COMP%]{font-size:11px;margin-bottom:1px}.fa-arrow-left[_ngcontent-%COMP%]{margin-bottom:4%}a.disabled[_ngcontent-%COMP%]{pointer-events:none;color:gray;text-decoration:none;cursor:not-allowed;opacity:.5}.bi-arrow-left-short[_ngcontent-%COMP%]{font-size:22px;margin-bottom:3px;margin-top:1%;padding-right:0}.card[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:10px;overflow:hidden;box-shadow:0 0 10px #0000001a}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:10px 20px;border-bottom:1px solid #ccc;max-width:70%}.card-body[_ngcontent-%COMP%]{padding:20px}.table[_ngcontent-%COMP%]{width:100%;margin-bottom:0;background-color:transparent}.bi-plus-square-fill[_ngcontent-%COMP%]{margin-bottom:1px}.dropdown-menu[_ngcontent-%COMP%]{position:absolute!important;bottom:100%!important;left:0!important}.dropdown-menu[_ngcontent-%COMP%]{background-color:#fff;border:none;box-shadow:0 2px 8px #0000001a;border-radius:5px;padding:0;min-width:120px}.dropdown-item[_ngcontent-%COMP%]{color:#212529;padding:10px 16px;font-weight:400;transition:all .3s ease-in-out;cursor:pointer}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.dropdown-toggle[_ngcontent-%COMP%]{border:none;box-shadow:none;color:#212529}.dropdown-toggle[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:5px}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{margin-right:0}.btn[title][_ngcontent-%COMP%]:hover:after{content:attr(title);position:absolute;background:rgba(0,0,0,.7);color:#fff;padding:5px 10px;border-radius:3px;white-space:nowrap;z-index:1000;top:-30px;left:50%;transform:translate(-50%);opacity:1;transition:opacity .3s}.btn[title][_ngcontent-%COMP%]:after{opacity:0;pointer-events:none}.btn-equal-size[_ngcontent-%COMP%]{min-width:100px}.custom-close-btn[_ngcontent-%COMP%]{color:#fff;background-color:#dc3545;border-color:#dc3545}.custom-close-btn[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}"]})),s})();function yt(o,s){1&o&&(e.TgZ(0,"h2",26),e._uU(1," Add Reading Device Type Configuration "),e.qZA())}function Dt(o,s){1&o&&(e.TgZ(0,"h2",26),e._uU(1," Update Reading Device Type Configuration(RDT) "),e.qZA())}function xt(o,s){1&o&&(e.TgZ(0,"div",12),e._uU(1," RDT Label is required "),e.qZA())}function Ut(o,s){1&o&&(e.TgZ(0,"div",12),e._uU(1," Dashboard Update Time is required "),e.qZA())}function qt(o,s){1&o&&(e.TgZ(0,"div",12),e._uU(1," Device Timeout is required "),e.qZA())}let ae=(()=>{var o;class s{constructor(t,a,i,r){(0,n.Z)(this,"fb",void 0),(0,n.Z)(this,"getDiagnostics",void 0),(0,n.Z)(this,"api",void 0),(0,n.Z)(this,"cd",void 0),(0,n.Z)(this,"updateParentModel",void 0),(0,n.Z)(this,"form",void 0),(0,n.Z)(this,"defaultValues",void 0),(0,n.Z)(this,"editOperation",void 0),(0,n.Z)(this,"hideDeleteButton",void 0),(0,n.Z)(this,"dataChange",new e.vpe),(0,n.Z)(this,"unsubscribe",[]),(0,n.Z)(this,"SK_clientID",void 0),(0,n.Z)(this,"getLoggedUser",void 0),(0,n.Z)(this,"data_temp",void 0),(0,n.Z)(this,"rdtList",[]),(0,n.Z)(this,"rdtLableList",[]),(0,n.Z)(this,"errorForUniqueRDT_id",""),(0,n.Z)(this,"lookup_data_temp1",[]),(0,n.Z)(this,"errorForUniqueRDTLabel_id",""),(0,n.Z)(this,"anyUpdate",!1),this.fb=t,this.getDiagnostics=a,this.api=i,this.cd=r}ngOnChanges(t){t.defaultValues&&t.editOperation&&this.initForm()}ngOnInit(){this.getLoggedUser=this.getDiagnostics.getLoggedUserDetails(),this.SK_clientID=this.getLoggedUser.attributes["custom:clientID"],this.initForm(),this.updateParentModel({},this.checkForm())}initForm(){console.log("Init Data :",C),console.log("Iam entered Properly here :"),this.form=this.fb.group({rdt_id:[this.defaultValues.rdt_id],rdtLabel:[{value:this.defaultValues.rdtLabel,disabled:this.editOperation},[p.kI.required]],updateTime:[this.defaultValues.updateTime,[p.kI.required]],deviceTimeout:[this.defaultValues.deviceTimeout,[p.kI.required]],schedule_type:[this.defaultValues.schedule_type],mxC:[this.defaultValues.mxC],alerts:[this.defaultValues.alerts],parameters_view:[this.defaultValues.parameters_view]}),0==this.hideDeleteButton&&this.form.disable(),this.anyUpdate=!1;const t=this.form.valueChanges.subscribe(a=>{console.log("Iam triggered :"),this.anyUpdate=!0,this.updateParentModel(a,this.checkForm())});this.unsubscribe.push(t),this.rdtLableList=[],this.lookup_data_temp1=[],this.rdtList=[],this.fetchTMData(1),this.dataChange.emit(this.anyUpdate)}checkForm(){return""==this.errorForUniqueRDTLabel_id&&!(this.form.get("rdtLabel")?.hasError("required")||this.form.get("updateTime")?.hasError("required")||this.form.get("deviceTimeout")?.hasError("required"))}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}fetchTMData(t){var a=this;return(0,y.Z)(function*(){console.log("iam trying to fetch",a.SK_clientID);try{const i=yield a.api.GetLookupMasterTable(a.SK_clientID+"#rdt",t);if(console.log("Response is here ",i),i&&i.items)if("string"==typeof i.items){let r=JSON.parse(i.items);if(Array.isArray(r)){for(let c=0;c<r.length;c++){const u=r[c];if(null==u)break;{const m=Object.keys(u)[0],{P1:g,P2:b,P3:Z,P4:T}=u[m];a.lookup_data_temp1.push({P1:g,P2:b,P3:Z,P4:T})}}a.lookup_data_temp1.sort((c,u)=>u.P4-c.P4),yield a.fetchTMData(t+1)}else console.error("Invalid data format - not an array.")}else console.error("response.listOfItems is not a string.");else{console.log("this.lookup_data_temp1 ",a.lookup_data_temp1),a.rdtList=[],a.rdtLableList=[];for(let r=0;r<a.lookup_data_temp1.length;r++)a.rdtList.push(a.lookup_data_temp1[r].P1),a.rdtLableList.push(a.lookup_data_temp1[r].P2);console.log("RDT labels are here ",a.rdtLableList),a.form.get("rdtLabel")?.patchValue(a.defaultValues.rdtLabel)}}catch(i){console.error("Error:",i)}})()}checkUniqueRDTID(t){this.errorForUniqueRDT_id="";for(let a=0;a<this.rdtList.length;a++)t.target.value==this.rdtList[a]&&(this.errorForUniqueRDT_id="RDT ID already exists")}checkUniqueRDTLabel(t){this.errorForUniqueRDTLabel_id="";for(let a=0;a<this.rdtLableList.length;a++)console.log(t.target.value,"-------"),t.target.value.trim().toLowerCase()==this.rdtLableList[a].toLowerCase()?(this.errorForUniqueRDTLabel_id="RDT Label already exists",this.updateParentModel({},this.checkForm())):t.target.value.trim().includes("-")&&(this.errorForUniqueRDTLabel_id="RDT Label should not contain hyhpen(-)",this.updateParentModel({},this.checkForm()))}}return o=s,(0,n.Z)(s,"\u0275fac",function(t){return new(t||o)(e.Y36(p.qu),e.Y36(O.F),e.Y36(V.t),e.Y36(e.sBO))}),(0,n.Z)(s,"\u0275cmp",e.Xpm({type:o,selectors:[["app-step1"]],inputs:{updateParentModel:"updateParentModel",defaultValues:"defaultValues",editOperation:"editOperation",hideDeleteButton:"hideDeleteButton"},outputs:{dataChange:"dataChange"},features:[e.TTD],decls:56,vars:7,consts:[[1,"pb-10","pb-lg-15"],["class","fw-bolder d-flex align-items-center text-dark",4,"ngIf"],[3,"formGroup"],[1,"row","mb-7"],[1,"col",2,"display","none"],[1,"d-flex","align-items-center","fs-6","fw-bold","form-label","mb-2"],[1,"required"],["ngbTooltip","Provide Unique ID",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["formControlName","rdt_id","type","text","placeholder","Enter RDT ID",1,"form-control","form-control-solid"],[1,"col-md-4","md-md-0"],["ngbTooltip","Provide Unique Label",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["formControlName","rdtLabel","type","text","placeholder","Enter RDT Label",1,"form-control","form-control-solid",3,"keyup"],[1,"fv-plugins-message-container","invalid-feedback"],["class","fv-plugins-message-container invalid-feedback",4,"ngIf"],["ngbTooltip","Provide Dashboard Update Time for Reading Device type",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["formControlName","updateTime","type","number","placeholder","Enter Dashboard Update Time","appPreventScroll","",1,"form-control","form-control-solid"],[1,"col-md-4"],["ngbTooltip","Provide the duration after which device gets timeout",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["formControlName","deviceTimeout","type","number","placeholder","Enter Device Time out","appPreventScroll","",1,"form-control","form-control-solid"],[1,"col"],[1,"form-check","form-check-inline","form-check-solid","me-5"],["name","schedule_type","type","checkbox","formControlName","schedule_type",1,"form-check-input"],[1,"fw-bold","ps-2","fc-8"],["name","mxC","type","checkbox","formControlName","mxC",1,"form-check-input"],["name","alerts","type","checkbox","formControlName","alerts",1,"form-check-input"],["name","parameters_view","type","checkbox","formControlName","parameters_view",1,"form-check-input"],[1,"fw-bolder","d-flex","align-items-center","text-dark"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,yt,2,0,"h2",1),e.YNc(2,Dt,2,0,"h2",1),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5)(7,"span",6),e._uU(8,"ID"),e.qZA(),e._UZ(9,"i",7),e.qZA(),e._UZ(10,"input",8),e.qZA(),e.TgZ(11,"div",9)(12,"label",5)(13,"span",6),e._uU(14,"Label"),e.qZA(),e._UZ(15,"i",10),e.qZA(),e.TgZ(16,"input",11),e.NdJ("keyup",function(r){return a.checkUniqueRDTLabel(r)}),e.qZA(),e.TgZ(17,"span",12),e._uU(18),e.qZA(),e.YNc(19,xt,2,0,"div",13),e.qZA(),e.TgZ(20,"div",9)(21,"label",5)(22,"span",6),e._uU(23,"Dashboard Update Time"),e.qZA(),e._UZ(24,"i",14),e.qZA(),e._UZ(25,"input",15),e.YNc(26,Ut,2,0,"div",13),e.qZA(),e.TgZ(27,"div",16)(28,"label",5)(29,"span",6),e._uU(30,"Device Timeout"),e.qZA(),e._UZ(31,"i",17),e.qZA(),e._UZ(32,"input",18),e.YNc(33,qt,2,0,"div",13),e.qZA()(),e.TgZ(34,"div",3)(35,"div",19)(36,"label",20),e._UZ(37,"input",21),e.TgZ(38,"span",22),e._uU(39,"Schedule Type"),e.qZA()()(),e.TgZ(40,"div",19)(41,"label",20),e._UZ(42,"input",23),e.TgZ(43,"span",22),e._uU(44,"mX+C"),e.qZA()()(),e.TgZ(45,"div",19)(46,"label",20),e._UZ(47,"input",24),e.TgZ(48,"span",22),e._uU(49,"Alerts"),e.qZA()()()(),e.TgZ(50,"div",3)(51,"div",19)(52,"label",20),e._UZ(53,"input",25),e.TgZ(54,"span",22),e._uU(55,"Parameters View"),e.qZA()()()()()),2&t){let i,r,c;e.xp6(1),e.Q6J("ngIf",!a.editOperation),e.xp6(1),e.Q6J("ngIf",a.editOperation),e.xp6(1),e.Q6J("formGroup",a.form),e.xp6(15),e.Oqu(a.errorForUniqueRDTLabel_id),e.xp6(1),e.Q6J("ngIf",(null==(i=a.form.get("rdtLabel"))?null:i.hasError("required"))&&(null==(i=a.form.get("rdtLabel"))?null:i.touched)),e.xp6(7),e.Q6J("ngIf",(null==(r=a.form.get("updateTime"))?null:r.hasError("required"))&&(null==(r=a.form.get("updateTime"))?null:r.touched)),e.xp6(7),e.Q6J("ngIf",(null==(c=a.form.get("deviceTimeout"))?null:c.hasError("required"))&&(null==(c=a.form.get("deviceTimeout"))?null:c.touched))}},dependencies:[A.O5,p.Fj,p.wV,p.Wl,p.JJ,p.JL,p.sg,p.u,M._L,L],styles:["input[disabled][_ngcontent-%COMP%]{cursor:not-allowed}"]})),s})();var At=D(36624),St=D(74260);let wt=(()=>{var o;class s{constructor(t){(0,n.Z)(this,"router",void 0),this.router=t}toParameter(){this.router.navigate(["rdt-stepper/parameter"])}}return o=s,(0,n.Z)(s,"\u0275fac",function(t){return new(t||o)(e.Y36(I.F0))}),(0,n.Z)(s,"\u0275cmp",e.Xpm({type:o,selectors:[["app-step5"]],decls:7,vars:0,consts:[[1,"pb-8","pb-lg-10"],[1,"fw-bolder","text-dark"],[1,"fs-5","text-gray-600"],["type","button","onmouseover","this.style.transform='translateY(-2px)'","onmouseout","this.style.transform='translateY(0)'",1,"btn","btn-sm","btn-success","fs-5","fw-bold",2,"transform","translateY(0)","transition","transform 0.2s",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Continue Adding Parameters?"),e.qZA(),e.TgZ(3,"div",2),e._uU(4," Congratulations! Your Reading Device Type has been successfully configured "),e.qZA()(),e.TgZ(5,"button",3),e.NdJ("click",function(){return a.toParameter()}),e._uU(6,"Parameter"),e.qZA())}})),s})();function Pt(o,s){if(1&o){const l=e.EpF();e.ynx(0),e.TgZ(1,"app-step1",42),e.NdJ("dataChange",function(a){e.CHM(l);const i=e.oxw();return e.KtG(i.editDataChanged(a))}),e.qZA(),e.BQk()}if(2&o){const l=e.oxw();e.xp6(1),e.Q6J("updateParentModel",l.updateAccount)("defaultValues",l.account$.value)("editOperation",l.editOperation)("hideDeleteButton",l.hideDeleteButton)}}function It(o,s){1&o&&(e.ynx(0),e._UZ(1,"app-step5",43),e.BQk())}function Mt(o,s){if(1&o){const l=e.EpF();e.ynx(0),e.TgZ(1,"button",44),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.prevStep())}),e._UZ(2,"i",45),e._uU(3," Back "),e.qZA(),e.BQk()}}function kt(o,s){1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o&&(e.xp6(1),e.hij(" Continue "," "," "))}function Ot(o,s){if(1&o){const l=e.EpF();e.ynx(0),e.TgZ(1,"div")(2,"button",46),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.nextStep())}),e.TgZ(3,"span",47),e.YNc(4,kt,2,1,"ng-container",28),e.qZA(),e._UZ(5,"i",48),e.qZA()(),e.BQk()}if(2&o){const l=e.oxw();e.xp6(2),e.Q6J("disabled",!l.isCurrentFormValid$.value),e.xp6(2),e.Q6J("ngIf",l.currentStep$.value<l.formsCount-1)}}function Vt(o,s){1&o&&(e.ynx(0),e._uU(1," Submit "),e.BQk())}function Ft(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(2);return e.KtG(a.submitHelpher())}),e.TgZ(1,"span",47),e.YNc(2,Vt,2,0,"ng-container",28),e.qZA()()}if(2&o){const l=e.oxw(2);e.Q6J("disabled",!l.isCurrentFormValid$.value||0==l.hideDeleteButton),e.xp6(2),e.Q6J("ngIf",l.currentStep$.value===l.formsCount-1)}}function Lt(o,s){1&o&&(e.ynx(0),e._uU(1," Update "),e.BQk())}function Bt(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(2);return a.onUpdate(),e.KtG(a.nextStep())}),e.TgZ(1,"span",47),e.YNc(2,Lt,2,0,"ng-container",28),e.qZA()()}if(2&o){const l=e.oxw(2);e.Q6J("disabled",!l.isCurrentFormValid$.value||0==l.hideDeleteButton),e.xp6(2),e.Q6J("ngIf",l.currentStep$.value===l.formsCount-1)}}function Et(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"div",49),e.YNc(2,Ft,3,2,"button",50),e.YNc(3,Bt,3,2,"ng-template",null,51,e.W1O),e.qZA(),e.BQk()),2&o){const l=e.MAs(4),t=e.oxw();e.xp6(1),e.Q6J("ngbTooltip",t.isCurrentFormValid$.value&&0!=t.hideDeleteButton?"":"Please fill all the Required fields"),e.xp6(1),e.Q6J("ngIf",!t.editOperation)("ngIfElse",l)}}function Nt(o,s){1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"RDT ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"RDT_Label"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Parameters(Total)"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Updated"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Parameters"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Virtual Parameters"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Edit"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Delete"),e.qZA()())}function Rt(o,s){1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"RDT ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"RDT_Label"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Parameters(Total)"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Updated"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Parameters"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Virtual Parameters"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Edit"),e.qZA()())}const Jt=function(o,s){return{current:o,completed:s}},$t=function(o){return{current:o}};let Qt=(()=>{var o;class s{constructor(t,a,i,r,c,u,m,g,b,Z){(0,n.Z)(this,"activatedRoute",void 0),(0,n.Z)(this,"getDiagnostics",void 0),(0,n.Z)(this,"router",void 0),(0,n.Z)(this,"api",void 0),(0,n.Z)(this,"spinner",void 0),(0,n.Z)(this,"toast",void 0),(0,n.Z)(this,"cd",void 0),(0,n.Z)(this,"DynamicApi",void 0),(0,n.Z)(this,"locationPermissionService",void 0),(0,n.Z)(this,"auditTrialServices",void 0),(0,n.Z)(this,"formsCount",2),(0,n.Z)(this,"account$",new S.X(C)),(0,n.Z)(this,"step1Comp",void 0),(0,n.Z)(this,"currentStep$",new S.X(1)),(0,n.Z)(this,"isCurrentFormValid$",new S.X(!1)),(0,n.Z)(this,"unsubscribe",[]),(0,n.Z)(this,"dataform",[]),(0,n.Z)(this,"lookup_data_temp1",[]),(0,n.Z)(this,"SK_clientID",void 0),(0,n.Z)(this,"getLoggedUser",void 0),(0,n.Z)(this,"rdtList",[]),(0,n.Z)(this,"columnDatatable",[]),(0,n.Z)(this,"deviceTableData",[]),(0,n.Z)(this,"alertsDatatable",void 0),(0,n.Z)(this,"temparray",[]),(0,n.Z)(this,"allRDTDetails",void 0),(0,n.Z)(this,"maxlength",500),(0,n.Z)(this,"allPermissions_user",void 0),(0,n.Z)(this,"hideUpdateButton",void 0),(0,n.Z)(this,"editOperation",!1),(0,n.Z)(this,"deleteRDTdata",void 0),(0,n.Z)(this,"lookUpDataArray",void 0),(0,n.Z)(this,"parameterData",[]),(0,n.Z)(this,"anyUpdate",!1),(0,n.Z)(this,"clientID",void 0),(0,n.Z)(this,"routerEventsSubscription",void 0),(0,n.Z)(this,"username",void 0),(0,n.Z)(this,"showAllRDT",!1),(0,n.Z)(this,"rdTableData",[]),(0,n.Z)(this,"locationTree",void 0),(0,n.Z)(this,"lookup_data_user",[]),(0,n.Z)(this,"filteredDevices",[]),(0,n.Z)(this,"cloneRDTOperation",!1),(0,n.Z)(this,"hideDeleteButton",!0),(0,n.Z)(this,"updateAccount",(T,w)=>{const B={...this.account$.value,...T};this.account$.next(B),this.isCurrentFormValid$.next(w)}),this.activatedRoute=t,this.getDiagnostics=a,this.router=i,this.api=r,this.spinner=c,this.toast=u,this.cd=m,this.DynamicApi=g,this.locationPermissionService=b,this.auditTrialServices=Z,this.router.events.subscribe(T=>{T instanceof I.m2&&(console.log("NavigationEnd event in PowerBoard1Component"),this.editOperation=!1,C.rdt_id="",C.rdtLabel="",C.updateTime=1,C.deviceTimeout=15,C.schedule_type=!1,C.mxC=!1,C.parameters=[],C.virtual_parameters=[],C.alerts=!1,C.parameters_view=!1,this.account$.next(C))})}ngOnInit(){var t=this;return(0,y.Z)(function*(){t.getLoggedUser=t.getDiagnostics.getLoggedUserDetails(),t.SK_clientID=t.getLoggedUser.attributes["custom:clientID"],t.clientID=t.getLoggedUser.attributes["custom:clientID"]+"#rdt",t.username=t.getLoggedUser.attributes["custom:username"],t.spinner.show(),t.allPermissions_user=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("permissionDetails")))),yield t.getLocationConfiguration(),yield t.fetchDeviceLookup(1),yield t.getuserConfiguration(),yield t.fetchTMData(1),t.spinner.hide(),t.addFromService(),""!=t.account$.value.rdt_id&&(t.editOperation=!0),t.auditTrialServices.audit_trail("2.1","Reading Device Type","Page Load","RDT Page Loaded",1)})()}nextStep(){const t=this.currentStep$.value+1;t>this.formsCount||this.currentStep$.next(t)}prevStep(){const t=this.currentStep$.value-1;0!==t&&this.currentStep$.next(t)}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}loading(){$("#datatables").DataTable().destroy(),this.dataform=[],console.log("lookup_data_temp1 ",this.lookup_data_temp1),this.getDatatable(this.lookup_data_temp1),this.auditTrialServices.audit_trail("2.1","Reading Device Type","View","RDT Table was Viewed",this.lookup_data_temp1.length)}fetchTMData(t){var a=this;return(0,y.Z)(function*(){console.log("iam trying to fetch",a.clientID);try{const i=yield a.api.GetLookupMasterTable(a.clientID,t);if(i&&i.items)if("string"==typeof i.items){let r=JSON.parse(i.items);if(console.log("d1 =",r),Array.isArray(r)){for(let c=0;c<r.length;c++){const u=r[c];if(null==u)break;{const m=Object.keys(u)[0],{P1:g,P2:b,P3:Z,P4:T}=u[m];a.lookup_data_temp1.push({P1:g,P2:b,P3:Z,P4:T}),console.log("d2 =",a.lookup_data_temp1)}}a.lookup_data_temp1.sort((c,u)=>u.P4-c.P4),console.log("Lookup sorting",a.lookup_data_temp1),yield a.fetchTMData(t+1)}else console.error("Invalid data format - not an array.")}else console.error("response.listOfItems is not a string.");else console.log(),a.showAllRDT||(a.lookup_data_temp1=a.lookup_data_temp1.filter(r=>a.filteredDevices&&1==a.filteredDevices.includes(r.P1))),console.log("RDT to be displayed",a.lookup_data_temp1),a.cd.detectChanges()}catch(i){console.error("Error:",i)}})()}getDatatable(t){let a="btn btn-sm btn-success editdelete ",i="btn btn-sm btn-warning editdelete ",r="btn btn-sm btn-primary editdelete ",c="btn btn-sm btn-danger editdelete ";if(typeof t<"u")for(let g=0;g<t.length;g++)this.dataform.push({rdt_id:t[g].P1,rdtLabel:t[g].P2,parameters:t[g].P3,updatedTime:new Date(1e3*t[g].P4).toLocaleDateString()+" "+new Date(1e3*t[g].P4).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})});else this.dataform=[];let u=[];if(typeof t<"u")for(let g=0;g<t.length;g++)u[g]=new Date(t[g].updatedTime).toLocaleString(),t[g].updatedTime=u[g];else t=[];!0===this.hideDeleteButton?this.columnDatatable.push({defaultContent:"<button class='"+a+"'data-bs-dismiss='modal'>RP</button>"},{defaultContent:"<button class='"+i+"'data-bs-dismiss='modal' >VP</button>"},{defaultContent:"<button class='"+r+"'data-bs-dismiss='modal'><i class='fa fa-edit'></i></i></button>"},{defaultContent:"<button class='"+c+"'><i class='fa fa-trash'></i></button>"}):this.columnDatatable.push({defaultContent:"<button class='"+a+"'data-bs-dismiss='modal'>RP</button>"},{defaultContent:"<button class='"+i+"'data-bs-dismiss='modal' >VP</button>"},{defaultContent:"<button class='"+r+"'data-bs-dismiss='modal'><i class='fa fa-edit'></i></i></button>"}),console.log("columnDatatable",this.columnDatatable),console.log("dataform",this.dataform),$("#datatables").off("click"),$("#datatables").on("click",".editdelete",function(){let g=$(this).closest("tr"),b=m.deviceTableData.row(g);this.className==a&&(this.showUpdateParameterButton=!1,m.showPopup(b.data(),"parameter")),this.className==i&&(this.showUpdateVirtualParameterButton=!1,m.showPopup(b.data(),"virtualparameter")),this.className==c&&m.deleteRDT(b.data()),this.className==r&&m.openModalHelper(b.data())}),this.getLookupTableData(this.dataform,this.columnDatatable),this.addFromService();let m=this}getLookupTableData(t,a){var i=this;return(0,y.Z)(function*(){console.log("chk1 tm",t),console.log("chk2 tm",a);try{i.deviceTableData&&$.fn.DataTable.isDataTable("#datatables")&&i.deviceTableData.destroy(),i.deviceTableData=$("#datatables").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!0,responsive:!0,data:t,ordering:!0,order:[[4,"asc"]],columnDefs:[{type:"date",targets:4}],columns:a})}catch(r){console.error("Error initializing DataTable:",r)}})()}addFromService(){this.columnDatatable=[],this.alertsDatatable=[],this.columnDatatable=[{data:"rdt_id"},{data:"rdtLabel"},{data:"parameters"},{data:"updatedTime"}],this.alertsDatatable=[{data:"alert_datatype"},{data:"alert_variabletype"},{data:"parameterID"},{data:"severity"}],this.checkPermission()}checkPermission(){let t=!1,a=!1;for(let i=0;i<this.allPermissions_user.length;i++)"Reading Device Type - Update"===this.allPermissions_user[i]?t=!0:"Reading Device Type - View"===this.allPermissions_user[i]&&(a=!0);t&&a||t?this.hideDeleteButton=!0:a?this.hideDeleteButton=!1:this.router.navigate(["/404"])}newRDT(){this.cloneRDTOperation=!1,console.log("All the new RDT values ",this.account$.value),this.editOperation=!1,C.rdt_id="",C.rdtLabel="",C.updateTime=1,C.deviceTimeout=15,C.schedule_type=!1,C.mxC=!1,C.alerts=!1,C.parameters_view=!1,C.parameters=[],C.virtual_parameters=[],this.account$.next(C),this.currentStep$.next(1),setTimeout(()=>{this.step1Comp.initForm()},100),this.cd.detectChanges(),console.log("this accow",this.account$.value)}submitHelpher(){this.showAllRDT?(this.nextStep(),this.onSubmit()):h().fire({position:"center",text:"You do not have full permissions to view all RDT. Adding this RDT will not make it visible to you. After adding it, you will need to request access from an admin via email to view it. Do you want to continue?",icon:"warning",allowOutsideClick:!1,confirmButtonText:"Yes, continue",showCancelButton:!0}).then(t=>{t.isConfirmed&&this.onSubmit()}),this.cd.detectChanges()}onSubmit(){var t=this;return(0,y.Z)(function*(){t.nextStep(),t.cd.detectChanges(),console.log("Final packet to be updated is here ",C);const a=t.account$.value;t.allRDTDetails={PK:a.rdtLabel.trim().replace(/ /g,"_"),SK:t.SK_clientID,rdtLabel:a.rdtLabel.trim(),schedule_type:a.schedule_type,reading_device_type_id:a.rdtLabel.trim().replace(/ /g,"_"),updateTime:a.updateTime,deviceTimeout:a.deviceTimeout,mxC:a.mxC,parameters:t.cloneRDTOperation&&C.parameters&&0!=C.parameters.length?C.parameters:[],virtual_parameters:t.cloneRDTOperation&&C.virtual_parameters&&0!=C.virtual_parameters.length?C.virtual_parameters:[],alerts:a.alerts,parameters_view:a.parameters_view,updated:new Date},0==t.allRDTDetails.parameters.length&&(console.log("Type of parameter is ",typeof t.allRDTDetails.parameters),delete t.allRDTDetails.parameters),0==t.allRDTDetails.virtual_parameters.length&&(console.log("Type of parameter is ",typeof t.allRDTDetails.virtual_parameters),delete t.allRDTDetails.virtual_parameters),console.log("after adding RDT",t.allRDTDetails),t.api.CreateReadingDeviceType(t.allRDTDetails).then(function(){var i=(0,y.Z)(function*(r){t.addFromService();let c=t.allRDTDetails.parameters?JSON.parse(t.allRDTDetails.parameters):[],u="...(0)";u=1==c.length?c[0].parameterID:c.length>1?c[0].parameterID+"...("+c.length+")":"...(0)";const m=Math.ceil((new Date).getTime()/1e3),g={P1:t.allRDTDetails.PK,P2:t.allRDTDetails.rdtLabel,P3:u,P4:m};if(r){if(!t.showAllRDT){const Z={type:"rdt_permission",deviceName:t.allRDTDetails.rdtLabel,userName:t.username,clientID:t.SK_clientID};yield t.DynamicApi.sendData(Z).subscribe(T=>{console.log("Response from Lambda:",T),t.toast.open("Mail Sent Successfully"," ",{duration:2e3,horizontalPosition:"right",verticalPosition:"top"})},T=>{console.error("Error:",T)})}yield t.createLookUpRdt(g,1);const b={rdt_id:g.P1,rdtLabel:g.P2,parameters:g.P3,updatedTime:g.P4};return t.auditTrialServices.audit_trail("2.1","Reading Device Type","Create",`New "${g.P2}" RDT Created`,"1"),t.lookup_data_temp1=[],yield t.fetchTMData(1),localStorage.setItem("editInits",JSON.stringify(b)),h().fire({position:"center",text:"New Reading Device Type Configuration Created Successfully",icon:"success",allowOutsideClick:!1})}alert("Error in Creating Reading Device Type Configuration")});return function(r){return i.apply(this,arguments)}}()).catch(i=>{console.log("err for creation",i),t.toast.open("Error in Creating New RDT Configuration ","Check again",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})})})()}editDataChanged(t){console.log("Data coming from step1 :",t),this.anyUpdate=t}createLookUpRdt(t,a){var i=this;return(0,y.Z)(function*(){try{console.log("iam a calleddd dude",t,a);const r=yield i.api.GetLookupMasterTable(i.clientID,a);let c=[];if(null!=r&&r.items&&"string"==typeof r.items&&(c=JSON.parse(r.items)),null!=r&&c.length<i.maxlength){let u=[];r.items&&"string"==typeof r.items&&JSON.parse(r.items).forEach(Z=>{for(const T in Z)Object.prototype.hasOwnProperty.call(Z,T)&&u.push(Z[T])}),u.unshift(t),u=u.map((b,Z)=>({[`L${Z+1}`]:b})),console.log("newdata 11111111 :>> ",u);let m={PK:i.clientID,SK:r.SK,createdTime:"",updatedTime:"",items:JSON.stringify(u)};const g=yield i.api.UpdateLookupMasterTable(m);console.log("createResponse :>> ",g)}else if(null==r){let u=[];u.push(t),u=u.map((b,Z)=>({[`L${Z+1}`]:b}));let m={SK:a,PK:i.clientID,items:JSON.stringify(u)};console.log(m);const g=yield i.api.CreateLookupMasterTable(m);console.log(g)}else yield i.createLookUpRdt(t,a+1)}catch(r){console.log("err :>> ",r)}})()}openModalHelper(t){var a=this;this.cloneRDTOperation=!1,console.log("On Edit Data ",t),console.log("On Edit Data ",typeof t),this.currentStep$.next(1),this.api.GetReadingDeviceType(t.rdt_id,this.SK_clientID).then(function(){var i=(0,y.Z)(function*(r){r&&(console.log("Data that is being coming from db",r),a.onEdit(r,t))});return function(r){return i.apply(this,arguments)}}())}onEdit(t,a){this.lookUpDataArray={},this.lookUpDataArray=a,this.editOperation=!0,C.rdt_id=t.PK,C.rdtLabel=t.rdtLabel,C.deviceTimeout=t.deviceTimeout,C.alerts=t.alerts,C.mxC=t.mxC,C.parameters_view=t.parameters_view,C.reading_device_type_id=t.reading_device_type_id,C.schedule_type=t.schedule_type,C.updateTime=t.updateTime,C.client_id=t.SK,C.parameters=t.parameters,C.updated=t.updated,C.virtual_parameters=t.virtual_parameters,this.parameterData=JSON.parse(t.parameters),this.auditTrialServices.audit_trail("2.1","Reading Device Type","View",`"${t.rdtLabel}" RDT config was viewed`,"1"),this.account$.next(C),this.currentStep$.next(1),this.isCurrentFormValid$.next(!1),setTimeout(()=>{this.step1Comp.initForm()},100),this.cd.detectChanges(),console.log("this accow",this.account$.value)}onUpdate(){var t=this;const a=this.account$.value;this.allRDTDetails={PK:a.rdt_id,SK:this.SK_clientID,rdtLabel:a.rdtLabel,schedule_type:a.schedule_type,reading_device_type_id:a.rdt_id,updateTime:a.updateTime,deviceTimeout:a.deviceTimeout,mxC:a.mxC,alerts:a.alerts,parameters_view:a.parameters_view,updated:new Date},console.log("after Updating RDT",this.allRDTDetails),this.api.UpdateReadingDeviceType(this.allRDTDetails).then(function(){var i=(0,y.Z)(function*(r){t.addFromService();let c=t.parameterData,u="";u=c?1===c.length?c[0].parameterID:c.length>1?c[0].parameterID+"...("+c.length+")":"...(0)":"...(0)";const g=Math.ceil((new Date).getTime()/1e3),b={P1:a.rdt_id,P2:a.rdtLabel,P3:u,P4:g};if(console.log("Items----",b),r)return yield t.fetchTimeMachineById(1,t.allRDTDetails.PK,"update",b),t.lookup_data_temp1=[],t.auditTrialServices.audit_trail("2.1","Reading Device Type","Update",`"${a.rdtLabel}" RDT config updated`,"1"),yield t.fetchTMData(1),localStorage.setItem("editInits",JSON.stringify({rdt_id:b.P1,rdtLabel:b.P2,parameters:b.P3,updatedTime:b.P4})),h().fire({position:"center",text:"Reading Device Type Configuration Updated Successfully",icon:"success",allowOutsideClick:!1});alert("Error in Updating Reading Device Type Configuration")});return function(r){return i.apply(this,arguments)}}()).catch(i=>{console.log("err for creation",i),this.toast.open("Error in Updating New RDT Configuration ","Check again",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})})}fetchTimeMachineById(t,a,i,r){var c=this;return(0,y.Z)(function*(){try{const u=yield c.api.GetLookupMasterTable(c.clientID,t);if(u&&u.items){let m=yield JSON.parse(u.items),g=m.findIndex(b=>b[Object.keys(b)[0]].P1===a);if(-1!==g){if("update"===i){m[g][`L${g+1}`]=r;const Z=[];for(let T=0;T<m.length;T++){const w=Object.keys(m[T])[0],P=`L${T+1}`;if(w){const B={[P]:m[T][w]},F=Z.findIndex(R=>Object.keys(R)[0]===P);-1!==F?Object.assign(Z[F][P],m[T][w]):Z.push(B)}else console.error(`Original key not found for renaming in data[${T}].`)}m=Z}else"delete"===i&&m.splice(g,1);let b={PK:c.clientID,SK:u.SK,items:JSON.stringify(m)};yield c.api.UpdateLookupMasterTable(b)}else yield new Promise(b=>setTimeout(b,500)),yield c.fetchTimeMachineById(t+1,a,i,r)}else h().fire({position:"top-right",icon:"error",title:`ID ${a} not found`,showConfirmButton:!1,timer:1500})}catch(u){console.error("Error:",u)}})()}deleteRDT(t){var a=this;this.deleteRDTdata=t;const i={PK:this.deleteRDTdata.rdt_id,SK:this.SK_clientID};console.log(i);let r=t.rdt_id,c=[t.rdt_id,t.rdtLabel,t.parameter,Math.ceil((new Date).getTime()/1e3)];h().fire({position:"center",title:"Are you sure?",text:"You wont get these details back again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, let me think"}).then(u=>{u.dismiss!==h().DismissReason.cancel?this.api.DeleteReadingDeviceType(i).then(function(){var m=(0,y.Z)(function*(g){a.addFromService(),g?(yield a.fetchTimeMachineById(1,r,"delete",c),a.newRDT(),a.lookup_data_temp1=[],yield a.fetchTMData(1),a.loading(),a.auditTrialServices.audit_trail("2.1","Reading Device Type","Delete",`"${g.rdtLabel}" RDT config deleted`,"1"),console.log("confirmButtonText",g),h().fire("Removed!","RDT Removed Successfully.","success")):console.log("Value Not Collected :")});return function(g){return m.apply(this,arguments)}}()).catch(m=>{console.log("error for deleting",m)}):u.dismiss===h().DismissReason.cancel&&h().fire("Cancelled","RDT Not Removed","error")})}showPopup(t,a){"parameter"==String(a)?(console.log("From the Parameters :",t),localStorage.setItem("editInits",JSON.stringify(t)),this.router.navigate(["rdt-stepper/parameter"])):(console.log("From the Parameters :",t),localStorage.setItem("viInits",JSON.stringify(t)),this.router.navigate(["rdt-stepper/virtual-parameter"]))}toParameter(){console.log("Lookup data to be showed are :",this.lookup_data_temp1);const t=this.lookup_data_temp1.find(i=>i.P1===this.account$.value.rdt_id);console.log("Final Object",t);let a={};a={rdt_id:t.P1,rdtLabel:t.P2,parameters:t.P3,updatedTime:new Date(1e3*t.P4).toDateString()+" "+new Date(1e3*t.P4).toLocaleTimeString()},this.showPopup(a,"parameter")}toVirtualParameter(){const t=this.lookup_data_temp1.find(i=>i.P1===this.account$.value.rdt_id);let a={};a={rdt_id:t.P1,rdtLabel:t.P2,parameters:t.P3,updatedTime:new Date(1e3*t.P4).toDateString()+" "+new Date(1e3*t.P4).toLocaleTimeString()},this.showPopup(a,"virtualparameter")}getuserConfiguration(){var t=this;return(0,y.Z)(function*(){console.log("We will get the user configuration now ",t.username);try{const a=yield t.api.GetUserManagement(t.username,t.SK_clientID);a&&(console.log("Fetched user is here",a),Array.isArray(a.device_permission)&&1==a.device_permission.length&&"All"==a.device_permission[0]&&1==a.device_permission.length&&a.location_permission&&"All"==a.location_permission[0]&&a.device_type_permission&&"All"==a.device_type_permission[0]?t.showAllRDT=!0:t.rdTableData=t.locationTree,console.log("All the RDT to be displayed are here ",t.rdTableData))}catch(a){console.log("Error fetching user Configuration",a)}})()}getLocationConfiguration(){var t=this;return(0,y.Z)(function*(){try{const a=yield t.locationPermissionService.fetchGlobalLocationTree();if(!a)throw h().fire({title:"Tree is undefined "}),new Error("No data returned");if(console.log("Data from location:",a),a)try{if(Array.isArray(a)){let i=a.filter(r=>"device"===r.node_type);t.locationTree=i.map(r=>r.mn)}else console.error("Parsed tree is not an array")}catch(i){console.error("Error parsing JSON",i)}}catch(a){console.error("Error fetching location configuration",a)}})()}fetchDeviceLookup(t){var a=this;return(0,y.Z)(function*(){console.log("Iam called Bro");try{const i=yield a.api.GetLookupMasterTable(a.SK_clientID+"#device",t);if(i&&i.items)if("string"==typeof i.items){let r=JSON.parse(i.items);if(console.log("d1 =",r),Array.isArray(r)){for(let c=0;c<r.length;c++){const u=r[c];if(null==u)break;{const m=Object.keys(u)[0],{P1:g,P2:b,P3:Z,P4:T,P5:w,P6:P,P7:B,P8:F}=u[m];a.lookup_data_user.push({P1:g,P2:b,P3:Z,P4:T,P5:w,P6:P,P7:B,P8:F})}}a.lookup_data_user.sort((c,u)=>u.P5-c.P5),console.log("Lookup sorting",a.lookup_data_user),yield a.fetchDeviceLookup(t+1)}else console.error("Invalid data format - not an array.")}else console.error("response.listOfItems is not a string.");else console.log(),console.log("Devices from the Lookup to be displayed",a.lookup_data_user),a.filteredDevices=a.lookup_data_user.filter(r=>a.locationTree&&1==a.locationTree.includes(r.P1)),a.filteredDevices=Array.from(new Set(a.filteredDevices.map(r=>r.P3))),console.log("Filtered RDT are here ",a.filteredDevices)}catch(i){console.error("Error:",i)}})()}copyConfig(){console.log("All the data is here ",C),this.cloneRDTOperation=!0,this.editOperation=!1,C.rdt_id="",C.rdtLabel="",this.isCurrentFormValid$.next(!1),this.account$.next(C),this.currentStep$.next(1),this.toast.open("RDT Configuration Cloned Successfully"," ",{duration:2e3,verticalPosition:"bottom"})}}return o=s,(0,n.Z)(s,"\u0275fac",function(t){return new(t||o)(e.Y36(I.gz),e.Y36(O.F),e.Y36(I.F0),e.Y36(V.t),e.Y36(N.t2),e.Y36(E.ux),e.Y36(e.sBO),e.Y36(At.y),e.Y36(St.G),e.Y36(X.C))}),(0,n.Z)(s,"\u0275cmp",e.Xpm({type:o,selectors:[["app-vertical"]],viewQuery:function(t,a){if(1&t&&e.Gf(ae,5),2&t){let i;e.iGM(i=e.CRH())&&(a.step1Comp=i.first)}},decls:73,vars:19,consts:[[1,"app-container"],[1,"page-title",2,"padding-top","1%","padding-bottom","1%","display","flex","align-items","center","justify-content","space-between"],[1,"page-heading","text-gray-900","fw-bold","fs-3","mb-3","mb-lg-0"],[1,"d-flex","flex-wrap","flex-end"],["type","button","ngbTooltip","Copy Configuration of Selected RDT","placement","bottom",1,"btn","btn-sm","fw-bold","me-2","mb-2","mb-lg-0","btn-equal-size","custom-primary",3,"disabled","click"],[1,"fa-regular","fa-copy","fs-4","text-white"],["type","button","ngbTooltip","Add Reading Parameters","placement","bottom",1,"btn","btn-sm","fw-bold","btn-success","me-2","mb-2","mb-lg-0","btn-equal-size",3,"disabled","click"],[1,"bi","bi-plus-square-fill","fs-4","text-white"],["type","button","ngbTooltip","Add Reading Virtual Parameters","placement","bottom",1,"btn","btn-sm","fw-bold","btn-warning","me-2","mb-2","mb-lg-0","btn-equal-size",3,"disabled","click"],["type","button","ngbTooltip","Add New Reading Device Type","placement","bottom",1,"btn","btn-sm","fw-bold","btn-primary","me-2","mb-2","mb-lg-0","btn-equal-size",3,"disabled","click"],["type","button","data-bs-toggle","modal","data-bs-target","#open_lookup_rdt","ngbTooltip","Show Reading Device Type List","placement","bottom",1,"btn","btn-sm","fw-bold","btn-dark","btn-equal-size",3,"click"],[1,"bi","bi-card-list","fs-4"],["id","kt_create_account_stepper",1,"stepper","stepper-pills","stepper-column","d-flex","flex-column","flex-xl-row","flex-row-fluid"],[1,"card","d-flex","justify-content-center","justify-content-xl-start","flex-row-auto","w-100","w-xl-300px","w-xxl-400px","me-9"],[1,"card-body","px-6","px-lg-10","px-xxl-15","py-20"],[1,"stepper-nav"],[1,"stepper-item",3,"ngClass"],[1,"stepper-wrapper"],[1,"stepper-icon","w-40px","h-40px"],[1,"stepper-check","fas","fa-check"],[1,"stepper-number"],[1,"stepper-label"],[1,"stepper-title"],[1,"stepper-desc","fw-semibold"],[1,"stepper-line","h-40px"],[1,"d-flex","flex-row-fluid","flex-center","bg-body","rounded"],["noValidate","","id","kt_create_account_form",1,"py-20","w-100","px-9"],[1,"current"],[4,"ngIf"],[1,"d-flex","flex-stack","pt-10"],[1,"mr-2"],["id","open_lookup_rdt","tabindex","-1","aria-labelledby","","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","custom-close-btn"],[1,"modal-body"],[1,"table-responsive"],["id","datatables",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],[1,"w-100",3,"updateParentModel","defaultValues","editOperation","hideDeleteButton","dataChange"],[1,"w-100"],["type","button",1,"btn","fw-bold","btn-lg","btn-light-primary","me-3",3,"click"],[1,"fa-solid","fa-arrow-left"],["type","button",1,"btn","fw-bold","btn-lg","btn-primary","me-3","me-3","d-flex",3,"disabled","click"],[1,"indicator-label"],[1,"fa-solid","fa-chevron-right"],["placement","bottom",3,"ngbTooltip"],["type","button","class","btn fw-bold btn-lg btn-primary me-3",3,"disabled","click",4,"ngIf","ngIfElse"],["other_btn",""],["type","button",1,"btn","fw-bold","btn-lg","btn-primary","me-3",3,"disabled","click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Reading Device Type Configuration"),e.qZA(),e.TgZ(4,"div",3)(5,"button",4),e.NdJ("click",function(){return a.copyConfig()}),e._UZ(6,"i",5),e._uU(7,"Clone RDT "),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return a.toParameter()}),e._UZ(9,"i",7),e._uU(10,"RP "),e.qZA(),e.TgZ(11,"button",8),e.NdJ("click",function(){return a.toVirtualParameter()}),e._UZ(12,"i",7),e._uU(13,"VP "),e.qZA(),e.TgZ(14,"button",9),e.NdJ("click",function(){return a.newRDT()}),e._UZ(15,"i",7),e._uU(16,"Add "),e.qZA(),e.TgZ(17,"button",10),e.NdJ("click",function(){return a.loading()}),e._UZ(18,"i",11),e._uU(19,"Show RDTs "),e.qZA()()()(),e.TgZ(20,"div",12)(21,"div",13)(22,"div",14)(23,"div",15)(24,"div",16)(25,"div",17)(26,"div",18),e._UZ(27,"i",19),e.TgZ(28,"span",20),e._uU(29,"1"),e.qZA()(),e.TgZ(30,"div",21)(31,"h3",22),e._uU(32," Reading Device Identification "),e.qZA(),e.TgZ(33,"div",23),e._uU(34," Add RDT ID and RDT Label "),e.qZA()()(),e._UZ(35,"div",24),e.qZA(),e.TgZ(36,"div",16)(37,"div",17)(38,"div",18),e._UZ(39,"i",19),e.TgZ(40,"span",20),e._uU(41,"2"),e.qZA()(),e.TgZ(42,"div",21)(43,"h3",22),e._uU(44," Completed "),e.qZA(),e.TgZ(45,"div",23),e._uU(46," Woah, we are here "),e.qZA()()()()()()(),e.TgZ(47,"div",25)(48,"form",26)(49,"div",27),e.YNc(50,Pt,2,4,"ng-container",28),e.YNc(51,It,2,0,"ng-container",28),e.qZA(),e.TgZ(52,"div",29)(53,"div",30),e.YNc(54,Mt,4,0,"ng-container",28),e.qZA(),e.YNc(55,Ot,6,2,"ng-container",28),e.YNc(56,Et,5,3,"ng-container",28),e.qZA()()()(),e.TgZ(57,"div",31)(58,"div",32)(59,"div",33)(60,"div",34)(61,"h2",35),e._uU(62,"Reading Device Type List"),e.qZA(),e._UZ(63,"button",36),e.qZA(),e.TgZ(64,"div",37)(65,"div",38)(66,"table",39)(67,"thead"),e.YNc(68,Nt,17,0,"tr",28),e.YNc(69,Rt,15,0,"tr",28),e.qZA()()()()()()(),e.TgZ(70,"ngx-spinner",40)(71,"p",41),e._uU(72,"Loading\u2026 please enjoy this virtual cup of coffee! \u2615 "),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("disabled",!a.editOperation),e.xp6(3),e.Q6J("disabled",!a.editOperation),e.xp6(3),e.Q6J("disabled",!a.editOperation),e.xp6(3),e.Q6J("disabled",1===a.currentStep$.value&&0==a.editOperation),e.xp6(10),e.Q6J("ngClass",e.WLB(14,Jt,1===a.currentStep$.value,a.currentStep$.value>1)),e.xp6(12),e.Q6J("ngClass",e.VKq(17,$t,2===a.currentStep$.value)),e.xp6(14),e.Q6J("ngIf",1===a.currentStep$.value),e.xp6(1),e.Q6J("ngIf",2===a.currentStep$.value),e.xp6(3),e.Q6J("ngIf",1!==a.currentStep$.value&&a.currentStep$.value!==a.formsCount),e.xp6(1),e.Q6J("ngIf",a.currentStep$.value!==a.formsCount&&a.currentStep$.value<a.formsCount-1),e.xp6(1),e.Q6J("ngIf",a.currentStep$.value!==a.formsCount&&a.currentStep$.value===a.formsCount-1),e.xp6(12),e.Q6J("ngIf",!0===a.hideDeleteButton),e.xp6(1),e.Q6J("ngIf",!1===a.hideDeleteButton),e.xp6(1),e.Q6J("fullScreen",!0))},dependencies:[A.mk,A.O5,p._Y,p.JL,M._L,N.Ro,p.F,ae,wt],styles:[".btn-light-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:hover, .btn-warning[_ngcontent-%COMP%]:hover, .btn-success[_ngcontent-%COMP%]:hover{transform:translateY(-2px);transition:.5s}.bi-card-list[_ngcontent-%COMP%], .bi-plus-square-fill[_ngcontent-%COMP%]{margin-bottom:1px}a[_ngcontent-%COMP%]{font-size:13px}.fa-chevron-right[_ngcontent-%COMP%]{font-size:11px;margin-top:6px;margin-left:6%}.fa-arrow-left[_ngcontent-%COMP%]{margin-bottom:4%}.card[_ngcontent-%COMP%]{margin-bottom:30px;margin-left:30px;margin-right:30px;border:1px solid #dee2e6;border-radius:10px}.rounded[_ngcontent-%COMP%]{margin-bottom:30px;margin-right:30px;border:1px solid #dee2e6;border-radius:10px}.card[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-radius:10px;padding:20px}@media (max-width: 1200px){.card[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 576px){.card[_ngcontent-%COMP%]{margin-right:0;margin-left:0}}.btn-equal-size[_ngcontent-%COMP%]{min-width:100px}.custom-close-btn[_ngcontent-%COMP%]{color:#fff;background-color:#dc3545;border-color:#dc3545}.custom-close-btn[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.btn-dark[_ngcontent-%COMP%]:hover{transform:translateY(-2px);transition:.5s}.custom-primary[_ngcontent-%COMP%]{background-color:#ff6f1e;color:#fff}.custom-primary[_ngcontent-%COMP%]:hover{background-color:#ff6f1e;color:#fff;opacity:1;transform:translateY(-2px);transition:.5s}"]})),s})(),Yt=(()=>{var o;class s{}return o=s,(0,n.Z)(s,"\u0275fac",function(t){return new(t||o)}),(0,n.Z)(s,"\u0275cmp",e.Xpm({type:o,selectors:[["app-rdt-stepper"]],decls:1,vars:0,template:function(t,a){1&t&&e._UZ(0,"router-outlet")},dependencies:[I.lC]})),s})();function zt(o,s){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const l=e.oxw();e.xp6(1),e.hij(" ",l.errorForUniqueParameter_id," ")}}function Xt(o,s){1&o&&(e.TgZ(0,"div"),e._uU(1," Virtual Parameter ID is required "),e.qZA())}function Ht(o,s){if(1&o&&e.YNc(0,Xt,2,0,"div",22),2&o){const l=e.oxw();let t;e.Q6J("ngIf",(null==(t=l.form.get("v_parameterID"))?null:t.hasError("required"))&&(null==(t=l.form.get("v_parameterID"))?null:t.touched))}}function Kt(o,s){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const l=e.oxw();e.xp6(1),e.hij(" ",l.errorForUniqueParameter_label," ")}}function Gt(o,s){1&o&&(e.TgZ(0,"div"),e._uU(1," Virtual Parameter Label is required "),e.qZA())}function jt(o,s){if(1&o&&e.YNc(0,Gt,2,0,"div",22),2&o){const l=e.oxw();let t;e.Q6J("ngIf",(null==(t=l.form.get("v_parameterLabel"))?null:t.hasError("required"))&&(null==(t=l.form.get("v_parameterLabel"))?null:t.touched))}}function Wt(o,s){1&o&&(e.TgZ(0,"div",6),e._uU(1," Decimal Point is required "),e.qZA())}function ea(o,s){1&o&&(e.TgZ(0,"div",6),e._uU(1," Invalid format. Enter a valid decimal number. "),e.qZA())}function ta(o,s){1&o&&(e.TgZ(0,"div",6),e._uU(1," Invalid format. Enter a valid decimal number. "),e.qZA())}let H=(()=>{var o;class s{constructor(t,a,i,r){(0,n.Z)(this,"fb",void 0),(0,n.Z)(this,"getPowerBoard",void 0),(0,n.Z)(this,"api",void 0),(0,n.Z)(this,"cd",void 0),(0,n.Z)(this,"updateParentModel",void 0),(0,n.Z)(this,"form",void 0),(0,n.Z)(this,"parameterData",[]),(0,n.Z)(this,"hideDeleteButton",void 0),(0,n.Z)(this,"defaultValues",void 0),(0,n.Z)(this,"EditOperation",void 0),(0,n.Z)(this,"unsubscribe",[]),(0,n.Z)(this,"errorForUniqueParameter_id",""),(0,n.Z)(this,"errorForUniqueParameter_label",""),(0,n.Z)(this,"lookup_data_temp1",[]),(0,n.Z)(this,"getLoggedUser",void 0),(0,n.Z)(this,"SK_clientID",void 0),(0,n.Z)(this,"myValue",void 0),this.fb=t,this.getPowerBoard=a,this.api=i,this.cd=r}ngOnChanges(t){t.defaultValues&&(console.log("Step 1 On changes All inits ",d),this.initForm())}ngOnInit(){this.getLoggedUser=this.getPowerBoard.getLoggedUserDetails(),this.SK_clientID=this.getLoggedUser.attributes["custom:clientID"],this.initForm(),this.updateParentModel({},this.checkForm())}initForm(){console.log("Step 1 All inits ",d),this.form=this.fb.group({v_parameterID:[{value:this.defaultValues.v_parameterID,disabled:this.EditOperation},[p.kI.required]],v_parameterLabel:[this.defaultValues.v_parameterLabel,[p.kI.required]],v_parameterDescription:[this.defaultValues.v_parameterDescription],v_decimalPoint:[this.defaultValues.v_decimalPoint,[p.kI.required]],v_mX_C_X_Multiplication_Factor:[this.defaultValues.v_mX_C_X_Multiplication_Factor,[p.kI.required,p.kI.pattern(/^\d*(\.\d+)?$/)]],v_mX_C_C_Correction_Factor:[this.defaultValues.v_mX_C_C_Correction_Factor,[p.kI.required,p.kI.pattern(/^\d*(\.\d+)?$/)]],virtual_equation_textarea:[this.defaultValues.virtual_equation_textarea],tempInput:[""]}),0==this.hideDeleteButton&&this.form.disable();const t=this.form.valueChanges.subscribe(a=>{this.updateParentModel(a,(""==this.errorForUniqueParameter_id&&""==this.errorForUniqueParameter_label||0!=this.EditOperation)&&this.checkForm())});this.unsubscribe.push(t),this.cd.detectChanges()}checkForm(){return!(this.form.get("v_parameterID")?.hasError("required")||this.form.get("v_parameterLabel")?.hasError("required")||this.form.get("v_decimalPoint")?.hasError("required")||this.form.get("v_mX_C_X_Multiplication_Factor")?.hasError("required")||this.form.get("v_mX_C_C_Correction_Factor")?.hasError("required")||this.form.get("v_mX_C_X_Multiplication_Factor")?.hasError("pattern")||this.form.get("v_mX_C_C_Correction_Factor")?.hasError("pattern"))}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}checkforParameterID(t){if(this.parameterData){this.errorForUniqueParameter_id="";for(let a=0;a<this.parameterData.length;a++){if(console.log(t.target.value,"-------"),t.target.value.trim()==this.parameterData[a].v_parameterID){this.errorForUniqueParameter_id="Virtual Parameter ID already exists",this.updateParentModel({},!1);break}""==this.errorForUniqueParameter_label&&this.updateParentModel({},this.checkForm())}}}checkforParameterLabel(t){if(this.errorForUniqueParameter_label="",this.parameterData)for(let a=0;a<this.parameterData.length;a++){if(console.log(t.target.value,"-------"),t.target.value.trim()==this.parameterData[a].v_parameterLabel&&d.v_parameterLabel!=t.target.value.trim()){this.errorForUniqueParameter_label="Virtual Parameter Label already exists",this.updateParentModel({},!1);break}""==this.errorForUniqueParameter_id&&this.updateParentModel({},this.checkForm())}}}return o=s,(0,n.Z)(s,"\u0275fac",function(t){return new(t||o)(e.Y36(p.qu),e.Y36(O.F),e.Y36(V.t),e.Y36(e.sBO))}),(0,n.Z)(s,"\u0275cmp",e.Xpm({type:o,selectors:[["app-vi-step1"]],inputs:{updateParentModel:"updateParentModel",parameterData:"parameterData",hideDeleteButton:"hideDeleteButton",defaultValues:"defaultValues",EditOperation:"EditOperation"},features:[e.TTD],decls:54,vars:8,consts:[[3,"formGroup"],[1,"row","mb-7"],[1,"col-md-4","mb-md-0"],[1,"d-flex","align-items-center","fs-6","fw-bold","form-label","mb-2"],[1,"required"],["type","text","name","v_parameterID","formControlName","v_parameterID","placeholder","Enter V.Parameter ID","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"keyup"],[1,"fv-plugins-message-container","invalid-feedback"],[4,"ngIf","ngIfElse"],["defaultErrorMessagerparameter",""],["type","text","name","v_parameterLabel","formControlName","v_parameterLabel","placeholder","Enter Parameter Label","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"keyup"],["defaultErrorMessagerparameterLabel",""],[1,"col-md-4"],["type","text","name","v_parameterDescription","formControlName","v_parameterDescription","placeholder","Enter V.Parameter Description","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["ngbTooltip","Enter Decimal Point",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["type","number","name","v_decimalPoint","formControlName","v_decimalPoint","placeholder","Enter Decimal Point","required","","appPreventScroll","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["class","fv-plugins-message-container invalid-feedback",4,"ngIf"],["ngbTooltip","Enter Multiplication Factor",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["type","text","name","v_mX_C_X_Multiplication_Factor","formControlName","v_mX_C_X_Multiplication_Factor","placeholder","Enter Multiplication Factor","required","","appPreventScroll","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["ngbTooltip","Enter Correction Factor",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["type","text","pattern","^\\d*(\\.\\d+)?$","name","v_mX_C_C_Correction_Factor","formControlName","v_mX_C_C_Correction_Factor","placeholder","Enter Correction Factor","required","","appPreventScroll","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["ngbTooltip","Enter Virtual Equation",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["placeholder","Enter Equation","formControlName","virtual_equation_textarea",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",2,"height","10px"],[4,"ngIf"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3)(4,"span",4),e._uU(5,"V.Parameter ID"),e.qZA()(),e.TgZ(6,"input",5),e.NdJ("keyup",function(r){return a.checkforParameterID(r)}),e.qZA(),e.TgZ(7,"div",6),e.YNc(8,zt,2,1,"ng-container",7),e.YNc(9,Ht,1,1,"ng-template",null,8,e.W1O),e.qZA()(),e.TgZ(11,"div",2)(12,"label",3)(13,"span",4),e._uU(14,"Parameter Label"),e.qZA()(),e.TgZ(15,"input",9),e.NdJ("keyup",function(r){return a.checkforParameterLabel(r)}),e.qZA(),e.TgZ(16,"div",6),e.YNc(17,Kt,2,1,"ng-container",7),e.YNc(18,jt,1,1,"ng-template",null,10,e.W1O),e.qZA()(),e.TgZ(20,"div",11)(21,"label",3)(22,"span"),e._uU(23,"V.Parameter Description"),e.qZA()(),e._UZ(24,"input",12),e.qZA()(),e.TgZ(25,"div",1)(26,"div",2)(27,"label",3)(28,"span",4),e._uU(29,"Decimal Point"),e.qZA(),e._UZ(30,"i",13),e.qZA(),e._UZ(31,"input",14),e.YNc(32,Wt,2,0,"div",15),e.qZA(),e.TgZ(33,"div",2)(34,"label",3)(35,"span",4),e._uU(36,"Multi. Factor(mx+c)"),e.qZA(),e._UZ(37,"i",16),e.qZA(),e._UZ(38,"input",17),e.YNc(39,ea,2,0,"div",15),e.qZA(),e.TgZ(40,"div",11)(41,"label",3)(42,"span",4),e._uU(43,"Correction Factor(mx+c)"),e.qZA(),e._UZ(44,"i",18),e.qZA(),e._UZ(45,"input",19),e.YNc(46,ta,2,0,"div",15),e.qZA()(),e.TgZ(47,"div",1)(48,"div",11)(49,"label",3)(50,"span"),e._uU(51,"Virtual Equation"),e.qZA(),e._UZ(52,"i",20),e.qZA(),e._UZ(53,"textarea",21),e.qZA()()()),2&t){const i=e.MAs(10),r=e.MAs(19);let c,u,m;e.Q6J("formGroup",a.form),e.xp6(8),e.Q6J("ngIf",""!==a.errorForUniqueParameter_id)("ngIfElse",i),e.xp6(9),e.Q6J("ngIf",""!==a.errorForUniqueParameter_label)("ngIfElse",r),e.xp6(15),e.Q6J("ngIf",(null==(c=a.form.get("v_decimalPoint"))?null:c.hasError("required"))&&(null==(c=a.form.get("v_decimalPoint"))?null:c.touched)),e.xp6(7),e.Q6J("ngIf",(null==(u=a.form.get("v_mX_C_X_Multiplication_Factor"))?null:u.hasError("pattern"))&&(null==(u=a.form.get("v_mX_C_X_Multiplication_Factor"))?null:u.touched)),e.xp6(7),e.Q6J("ngIf",(null==(m=a.form.get("v_mX_C_C_Correction_Factor"))?null:m.hasError("pattern"))&&(null==(m=a.form.get("v_mX_C_C_Correction_Factor"))?null:m.touched))}},dependencies:[A.O5,p.Fj,p.wV,p.JJ,p.JL,p.Q7,p.c5,p.sg,p.u,M._L,L],styles:["input[disabled][_ngcontent-%COMP%]{cursor:not-allowed}"]})),s})();function aa(o,s){1&o&&(e.TgZ(0,"div",1)(1,"span",8),e._uU(2,"Enable this checkbox to schedule your consumption on an hourly, daily, and monthly basis. Once enabled, input fields will be populated for specifying your desired schedule preferences. "),e.qZA()())}function ia(o,s){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const l=e.oxw(2);e.xp6(1),e.hij(" ",l.errorForUniqueSchedule," ")}}function oa(o,s){1&o&&(e.TgZ(0,"div"),e._uU(1," Schedule Parameter is required "),e.qZA())}function la(o,s){if(1&o&&e.YNc(0,oa,2,0,"div",18),2&o){const l=e.oxw(2);let t;e.Q6J("ngIf",(null==(t=l.form.get("v_schedule_parameter_name"))?null:t.hasError("required"))&&(null==(t=l.form.get("v_schedule_parameter_name"))?null:t.touched))}}function na(o,s){1&o&&(e.TgZ(0,"div",12),e._uU(1," Schedule Parameter Label is required "),e.qZA())}function ra(o,s){1&o&&(e.TgZ(0,"div",12),e._uU(1," Schedule Max Value is required "),e.qZA())}function sa(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",1)(1,"div",9)(2,"label",10),e._uU(3," Schedule Parameter Name"),e.qZA(),e.TgZ(4,"input",11),e.NdJ("keyup",function(a){e.CHM(l);const i=e.oxw();return e.KtG(i.checkforSchedule(a))}),e.qZA(),e.TgZ(5,"div",12),e.YNc(6,ia,2,1,"ng-container",13),e.YNc(7,la,1,1,"ng-template",null,14,e.W1O),e.qZA()(),e.TgZ(9,"div",9)(10,"label",10),e._uU(11," Schedule Parameter Label"),e.qZA(),e._UZ(12,"input",15),e.YNc(13,na,2,0,"div",16),e.qZA(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16," Max Value"),e.qZA(),e._UZ(17,"input",17),e.YNc(18,ra,2,0,"div",16),e.qZA()()}if(2&o){const l=e.MAs(8),t=e.oxw();let a,i;e.xp6(6),e.Q6J("ngIf",""!==t.errorForUniqueSchedule)("ngIfElse",l),e.xp6(7),e.Q6J("ngIf",(null==(a=t.form.get("v_schedule_parameter_label"))?null:a.hasError("required"))&&(null==(a=t.form.get("v_schedule_parameter_label"))?null:a.touched)),e.xp6(5),e.Q6J("ngIf",(null==(i=t.form.get("v_schedule_max"))?null:i.hasError("required"))&&(null==(i=t.form.get("v_schedule_max"))?null:i.touched))}}function ua(o,s){1&o&&(e.TgZ(0,"div",12),e._uU(1," Schedule Value Type is required "),e.qZA())}function ca(o,s){1&o&&(e.TgZ(0,"div",9)(1,"label",10),e._uU(2," Operation Type"),e.qZA(),e.TgZ(3,"select",33)(4,"option",21),e._uU(5,"Select Operation Type "),e.qZA(),e.TgZ(6,"option",34),e._uU(7,"Normal"),e.qZA(),e.TgZ(8,"option",35),e._uU(9,"Zero Roll Over"),e.qZA()()()),2&o&&(e.xp6(4),e.Q6J("selected",!0))}function pa(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",1)(1,"div",19)(2,"label",10),e._uU(3,"Value Type"),e.qZA(),e.TgZ(4,"select",20),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.changeValueType())}),e.TgZ(5,"option",21),e._uU(6,"Select Value Type "),e.qZA(),e.TgZ(7,"option",22),e._uU(8,"Maximum"),e.qZA(),e.TgZ(9,"option",23),e._uU(10,"Difference"),e.qZA(),e.TgZ(11,"option",24),e._uU(12,"Minimum"),e.qZA(),e.TgZ(13,"option",25),e._uU(14,"Average"),e.qZA(),e.TgZ(15,"option",26),e._uU(16,"Sum"),e.qZA(),e.TgZ(17,"option",27),e._uU(18,"StdDevPop"),e.qZA(),e.TgZ(19,"option",28),e._uU(20,"StdDevSamp "),e.qZA(),e.TgZ(21,"option",29),e._uU(22,"Latest "),e.qZA()(),e.YNc(23,ua,2,0,"div",16),e.qZA(),e.YNc(24,ca,10,1,"div",30),e.TgZ(25,"div",19)(26,"label",10),e._uU(27," Heat Map Type"),e.qZA(),e.TgZ(28,"select",31)(29,"option",21),e._uU(30,"Select Heat Map Type "),e.qZA(),e.TgZ(31,"option",32),e._uU(32,"Disabled"),e.qZA(),e.TgZ(33,"option",23),e._uU(34,"Difference"),e.qZA(),e.TgZ(35,"option",22),e._uU(36,"Maximum"),e.qZA()()()()}if(2&o){const l=e.oxw();let t,a;e.xp6(5),e.Q6J("selected",!0),e.xp6(18),e.Q6J("ngIf",(null==(t=l.form.get("v_schedule_value_type"))?null:t.hasError("required"))&&(null==(t=l.form.get("v_schedule_value_type"))?null:t.touched)),e.xp6(1),e.Q6J("ngIf","Difference"==(null==(a=l.form.get("v_schedule_value_type"))?null:a.value)),e.xp6(5),e.Q6J("selected",!0)}}function da(o,s){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const l=e.oxw(2);e.xp6(1),e.hij(" ",l.errorForUniqueSchedule," ")}}function _a(o,s){1&o&&(e.TgZ(0,"div"),e._uU(1," Schedule Parameter is required "),e.qZA())}function ma(o,s){if(1&o&&e.YNc(0,_a,2,0,"div",18),2&o){const l=e.oxw(2);let t;e.Q6J("ngIf",(null==(t=l.form.get("v_schedule_parameter_name"))?null:t.hasError("required"))&&(null==(t=l.form.get("v_schedule_parameter_name"))?null:t.touched))}}function ha(o,s){1&o&&(e.TgZ(0,"div",12),e._uU(1," Schedule Max Value is required "),e.qZA())}function ga(o,s){1&o&&(e.TgZ(0,"div",12),e._uU(1," Schedule Value Type is required "),e.qZA())}function va(o,s){1&o&&(e.TgZ(0,"div",9)(1,"label",10),e._uU(2,"Operation Type"),e.qZA(),e.TgZ(3,"select",33)(4,"option",21),e._uU(5,"Select Operation Type"),e.qZA(),e.TgZ(6,"option",34),e._uU(7,"Normal"),e.qZA(),e.TgZ(8,"option",35),e._uU(9,"Zero Roll Over"),e.qZA()()()),2&o&&(e.xp6(4),e.Q6J("selected",!0))}function fa(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",46)(1,"button",47),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(2);return e.KtG(a.getSchedule("","html"))}),e._uU(2," Add Schedule Parameter "),e.qZA()()}if(2&o){const l=e.oxw(2);e.xp6(1),e.Q6J("disabled",!l.checkForm())}}function ba(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",46)(1,"button",47),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(2);return e.KtG(a.getSchedule("","update"))}),e._uU(2," Update Schedule Parameter "),e.qZA()()}if(2&o){const l=e.oxw(2);e.xp6(1),e.Q6J("disabled",!l.checkForm())}}function Za(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",36)(1,"button",37),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.toggleAdvancedOptions())}),e._uU(2," Advanced Options "),e._UZ(3,"i",38),e.qZA(),e.TgZ(4,"div",39)(5,"div",40)(6,"div",9)(7,"label",10),e._uU(8,"Schedule Parameter Name"),e.qZA(),e.TgZ(9,"input",11),e.NdJ("keyup",function(a){e.CHM(l);const i=e.oxw();return e.KtG(i.checkforSchedule(a))}),e.qZA(),e.TgZ(10,"div",12),e.YNc(11,da,2,1,"ng-container",13),e.YNc(12,ma,1,1,"ng-template",null,41,e.W1O),e.qZA()(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16,"Max Value"),e.qZA(),e._UZ(17,"input",42),e.YNc(18,ha,2,0,"div",16),e.qZA(),e.TgZ(19,"div",19)(20,"label",10),e._uU(21,"Value Type"),e.qZA(),e.TgZ(22,"select",20),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.changeValueType())}),e.TgZ(23,"option",21),e._uU(24,"Select Advanced Value Type"),e.qZA(),e.TgZ(25,"option",22),e._uU(26,"Maximum"),e.qZA(),e.TgZ(27,"option",23),e._uU(28,"Difference"),e.qZA(),e.TgZ(29,"option",24),e._uU(30,"Minimum"),e.qZA(),e.TgZ(31,"option",25),e._uU(32,"Average"),e.qZA(),e.TgZ(33,"option",26),e._uU(34,"Sum"),e.qZA(),e.TgZ(35,"option",27),e._uU(36,"StdDevPop"),e.qZA(),e.TgZ(37,"option",28),e._uU(38,"StdDevSamp"),e.qZA()(),e.YNc(39,ga,2,0,"div",16),e.qZA()(),e.TgZ(40,"div",1),e.YNc(41,va,10,1,"div",30),e.TgZ(42,"div",19)(43,"label",10),e._uU(44,"Advanced Heat Map Type"),e.qZA(),e.TgZ(45,"select",43)(46,"option",21),e._uU(47,"Select Advanced Heat Map Type"),e.qZA(),e.TgZ(48,"option",32),e._uU(49,"Disabled"),e.qZA(),e.TgZ(50,"option",23),e._uU(51,"Difference"),e.qZA(),e.TgZ(52,"option",22),e._uU(53,"Maximum"),e.qZA()()()(),e.TgZ(54,"div",44)(55,"div",2),e.YNc(56,fa,3,1,"div",45),e.YNc(57,ba,3,1,"div",45),e.qZA()()()()}if(2&o){const l=e.MAs(13),t=e.oxw();let a,i,r;e.xp6(11),e.Q6J("ngIf",""!==t.errorForUniqueSchedule)("ngIfElse",l),e.xp6(7),e.Q6J("ngIf",(null==(a=t.form.get("v_schedule_max"))?null:a.hasError("required"))&&(null==(a=t.form.get("v_schedule_max"))?null:a.touched)),e.xp6(5),e.Q6J("selected",!0),e.xp6(16),e.Q6J("ngIf",(null==(i=t.form.get("v_schedule_value_type"))?null:i.hasError("required"))&&(null==(i=t.form.get("v_schedule_value_type"))?null:i.touched)),e.xp6(2),e.Q6J("ngIf","Difference"==(null==(r=t.form.get("v_schedule_value_type"))?null:r.value)),e.xp6(5),e.Q6J("selected",!0),e.xp6(10),e.Q6J("ngIf",!t.EditOperation),e.xp6(1),e.Q6J("ngIf",t.EditOperation)}}let ie=(()=>{var o;class s{constructor(t,a,i,r){(0,n.Z)(this,"fb",void 0),(0,n.Z)(this,"cd",void 0),(0,n.Z)(this,"getPowerBoard",void 0),(0,n.Z)(this,"api",void 0),(0,n.Z)(this,"updateParentModel",void 0),(0,n.Z)(this,"form",void 0),(0,n.Z)(this,"customInit",void 0),(0,n.Z)(this,"hideDeleteButton",void 0),(0,n.Z)(this,"parameterData",void 0),(0,n.Z)(this,"defaultValues",void 0),(0,n.Z)(this,"dataChange",new e.vpe),(0,n.Z)(this,"EditOperation",void 0),(0,n.Z)(this,"unsubscribe",[]),(0,n.Z)(this,"errorForUniqueSchedule",""),(0,n.Z)(this,"showAdvancedOptions",!1),(0,n.Z)(this,"Schedule_data",[]),(0,n.Z)(this,"scheduleOperation",!1),(0,n.Z)(this,"scedule_horizontal",void 0),(0,n.Z)(this,"getLoggedUser",void 0),(0,n.Z)(this,"SK_clientID",void 0),(0,n.Z)(this,"lookup_data_temp1",[]),(0,n.Z)(this,"validateContinue",void 0),this.fb=t,this.cd=a,this.getPowerBoard=i,this.api=r}ngOnChanges(t){t.scedule_horizontal&&(this.Schedule_data=this.scedule_horizontal)}ngOnInit(){this.getLoggedUser=this.getPowerBoard.getLoggedUserDetails(),this.SK_clientID=this.getLoggedUser.attributes["custom:clientID"],this.initForm(),this.updateParentModel({},!0)}toggleAdvancedOptions(){const t=document.getElementById("advancedOptions");t&&(t.classList.contains("show")?t.classList.remove("show"):t.classList.add("show"))}initForm(){console.log("Iam executed in virtual schedule :"),this.form=this.fb.group({v_schedule_parameter:[this.defaultValues.v_schedule_parameter],v_schedule_parameter_name:[this.defaultValues.v_schedule_parameter_name,[p.kI.required]],v_schedule_max:[this.defaultValues.v_schedule_max,[p.kI.required]],v_schedule_value_type:[this.defaultValues.v_schedule_value_type,[p.kI.required]],v_schedule_operation_type:[this.defaultValues.v_schedule_operation_type,[p.kI.required]],v_schedule_heatmap_type:[this.defaultValues.v_schedule_heatmap_type,[p.kI.required]],v_schedule_parameter_label:[this.defaultValues.v_schedule_parameter_label,[p.kI.required]]}),0==this.hideDeleteButton&&this.form.disable(),this.form.get("v_schedule_parameter")?.patchValue(d.v_schedule_parameter),this.fetchTMData(1),this.cd.detectChanges();const t=this.form.valueChanges.subscribe(a=>{d.v_schedule_heatmap_type=this.form.value.v_schedule_heatmap_type,d.v_schedule_max=this.form.value.v_schedule_max,d.v_schedule_operation_type=this.form.value.v_schedule_operation_type,d.v_schedule_parameter=this.form.value.v_schedule_parameter,d.v_schedule_parameter_name=this.form.value.v_schedule_parameter_name,d.v_schedule_parameter_label=this.form.value.v_schedule_parameter_label,d.v_schedule_value_type=this.form.value.v_schedule_value_type,0==this.form.get("v_schedule_parameter")?.value?(this.form.reset(),this.updateParentModel(a,!0)):""!=this.errorForUniqueSchedule&&0==this.EditOperation?(console.log("Iam Trigeered :"),this.updateParentModel(a,!1)):this.updateParentModel(a,this.checkForm())});this.unsubscribe.push(t)}checkForm(){return"Difference"!=this.form.get("v_schedule_value_type")?.value?!(this.form.get("v_schedule_parameter_name")?.hasError("required")||this.form.get("v_schedule_max")?.hasError("required")||this.form.get("v_schedule_value_type")?.hasError("required")||this.form.get("v_schedule_heatmap_type")?.hasError("required")||this.form.get("v_schedule_parameter_label")?.hasError("required")):!(this.form.get("v_schedule_parameter_name")?.hasError("required")||this.form.get("v_schedule_max")?.hasError("required")||this.form.get("v_schedule_value_type")?.hasError("required")||this.form.get("v_schedule_operation_type")?.hasError("required")||this.form.get("v_schedule_heatmap_type")?.hasError("required")||this.form.get("v_schedule_parameter_label")?.hasError("required"))}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}changeValueType(){console.log("Iam clicked Here :"),this.form.valueChanges.subscribe(t=>{"Difference"==t.v_schedule_value_type?(console.log("Iam here Triggered :"),this.form.get("v_schedule_operation_type")?.enable({emitEvent:!1}),this.updateParentModel(this.form.value,this.checkForm())):(this.form.get("v_schedule_operation_type")?.setValue("",{emitEvent:!1}),this.form.get("v_schedule_operation_type")?.disable({emitEvent:!1}))})}checkforSchedule(t){if(this.parameterData){this.errorForUniqueSchedule="";for(let a=0;a<this.parameterData.length;a++)if(console.log(t.target.value,"-------"),t.target.value.trim()==this.parameterData[a].v_schedule_parameter_name){this.errorForUniqueSchedule="Schedule Parameter Already exists",this.updateParentModel({},!1);break}}}getSchedule(t,a){if(console.log("Array check1",this.Schedule_data),"html"==a){Array.isArray(this.Schedule_data)||(this.Schedule_data=[]);for(let i=0;i<this.Schedule_data.length;i++)if(this.Schedule_data[i].v_schedule_parameter_name===this.form.value.v_schedule_parameter_name.trim())return h().fire({customClass:{container:"my-swal"},position:"center",title:"Already exists?",text:"Add Schedule Parameter again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1});this.form.value&&this.form.value.v_schedule_parameter_name&&this.Schedule_data.push({v_schedule_parameter_name:this.form.value.v_schedule_parameter_name,v_schedule_heatmap_type:this.form.value.v_schedule_heatmap_type,v_schedule_max:this.form.value.v_schedule_max,v_schedule_value_type:this.form.value.v_schedule_value_type,v_schedule_operation_type:this.form.value.v_schedule_operation_type}),console.log("All the value mappings :",this.Schedule_data),h().fire({customClass:{container:"my-swal"},position:"center",title:"Value Mapping Added",text:"Confirm Changes by Clicking Submit/Update",icon:"success"})}else if("ts_edit"!=a)if("update"==a){if(console.log("Iam insite Update state :"),this.form.value&&this.form.value.v_schedule_parameter_name){console.log("Iam insite Update state : check2"+this.Schedule_data[0].v_schedule_parameter_name);for(let i=0;i<this.Schedule_data.length;i++)this.Schedule_data[i].v_schedule_parameter_name==this.form.value.v_schedule_parameter_name&&(console.log("Iam insite Update state : check3"),this.Schedule_data[i].v_schedule_parameter_name=this.form.value.v_schedule_parameter_name,this.Schedule_data[i].v_schedule_heatmap_type=this.form.value.v_schedule_heatmap_type,this.Schedule_data[i].v_schedule_max=this.form.value.v_schedule_max,this.Schedule_data[i].v_schedule_value_type=this.form.value.v_schedule_value_type,this.Schedule_data[i].v_schedule_operation_type=this.form.value.v_schedule_operation_type)}h().fire({customClass:{container:"my-swal"},position:"center",title:"Value Mapping Updated",text:"Confirm Changes by Clicking Submit/Update",icon:"success"}),console.log("updated valuemap",this.Schedule_data)}else if("delete"==a){this.Schedule_data=[];for(let i=0;i<t.length;i++)this.Schedule_data.push({v_schedule_parameter_name:t[i].v_schedule_parameter_name,v_schedule_heatmap_type:t[i].v_schedule_heatmap_type,v_schedule_max:t[i].v_schedule_max,v_schedule_value_type:t[i].v_schedule_value_type,v_schedule_operation_type:t[i].v_schedule_operation_type})}return console.log("table data after update",this.Schedule_data),console.log("valuempatable",JSON.stringify(this.Schedule_data).replace(/\"/g,"")),this.form.get("v_schedule_parameter_name")?.setValue(""),this.form.get("v_schedule_heatmap_type")?.setValue(""),this.form.get("v_schedule_max")?.setValue(""),this.form.get("v_schedule_value_type")?.setValue(""),this.form.get("v_schedule_operation_type")?.setValue(""),this.updateData(this.Schedule_data),this.validateContinue=!0,this.updateParentModel(this.form.value,this.validateContinue),this.Schedule_data}updateData(t){console.log("I am getting triggered iam changing;"),this.Schedule_data=t,this.dataChange.emit(this.Schedule_data)}fetchTMData(t){var a=this;return(0,y.Z)(function*(){console.log("iam trying to fetch",a.SK_clientID);try{const i=yield a.api.GetLookupRdt(a.SK_clientID,t);if(i&&i.items)if("string"==typeof i.items){let r=JSON.parse(i.items);if(console.log("d1 =",r),Array.isArray(r)){for(let c=0;c<r.length;c++){const u=r[c];if(null==u)break;{const m=Object.keys(u)[0],{P1:g,P2:b,P3:Z,P4:T}=u[m];a.lookup_data_temp1.push({P1:g,P2:b,P3:Z,P4:T}),console.log("d2 =",a.lookup_data_temp1)}}a.lookup_data_temp1.sort((c,u)=>u.P4-c.P4),yield a.fetchTMData(t+1)}else console.error("Invalid data format - not an array.")}else console.error("response.listOfItems is not a string.");else a.form.get("v_schedule_parameter")?.patchValue(d.v_schedule_parameter),a.form.get("v_schedule_value_type")?.patchValue(d.v_schedule_value_type),a.form.get("v_schedule_operation_type")?.patchValue(d.v_schedule_operation_type),a.form.get("v_schedule_heatmap_type")?.patchValue(d.v_schedule_heatmap_type),a.cd.detectChanges()}catch(i){console.error("Error:",i)}})()}}return o=s,(0,n.Z)(s,"\u0275fac",function(t){return new(t||o)(e.Y36(p.qu),e.Y36(e.sBO),e.Y36(O.F),e.Y36(V.t))}),(0,n.Z)(s,"\u0275cmp",e.Xpm({type:o,selectors:[["app-vi-step2"]],inputs:{updateParentModel:"updateParentModel",customInit:"customInit",hideDeleteButton:"hideDeleteButton",parameterData:"parameterData",defaultValues:"defaultValues",EditOperation:"EditOperation",scheduleOperation:"scheduleOperation",scedule_horizontal:"scedule_horizontal"},outputs:{dataChange:"dataChange"},features:[e.TTD],decls:11,vars:5,consts:[[3,"formGroup"],[1,"row","mb-7"],[1,"col"],[1,"form-check","form-check-inline","form-check-solid","me-5"],["name","v_schedule_parameter","type","checkbox","formControlName","v_schedule_parameter",1,"form-check-input"],[1,"fw-bold","ps-2","fc-8"],["class","row mb-7",4,"ngIf"],["class","advanced-options","style","display: flex; display: none;",4,"ngIf"],[1,"info"],[1,"col-md-4","mb-md-0"],[1,"col-lg-12","col-form-label","fw-bold","fs-6","required"],["type","text","placeholder","Enter Schedule Parameter Name","name","v_schedule_parameter_name","formControlName","v_schedule_parameter_name","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"keyup"],[1,"fv-plugins-message-container","invalid-feedback"],[4,"ngIf","ngIfElse"],["defaultErrorMessagerSchedule",""],["type","text","placeholder","Enter Schedule Parameter Label","name","v_schedule_parameter_label","formControlName","v_schedule_parameter_label","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["class","fv-plugins-message-container invalid-feedback",4,"ngIf"],["type","number","placeholder","Enter max value","name","v_schedule_max","formControlName","v_schedule_max","required","","appPreventScroll","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[4,"ngIf"],[1,"col-md-4"],["name","v_schedule_value_type","formControlName","v_schedule_value_type","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold",3,"click"],["value","null","disabled","true",3,"selected"],["value","Maximum"],["value","Difference"],["value","Minimum"],["value","Average"],["value","Sum"],["value","StdDevPop"],["value","StdDevSamp"],["value","Latest"],["class","col-md-4 mb-md-0",4,"ngIf"],["placeholder","select heatmap type","name","v_schedule_heatmap_type","formControlName","v_schedule_heatmap_type","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["value","Disabled"],["name","v_schedule_operation_type","formControlName","v_schedule_operation_type","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["value","Normal"],["value","Zero Roll Over"],[1,"advanced-options",2,"display","flex","display","none"],["type","button",1,"btn","btn-link",3,"click"],[1,"fas","fa-chevron-down"],["id","advancedOptions",1,"collapse"],[1,"row","mb-7","mt-5"],["defaultErrorMessagerAdvancedSchedule",""],["type","number","placeholder","Enter Max Value","name","v_schedule_max","formControlName","v_schedule_max","required","","appPreventScroll","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["placeholder","select advanced heatmap type","name","v_schedule_heatmap_type","formControlName","v_schedule_heatmap_type","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],[1,"row"],["class","footer col","style","padding-top: 30px;",4,"ngIf"],[1,"footer","col",2,"padding-top","30px"],["type","button",1,"btn","btn-sm","btn-primary",3,"disabled","click"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e._UZ(4,"input",4),e.TgZ(5,"span",5),e._uU(6,"Enable Schedule Parameter "),e.qZA()()()(),e.YNc(7,aa,3,0,"div",6),e.YNc(8,sa,19,4,"div",6),e.YNc(9,pa,37,4,"div",6),e.YNc(10,Za,58,9,"div",7),e.qZA()),2&t){let i,r,c,u;e.Q6J("formGroup",a.form),e.xp6(7),e.Q6J("ngIf",!(null!=(i=a.form.get("v_schedule_parameter"))&&i.value)),e.xp6(1),e.Q6J("ngIf",null==(r=a.form.get("v_schedule_parameter"))?null:r.value),e.xp6(1),e.Q6J("ngIf",null==(c=a.form.get("v_schedule_parameter"))?null:c.value),e.xp6(1),e.Q6J("ngIf",null==(u=a.form.get("v_schedule_parameter"))?null:u.value)}},dependencies:[A.O5,p.YN,p.Kr,p.Fj,p.wV,p.Wl,p.EJ,p.JJ,p.JL,p.Q7,p.sg,p.u,L],styles:[".info[_ngcontent-%COMP%]{font-size:15px}input[disabled][_ngcontent-%COMP%]{cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]:hover, .btn-success[_ngcontent-%COMP%]:hover, .btn-warning[_ngcontent-%COMP%]:hover{transform:translateY(-2px);transition:.7s}"]})),s})();const Ta=["myButton"];function Ca(o,s){1&o&&(e.TgZ(0,"div",1)(1,"span",10),e._uU(2,"To configure Scaling Table, please enable the checkbox. input the threshold value, multiplication factor, and unit for each range."),e.qZA()())}function ya(o,s){1&o&&(e.TgZ(0,"div",11)(1,"div",12)(2,"i",13),e._uU(3," Threshold"),e.qZA(),e._UZ(4,"input",14),e.qZA(),e.TgZ(5,"div",12)(6,"i",13),e._uU(7," Multiplication Factor"),e.qZA(),e._UZ(8,"input",15),e.qZA(),e.TgZ(9,"div",16)(10,"i",13),e._uU(11," Unit"),e.qZA(),e._UZ(12,"input",17),e.qZA()())}function Da(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",25)(1,"button",26),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(2);return e.KtG(a.getscalingtable("","html"))}),e._uU(2,"Add Scaling "),e.qZA()()}if(2&o){const l=e.oxw(2);let t;e.xp6(1),e.Q6J("disabled",(null==(t=l.form.get("v_scale_threshold"))?null:t.hasError("required"))||(null==(t=l.form.get("v_sc_multiply"))?null:t.hasError("required"))||(null==(t=l.form.get("v_sc_unit"))?null:t.hasError("required"))||0==l.hideDeleteButton)}}function xa(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",25)(1,"button",26),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(2);return e.KtG(a.getscalingtable("","update"))}),e._uU(2," Update Scaling "),e.qZA()()}if(2&o){const l=e.oxw(2);let t;e.xp6(1),e.Q6J("disabled",(null==(t=l.form.get("v_scale_threshold"))?null:t.hasError("required"))||(null==(t=l.form.get("v_sc_multiply"))?null:t.hasError("required"))||(null==(t=l.form.get("v_sc_unit"))?null:t.hasError("required"))||0==l.hideDeleteButton)}}function Ua(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",18),e.YNc(1,Da,3,1,"div",19),e.YNc(2,xa,3,1,"div",19),e.TgZ(3,"div",20)(4,"button",21),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.copyToLocalStorage())}),e._UZ(5,"i",22),e._uU(6," Copy"),e.qZA(),e.TgZ(7,"button",23),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.pasteFromLocalStorage())}),e._UZ(8,"i",24),e._uU(9," Paste"),e.qZA()()()}if(2&o){const l=e.oxw();e.xp6(1),e.Q6J("ngIf",!l.editOperation),e.xp6(1),e.Q6J("ngIf",l.editOperation)}}let oe=(()=>{var o;class s{constructor(t,a,i){(0,n.Z)(this,"fb",void 0),(0,n.Z)(this,"cd",void 0),(0,n.Z)(this,"toast",void 0),(0,n.Z)(this,"updateParentModel",void 0),(0,n.Z)(this,"form",void 0),(0,n.Z)(this,"customInit",void 0),(0,n.Z)(this,"hideDeleteButton",void 0),(0,n.Z)(this,"defaultValues",void 0),(0,n.Z)(this,"editOperation",void 0),(0,n.Z)(this,"scallingTable_horizontal",void 0),(0,n.Z)(this,"scaleOperation",void 0),(0,n.Z)(this,"myButton",void 0),(0,n.Z)(this,"dataChange",new e.vpe),(0,n.Z)(this,"unsubscribe",[]),(0,n.Z)(this,"showUpdate_ScalingButton",!1),(0,n.Z)(this,"scalingTable_data",[]),(0,n.Z)(this,"validateContinue",!1),this.fb=t,this.cd=a,this.toast=i}ngOnChanges(t){t.scallingTable_horizontal&&(this.scalingTable_data=this.scallingTable_horizontal)}ngOnInit(){this.initForm(),this.updateParentModel({},this.checkForm())}initForm(){this.form=this.fb.group({v_scalingtableBoolean:[d.v_scalingtableBoolean],v_scale_threshold:[U.v_scale_threshold],v_sc_multiply:[U.v_sc_multiply],v_sc_unit:[U.v_sc_unit]}),0==this.hideDeleteButton&&this.form.disable(),null!=U.v_scale_threshold&&null!=U.v_sc_multiply&&""!=U.v_sc_unit&&(this.editOperation=!0);const t=this.form.valueChanges.subscribe(a=>{console.log("Iam Triggered :"),this.scalingTable_data.length>0?this.updateParentModel(a,!0):0==this.form.get("v_scalingtableBoolean")?.value?(this.form.reset(),this.updateParentModel(a,!0)):this.updateParentModel(a,this.validateContinue)});this.unsubscribe.push(t),this.cd.detectChanges()}checkForm(){return!(this.form.get("v_scale_threshold")?.hasError("required")||this.form.get("v_sc_multiply")?.hasError("required")||this.form.get("v_sc_unit")?.hasError("required"))}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}getscalingtable(t,a){if("html"==a){this.scalingTable_data||(this.scalingTable_data=[]);for(let i=0;i<this.scalingTable_data.length;i++)if(this.scalingTable_data[i].v_scale_threshold===this.form.value.v_scale_threshold&&this.scalingTable_data[i].v_sc_multiply===this.form.value.v_sc_multiply)return h().fire({customClass:{container:"my-swal"},position:"center",title:"Already exists?",text:"Add New Scaling values again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1});this.form.value&&this.form.value.v_scale_threshold&&this.scalingTable_data.push({v_scale_threshold:this.form.value.v_scale_threshold,v_sc_multiply:this.form.value.v_sc_multiply,v_sc_unit:this.form.value.v_sc_unit}),h().fire({customClass:{container:"my-swal"},position:"center",title:"Scaling Factor Added",text:"Confirm Changes by Clicking Update/Submit",icon:"success"}),console.log("Scaling Table Data here:",this.scalingTable_data)}else if("ts_edit"==a)if(this.scalingTable_data=[],void 0!==t&&t.length>=1){if(t&&void 0!==t)for(let i=0;i<t.length;i++)this.scalingTable_data.push({v_scale_threshold:t[i].v_scale_threshold,v_sc_multiply:t[i].v_sc_multiply,v_sc_unit:t[i].v_sc_unit})}else this.scalingTable_data=[];else if("update"==a){if(this.form.value&&this.form.value.v_scale_threshold)for(let i=0;i<this.scalingTable_data.length;i++)this.scalingTable_data[i].v_scale_threshold==this.form.value.v_scale_threshold&&(this.scalingTable_data[i].v_sc_multiply=this.form.value.v_sc_multiply,this.scalingTable_data[i].v_sc_unit=this.form.value.v_sc_unit);h().fire({customClass:{container:"my-swal"},position:"center",title:"Scaling Factor Updated",text:"Confirm Changes by Clicking Update/Submit",icon:"success"}),this.editOperation=!1,U.v_scale_threshold=null,U.v_sc_multiply=null,U.v_sc_unit="",this.cd.detectChanges()}return console.log("All Scaling Table Data here:",this.scalingTable_data),this.updateData(this.scalingTable_data),this.validateContinue=!0,this.updateParentModel(this.form.value,this.validateContinue),this.form.get("v_scale_threshold")?.setValue(""),this.form.get("v_sc_multiply")?.setValue(""),this.form.get("v_sc_unit")?.setValue(""),this.scalingTable_data}updateData(t){console.log("I am getting triggered iam changing;"),this.scalingTable_data=t,this.dataChange.emit(this.scalingTable_data)}copyToLocalStorage(){const t=this.form.value;console.log("Values are here for copying ",t),localStorage.setItem("virtualscaleData",JSON.stringify(t)),this.toast.open("Your data has been copied successfully!","",{duration:1e3,horizontalPosition:"center",verticalPosition:"bottom"}),console.log("Copied to local storage:",t)}pasteFromLocalStorage(){const t=localStorage.getItem("virtualscaleData");if(t){const a=JSON.parse(t),i=document.getElementById("advancedOptions");i&&i.classList.add("show"),this.form.patchValue(a),this.cd.detectChanges(),console.log("Pasted from local storage:",a)}else console.log("No data found in local storage")}}return o=s,(0,n.Z)(s,"\u0275fac",function(t){return new(t||o)(e.Y36(p.qu),e.Y36(e.sBO),e.Y36(E.ux))}),(0,n.Z)(s,"\u0275cmp",e.Xpm({type:o,selectors:[["app-vi-step4"]],viewQuery:function(t,a){if(1&t&&e.Gf(Ta,5),2&t){let i;e.iGM(i=e.CRH())&&(a.myButton=i.first)}},inputs:{updateParentModel:"updateParentModel",customInit:"customInit",hideDeleteButton:"hideDeleteButton",defaultValues:"defaultValues",editOperation:"editOperation",scallingTable_horizontal:"scallingTable_horizontal",scaleOperation:"scaleOperation"},outputs:{dataChange:"dataChange"},features:[e.TTD],decls:11,vars:4,consts:[[3,"formGroup"],[1,"row","mb-7"],[1,"col"],[1,"form-check","form-check-inline","form-check-solid","me-5"],["name","v_scalingtableBoolean","type","checkbox","formControlName","v_scalingtableBoolean",1,"form-check-input"],[1,"fw-bold","ps-2","fc-8"],["ngbTooltip","Example: threshold value: 1000, multiplication factor: 0.001, and unit: 'k,' it will display as '1k'",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["class","row mb-7",4,"ngIf"],["class","row mb-1",4,"ngIf"],["style","display: flex;flex-direction: row;justify-content: space-between;gap:10px;align-items: baseline;",4,"ngIf"],[2,"font-size","15px"],[1,"row","mb-1"],[1,"col-md-4","mb-md-0"],[1,"col-lg-12","col-form-label","fw-bold","fs-6","required"],["type","number","placeholder","Enter threshold ","name","v_scale_threshold","formControlName","v_scale_threshold","required","","appPreventScroll","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","number","placeholder","Enter multiply factor","name","v_sc_multiply","formControlName","v_sc_multiply","required","","appPreventScroll","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[1,"col-md-4"],["type","text","placeholder","Enter scaling unit ","name","v_sc_unit","formControlName","v_sc_unit","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[2,"display","flex","flex-direction","row","justify-content","space-between","gap","10px","align-items","baseline"],["class","footer col","style","padding-top: 30px;",4,"ngIf"],[2,"padding-top","20px"],["type","button",1,"btn","btn-success","btn-sm",2,"margin-right","5px",3,"click"],[1,"fa-solid","fa-copy"],["type","button",1,"btn","btn-warning","btn-sm",3,"click"],[1,"fa-solid","fa-paste"],[1,"footer","col",2,"padding-top","30px"],["type","button",1,"btn","btn-sm","btn-primary",3,"disabled","click"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e._UZ(4,"input",4),e.TgZ(5,"span",5),e._uU(6,"Enable Scaling"),e._UZ(7,"i",6),e.qZA()()()(),e.YNc(8,Ca,3,0,"div",7),e.YNc(9,ya,13,0,"div",8),e.YNc(10,Ua,10,2,"div",9),e.qZA()),2&t){let i,r,c;e.Q6J("formGroup",a.form),e.xp6(8),e.Q6J("ngIf",!(null!=(i=a.form.get("v_scalingtableBoolean"))&&i.value)),e.xp6(1),e.Q6J("ngIf",null==(r=a.form.get("v_scalingtableBoolean"))?null:r.value),e.xp6(1),e.Q6J("ngIf",null==(c=a.form.get("v_scalingtableBoolean"))?null:c.value)}},dependencies:[A.O5,p.Fj,p.wV,p.Wl,p.JJ,p.JL,p.Q7,p.sg,p.u,M._L,L],styles:["input[disabled][_ngcontent-%COMP%]{cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]:hover, .btn-success[_ngcontent-%COMP%]:hover, .btn-warning[_ngcontent-%COMP%]:hover{transform:translateY(-2px);transition:.7s}"]})),s})();function qa(o,s){1&o&&(e.TgZ(0,"div",1)(1,"span",10),e._uU(2," To configure value mapping, please enable the checkbox. Value mapping allows you to associate specific values with custom labels, icons, animations, font sizes, and more. Additionally, users can set these mappings to personalize the display of data according to their preferences. "),e.qZA()())}function Aa(o,s){1&o&&(e.TgZ(0,"div",20),e._uU(1," Value Mapping Value is required "),e.qZA())}function Sa(o,s){1&o&&(e.TgZ(0,"div",20),e._uU(1," Value Mapping Label is required "),e.qZA())}function wa(o,s){if(1&o&&(e.TgZ(0,"div",11)(1,"div",1)(2,"div",12)(3,"label",13)(4,"span",14),e._uU(5,"Value"),e.qZA(),e._UZ(6,"i",15),e.qZA(),e._UZ(7,"input",16),e.YNc(8,Aa,2,0,"div",17),e.qZA(),e.TgZ(9,"div",12)(10,"label",13)(11,"span",14),e._uU(12,"Label"),e.qZA(),e._UZ(13,"i",18),e.qZA(),e._UZ(14,"input",19),e.YNc(15,Sa,2,0,"div",17),e.qZA()()()),2&o){const l=e.oxw();let t,a;e.xp6(8),e.Q6J("ngIf",(null==(t=l.form.get("v_vm_value"))?null:t.hasError("required"))&&(null==(t=l.form.get("v_vm_value"))?null:t.touched)),e.xp6(7),e.Q6J("ngIf",(null==(a=l.form.get("v_vm_label"))?null:a.hasError("required"))&&(null==(a=l.form.get("v_vm_label"))?null:a.touched))}}function Pa(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",270)(1,"button",271),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(3);return e.KtG(a.getValueMap("","html"))}),e._uU(2," Add Value Mapping "),e.qZA()()}if(2&o){const l=e.oxw(3);let t;e.xp6(1),e.Q6J("disabled",(null==(t=l.form.get("v_vm_label"))?null:t.hasError("required"))||(null==(t=l.form.get("v_vm_value"))?null:t.hasError("required"))||0==l.hideDeleteButton)}}function Ia(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",270)(1,"button",271),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(3);return e.KtG(a.getValueMap("","update"))}),e._uU(2," Update Value Mapping "),e.qZA()()}if(2&o){const l=e.oxw(3);let t;e.xp6(1),e.Q6J("disabled",(null==(t=l.form.get("v_vm_label"))?null:t.hasError("required"))||(null==(t=l.form.get("v_vm_value"))?null:t.hasError("required"))||0==l.hideDeleteButton)}}function Ma(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",263),e.YNc(1,Pa,3,1,"div",264),e.YNc(2,Ia,3,1,"div",264),e.TgZ(3,"div",265)(4,"button",266),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(2);return e.KtG(a.copyToLocalStorage())}),e._UZ(5,"i",267),e._uU(6," Copy"),e.qZA(),e.TgZ(7,"button",268),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(2);return e.KtG(a.pasteFromLocalStorage())}),e._UZ(8,"i",269),e._uU(9," Paste"),e.qZA()()()}if(2&o){const l=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!l.editOperation),e.xp6(1),e.Q6J("ngIf",l.editOperation)}}function ka(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"div",21)(1,"button",22),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.toggleAdvancedOptions())}),e._uU(2," Advanced Options "),e._UZ(3,"i",23),e.qZA(),e.TgZ(4,"div",24)(5,"div",25)(6,"div",12)(7,"label",13)(8,"span"),e._uU(9,"Equation"),e.qZA(),e._UZ(10,"i",26),e.qZA(),e._UZ(11,"textarea",27),e.qZA(),e.TgZ(12,"div",12)(13,"label",13)(14,"span"),e._uU(15,"Class Icon"),e.qZA(),e._UZ(16,"i",28),e.qZA(),e.TgZ(17,"mat-select",29)(18,"mat-option",30),e._uU(19,"Select Icon"),e.qZA(),e.TgZ(20,"mat-option",31),e._uU(21," None "),e.qZA(),e.TgZ(22,"mat-option",32),e._UZ(23,"i",33),e._uU(24," Graph Up "),e.qZA(),e.TgZ(25,"mat-option",34),e._UZ(26,"i",35),e._uU(27," Graph Down "),e.qZA(),e.TgZ(28,"mat-option",36),e._UZ(29,"i",37),e._uU(30," Bar Chart "),e.qZA(),e.TgZ(31,"mat-option",38),e._UZ(32,"i",39),e._uU(33," Pie Chart "),e.qZA(),e.TgZ(34,"mat-option",40),e._UZ(35,"i",41),e._uU(36," Speedometer "),e.qZA(),e.TgZ(37,"mat-option",42),e._UZ(38,"i",43),e._uU(39," Alarm "),e.qZA(),e.TgZ(40,"mat-option",44),e._UZ(41,"i",45),e._uU(42," Notifications "),e.qZA(),e.TgZ(43,"mat-option",46),e._UZ(44,"i",47),e._uU(45," Calendar "),e.qZA(),e.TgZ(46,"mat-option",48),e._UZ(47,"i",49),e._uU(48," CPU Usage "),e.qZA(),e.TgZ(49,"mat-option",50),e._UZ(50,"i",51),e._uU(51," Filled Bar Chart "),e.qZA(),e.TgZ(52,"mat-option",52),e._UZ(53,"i",53),e._uU(54," Diagram "),e.qZA(),e.TgZ(55,"mat-option",54),e._UZ(56,"i",55),e._uU(57," Data Table "),e.qZA(),e.TgZ(58,"mat-option",56),e._UZ(59,"i",57),e._uU(60," Filter "),e.qZA(),e.TgZ(61,"mat-option",58),e._UZ(62,"i",59),e._uU(63," Storage "),e.qZA(),e.TgZ(64,"mat-option",60),e._UZ(65,"i",61),e._uU(66," User "),e.qZA(),e.TgZ(67,"mat-option",62),e._UZ(68,"i",63),e._uU(69," Users "),e.qZA(),e.TgZ(70,"mat-option",64),e._UZ(71,"i",65),e._uU(72," User Check "),e.qZA(),e.TgZ(73,"mat-option",66),e._UZ(74,"i",67),e._uU(75," User Removal "),e.qZA(),e.TgZ(76,"mat-option",68),e._UZ(77,"i",69),e._uU(78," Warning "),e.qZA(),e.TgZ(79,"mat-option",70),e._UZ(80,"i",71),e._uU(81," Alert "),e.qZA(),e.TgZ(82,"mat-option",72),e._UZ(83,"i",73),e._uU(84," Activity Monitoring "),e.qZA(),e.TgZ(85,"mat-option",74),e._UZ(86,"i",75),e._uU(87," Security Shield "),e.qZA(),e.TgZ(88,"mat-option",76),e._UZ(89,"i",77),e._uU(90," Folder "),e.qZA(),e.TgZ(91,"mat-option",78),e._UZ(92,"i",79),e._uU(93," Folder (Filled) "),e.qZA(),e.TgZ(94,"mat-option",80),e._UZ(95,"i",81),e._uU(96," Hard Drive "),e.qZA(),e.TgZ(97,"mat-option",82),e._UZ(98,"i",83),e._uU(99," Cloud Download "),e.qZA(),e.TgZ(100,"mat-option",84),e._UZ(101,"i",85),e._uU(102," Cloud Upload "),e.qZA(),e.TgZ(103,"mat-option",86),e._UZ(104,"i",87),e._uU(105," Settings "),e.qZA(),e.TgZ(106,"mat-option",88),e._UZ(107,"i",89),e._uU(108," Tools "),e.qZA(),e.TgZ(109,"mat-option",90),e._UZ(110,"i",91),e._uU(111," Arrow Up "),e.qZA(),e.TgZ(112,"mat-option",92),e._UZ(113,"i",93),e._uU(114," Arrow Down "),e.qZA(),e.TgZ(115,"mat-option",94),e._UZ(116,"i",95),e._uU(117," Reply All "),e.qZA(),e.TgZ(118,"mat-option",96),e._UZ(119,"i",97),e._uU(120," Time "),e.qZA(),e.TgZ(121,"mat-option",98),e._UZ(122,"i",99),e._uU(123," Lightbulb "),e.qZA(),e.TgZ(124,"mat-option",100),e._UZ(125,"i",101),e._uU(126," Lightbulb (Filled) "),e.qZA(),e.TgZ(127,"mat-option",102),e._UZ(128,"i",103),e._uU(129," Clipboard Data "),e.qZA(),e.TgZ(130,"mat-option",104),e._UZ(131,"i",105),e._uU(132," File "),e.qZA(),e.TgZ(133,"mat-option",106),e._UZ(134,"i",107),e._uU(135," Linked Folder "),e.qZA(),e.TgZ(136,"mat-option",108),e._UZ(137,"i",109),e._uU(138," Basket "),e.qZA()()(),e.TgZ(139,"div",12)(140,"label",13)(141,"span"),e._uU(142,"Style Text Color"),e.qZA(),e._UZ(143,"i",110),e.qZA(),e.TgZ(144,"div",111),e._UZ(145,"input",112),e.TgZ(146,"datalist",113)(147,"option",114),e._uU(148,"Red Orange"),e.qZA(),e.TgZ(149,"option",115),e._uU(150,"Crimson"),e.qZA(),e.TgZ(151,"option",116),e._uU(152,"Golden Yellow"),e.qZA(),e.TgZ(153,"option",117),e._uU(154,"Light Green"),e.qZA(),e.TgZ(155,"option",118),e._uU(156,"Dark Purple"),e.qZA(),e.TgZ(157,"option",119),e._uU(158,"Dark Blue Gray"),e.qZA(),e.TgZ(159,"option",120),e._uU(160,"Sky Blue"),e.qZA(),e.TgZ(161,"option",121),e._uU(162,"Emerald Green"),e.qZA(),e.TgZ(163,"option",122),e._uU(164,"Orange"),e.qZA(),e.TgZ(165,"option",123),e._uU(166,"Purple"),e.qZA()()()(),e.TgZ(167,"div",124)(168,"label",13)(169,"span"),e._uU(170,"Label Color"),e.qZA(),e._UZ(171,"i",125),e.qZA(),e.TgZ(172,"select",126)(173,"option",127),e._uU(174,"Select Color"),e.qZA(),e.TgZ(175,"option",128),e._uU(176,"Default"),e.qZA(),e.TgZ(177,"option",129),e._uU(178,"Green"),e.qZA(),e.TgZ(179,"option",130),e._uU(180,"Blue"),e.qZA(),e.TgZ(181,"option",131),e._uU(182,"Turquoise"),e.qZA(),e.TgZ(183,"option",132),e._uU(184,"Yellow"),e.qZA(),e.TgZ(185,"option",133),e._uU(186,"Red"),e.qZA()()()(),e.TgZ(187,"div",1)(188,"div",134)(189,"label",13)(190,"span"),e._uU(191,"Animation"),e.qZA(),e._UZ(192,"i",135),e.qZA(),e.TgZ(193,"select",136)(194,"option",127),e._uU(195,"Select Animation"),e.qZA(),e.TgZ(196,"optgroup",137)(197,"option",138),e._uU(198,"Bounce"),e.qZA(),e.TgZ(199,"option",139),e._uU(200,"Flash"),e.qZA(),e.TgZ(201,"option",140),e._uU(202,"Pulse"),e.qZA(),e.TgZ(203,"option",141),e._uU(204,"RubberBand"),e.qZA(),e.TgZ(205,"option",142),e._uU(206,"ShakeX"),e.qZA(),e.TgZ(207,"option",143),e._uU(208,"ShakeY"),e.qZA(),e.TgZ(209,"option",144),e._uU(210,"HeadShake"),e.qZA(),e.TgZ(211,"option",145),e._uU(212,"Swing"),e.qZA(),e.TgZ(213,"option",146),e._uU(214,"Tada"),e.qZA(),e.TgZ(215,"option",147),e._uU(216,"Wobble"),e.qZA(),e.TgZ(217,"option",148),e._uU(218,"Jello"),e.qZA(),e.TgZ(219,"option",149),e._uU(220,"HeartBeat"),e.qZA()(),e.TgZ(221,"optgroup",150)(222,"option",151),e._uU(223,"BackInDown"),e.qZA(),e.TgZ(224,"option",152),e._uU(225,"BackInLeft"),e.qZA(),e.TgZ(226,"option",153),e._uU(227,"BackInRight"),e.qZA(),e.TgZ(228,"option",154),e._uU(229,"BackInUp"),e.qZA()(),e.TgZ(230,"optgroup",155)(231,"option",156),e._uU(232,"BackOutDown"),e.qZA(),e.TgZ(233,"option",157),e._uU(234,"BackOutLeft"),e.qZA(),e.TgZ(235,"option",158),e._uU(236,"BackOutRight"),e.qZA(),e.TgZ(237,"option",159),e._uU(238,"BackOutUp"),e.qZA()(),e.TgZ(239,"optgroup",160)(240,"option",161),e._uU(241,"BounceIn"),e.qZA(),e.TgZ(242,"option",162),e._uU(243,"BounceInDown"),e.qZA(),e.TgZ(244,"option",163),e._uU(245,"BounceInLeft"),e.qZA(),e.TgZ(246,"option",164),e._uU(247,"BounceInRight"),e.qZA(),e.TgZ(248,"option",165),e._uU(249,"BounceInUp"),e.qZA()(),e.TgZ(250,"optgroup",166)(251,"option",167),e._uU(252,"BounceOut"),e.qZA(),e.TgZ(253,"option",168),e._uU(254,"BounceOutDown"),e.qZA(),e.TgZ(255,"option",169),e._uU(256,"BounceOutLeft"),e.qZA(),e.TgZ(257,"option",170),e._uU(258,"BounceOutRight"),e.qZA(),e.TgZ(259,"option",171),e._uU(260,"BounceOutUp"),e.qZA()(),e.TgZ(261,"optgroup",172)(262,"option",173),e._uU(263,"FadeIn"),e.qZA(),e.TgZ(264,"option",174),e._uU(265,"FadeInDown"),e.qZA(),e.TgZ(266,"option",175),e._uU(267,"FadeInDownBig"),e.qZA(),e.TgZ(268,"option",176),e._uU(269,"FadeInLeft"),e.qZA(),e.TgZ(270,"option",177),e._uU(271,"FadeInLeftBig"),e.qZA(),e.TgZ(272,"option",178),e._uU(273,"FadeInRight"),e.qZA(),e.TgZ(274,"option",179),e._uU(275,"FadeInRightBig"),e.qZA(),e.TgZ(276,"option",180),e._uU(277,"FadeInUp"),e.qZA(),e.TgZ(278,"option",181),e._uU(279,"FadeInUpBig"),e.qZA(),e.TgZ(280,"option",182),e._uU(281,"FadeInTopLeft"),e.qZA(),e.TgZ(282,"option",183),e._uU(283,"FadeInTopRight"),e.qZA(),e.TgZ(284,"option",184),e._uU(285,"FadeInBottomLeft"),e.qZA(),e.TgZ(286,"option",185),e._uU(287,"FadeInBottomRight"),e.qZA()(),e.TgZ(288,"optgroup",186)(289,"option",187),e._uU(290,"FadeOut"),e.qZA(),e.TgZ(291,"option",188),e._uU(292,"FadeOutDown"),e.qZA(),e.TgZ(293,"option",189),e._uU(294,"FadeOutDownBig"),e.qZA(),e.TgZ(295,"option",190),e._uU(296,"FadeOutLeft"),e.qZA(),e.TgZ(297,"option",191),e._uU(298,"FadeOutLeftBig"),e.qZA(),e.TgZ(299,"option",192),e._uU(300,"FadeOutRight"),e.qZA(),e.TgZ(301,"option",193),e._uU(302,"FadeOutRightBig"),e.qZA(),e.TgZ(303,"option",194),e._uU(304,"FadeOutUp"),e.qZA(),e.TgZ(305,"option",195),e._uU(306,"FadeOutUpBig"),e.qZA(),e.TgZ(307,"option",196),e._uU(308,"FadeOutTopLeft"),e.qZA(),e.TgZ(309,"option",197),e._uU(310,"FadeOutTopRight"),e.qZA(),e.TgZ(311,"option",198),e._uU(312,"FadeOutBottomRight"),e.qZA(),e.TgZ(313,"option",199),e._uU(314,"FadeOutBottomLeft"),e.qZA()(),e.TgZ(315,"optgroup",200)(316,"option",201),e._uU(317,"Flip"),e.qZA(),e.TgZ(318,"option",202),e._uU(319,"FlipInX"),e.qZA(),e.TgZ(320,"option",203),e._uU(321,"FlipInY"),e.qZA(),e.TgZ(322,"option",204),e._uU(323,"FlipOutX"),e.qZA(),e.TgZ(324,"option",205),e._uU(325,"FlipOutY"),e.qZA()(),e.TgZ(326,"optgroup",206)(327,"option",207),e._uU(328,"LightSpeedInRight"),e.qZA(),e.TgZ(329,"option",208),e._uU(330,"LightSpeedInLeft"),e.qZA(),e.TgZ(331,"option",209),e._uU(332,"LightSpeedOutRight"),e.qZA(),e.TgZ(333,"option",210),e._uU(334,"LightSpeedOutLeft"),e.qZA()(),e.TgZ(335,"optgroup",211)(336,"option",212),e._uU(337,"RotateIn"),e.qZA(),e.TgZ(338,"option",213),e._uU(339,"RotateInDownLeft"),e.qZA(),e.TgZ(340,"option",214),e._uU(341,"RotateInDownRight"),e.qZA(),e.TgZ(342,"option",215),e._uU(343,"RotateInUpLeft"),e.qZA(),e.TgZ(344,"option",216),e._uU(345,"RotateInUpRight"),e.qZA()(),e.TgZ(346,"optgroup",217)(347,"option",218),e._uU(348,"RotateOut"),e.qZA(),e.TgZ(349,"option",219),e._uU(350,"RotateOutDownLeft"),e.qZA(),e.TgZ(351,"option",220),e._uU(352,"RotateOutDownRight"),e.qZA(),e.TgZ(353,"option",221),e._uU(354,"RotateOutUpLeft"),e.qZA(),e.TgZ(355,"option",222),e._uU(356,"RotateOutUpRight"),e.qZA()(),e.TgZ(357,"optgroup",223)(358,"option",224),e._uU(359,"Hinge"),e.qZA(),e.TgZ(360,"option",225),e._uU(361,"JackInTheBox"),e.qZA(),e.TgZ(362,"option",226),e._uU(363,"RollIn"),e.qZA(),e.TgZ(364,"option",227),e._uU(365,"RollOut"),e.qZA()(),e.TgZ(366,"optgroup",228)(367,"option",229),e._uU(368,"ZoomIn"),e.qZA(),e.TgZ(369,"option",230),e._uU(370,"ZoomInDown"),e.qZA(),e.TgZ(371,"option",231),e._uU(372,"ZoomInLeft"),e.qZA(),e.TgZ(373,"option",232),e._uU(374,"ZoomInRight"),e.qZA(),e.TgZ(375,"option",233),e._uU(376,"ZoomInUp"),e.qZA()(),e.TgZ(377,"optgroup",234)(378,"option",235),e._uU(379,"ZoomOut"),e.qZA(),e.TgZ(380,"option",236),e._uU(381,"ZoomOutDown"),e.qZA(),e.TgZ(382,"option",237),e._uU(383,"ZoomOutLeft"),e.qZA(),e.TgZ(384,"option",238),e._uU(385,"ZoomOutRight"),e.qZA(),e.TgZ(386,"option",239),e._uU(387,"ZoomOutUp"),e.qZA()(),e.TgZ(388,"optgroup",240)(389,"option",241),e._uU(390,"SlideInDown"),e.qZA(),e.TgZ(391,"option",242),e._uU(392,"SlideInLeft"),e.qZA(),e.TgZ(393,"option",243),e._uU(394,"SlideInRight"),e.qZA(),e.TgZ(395,"option",244),e._uU(396,"SlideInUp"),e.qZA()(),e.TgZ(397,"optgroup",245)(398,"option",246),e._uU(399,"SlideOutDown"),e.qZA(),e.TgZ(400,"option",247),e._uU(401,"SlideOutLeft"),e.qZA(),e.TgZ(402,"option",248),e._uU(403,"SlideOutRight"),e.qZA(),e.TgZ(404,"option",249),e._uU(405,"SlideOutUp"),e.qZA()()()(),e.TgZ(406,"div",12)(407,"label",13)(408,"span"),e._uU(409,"Font"),e.qZA(),e._UZ(410,"i",250),e.qZA(),e.TgZ(411,"select",251)(412,"option",127),e._uU(413,"Select Font"),e.qZA(),e.TgZ(414,"option",252),e._uU(415,"Normal"),e.qZA(),e.TgZ(416,"option",253),e._uU(417,"Bold"),e.qZA(),e.TgZ(418,"option",254),e._uU(419,"Italic"),e.qZA()()(),e.TgZ(420,"div",134)(421,"label",13)(422,"span"),e._uU(423,"Font Size"),e.qZA(),e._UZ(424,"i",255),e.qZA(),e._UZ(425,"input",256),e.qZA()(),e.TgZ(426,"div",1)(427,"div",134)(428,"label",13)(429,"span"),e._uU(430,"Align"),e.qZA(),e._UZ(431,"i",257),e.qZA(),e.TgZ(432,"select",258)(433,"option",127),e._uU(434,"Select Align"),e.qZA(),e.TgZ(435,"option",259),e._uU(436,"Right"),e.qZA(),e.TgZ(437,"option",260),e._uU(438,"Left"),e.qZA(),e.TgZ(439,"option",261),e._uU(440,"Center"),e.qZA()()()()(),e.YNc(441,Ma,10,2,"div",262),e.qZA()}if(2&o){const l=e.oxw();let t;e.xp6(173),e.Q6J("selected",!0),e.xp6(21),e.Q6J("selected",!0),e.xp6(218),e.Q6J("selected",!0),e.xp6(21),e.Q6J("selected",!0),e.xp6(8),e.Q6J("ngIf",null==(t=l.form.get("v_valuemappingBoolean"))?null:t.value)}}let le=(()=>{var o;class s{constructor(t,a,i,r,c){(0,n.Z)(this,"cd",void 0),(0,n.Z)(this,"fb",void 0),(0,n.Z)(this,"api",void 0),(0,n.Z)(this,"getPowerBoard",void 0),(0,n.Z)(this,"toast",void 0),(0,n.Z)(this,"updateParentModel",void 0),(0,n.Z)(this,"form",void 0),(0,n.Z)(this,"customInit",void 0),(0,n.Z)(this,"hideDeleteButton",void 0),(0,n.Z)(this,"defaultValues",void 0),(0,n.Z)(this,"dataChange",new e.vpe),(0,n.Z)(this,"valueOperation",void 0),(0,n.Z)(this,"editOperation",void 0),(0,n.Z)(this,"valueMapping_horizontal",void 0),(0,n.Z)(this,"unsubscribe",[]),(0,n.Z)(this,"showUpdate_ValueMapButton",!1),(0,n.Z)(this,"valueMapTable_data",[]),(0,n.Z)(this,"lookup_data_temp1",[]),(0,n.Z)(this,"getLoggedUser",void 0),(0,n.Z)(this,"SK_clientID",void 0),(0,n.Z)(this,"validateContinue",!1),(0,n.Z)(this,"showAdvancedOptions",void 0),this.cd=t,this.fb=a,this.api=i,this.getPowerBoard=r,this.toast=c}ngOnChanges(t){t.valueMapping_horizontal&&(this.valueMapTable_data=this.valueMapping_horizontal)}ngOnInit(){this.getLoggedUser=this.getPowerBoard.getLoggedUserDetails(),this.SK_clientID=this.getLoggedUser.attributes["custom:clientID"],this.initForm(),this.updateParentModel({},!0),this.fetchTMData(1)}toggleAdvancedOptions(){const t=document.getElementById("advancedOptions");t&&(t.classList.contains("show")?t.classList.remove("show"):t.classList.add("show")),this.form.get("v_vm_icon")?.patchValue(v.v_vm_icon),this.form.get("v_vm_animation")?.patchValue(v.v_vm_animation),this.form.get("v_vm_font_size")?.patchValue(v.v_vm_font_size),this.form.get("v_vm_label_color")?.patchValue(v.v_vm_label_color),this.form.get("v_vm_text_color")?.patchValue(v.v_vm_text_color),this.form.get("v_vm_align_type")?.patchValue(v.v_vm_align_type),this.form.get("v_vm_font")?.patchValue(v.v_vm_font),this.cd.detectChanges()}initForm(){console.log("Getiing val",v),this.form=this.fb.group({v_valuemappingBoolean:[d.v_valuemappingBoolean,[p.kI.required]],v_vm_label:[v.v_vm_label,[p.kI.required]],v_vm_value:[v.v_vm_value,[p.kI.required]],v_vm_equation:[v.v_vm_equation],v_vm_icon:[v.v_vm_icon],v_vm_label_color:[v.v_vm_label_color],v_vm_animation:[v.v_vm_animation],v_vm_font:[v.v_vm_font],v_vm_text_color:[v.v_vm_text_color],v_vm_font_size:[v.v_vm_font_size],v_vm_align_type:[v.v_vm_align_type]}),0==this.hideDeleteButton&&this.form.disable(),""!=v.v_vm_label&&null!=v.v_vm_value&&(this.editOperation=!0),this.cd.detectChanges();const t=this.form.valueChanges.subscribe(a=>{this.valueMapTable_data.length>0?this.updateParentModel(a,!0):0==this.form.get("v_valuemappingBoolean")?.value?(this.form.reset(),this.updateParentModel(a,!0)):this.updateParentModel(a,this.validateContinue)});this.unsubscribe.push(t)}checkForm(){return!(this.form.get("v_vm_label")?.hasError("required")||this.form.get("v_vm_value")?.hasError("required"))}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}getValueMap(t,a){if(console.log("Array check1",this.valueMapTable_data),"html"==a){for(let i=0;i<this.valueMapTable_data.length;i++)if(this.valueMapTable_data[i].v_vm_label===this.form.value.v_vm_label.trim()||this.valueMapTable_data[i].v_vm_value===this.form.value.v_vm_value)return h().fire({customClass:{container:"my-swal"},position:"center",title:"Already exists?",text:"Add New Value Map again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1});(null==this.form.value.v_vm_text_color||""==this.form.value.v_vm_text_color)&&(this.form.value.v_vm_text_color="#000000"),this.form.value&&this.form.value.v_vm_label&&this.valueMapTable_data.push({v_vm_label:this.form.value.v_vm_label,v_vm_value:this.form.value.v_vm_value,v_vm_equation:this.form.value.v_vm_equation,v_vm_icon:this.form.value.v_vm_icon,v_vm_label_color:this.form.value.v_vm_label_color,v_vm_animation:this.form.value.v_vm_animation,v_vm_font:this.form.value.v_vm_font,v_vm_text_color:this.form.value.v_vm_text_color,v_vm_font_size:this.form.value.v_vm_font_size,v_vm_align_type:this.form.value.v_vm_align_type}),console.log("All the value mappings :",this.valueMapTable_data),h().fire({customClass:{container:"my-swal"},position:"center",title:"Value Mapping Added",text:"Confirm Changes by Clicking Submit/Update",icon:"success"})}else if("ts_edit"==a)if(this.valueMapTable_data=[],console.log("getValues of value map",t.length),void 0!==t&&t.length>=1){if(t&&void 0!==t)for(let i=0;i<t.length;i++)null!=t[i].v_vm_label?this.valueMapTable_data.push({v_vm_label:t[i].v_vm_label?t[i].v_vm_label:"",v_vm_value:t[i].v_vm_value?t[i].v_vm_value:"",v_vm_equation:t[i].v_vm_equation?t[i].v_vm_equation:"",v_vm_icon:t[i].v_vm_icon?t[i].v_vm_icon:"",v_vm_label_color:t[i].v_vm_label_color?t[i].v_vm_label_color:"",v_vm_animation:t[i].v_vm_animation?t[i].v_vm_animation:"",v_vm_font:t[i].v_vm_font?t[i].v_vm_font:"",v_vm_text_color:t[i].v_vm_text_color?t[i].v_vm_text_color:"",v_vm_font_size:t[i].v_vm_font_size?t[i].v_vm_font_size:"",v_vm_align_type:t[i].v_vm_align_type?t[i].v_vm_align_type:""}):this.valueMapTable_data=[]}else this.valueMapTable_data=[];else if("update"==a){if(console.log("Iam insite Update state :"),(null==this.form.value.v_vm_text_color||""==this.form.value.v_vm_text_color)&&(this.form.value.v_vm_text_color="#000000"),this.form.value&&this.form.value.v_vm_label){console.log("Iam insite Update state : check2"+this.valueMapTable_data[0].v_vm_label);for(let i=0;i<this.valueMapTable_data.length;i++)this.valueMapTable_data[i].v_vm_label==this.form.value.v_vm_label&&(console.log("Iam insite Update state : check3"),this.valueMapTable_data[i].v_vm_value=this.form.value.v_vm_value,this.valueMapTable_data[i].v_vm_equation=this.form.value.v_vm_equation,this.valueMapTable_data[i].v_vm_icon=this.form.value.v_vm_icon,this.valueMapTable_data[i].v_vm_label_color=this.form.value.v_vm_label_color,this.valueMapTable_data[i].v_vm_animation=this.form.value.v_vm_animation,this.valueMapTable_data[i].v_vm_font=this.form.value.v_vm_font,this.valueMapTable_data[i].v_vm_text_color=this.form.value.v_vm_text_color,this.valueMapTable_data[i].v_vm_font_size=this.form.value.v_vm_font_size,this.valueMapTable_data[i].v_vm_align_type=this.form.value.v_vm_align_type)}h().fire({customClass:{container:"my-swal"},position:"center",title:"Value Mapping Updated",text:"Confirm Changes by Clicking Submit/Update",icon:"success"}),this.editOperation=!1,v.v_vm_align_type="",v.v_vm_animation="",v.v_vm_equation="",v.v_vm_font="",v.v_vm_font_size=1,v.v_vm_icon="",v.v_vm_label="",v.v_vm_label_color="",v.v_vm_text_color="#000000",v.v_vm_value=null,console.log("updated valuemap",this.valueMapTable_data)}else if("delete"==a){this.valueMapTable_data=[];for(let i=0;i<t.length;i++)this.valueMapTable_data.push({v_vm_label:t[i].v_vm_label,v_vm_value:t[i].v_vm_value,v_vm_equation:t[i].v_vm_equation,v_vm_icon:t[i].v_vm_icon,v_vm_label_color:t[i].v_vm_label_color,v_vm_animation:t[i].v_vm_animation,v_vm_font:t[i].v_vm_font,v_vm_text_color:t[i].v_vm_text_color,v_vm_font_size:t[i].v_vm_font_size,v_vm_align_type:t[i].v_vm_align_type})}return console.log("table data after update",this.valueMapTable_data),console.log("valuempatable",JSON.stringify(this.valueMapTable_data).replace(/\"/g,"")),this.form.get("v_vm_label")?.setValue(""),this.form.get("v_vm_value")?.setValue(""),this.form.get("v_vm_equation")?.setValue(""),this.form.get("v_vm_icon")?.setValue(""),this.form.get("v_vm_label_color")?.setValue(""),this.form.get("v_vm_animation")?.setValue(""),this.form.get("v_vm_font")?.setValue(""),this.form.get("v_vm_text_color")?.setValue(""),this.form.get("v_vm_font_size")?.setValue(""),this.form.get("v_vm_align_type")?.setValue(""),this.updateData(this.valueMapTable_data),this.validateContinue=!0,this.updateParentModel(this.form.value,this.validateContinue),this.valueMapTable_data}updateData(t){console.log("I am getting triggered iam changing;"),this.valueMapTable_data=t,this.dataChange.emit(this.valueMapTable_data)}fetchTMData(t){var a=this;return(0,y.Z)(function*(){console.log("iam trying to fetch",a.SK_clientID);try{const i=yield a.api.GetLookupRdt(a.SK_clientID,t);if(i&&i.items)if("string"==typeof i.items){let r=JSON.parse(i.items);if(console.log("d1 =",r),Array.isArray(r)){for(let c=0;c<r.length;c++){const u=r[c];if(null==u)break;{const m=Object.keys(u)[0],{P1:g,P2:b,P3:Z,P4:T}=u[m];a.lookup_data_temp1.push({P1:g,P2:b,P3:Z,P4:T}),console.log("d2 =",a.lookup_data_temp1)}}a.lookup_data_temp1.sort((c,u)=>u.P4-c.P4),console.log("Lookup sorting",a.lookup_data_temp1),yield a.fetchTMData(t+1)}else console.error("Invalid data format - not an array.")}else console.error("response.listOfItems is not a string.");else console.log(),console.log("RDT to be displayed",a.lookup_data_temp1),a.form.get("v_vm_icon")?.patchValue(v.v_vm_icon),a.form.get("v_vm_animation")?.patchValue(v.v_vm_animation),a.form.get("v_vm_font_size")?.patchValue(v.v_vm_font_size),a.form.get("v_vm_label_color")?.patchValue(v.v_vm_label_color),a.form.get("v_vm_text_color")?.patchValue(v.v_vm_text_color),a.form.get("v_vm_align_type")?.patchValue(v.v_vm_align_type),a.form.get("v_vm_font")?.patchValue(v.v_vm_font),a.cd.detectChanges()}catch(i){console.error("Error:",i)}})()}copyToLocalStorage(){const t=this.form.value;console.log("Values are here for copying ",t),localStorage.setItem("virtualMappingData",JSON.stringify(t)),this.toast.open("Your data has been copied successfully!","",{duration:1e3,horizontalPosition:"center",verticalPosition:"bottom"}),console.log("Copied to local storage:",t)}pasteFromLocalStorage(){const t=localStorage.getItem("virtualMappingData");if(t){const a=JSON.parse(t),i=document.getElementById("advancedOptions");i&&i.classList.add("show"),this.form.patchValue(a),this.cd.detectChanges(),console.log("Pasted from local storage:",a)}else console.log("No data found in local storage")}}return o=s,(0,n.Z)(s,"\u0275fac",function(t){return new(t||o)(e.Y36(e.sBO),e.Y36(p.qu),e.Y36(V.t),e.Y36(O.F),e.Y36(E.ux))}),(0,n.Z)(s,"\u0275cmp",e.Xpm({type:o,selectors:[["app-vi-step3"]],inputs:{updateParentModel:"updateParentModel",customInit:"customInit",hideDeleteButton:"hideDeleteButton",defaultValues:"defaultValues",valueOperation:"valueOperation",editOperation:"editOperation",valueMapping_horizontal:"valueMapping_horizontal"},outputs:{dataChange:"dataChange"},features:[e.TTD],decls:11,vars:4,consts:[[3,"formGroup"],[1,"row","mb-7"],[1,"col"],[1,"form-check","form-check-inline","form-check-solid","me-5"],["name","v_valuemappingBoolean","type","checkbox","formControlName","v_valuemappingBoolean",1,"form-check-input"],[1,"fw-bold","ps-2","fc-8"],["ngbTooltip","Example: Map temperature ranges (e.g., 0-10\xb0C, 11-20\xb0C, etc.) to descriptive labels like 'Cold,' 'Moderate,' and 'Hot'",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["class","row mb-7",4,"ngIf"],["class","required-fields",4,"ngIf"],["class","advanced-options",4,"ngIf"],[2,"font-size","15px"],[1,"required-fields"],[1,"col-md-4","mb-md-0"],[1,"d-flex","align-items-center","fs-6","fw-bold","form-label","mb-2"],[1,"required"],["ngbTooltip","Enter the Value",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["type","number","name","v_vm_value","formControlName","v_vm_value","placeholder","Enter Value","required","","appPreventScroll","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["class","fv-plugins-message-container invalid-feedback",4,"ngIf"],["ngbTooltip","Enter the Label",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["type","text","name","v_vm_label","formControlName","v_vm_label","placeholder","Enter Label","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[1,"fv-plugins-message-container","invalid-feedback"],[1,"advanced-options"],["type","button",1,"btn","btn-sm","btn-dark","btn-advanced",3,"click"],[1,"fas","fa-chevron-down"],["id","advancedOptions",1,"collapse"],[1,"row","mb-7","mt-4"],["ngbTooltip","Enter the Equation",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["placeholder","Enter equation","formControlName","v_vm_equation",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",2,"height","10px"],["ngbTooltip","Enter the Class Icon to display",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["placeholder","Select Icon","formControlName","v_vm_icon","required",""],["value","null","disabled",""],["value","None"],["value","bi bi-graph-up",1,"icon-option"],[1,"bi","bi-graph-up","icon"],["value","bi bi-graph-down",1,"icon-option"],[1,"bi","bi-graph-down","icon"],["value","bi bi-bar-chart",1,"icon-option"],[1,"bi","bi-bar-chart","icon"],["value","bi bi-pie-chart",1,"icon-option"],[1,"bi","bi-pie-chart","icon"],["value","bi bi-speedometer2",1,"icon-option"],[1,"bi","bi-speedometer2","icon"],["value","bi bi-alarm",1,"icon-option"],[1,"bi","bi-alarm","icon"],["value","bi bi-bell",1,"icon-option"],[1,"bi","bi-bell","icon"],["value","bi bi-calendar",1,"icon-option"],[1,"bi","bi-calendar","icon"],["value","bi bi-cpu",1,"icon-option"],[1,"bi","bi-cpu","icon"],["value","bi bi-bar-chart-fill",1,"icon-option"],[1,"bi","bi-bar-chart-fill","icon"],["value","bi bi-diagram-3-fill",1,"icon-option"],[1,"bi","bi-diagram-3-fill","icon"],["value","bi bi-table",1,"icon-option"],[1,"bi","bi-table","icon"],["value","bi bi-filter",1,"icon-option"],[1,"bi","bi-filter","icon"],["value","bi bi-hdd",1,"icon-option"],[1,"bi","bi-hdd","icon"],["value","bi bi-person",1,"icon-option"],[1,"bi","bi-person","icon"],["value","bi bi-people",1,"icon-option"],[1,"bi","bi-people","icon"],["value","bi bi-person-check",1,"icon-option"],[1,"bi","bi-person-check","icon"],["value","bi bi-person-x",1,"icon-option"],[1,"bi","bi-person-x","icon"],["value","bi bi-exclamation-triangle",1,"icon-option"],[1,"bi","bi-exclamation-triangle","icon"],["value","bi bi-exclamation-circle",1,"icon-option"],[1,"bi","bi-exclamation-circle","icon"],["value","bi bi-activity",1,"icon-option"],[1,"bi","bi-activity","icon"],["value","bi bi-shield",1,"icon-option"],[1,"bi","bi-shield","icon"],["value","bi bi-folder",1,"icon-option"],[1,"bi","bi-folder","icon"],["value","bi bi-folder-fill",1,"icon-option"],[1,"bi","bi-folder-fill","icon"],["value","bi bi-hdd-fill",1,"icon-option"],[1,"bi","bi-hdd-fill","icon"],["value","bi bi-cloud-download",1,"icon-option"],[1,"bi","bi-cloud-download","icon"],["value","bi bi-cloud-upload",1,"icon-option"],[1,"bi","bi-cloud-upload","icon"],["value","bi bi-gear",1,"icon-option"],[1,"bi","bi-gear","icon"],["value","bi bi-wrench",1,"icon-option"],[1,"bi","bi-wrench","icon"],["value","bi bi-arrow-up-right",1,"icon-option"],[1,"bi","bi-arrow-up-right","icon"],["value","bi bi-arrow-down-left",1,"icon-option"],[1,"bi","bi-arrow-down-left","icon"],["value","bi bi-reply-all",1,"icon-option"],[1,"bi","bi-reply-all","icon"],["value","bi bi-clock",1,"icon-option"],[1,"bi","bi-clock","icon"],["value","bi bi-lightbulb",1,"icon-option"],[1,"bi","bi-lightbulb","icon"],["value","bi bi-lightbulb-fill",1,"icon-option"],[1,"bi","bi-lightbulb-fill","icon"],["value","bi bi-clipboard-data",1,"icon-option"],[1,"bi","bi-clipboard-data","icon"],["value","bi bi-file-earmark",1,"icon-option"],[1,"bi","bi-file-earmark","icon"],["value","bi bi-folder-symlink",1,"icon-option"],[1,"bi","bi-folder-symlink","icon"],["value","bi bi-basket",1,"icon-option"],[1,"bi","bi-basket","icon"],["ngbTooltip","Enter the Style Text Color",1,"fas","fa-exclamation-circle","ms-2","fs-7"],[1,"d-flex","align-items-center"],["type","color","list","presetColors","name","v_vm_text_color","formControlName","v_vm_text_color",1,"form-select","form-control-lg","form-control-solid","mb-3","mb-lg-0","me-2"],["id","presetColors"],["value","#FF5733"],["value","#C70039"],["value","#FFC300"],["value","#DAF7A6"],["value","#581845"],["value","#1C2833"],["value","#2980B9"],["value","#27AE60"],["value","#F39C12"],["value","#8E44AD"],[1,"col-md-4","mb-md-0",2,"display","none"],["ngbTooltip","Enter the Label color",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["placeholder","select label color","name","v_vm_label_color","formControlName","v_vm_label_color","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["value","null","disabled","true",3,"selected"],["value","Default"],["value","Green"],["value","Blue"],["value","Turquoise"],["value","Yellow"],["value","Red"],[1,"col-md-4"],["ngbTooltip","Select the Animation from the list",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["placeholder","select animation","name","v_vm_animation","formControlName","v_vm_animation","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["label","Attention Seekers"],["value","bounce"],["value","flash"],["value","pulse"],["value","rubberBand"],["value","shakeX"],["value","shakeY"],["value","headShake"],["value","swing"],["value","tada"],["value","wobble"],["value","jello"],["value","heartBeat"],["label","Back Entrances"],["value","backInDown"],["value","backInLeft"],["value","backInRight"],["value","backInUp"],["label","Back Exits"],["value","backOutDown"],["value","backOutLeft"],["value","backOutRight"],["value","backOutUp"],["label","Bouncing Entrances"],["value","bounceIn"],["value","bounceInDown"],["value","bounceInLeft"],["value","bounceInRight"],["value","bounceInUp"],["label","Bouncing Exits"],["value","bounceOut"],["value","bounceOutDown"],["value","bounceOutLeft"],["value","bounceOutRight"],["value","bounceOutUp"],["label","Fading Entrances"],["value","fadeIn"],["value","fadeInDown"],["value","fadeInDownBig"],["value","fadeInLeft"],["value","fadeInLeftBig"],["value","fadeInRight"],["value","fadeInRightBig"],["value","fadeInUp"],["value","fadeInUpBig"],["value","fadeInTopLeft"],["value","fadeInTopRight"],["value","fadeInBottomLeft"],["value","fadeInBottomRight"],["label","Fading Exits"],["value","fadeOut"],["value","fadeOutDown"],["value","fadeOutDownBig"],["value","fadeOutLeft"],["value","fadeOutLeftBig"],["value","fadeOutRight"],["value","fadeOutRightBig"],["value","fadeOutUp"],["value","fadeOutUpBig"],["value","fadeOutTopLeft"],["value","fadeOutTopRight"],["value","fadeOutBottomRight"],["value","fadeOutBottomLeft"],["label","Flippers"],["value","flip"],["value","flipInX"],["value","flipInY"],["value","flipOutX"],["value","flipOutY"],["label","Lightspeed"],["value","lightSpeedInRight"],["value","lightSpeedInLeft"],["value","lightSpeedOutRight"],["value","lightSpeedOutLeft"],["label","Rotating Entrances"],["value","rotateIn"],["value","rotateInDownLeft"],["value","rotateInDownRight"],["value","rotateInUpLeft"],["value","rotateInUpRight"],["label","Rotating Exits"],["value","rotateOut"],["value","rotateOutDownLeft"],["value","rotateOutDownRight"],["value","rotateOutUpLeft"],["value","rotateOutUpRight"],["label","Specials"],["value","hinge"],["value","jackInTheBox"],["value","rollIn"],["value","rollOut"],["label","Zooming Entrances"],["value","zoomIn"],["value","zoomInDown"],["value","zoomInLeft"],["value","zoomInRight"],["value","zoomInUp"],["label","Zooming Exits"],["value","zoomOut"],["value","zoomOutDown"],["value","zoomOutLeft"],["value","zoomOutRight"],["value","zoomOutUp"],["label","Sliding Entrances"],["value","slideInDown"],["value","slideInLeft"],["value","slideInRight"],["value","slideInUp"],["label","Sliding Exits"],["value","slideOutDown"],["value","slideOutLeft"],["value","slideOutRight"],["value","slideOutUp"],["ngbTooltip","Enter the Font Style",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["placeholder","select font style","name","v_vm_font","formControlName","v_vm_font","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["value","Normal"],["value","Bold"],["value","Italic"],["ngbTooltip","Select the Font Size",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["type","number","min","0","placeholder","Enter font size","name","v_vm_font_size","formControlName","v_vm_font_size","appPreventScroll","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["ngbTooltip","Specify the Align type",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["placeholder","select align type","name","v_vm_align_type","formControlName","v_vm_align_type","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["value","Right"],["value","Left"],["value","Center"],["style","display: flex;flex-direction: row;justify-content: space-between;gap:10px;align-items: baseline;",4,"ngIf"],[2,"display","flex","flex-direction","row","justify-content","space-between","gap","10px","align-items","baseline"],["class","footer col","style","padding-top: 30px;",4,"ngIf"],[2,"padding-top","20px"],["type","button",1,"btn","btn-success","btn-sm",2,"margin-right","5px",3,"click"],[1,"fa-solid","fa-copy"],["type","button",1,"btn","btn-warning","btn-sm",3,"click"],[1,"fa-solid","fa-paste"],[1,"footer","col",2,"padding-top","30px"],["type","button",1,"btn","btn-sm","btn-primary",3,"disabled","click"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e._UZ(4,"input",4),e.TgZ(5,"span",5),e._uU(6,"Enable Value Mapping "),e._UZ(7,"i",6),e.qZA()()()(),e.YNc(8,qa,3,0,"div",7),e.YNc(9,wa,16,2,"div",8),e.YNc(10,ka,442,5,"div",9),e.qZA()),2&t){let i,r,c;e.Q6J("formGroup",a.form),e.xp6(8),e.Q6J("ngIf",!(null!=(i=a.form.get("v_valuemappingBoolean"))&&i.value)),e.xp6(1),e.Q6J("ngIf",null==(r=a.form.get("v_valuemappingBoolean"))?null:r.value),e.xp6(1),e.Q6J("ngIf",null==(c=a.form.get("v_valuemappingBoolean"))?null:c.value)}},dependencies:[A.O5,p.YN,p.Kr,p.Fj,p.wV,p.Wl,p.EJ,p.JJ,p.JL,p.Q7,p.qQ,p.sg,p.u,M._L,z.gD,j.ey,L],styles:["mat-select[_ngcontent-%COMP%]{background-color:var(--bs-gray-100);color:var(--bs-gray-700);font-weight:600!important;padding:.825rem 1.3rem .825rem 1.5rem;font-size:1.15rem;border-radius:.625rem}input[disabled][_ngcontent-%COMP%]{cursor:not-allowed}.btn-advanced[_ngcontent-%COMP%]{position:relative;display:inline-block;color:#fff;border:none;padding:8px 16px;font-weight:700;cursor:pointer;outline:none;overflow:hidden;transition:background-color .3s,color .3s,transform .3s;border-radius:4px}.btn-advanced[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff;transform:translateY(-2px)}.btn-advanced[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{margin-left:5px;transition:transform .3s ease}.btn-advanced[_ngcontent-%COMP%]:hover   .fas[_ngcontent-%COMP%]{transform:translate(5px)}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);transition:.7s}.icon-option[_ngcontent-%COMP%]{display:flex;align-items:center}.icon[_ngcontent-%COMP%]{font-size:15px;margin-right:8px;color:#000;font-weight:bolder}"]})),s})(),Oa=(()=>{var o;class s{constructor(t,a){(0,n.Z)(this,"cd",void 0),(0,n.Z)(this,"router",void 0),(0,n.Z)(this,"step1",void 0),(0,n.Z)(this,"updateParentModel",void 0),(0,n.Z)(this,"form",void 0),(0,n.Z)(this,"isCurrentFormValid$",new S.X(!1)),(0,n.Z)(this,"account$",new S.X(d)),(0,n.Z)(this,"ParametercurrentStep$",new S.X(1)),(0,n.Z)(this,"customInit",void 0),(0,n.Z)(this,"defaultValues",void 0),(0,n.Z)(this,"editOperation",void 0),(0,n.Z)(this,"scaleOperation",void 0),(0,n.Z)(this,"ValueMappingData",[]),(0,n.Z)(this,"scalingTableData",[]),this.cd=t,this.router=a}newParameter(){this.router.navigate(["rdt-stepper/virtual-parameter"]).then(()=>{window.location.reload()})}}return o=s,(0,n.Z)(s,"\u0275fac",function(t){return new(t||o)(e.Y36(e.sBO),e.Y36(I.F0))}),(0,n.Z)(s,"\u0275cmp",e.Xpm({type:o,selectors:[["app-vi-step5"]],viewQuery:function(t,a){if(1&t&&e.Gf(H,5),2&t){let i;e.iGM(i=e.CRH())&&(a.step1=i.first)}},inputs:{updateParentModel:"updateParentModel",customInit:"customInit",defaultValues:"defaultValues",editOperation:"editOperation",scaleOperation:"scaleOperation"},decls:8,vars:0,consts:[[1,"pb-8","pb-lg-10"],[1,"fw-bolder","text-dark"],[1,"fs-5","text-gray-600","mb-4"],["type","button",1,"btn","btn-sm","fw-bold","btn-primary",3,"click"],["onmouseover","this.style.transform='translateY(-2px)'","onmouseout","this.style.transform='translateY(0)'",1,"bi","bi-plus-square-fill","fs-4","text-white",2,"transform","translateY(0)","transition","transform 0.2s"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Continue Adding Parameters?"),e.qZA(),e.TgZ(3,"div",2),e._uU(4," Parameter Configured Successfully "),e.qZA()(),e.TgZ(5,"button",3),e.NdJ("click",function(){return a.newParameter()}),e._UZ(6,"i",4),e._uU(7,"New Parameter "),e.qZA())}})),s})();function Va(o,s){1&o&&(e.TgZ(0,"h1",53),e._uU(1,"Reading Virtual Parameter Configuration"),e.qZA())}function Fa(o,s){1&o&&(e.TgZ(0,"h1",53),e._uU(1,"Update Virtual Parameter Configuration"),e.qZA())}function La(o,s){if(1&o&&(e.TgZ(0,"span",54),e._uU(1," Parameter: "),e.TgZ(2,"a",55),e._uU(3),e.qZA()()),2&o){const l=e.oxw();e.xp6(3),e.hij(" ",l.selectedParameter," ")}}function Ba(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"app-vi-step1",56),e.BQk()),2&o){const l=e.oxw();e.xp6(1),e.Q6J("updateParentModel",l.updateAccount)("defaultValues",l.account$.value)("EditOperation",l.EditOperation)("parameterData",l.parameterData)("hideDeleteButton",l.hideDeleteButton)}}function Ea(o,s){if(1&o){const l=e.EpF();e.ynx(0),e.TgZ(1,"app-vi-step2",57),e.NdJ("dataChange",function(a){e.CHM(l);const i=e.oxw();return e.KtG(i.onsceduleP(a))}),e.qZA(),e.BQk()}if(2&o){const l=e.oxw();e.xp6(1),e.Q6J("updateParentModel",l.updateAccount)("defaultValues",l.account$.value)("parameterData",l.parameterData)("EditOperation",l.scaleOperation)("scedule_horizontal",l.scheduleData)("hideDeleteButton",l.hideDeleteButton)}}function Na(o,s){if(1&o){const l=e.EpF();e.ynx(0),e.TgZ(1,"app-vi-step3",58),e.NdJ("dataChange",function(a){e.CHM(l);const i=e.oxw();return e.KtG(i.onDataChange(a))}),e.qZA(),e.BQk()}if(2&o){const l=e.oxw();e.xp6(1),e.Q6J("updateParentModel",l.updateAccount)("defaultValues",l.account$.value)("valueMapping_horizontal",l.ValueMappingData)("hideDeleteButton",l.hideDeleteButton)}}function Ra(o,s){if(1&o){const l=e.EpF();e.ynx(0),e.TgZ(1,"app-vi-step4",59),e.NdJ("dataChange",function(a){e.CHM(l);const i=e.oxw();return e.KtG(i.onScalingChange(a))}),e.qZA(),e.BQk()}if(2&o){const l=e.oxw();e.xp6(1),e.Q6J("updateParentModel",l.updateAccount)("defaultValues",l.account$.value)("scallingTable_horizontal",l.scalingTableData)("hideDeleteButton",l.hideDeleteButton)}}function Ja(o,s){1&o&&(e.ynx(0),e._UZ(1,"app-vi-step5",60),e.BQk())}function $a(o,s){if(1&o){const l=e.EpF();e.ynx(0),e.TgZ(1,"button",61),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.prevStep())}),e._UZ(2,"i",62),e._uU(3," Back "),e.qZA(),e.BQk()}}function Qa(o,s){if(1&o){const l=e.EpF();e.ynx(0),e.TgZ(1,"button",63),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.prevStep())}),e._UZ(2,"i",62),e._uU(3," Back "),e.qZA(),e.BQk()}if(2&o){const l=e.oxw();e.xp6(1),e.Q6J("disabled",!l.isCurrentFormValid$.value)}}function Ya(o,s){if(1&o){const l=e.EpF();e.ynx(0),e.TgZ(1,"button",64),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.onSubmit("update"))}),e.TgZ(2,"span",65),e._uU(3," Update "),e.qZA()(),e.BQk()}if(2&o){const l=e.oxw();e.xp6(1),e.Q6J("disabled",!l.isCurrentFormValid$.value||0==l.hideDeleteButton)}}function za(o,s){1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o&&(e.xp6(1),e.hij(" Continue "," "," "))}function Xa(o,s){if(1&o){const l=e.EpF();e.ynx(0),e.TgZ(1,"div",66)(2,"button",64),e.NdJ("click",function(){e.CHM(l);const a=e.oxw();return e.KtG(a.nextStep())}),e.TgZ(3,"span",65),e.YNc(4,za,2,1,"ng-container",25),e.qZA(),e._UZ(5,"i",67),e.qZA()(),e.BQk()}if(2&o){const l=e.oxw();e.xp6(1),e.Q6J("ngbTooltip",l.isCurrentFormValid$.value?"":"Please fill all the Required fields"),e.xp6(1),e.Q6J("disabled",!l.isCurrentFormValid$.value),e.xp6(2),e.Q6J("ngIf",l.VirtualcurrentStep$.value<l.formsCount-1)}}function Ha(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"button",64),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(2);return a.onSubmit("add"),e.KtG(a.nextStep())}),e.TgZ(1,"span",65),e.ynx(2),e._uU(3," Submit "),e.BQk(),e.qZA()()}if(2&o){const l=e.oxw(2);e.Q6J("disabled",0==l.hideDeleteButton||!l.isCurrentFormValid$.value)}}function Ka(o,s){1&o&&(e.ynx(0),e._uU(1," Update "),e.BQk())}function Ga(o,s){if(1&o){const l=e.EpF();e.TgZ(0,"button",64),e.NdJ("click",function(){e.CHM(l);const a=e.oxw(2);return a.onSubmit("update"),e.KtG(a.nextStep())}),e.TgZ(1,"span",65),e.YNc(2,Ka,2,0,"ng-container",25),e.qZA()()}if(2&o){const l=e.oxw(2);e.Q6J("disabled",!l.isCurrentFormValid$.value||0==l.hideDeleteButton),e.xp6(2),e.Q6J("ngIf",l.VirtualcurrentStep$.value===l.formsCount-1)}}function ja(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"div",66),e.YNc(2,Ha,4,1,"button",68),e.YNc(3,Ga,3,2,"ng-template",null,69,e.W1O),e.qZA(),e.BQk()),2&o){const l=e.MAs(4),t=e.oxw();e.xp6(1),e.Q6J("ngbTooltip",t.isCurrentFormValid$.value&&0!=t.hideDeleteButton?"":"Please fill all the Required fields"),e.xp6(1),e.Q6J("ngIf",!t.EditOperation)("ngIfElse",l)}}function Wa(o,s){1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Label"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Value"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Equation"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Icon"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Color"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Animation"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Font"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Text Color"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Font Size"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Align Type"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Edit"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Delete"),e.qZA()())}function ei(o,s){1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Label"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Value"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Equation"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Icon"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Color"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Animation"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Font"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Text Color"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Font Size"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Align Type"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Edit"),e.qZA()())}function ti(o,s){1&o&&(e.TgZ(0,"tr")(1,"th")(2,"b"),e._uU(3,"Threshold"),e.qZA()(),e.TgZ(4,"th")(5,"b"),e._uU(6,"Multiplication Factor"),e.qZA()(),e.TgZ(7,"th")(8,"b"),e._uU(9,"Unit"),e.qZA()(),e.TgZ(10,"th")(11,"b"),e._uU(12,"Edit"),e.qZA()(),e.TgZ(13,"th")(14,"b"),e._uU(15,"Delete"),e.qZA()()())}function ai(o,s){1&o&&(e.TgZ(0,"tr")(1,"th")(2,"b"),e._uU(3,"Threshold"),e.qZA()(),e.TgZ(4,"th")(5,"b"),e._uU(6,"Multiplication Factor"),e.qZA()(),e.TgZ(7,"th")(8,"b"),e._uU(9,"Unit"),e.qZA()(),e.TgZ(10,"th")(11,"b"),e._uU(12,"Edit"),e.qZA()()())}const Q=function(o,s){return{current:o,completed:s}},ii=[{path:"",component:Yt,children:[{path:"parameter",component:Ct},{path:"rdt",component:Qt},{path:"virtual-parameter",component:(()=>{var o;class s{constructor(t,a,i,r,c,u){(0,n.Z)(this,"modalService",void 0),(0,n.Z)(this,"getPowerBoard",void 0),(0,n.Z)(this,"api",void 0),(0,n.Z)(this,"cd",void 0),(0,n.Z)(this,"router",void 0),(0,n.Z)(this,"auditTrialServices",void 0),(0,n.Z)(this,"formsCount",5),(0,n.Z)(this,"account$",new S.X(d)),(0,n.Z)(this,"VirtualcurrentStep$",new S.X(1)),(0,n.Z)(this,"isCurrentFormValid$",new S.X(!1)),(0,n.Z)(this,"unsubscribe",[]),(0,n.Z)(this,"step1Comp",void 0),(0,n.Z)(this,"step2Comp",void 0),(0,n.Z)(this,"step4Comp",void 0),(0,n.Z)(this,"vistep2Comp",void 0),(0,n.Z)(this,"scalingTableModal",void 0),(0,n.Z)(this,"customInit",void 0),(0,n.Z)(this,"getLoggedUser",void 0),(0,n.Z)(this,"SK_clientID",void 0),(0,n.Z)(this,"username",void 0),(0,n.Z)(this,"parameterData",[]),(0,n.Z)(this,"deviceTableData",void 0),(0,n.Z)(this,"dataform",[]),(0,n.Z)(this,"hideDeleteButton",!1),(0,n.Z)(this,"columnDatatable",[]),(0,n.Z)(this,"alertsDatatable",void 0),(0,n.Z)(this,"ValueMappingData",[]),(0,n.Z)(this,"scalingTableData",void 0),(0,n.Z)(this,"EditOperation",!1),(0,n.Z)(this,"parameterArray",[]),(0,n.Z)(this,"TempObj",void 0),(0,n.Z)(this,"toast",void 0),(0,n.Z)(this,"allRDTDetails",void 0),(0,n.Z)(this,"UpdateParameterType",void 0),(0,n.Z)(this,"scalingTable",void 0),(0,n.Z)(this,"ValueMapping",void 0),(0,n.Z)(this,"scaleOperation",!1),(0,n.Z)(this,"valueOperation",!1),(0,n.Z)(this,"showUpdateParameterButton",void 0),(0,n.Z)(this,"allPermissions_user",[]),(0,n.Z)(this,"scalingTabletemp",void 0),(0,n.Z)(this,"restrict",!1),(0,n.Z)(this,"clientID",void 0),(0,n.Z)(this,"selectedParameter",void 0),(0,n.Z)(this,"tempValueMapping",void 0),(0,n.Z)(this,"scalingtemp",void 0),(0,n.Z)(this,"scheduleParametersData",void 0),(0,n.Z)(this,"scheduleData",void 0),(0,n.Z)(this,"tempschedule",void 0),(0,n.Z)(this,"scheduleOperation",!1),(0,n.Z)(this,"selected_parameter_Label",void 0),(0,n.Z)(this,"selected_parameter_ID",void 0),(0,n.Z)(this,"isMenuOpen",!1),(0,n.Z)(this,"updateAccount",(m,g)=>{const Z={...this.account$.value,...m};this.account$.next(Z),this.isCurrentFormValid$.next(g)}),this.modalService=t,this.getPowerBoard=a,this.api=i,this.cd=r,this.router=c,this.auditTrialServices=u,this.router.events.subscribe(m=>{m instanceof I.m2&&(console.log("NavigationEnd event in PowerBoard1Component"),this.EditOperation=!1,d.virtual_equation_textarea="",d.v_parameterID="",d.v_decimalPoint=1,d.v_mX_C_C_Correction_Factor="0",d.v_mX_C_X_Multiplication_Factor="1",d.v_parameterDescription="",d.v_parameterLabel="",d.v_scaling_table=[],d.v_scalingtableBoolean=!1,d.v_schedule_heatmap_type="",d.v_schedule_max=null,d.v_schedule_operation_type="",d.v_schedule_parameter=!1,d.v_schedule_parameter_name="",d.v_schedule_parameter_label="",d.v_schedule_value_type="",d.v_value_mapping=[],d.v_valuemappingBoolean=!1,v.v_vm_align_type="",v.v_vm_equation="",v.v_vm_font="",v.v_vm_font_size=NaN,v.v_vm_icon="",v.v_vm_label="",v.v_vm_label_color="",v.v_vm_text_color="",v.v_vm_value=null,v.v_vm_animation="",U.v_scale_threshold=null,U.v_sc_unit="",U.v_sc_multiply=null,this.ValueMappingData=[],this.scalingTableData=[],this.scheduleData=[])})}throwValidation(){h().fire({icon:"warning",title:"Missing Information",text:"Please fill in all the required fields to proceed.",confirmButtonText:"OK"})}goToStep(t){if(5!=this.VirtualcurrentStep$.value){if(this.VirtualcurrentStep$.value>t)return void this.VirtualcurrentStep$.next(t);this.isCurrentFormValid$.value?this.VirtualcurrentStep$.next(t):this.throwValidation()}}toggleMenu(t){this.isMenuOpen=!this.isMenuOpen}onDataChange(t){this.ValueMappingData=t,this.addTable(""),console.log("Value Mappign Coming from Step2 :",this.ValueMappingData)}onScalingChange(t){this.scalingTableData=t,this.scaleaddTable(""),console.log("Scaling Data Coming from Step3 :",this.scalingTableData)}onsceduleP(t){this.scheduleData=t,this.scheduleTable(""),console.log("Scheduled Data Coming from Step2 :",this.scheduleData)}ngOnInit(){const t=localStorage.getItem("viInits");this.customInit=t?JSON.parse(t):null,console.log("localstrorage",this.customInit),this.getLoggedUser=this.getPowerBoard.getLoggedUserDetails(),this.SK_clientID=this.getLoggedUser.attributes["custom:clientID"],this.clientID=this.getLoggedUser.attributes["custom:clientID"]+"#rdt",this.username=this.getLoggedUser.attributes["custom:username"],this.allPermissions_user=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("permissionDetails")))),this.addFromService(),this.getParametersFromRDT(this.customInit),this.auditTrialServices.audit_trail("2.1","Reading Device Type","Viewed",`"${this.customInit.rdtLabel}" RDT Virtual Parameters Table viewed`,"1"),this.VirtualcurrentStep$.subscribe(a=>{3===a?this.addTable(this.ValueMappingData):4===a?this.scaleaddTable(this.scalingTableData):2==a&&this.scheduleTable(this.scheduleData)}),this.cd.detectChanges()}scaleaddTable(t){console.log("Scaling Table array Data is Here :",this.scalingTableData);const a=this.hideDeleteButton?'\n  <div class="btn-group" role="group">\n    <button class="btn btn-sm btn-primary editscalepopin" title="Edit Parameter"><i class="fa fa-edit"></i></button>\n    <button class="btn btn-sm btn-danger deletescalepopin" title="Delete Parameter"><i class="fa fa-trash"></i></button>\n  </div>\n':'\n  <div class="btn-group" role="group">\n    <button class="btn btn-sm btn-primary editscalepopin" title="Edit Parameter"><i class="fa fa-edit"></i></button>\n  </div>\n';$("#temp_scale_tables1").off("click"),$("#temp_scale_tables1").on("click",".editscalepopin, .deletescalepopin",function(){const c=$(this).closest("tr"),u=r.scalingtemp.row(c);u.index(),$(this).hasClass("editscalepopin")?(console.log("Data that is in row:",u.data()),r.editScalingMapping(u.data(),"sub_table")):$(this).hasClass("deletescalepopin")&&r.deleteScale_datatable(u.data(),"scale_temp_table")});const i={pagingType:"full_numbers",destroy:!0,lengthChange:!0,ordering:!0,responsive:!0,data:this.scalingTableData,columns:[{data:"v_scale_threshold"},{data:"v_sc_multiply"},{data:"v_sc_unit"},{defaultContent:a}]};this.scalingtemp=$("#temp_scale_tables1").DataTable(i);const r=this}scheduleTable(t){console.log("Value mapping array Data is Here :",this.scheduleData);const a=this.hideDeleteButton?'\n    <div class="btn-group" role="group">\n      <button class="btn btn-sm btn-primary edittschedule" title="Edit Parameter"><i class="fa fa-edit"></i></button>\n      <button class="btn btn-sm btn-danger deleteschedule" title="Delete Parameter"><i class="fa fa-trash"></i></button>\n    </div>\n  ':'\n    <div class="btn-group" role="group">\n      <button class="btn btn-sm btn-primary edittschedule" title="Edit Parameter"><i class="fa fa-edit"></i></button>\n    </div>\n  ';$("#schedule_value_tables").off("click"),$("#schedule_value_tables").on("click",".edittschedule, .deleteschedule",function(){const c=$(this).closest("tr"),u=r.tempschedule.row(c);u.index(),$(this).hasClass("edittschedule")?r.editScdedule(u.data()):$(this).hasClass("deleteschedule")&&r.deleteSchedule_datatable(u.data(),"step_schedule_parameter")}),console.log("Here after is correct :");const i={pagingType:"full_numbers",destroy:!0,lengthChange:!0,ordering:!0,responsive:!0,data:this.scheduleData,columns:[{data:"v_schedule_parameter_name"},{data:"v_schedule_value_type"},{defaultContent:a}]};console.log("Here also it is correct :"),this.tempschedule=$("#schedule_value_tables").DataTable(i);const r=this}editScdedule(t){console.log("Value Mapping That are need to be Edited :",t),d.v_schedule_parameter=!0,k.v_schedule_parameter_name=t.v_schedule_parameter_name,k.v_schedule_heatmap_type=t.v_schedule_heatmap_type,k.v_schedule_max=t.v_schedule_max,k.v_schedule_value_type=t.v_schedule_value_type,k.v_schedule_operation_type=t.v_schedule_operation_type,this.scheduleOperation=!0,this.EditOperation=!0,this.isCurrentFormValid$.next(!0),setTimeout(()=>{this.vistep2Comp.initForm()},100),this.cd.detectChanges(),console.log("this accow",k)}deleteSchedule_datatable(t,a){h().fire({customClass:{container:"my-swal"},position:"center",title:"Are you sure?",text:"You wont get these details back again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, let me think"}).then(i=>{if(console.log("inside sweetalert",i),i.dismiss!==h().DismissReason.cancel){if(1==i.isConfirmed){for(let r=0;r<this.scheduleData.length;r++)t.v_schedule_parameter_name==this.scheduleData[r].v_schedule_parameter_name&&this.scheduleData.splice(r,1);for(let r=0;r<this.parameterData.length;r++)this.account$.value.v_parameterID==this.parameterData[r].v_parameter_ID&&(this.parameterData[r].v_scheduleparameters=this.scheduleData);console.log("After Deleting ScalingTable Data :",this.scheduleData),console.log("After Deleting ScalingTable Data Paramter Data is:",this.parameterData),this.HelpherDelete(this.parameterData,a),h().fire("Removed!","Scaling Value removed successfully.","success")}}else i.dismiss===h().DismissReason.cancel&&h().fire("Cancelled","Scaling Value not removed","error")})}nextStep(){const t=this.VirtualcurrentStep$.value+1;t>this.formsCount||this.VirtualcurrentStep$.next(t)}prevStep(){const t=this.VirtualcurrentStep$.value-1;0!==t&&this.VirtualcurrentStep$.next(t)}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}addFromService(){this.columnDatatable=[],this.alertsDatatable=[],this.columnDatatable=[{data:"v_parameterID"},{data:"v_parameterLabel"}],this.alertsDatatable=[{data:"alert_datatype"},{data:"alert_variabletype"},{data:"parameterID"},{data:"severity"}],this.checkPermission()}checkPermission(){let t=!1,a=!1;for(let i=0;i<this.allPermissions_user.length;i++)"Reading Device Type - Update"===this.allPermissions_user[i]?t=!0:"Reading Device Type - View"===this.allPermissions_user[i]&&(a=!0);t&&a||t?this.hideDeleteButton=!0:a?this.hideDeleteButton=!1:this.router.navigate(["/404"])}getParametersFromRDT(t){var a=this;console.log("On Edit Data ",t),console.log("On Edit Data ",typeof t),this.api.GetReadingDeviceType(t.rdt_id,this.SK_clientID).then(function(){var i=(0,y.Z)(function*(r){r&&(console.log("Data that is being coming from db",r),a.parameterData=JSON.parse(r.virtual_parameters),console.log("All the parameters :",a.parameterData),a.showTable(a.parameterData))});return function(r){return i.apply(this,arguments)}}())}addTable(t){console.log("Value mapping array Data is Here :",this.ValueMappingData);const a=this.hideDeleteButton?'\n    <div class="btn-group" role="group">\n      <button class="btn btn-sm btn-primary edittempvaluemapping" title="Edit Parameter"><i class="fa fa-edit"></i></button>\n      <button class="btn btn-sm btn-danger deletetempvaluemapping" title="Delete Parameter"><i class="fa fa-trash"></i></button>\n    </div>\n  ':'\n    <div class="btn-group" role="group">\n      <button class="btn btn-sm btn-primary edittempvaluemapping" title="Edit Parameter"><i class="fa fa-edit"></i></button>\n    </div>\n  ';$("#temp_value_tables1").off("click"),$("#temp_value_tables1").on("click",".edittempvaluemapping, .deletetempvaluemapping",function(){const c=$(this).closest("tr"),u=r.tempValueMapping.row(c);u.index(),$(this).hasClass("edittempvaluemapping")?r.editValueMapping(u.data(),"sub_table"):$(this).hasClass("deletetempvaluemapping")&&r.deleteValueMap_datatable(u.data(),"step_value_mapping")}),console.log("Here after is correct :");const i={pagingType:"full_numbers",destroy:!0,lengthChange:!0,ordering:!0,responsive:!0,data:this.ValueMappingData,columns:[{data:"v_vm_label"},{data:"v_vm_value"},{defaultContent:a}]};console.log("Here also it is correct :"),this.tempValueMapping=$("#temp_value_tables1").DataTable(i);const r=this}showTable(t){let a="";const i=(m,g,b,Z,T)=>`\n  <button class="btn btn-sm ${m}" title="${b}" style="display: flex; align-items: center; justify-content: center;" ${Z?`data-bs-toggle='${Z}'`:""} ${T?`data-bs-target='${T}'`:""}>\n    <i class="${g}"></i>\n  </button>\n`;a=1==this.hideDeleteButton?`\n    <div class="btn-group" role="group">\n      ${i("btn-primary editparamspopup","fa fa-edit","Edit Parameter")}\n      ${i("btn-success scalingparamspopup","bi bi-speedometer fs-5","Open Scaling Table","modal","#open_scaling_table")}\n      ${i("btn-warning valueparamspopup","fa fa-table","Open Value Mapping Table","modal","#open_value_mapping_table")}\n      ${i("btn-danger deleteparamspopup","fa fa-trash","Delete Parameter")}\n    </div>\n  `:`\n    <div class="btn-group" role="group">\n      ${i("btn-primary editparamspopup","fa fa-edit","Edit Parameter")}\n      ${i("btn-success scalingparamspopup","bi bi-speedometer fs-5","Open Scaling Table","modal","#open_scaling_table")}\n      ${i("btn-warning valueparamspopup","fa fa-table","Open Value Mapping Table","modal","#open_value_mapping_table")}\n    </div>\n  `,$("#params_tables").off("click").on("click",".editparamspopup, .deleteparamspopup, .scalingparamspopup, .valueparamspopup, .mappingparamspopup",function(){const m=u.scalingTable.row($(this).closest("tr")).data();$(this).hasClass("editparamspopup")?u.editParameter(m,"parameter"):$(this).hasClass("deleteparamspopup")?u.deleteParamter(m):$(this).hasClass("scalingparamspopup")?u.editParameter(m,"scaling"):$(this).hasClass("valueparamspopup")&&u.editParameter(m,"mapping")});const c={pagingType:"full_numbers",destroy:!0,lengthChange:!0,responsive:!0,ordering:!0,data:this.parameterData,columns:[{data:"v_parameterID"},{data:"v_parameterLabel"},{data:"v_schedule_parameter_label",defaultContent:""},{defaultContent:a,orderable:!1}],scrollX:!0,dom:"Bfrtip",buttons:[{extend:"colvis",text:"Column Visibility"}]};this.scalingTable=$("#params_tables").DataTable(c),this.scalingTable.column(2).visible(!1);let u=this}deleteParamter(t){h().fire({customClass:{container:"my-swal"},position:"center",title:"Are you sure?",text:"You wont get these details back again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, let me think"}).then(a=>{if(console.log("inside sweetalert",a),a.dismiss!==h().DismissReason.cancel){if(1==a.isConfirmed){for(let i=0;i<this.parameterData.length;i++)t.v_parameterID==this.parameterData[i].v_parameterID&&(console.log("It will get Deleted :",this.parameterData[i].v_parameterID),this.auditTrialServices.audit_trail("2.1","Reading Device Type","Delete",`"${this.customInit.rdtLabel}" RDT Virtual Parameter (${this.parameterData[i].v_parameterLabel}) was Deleted`,"1"),this.parameterData.splice(i,1));this.HelpherDelete(this.parameterData,"parameter"),h().fire("Removed!","Parameter removed successfully.","success")}}else a.dismiss===h().DismissReason.cancel&&h().fire("Cancelled","Parameter not removed","error");console.log("After Delete Paaramter Data List :",this.parameterData)})}HelpherDelete(t,a){var i=this;this.UpdateParameterType={PK:this.customInit.rdt_id,SK:this.SK_clientID,virtual_parameters:JSON.stringify(t),updated:new Date},console.log("Final Data from parameters :",this.UpdateParameterType),this.api.UpdateReadingDeviceType(this.UpdateParameterType).then(function(){var r=(0,y.Z)(function*(c){i.addFromService();const u=Math.ceil((new Date).getTime()/1e3),m={P1:i.customInit.rdt_id,P2:i.customInit.rdtLabel,P3:i.customInit.parameters,P4:u};console.log("Items----",m),c?(yield i.fetchTimeMachineById(1,i.customInit.rdt_id,"update",m),"parameter"==String(a)?(i.newParameter(),yield i.showTable(i.parameterData)):"scale_table"==String(a)?yield i.initializeScaling_datatable():"value_mapping"==String(a)?yield i.initializeValueMap_datatable():"step_value_mapping"==String(a)?i.addTable(""):"step_schedule_parameter"==String(a)?i.scheduleTable(""):"scale_temp_table"==String(a)&&i.scaleaddTable("")):alert("Error in Updating Reading Device Type Configuration")});return function(c){return r.apply(this,arguments)}}()).catch(r=>{console.log("err for creation",r),this.toast.open("Error in Updating New RDT Configuration ","Check again",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})})}onSubmit(t){var a=this;console.log("All Datas of the Form Are :",this.account$.value);const i=this.account$.value;this.api.GetReadingDeviceType(this.customInit.rdt_id,this.SK_clientID).then(function(){var r=(0,y.Z)(function*(c){if(c){if(console.log("Data that is being coming from db",c),a.parameterData=JSON.parse(c.virtual_parameters),console.log("All the parameters :",a.parameterData),"update"==String(t)){console.log("Iam insite Ready to be deleted :");for(let u=0;u<a.parameterData.length;u++)i.v_parameterID.trim()==a.parameterData[u].v_parameterID.trim()&&(a.auditTrialServices.audit_trail("2.1","Reading Device Type","Update",`"${a.customInit.rdtLabel}" RDT Virtual Parameter (${a.parameterData[u].v_parameterLabel}) was Updated`,"1"),a.parameterData.splice(u,1),a.parameterData.splice(u,0,{virtual_equation_textarea:i.virtual_equation_textarea,v_decimalPoint:i.v_decimalPoint,v_mX_C_C_Correction_Factor:parseFloat(i.v_mX_C_C_Correction_Factor),v_mX_C_X_Multiplication_Factor:parseFloat(i.v_mX_C_X_Multiplication_Factor),v_parameterDescription:i.v_parameterDescription,v_parameterID:i.v_parameterID.trim(),v_parameterLabel:i.v_parameterLabel.trim(),v_scalingtableBoolean:i.v_scalingtableBoolean,v_scaling_table:a.scalingTableData,v_scheduleparameters:a.scheduleData,v_schedule_parameter:i.v_schedule_parameter,v_value_mapping:a.ValueMappingData,v_valuemappingBoolean:i.v_valuemappingBoolean,v_schedule_parameter_name:i.v_schedule_parameter_name,v_schedule_parameter_label:i.v_schedule_parameter_label,v_schedule_max:i.v_schedule_max,v_schedule_value_type:i.v_schedule_value_type,v_schedule_operation_type:i.v_schedule_operation_type,v_schedule_heatmap_type:i.v_schedule_heatmap_type}))}else{a.parameterData||(a.parameterData=[]);for(let u=0;u<a.parameterData.length;u++)if(a.parameterData[u].v_parameterID.trim()==a.account$.value.v_parameterID.trim())return a.restrict=!0,h().fire({position:"center",title:"Already Added Virtual Parameter",text:"Parameter ID should be unique",icon:"error",allowOutsideClick:!1});a.parameterData||(a.parameterData=[]),a.auditTrialServices.audit_trail("2.1","Reading Device Type","Create",`"${a.customInit.rdtLabel}" RDT Virtual Parameter (${i.v_parameterLabel}) was Created`,"1"),a.parameterData.push({virtual_equation_textarea:i.virtual_equation_textarea,v_decimalPoint:i.v_decimalPoint,v_mX_C_C_Correction_Factor:parseFloat(i.v_mX_C_C_Correction_Factor),v_mX_C_X_Multiplication_Factor:parseFloat(i.v_mX_C_X_Multiplication_Factor),v_parameterDescription:i.v_parameterDescription,v_parameterID:i.v_parameterID.trim(),v_parameterLabel:i.v_parameterLabel.trim(),v_scalingtableBoolean:i.v_scalingtableBoolean,v_scaling_table:a.scalingTableData,v_scheduleparameters:a.scheduleData,v_schedule_parameter:i.v_schedule_parameter,v_value_mapping:a.ValueMappingData,v_valuemappingBoolean:i.v_valuemappingBoolean,v_schedule_parameter_name:i.v_schedule_parameter_name,v_schedule_parameter_label:i.v_schedule_parameter_label,v_schedule_max:i.v_schedule_max,v_schedule_value_type:i.v_schedule_value_type,v_schedule_operation_type:i.v_schedule_operation_type,v_schedule_heatmap_type:i.v_schedule_heatmap_type})}a.submitHelpher(c,a.parameterData)}});return function(c){return r.apply(this,arguments)}}())}submitHelpher(t,a){var i=this;this.allRDTDetails={PK:this.customInit.rdt_id,SK:this.SK_clientID,rdtLabel:t.rdtLabel,schedule_type:t.schedule_type,reading_device_type_id:t.rdt_id,updateTime:t.updateTime,deviceTimeout:t.deviceTimeout,mxC:t.mxC,virtual_parameters:JSON.stringify(a),alerts:t.alerts,parameters_view:t.parameters_view,updated:new Date},console.log("Result data :",this.allRDTDetails),this.api.UpdateReadingDeviceType(this.allRDTDetails).then(function(){var r=(0,y.Z)(function*(c){i.addFromService();const u=Math.ceil((new Date).getTime()/1e3),m={P1:t.PK,P2:t.rdtLabel,P3:i.customInit.parameters,P4:u};if(console.log("Items----",m),c)return yield i.fetchTimeMachineById(1,i.allRDTDetails.PK,"update",m),yield i.showTable(i.parameterData),i.EditOperation?h().fire({position:"center",text:"Reading Device Type Virtual Parameter Configuration Updated successfully",icon:"success",allowOutsideClick:!1}):h().fire({position:"center",text:"Reading Device Type Virtual Parameter Configuration Added successfully",icon:"success",allowOutsideClick:!1});alert("Error in Updating Reading Device Type Configuration")});return function(c){return r.apply(this,arguments)}}()).catch(r=>{console.log("err for creation",r),this.toast.open("Error in Updating New RDT Configuration ","Check again",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})})}fetchTimeMachineById(t,a,i,r){var c=this;return(0,y.Z)(function*(){try{const u=yield c.api.GetLookupMasterTable(c.clientID,t);if(u&&u.items){let m=yield JSON.parse(u.items),g=m.findIndex(b=>b[Object.keys(b)[0]].P1===a);if(-1!==g){if("update"===i){m[g][`L${g+1}`]=r;const Z=[];for(let T=0;T<m.length;T++){const w=Object.keys(m[T])[0],P=`L${T+1}`;if(w){const B={[P]:m[T][w]},F=Z.findIndex(R=>Object.keys(R)[0]===P);-1!==F?Object.assign(Z[F][P],m[T][w]):Z.push(B)}else console.error(`Original key not found for renaming in data[${T}].`)}m=Z}else"delete"===i&&m.splice(g,1);let b={PK:c.clientID,SK:u.SK,items:JSON.stringify(m)};yield c.api.UpdateLookupMasterTable(b)}else yield new Promise(b=>setTimeout(b,500)),yield c.fetchTimeMachineById(t+1,a,i,r)}else h().fire({position:"top-right",icon:"error",title:`ID ${a} not found`,showConfirmButton:!1,timer:1500})}catch(u){console.error("Error:",u)}})()}editParameter(t,a){let i;this.auditTrialServices.audit_trail("2.1","Reading Device Type","View",`"${this.customInit.rdtLabel}" RDT Virtual Parameters (${t.v_parameterLabel}) was Viewed`,"1"),console.log("Parameter Data on Edit :",t),console.log("In Edit All the Parameters Come Here :",this.parameterData);for(let r=0;r<this.parameterData.length;r++)if(this.parameterData[r].v_parameterID==t.v_parameterID){this.selected_parameter_ID=this.parameterData[r].v_parameterID,console.log("Matched Parameter :",this.parameterData[r]),this.selectedParameter=t.v_parameterLabel,i=this.parameterData[r],console.log("Data to be edited :",i.v_parameterID);break}this.scalingTableData=i.v_scaling_table,this.ValueMappingData=i.v_value_mapping,this.scheduleData=i.v_scheduleparameters,"parameter"==String(a)&&(this.newParameter(),d.v_parameterID=i.v_parameterID,d.v_decimalPoint=i.v_decimalPoint,d.v_parameterDescription=i.v_parameterDescription,d.v_mX_C_C_Correction_Factor=i.v_mX_C_C_Correction_Factor,d.v_mX_C_X_Multiplication_Factor=i.v_mX_C_X_Multiplication_Factor,d.v_parameterLabel=i.v_parameterLabel,d.virtual_equation_textarea=i.virtual_equation_textarea,d.v_schedule_parameter=i.v_schedule_parameter,i&&i.v_schedule_parameter&&("true"==i.v_schedule_parameter||1==i.v_schedule_parameter)&&(this.scaleOperation=!0,d.v_schedule_parameter=!0,d.v_schedule_parameter_name=i.v_schedule_parameter_name,d.v_schedule_max=i.v_schedule_max,d.v_schedule_value_type=i.v_schedule_value_type,d.v_schedule_operation_type=i.v_schedule_operation_type,d.v_schedule_heatmap_type=i.v_schedule_heatmap_type,d.v_schedule_parameter_label=i.v_schedule_parameter_label),"scaling"==String(a)?d.v_scaling_table=i.v_scalingtableBoolean:"mapping"==String(a)?d.v_value_mapping=i.v_valuemappingBoolean:(d.v_scalingtableBoolean=!1,d.v_valuemappingBoolean=!1),this.scalingTableData=i.v_scaling_table,this.ValueMappingData=i.v_value_mapping,this.scheduleData=i.v_scheduleparameters,this.VirtualcurrentStep$.next(1),console.log("Inits Values :",d),console.log("see that data coming",this.account$.value),this.EditOperation=!0,this.isCurrentFormValid$.next(!0),this.account$.next(d),setTimeout(()=>{this.step1Comp.initForm()},100),this.cd.detectChanges(),console.log("this accow",this.account$.value)),"scaling"==String(a)?this.initializeScaling_datatable():"mapping"==String(a)&&this.initializeValueMap_datatable()}initializeValueMap_datatable(){console.log("Value mapping array Data is Here :",this.ValueMappingData);let t="btn btn-sm btn-primary editvaluemappingpopup",a="btn btn-sm btn-danger editvaluemappingpopup";$("#Mapping_values_tables").off("click"),$("#Mapping_values_tables").on("click",".editvaluemappingpopup",function(){let r=$(this).closest("tr"),c=i.ValueMapping.row(r);c.index(),this.className==t?i.editValueMapping(c.data(),"main_table"):this.className==a&&i.deleteValueMap_datatable(c.data(),"value_mapping")}),this.ValueMapping=1==this.hideDeleteButton?$("#Mapping_values_tables").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!1,responsive:!0,data:this.ValueMappingData,columns:[{data:"v_vm_label"},{data:"v_vm_value"},{data:"v_vm_equation"},{data:"v_vm_icon"},{data:"v_vm_label_color"},{data:"v_vm_animation"},{data:"v_vm_font"},{data:"v_vm_text_color"},{data:"v_vm_font_size"},{data:"v_vm_align_type"},{defaultContent:"<button class='"+t+"'data-bs-dismiss='modal' ><i class='fa fa-edit'></i></button>"},{defaultContent:"<button class='"+a+"'><i class='fa fa-trash'></i></button>"}]}):$("#Mapping_values_tables").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!0,responsive:!0,ordering:!0,data:this.ValueMappingData,columns:[{data:"v_vm_label"},{data:"v_vm_value"},{data:"v_vm_equation"},{data:"v_vm_icon"},{data:"v_vm_label_color"},{data:"v_vm_animation"},{data:"v_vm_font"},{data:"v_vm_text_color"},{data:"v_vm_font_size"},{data:"v_vm_align_type"},{defaultContent:"<button class='"+t+"'data-bs-dismiss='modal' ><i class='fa fa-edit'></i></button>"}]});let i=this;this.showTable(this.parameterData)}editValueMapping(t,a){if("main_table"==String(a)){let i;this.EditOperation=!0,this.newParameter();for(let r=0;r<this.parameterData.length;r++)if(this.parameterData[r].v_parameterID==this.selected_parameter_ID){this.selected_parameter_Label=this.parameterData[r].v_parameterLabel,console.log("Matched Parameter :",this.parameterData[r]),i=this.parameterData[r],console.log("Data to be edited :",i.v_parameterID);break}d.v_parameterID=i.v_parameterID,d.v_decimalPoint=i.v_decimalPoint,d.v_parameterDescription=i.v_parameterDescription,d.v_mX_C_C_Correction_Factor=i.v_mX_C_C_Correction_Factor,d.v_mX_C_X_Multiplication_Factor=i.v_mX_C_X_Multiplication_Factor,d.v_parameterLabel=i.v_parameterLabel,d.virtual_equation_textarea=i.virtual_equation_textarea,d.v_schedule_parameter=i.v_schedule_parameter,i&&i.v_schedule_parameter&&("true"==i.v_schedule_parameter||1==i.v_schedule_parameter)&&(this.scaleOperation=!0,d.v_schedule_parameter=!0,d.v_schedule_parameter_name=i.v_schedule_parameter_name,d.v_schedule_max=i.v_schedule_max,d.v_schedule_value_type=i.v_schedule_value_type,d.v_schedule_operation_type=i.v_schedule_operation_type,d.v_schedule_heatmap_type=i.v_schedule_heatmap_type,d.v_schedule_parameter_label=i.v_schedule_parameter_label),"scaling"==String(a)?d.v_scaling_table=i.v_scalingtableBoolean:"mapping"==String(a)?d.v_value_mapping=i.v_valuemappingBoolean:(d.v_scalingtableBoolean=!1,d.v_valuemappingBoolean=!1),this.scalingTableData=i.v_scaling_table,this.ValueMappingData=i.v_value_mapping,this.scheduleData=i.v_scheduleparameters,this.VirtualcurrentStep$.next(1),console.log("Inits Values :",d),console.log("see that data coming",this.account$.value),this.EditOperation=!0,this.isCurrentFormValid$.next(!0),this.account$.next(d),setTimeout(()=>{this.step1Comp.initForm()},100),this.cd.detectChanges(),console.log("this accow",this.account$.value)}console.log("Value Mapping That are need to be Edited :",t),d.v_valuemappingBoolean=!0,v.v_vm_align_type=t.v_vm_align_type,v.v_vm_equation=t.v_vm_equation,v.v_vm_font=t.v_vm_font,v.v_vm_font_size=t.v_vm_font_size,v.v_vm_icon=t.v_vm_icon,v.v_vm_label=t.v_vm_label,v.v_vm_label_color=t.v_vm_label_color,v.v_vm_text_color=t.v_vm_text_color,v.v_vm_value=t.v_vm_value,v.v_vm_animation=t.v_vm_animation,this.VirtualcurrentStep$.next(3),this.valueOperation=!0,this.isCurrentFormValid$.next(!0),this.VirtualcurrentStep$.next(3),setTimeout(()=>{this.step2Comp.initForm()},100),this.cd.detectChanges(),console.log("this accow",v)}openScalingModel(){console.log("Iam triggred :"),this.scalingTableModal=this.modalService.show("open_scaling_table"),this.initializeScaling_datatable()}initializeScaling_datatable(){console.log("Scaling Table array Data is Here :",this.scalingTableData);let t="btn btn-sm btn-primary editvaluemappingpopup",a="btn btn-sm btn-danger editvaluemappingpopup";$("#Mapping_scaling_table").off("click"),$("#Mapping_scaling_table").on("click",".editvaluemappingpopup",function(){let r=$(this).closest("tr"),c=i.scalingTabletemp.row(r);c.index(),this.className==t?(console.log("Data that is in row :",c.data()),i.editScalingMapping(c.data(),"main_table")):this.className==a&&i.deleteScale_datatable(c.data(),"scale_table")}),this.scalingTabletemp=1==this.hideDeleteButton?$("#Mapping_scaling_table").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!1,responsive:!0,data:this.scalingTableData,columns:[{data:"v_scale_threshold"},{data:"v_sc_multiply"},{data:"v_sc_unit"},{defaultContent:"<button class='"+t+"'data-bs-dismiss='modal' ><i class='fa fa-edit'></i></button>"},{defaultContent:"<button class='"+a+"'><i class='fa fa-trash'></i></button>"}]}):$("#Mapping_scaling_table").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!0,ordering:!0,responsive:!0,data:this.scalingTableData,columns:[{data:"v_scale_threshold"},{data:"v_sc_multiply"},{data:"v_sc_unit"},{defaultContent:"<button class='"+t+"'data-bs-dismiss='modal' ><i class='fa fa-edit'></i></button>"}]});let i=this;this.showTable(this.parameterData)}deleteScale_datatable(t,a){h().fire({customClass:{container:"my-swal"},position:"center",title:"Are you sure?",text:"You wont get these details back again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, let me think"}).then(i=>{if(console.log("inside sweetalert",i),i.dismiss!==h().DismissReason.cancel){if(1==i.isConfirmed){for(let r=0;r<this.scalingTableData.length;r++)t.v_scale_threshold==this.scalingTableData[r].v_scale_threshold&&this.scalingTableData.splice(r,1);for(let r=0;r<this.parameterData.length;r++)this.account$.value.v_parameterID==this.parameterData[r].v_parameter_ID&&(this.parameterData[r].v_scaling_table=this.scalingTableData);console.log("After Deleting ScalingTable Data :",this.scalingTableData),console.log("After Deleting ScalingTable Data Paramter Data is:",this.parameterData),this.HelpherDelete(this.parameterData,a),h().fire("Removed!","Scaling Value removed successfully.","success")}}else i.dismiss===h().DismissReason.cancel&&h().fire("Cancelled","Scaling Value not removed","error")})}editScalingMapping(t,a){if("main_table"==String(a)){let i;this.EditOperation=!0;for(let r=0;r<this.parameterData.length;r++)if(this.parameterData[r].v_parameterID==this.selected_parameter_ID){this.selected_parameter_ID=this.parameterData[r].v_parameterID,console.log("Matched Parameter :",this.parameterData[r]),i=this.parameterData[r],console.log("Data to be edited :",i.v_parameterID);break}this.newParameter(),d.v_parameterID=i.v_parameterID,d.v_decimalPoint=i.v_decimalPoint,d.v_parameterDescription=i.v_parameterDescription,d.v_mX_C_C_Correction_Factor=i.v_mX_C_C_Correction_Factor,d.v_mX_C_X_Multiplication_Factor=i.v_mX_C_X_Multiplication_Factor,d.v_parameterLabel=i.v_parameterLabel,d.virtual_equation_textarea=i.virtual_equation_textarea,d.v_schedule_parameter=i.v_schedule_parameter,i&&i.v_schedule_parameter&&("true"==i.v_schedule_parameter||1==i.v_schedule_parameter)&&(this.scaleOperation=!0,d.v_schedule_parameter=!0,d.v_schedule_parameter_name=i.v_schedule_parameter_name,d.v_schedule_max=i.v_schedule_max,d.v_schedule_value_type=i.v_schedule_value_type,d.v_schedule_operation_type=i.v_schedule_operation_type,d.v_schedule_heatmap_type=i.v_schedule_heatmap_type,d.v_schedule_parameter_label=i.v_schedule_parameter_label),"scaling"==String(a)?d.v_scaling_table=i.v_scalingtableBoolean:"mapping"==String(a)?d.v_value_mapping=i.v_valuemappingBoolean:(d.v_scalingtableBoolean=!1,d.v_valuemappingBoolean=!1),this.scalingTableData=i.v_scaling_table,this.ValueMappingData=i.v_value_mapping,this.scheduleData=i.v_scheduleparameters,this.VirtualcurrentStep$.next(1),console.log("Inits Values :",d),console.log("see that data coming",this.account$.value),this.EditOperation=!0,this.isCurrentFormValid$.next(!0),this.account$.next(d),setTimeout(()=>{this.step1Comp.initForm()},100),this.cd.detectChanges(),console.log("this accow",this.account$.value)}console.log("Scaling Values That are need to be Edited :",t),d.v_scalingtableBoolean=!0,U.v_scale_threshold=t.v_scale_threshold,U.v_sc_unit=t.v_sc_unit,U.v_sc_multiply=t.v_sc_multiply,this.VirtualcurrentStep$.next(4),this.scaleOperation=!0,this.isCurrentFormValid$.next(!0),this.VirtualcurrentStep$.next(4),setTimeout(()=>{this.step4Comp.initForm()},100),this.cd.detectChanges(),console.log("this accow",this.account$.value)}newParameter(){d.virtual_equation_textarea="",d.v_parameterID="",d.v_decimalPoint=1,d.v_mX_C_C_Correction_Factor="0",d.v_mX_C_X_Multiplication_Factor="1",d.v_parameterDescription="",d.v_parameterLabel="",d.v_scaling_table=[],d.v_scalingtableBoolean=!1,k.v_schedule_heatmap_type="",k.v_schedule_max=null,k.v_schedule_operation_type="",d.v_schedule_parameter=!1,k.v_schedule_parameter_name="",k.v_schedule_value_type="",d.v_value_mapping=[],d.v_valuemappingBoolean=!1,d.v_schedule_parameter_name="",d.v_schedule_parameter_label="",d.v_schedule_max=0,d.v_schedule_value_type="",d.v_schedule_operation_type="",d.v_schedule_heatmap_type="",v.v_vm_align_type="",v.v_vm_equation="",v.v_vm_font="",v.v_vm_font_size=NaN,v.v_vm_icon="",v.v_vm_label="",v.v_vm_label_color="",v.v_vm_text_color="",v.v_vm_value=null,v.v_vm_animation="",U.v_scale_threshold=null,U.v_sc_unit="",U.v_sc_multiply=null,this.ValueMappingData=[],this.scalingTableData=[],this.scheduleParametersData=[],this.EditOperation=!1,this.scaleOperation=!1,this.valueOperation=!1,this.account$.next(d),this.VirtualcurrentStep$.next(1),this.isCurrentFormValid$.next(!1),setTimeout(()=>{this.step1Comp.initForm()},100),this.VirtualcurrentStep$.next(1),this.cd.detectChanges(),console.log("this accow",v)}redirectDevice(){this.router.navigate(["rdt-stepper"]).then(()=>{})}deleteValueMap_datatable(t,a){h().fire({customClass:{container:"my-swal"},position:"center",title:"Are you sure?",text:"You wont get these details back again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, let me think"}).then(i=>{if(console.log("inside sweetalert",i),i.dismiss!==h().DismissReason.cancel){if(1==i.isConfirmed){for(let r=0;r<this.ValueMappingData.length;r++)t.v_vm_label==this.ValueMappingData[r].v_vm_label&&t.v_vm_value==this.ValueMappingData[r].v_vm_value&&this.ValueMappingData.splice(r,1);for(let r=0;r<this.parameterData.length;r++)this.account$.value.v_parameterID==this.parameterData[r].v_parameter_ID&&(this.parameterData[r].v_value_mapping=this.ValueMappingData);console.log("After Deleting ScalingTable Data :",this.ValueMappingData),console.log("After Deleting ScalingTable Data Paramter Data is:",this.parameterData),this.HelpherDelete(this.parameterData,a),h().fire("Removed!","Scaling Value removed successfully.","success")}}else i.dismiss===h().DismissReason.cancel&&h().fire("Cancelled","Scaling Value not removed","error")})}toParameter(){console.log("From the Parameters :",this.customInit),localStorage.setItem("editInits",JSON.stringify(this.customInit)),this.router.navigate(["rdt-stepper/parameter"])}}return o=s,(0,n.Z)(s,"\u0275fac",function(t){return new(t||o)(e.Y36(te.tT),e.Y36(O.F),e.Y36(V.t),e.Y36(e.sBO),e.Y36(I.F0),e.Y36(X.C))}),(0,n.Z)(s,"\u0275cmp",e.Xpm({type:o,selectors:[["app-virtual-stepper"]],viewQuery:function(t,a){if(1&t&&(e.Gf(H,5),e.Gf(le,5),e.Gf(oe,5),e.Gf(ie,5)),2&t){let i;e.iGM(i=e.CRH())&&(a.step1Comp=i.first),e.iGM(i=e.CRH())&&(a.step2Comp=i.first),e.iGM(i=e.CRH())&&(a.step4Comp=i.first),e.iGM(i=e.CRH())&&(a.vistep2Comp=i.first)}},decls:156,vars:40,consts:[[1,"d-flex","flex-column","flex-column-fluid"],[1,"app-toolbar","py-3","py-lg-6"],[1,"app-container","container-fluid"],[1,"row","align-items-center","justify-content-between"],[1,"col",2,"display","flex"],["class","page-heading text-gray-900 fw-bold fs-3 mb-0",4,"ngIf"],[1,"btn","btn-sm","btn-success","fw-bolder","ms-2","fs-8","py-1","px-3"],[1,"col-12","col-lg-6","mt-3","mt-lg-0"],[1,"d-flex","justify-content-end"],["type","button","ngbTooltip","Add Reading Parameters","placement","bottom",1,"btn","btn-sm","fw-bold","btn-success","fs-6","me-2","mb-2","mb-lg-0","btn-equal-size",3,"click"],[1,"bi","bi-plus-square-fill","fs-4","text-white"],["type","button","disabled","","ngbTooltip","Add Reading Virtual Parameters","placement","bottom",1,"btn","btn-sm","fw-bold","btn-warning","fs-6","me-2","mb-2","mb-lg-0","btn-equal-size"],["type","button","ngbTooltip","Redirects back to Reading Device Type Configuration","placement","bottom",1,"btn","btn-sm","fw-bold","btn-primary","me-2","mb-2","mb-lg-0","fs-6","btn-equal-size",3,"click"],[1,"bi","bi-arrow-left-short"],["type","button","ngbTooltip","Resets the Form Fields to Add new Parameter","placement","bottom",1,"btn","btn-sm","fw-bold","btn-primary","fs-6","btn-equal-size",3,"disabled","click"],[1,"container",2,"display","flex","flex-wrap","wrap"],[1,"card",2,"max-width","60%"],[1,"card-body"],["class","parameter-container","class","fw-bold",4,"ngIf"],["id","kt_create_account_stepper",1,"stepper","stepper-links","d-flex","flex-column","pt-15"],[1,"stepper-nav","mb-5",2,"flex-wrap","nowrap"],[1,"stepper-item",2,"cursor","pointer",3,"ngClass","click"],[1,"stepper-title"],["noValidate","","id","kt_create_account_form",1,"mx-auto","w-100","pt-15","pb-10"],[1,"current"],[4,"ngIf"],[1,"d-flex","flex-stack","pt-15"],[1,"mr-2"],[1,"container",2,"max-width","40%","padding","0px"],[1,"card",3,"hidden"],[1,"modal-header","pt-5"],[1,"modal-title",2,"padding-left","4%"],[1,"table-responsive"],["id","params_tables",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4"],[2,"text-align","center"],[1,"container",3,"hidden"],[1,"card"],["id","temp_scale_tables1",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4"],["id","schedule_value_tables",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4"],["id","temp_value_tables1",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4"],["id","open_value_mapping_table","aria-labelledby","","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","custom-close-btn"],[1,"modal-body"],[1,"container","table-responsive"],["id","Mapping_values_tables",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4",2,"width","100%"],["id","open_scaling_table","aria-labelledby","","aria-hidden","true",1,"modal","fade"],["id","Mapping_scaling_table",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4",2,"width","100%"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],[1,"page-heading","text-gray-900","fw-bold","fs-3","mb-0"],[1,"fw-bold"],[1,"btn","btn-sm","btn-success","fw-bolder","ms-2","fs-8","py-1","px-3","parameter-button"],[1,"w-100",3,"updateParentModel","defaultValues","EditOperation","parameterData","hideDeleteButton"],[1,"w-100",3,"updateParentModel","defaultValues","parameterData","EditOperation","scedule_horizontal","hideDeleteButton","dataChange"],[1,"w-100",3,"updateParentModel","defaultValues","valueMapping_horizontal","hideDeleteButton","dataChange"],[1,"w-100",3,"updateParentModel","defaultValues","scallingTable_horizontal","hideDeleteButton","dataChange"],[1,"w-100"],["type","button",1,"btn","fw-bold","btn-lg","btn-light-primary","me-3",3,"click"],[1,"fa-solid","fa-arrow-left"],["type","button",1,"btn","fw-bold","btn-lg","btn-light-primary","me-3",3,"disabled","click"],["type","button",1,"btn","fw-bold","btn-lg","btn-primary","me-3",3,"disabled","click"],[1,"indicator-label"],["placement","bottom",3,"ngbTooltip"],[1,"fa-solid","fa-chevron-right"],["type","button","class","btn fw-bold btn-lg btn-primary me-3",3,"disabled","click",4,"ngIf","ngIfElse"],["other_btn",""]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.YNc(5,Va,2,0,"h1",5),e.YNc(6,Fa,2,0,"h1",5),e.TgZ(7,"a",6),e._uU(8),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8)(11,"button",9),e.NdJ("click",function(){return a.toParameter()}),e._UZ(12,"i",10),e._uU(13,"RP "),e.qZA(),e.TgZ(14,"button",11),e._UZ(15,"i",10),e._uU(16,"VP "),e.qZA(),e.TgZ(17,"button",12),e.NdJ("click",function(){return a.redirectDevice()}),e._UZ(18,"i",13),e._uU(19,"RDT "),e.qZA(),e.TgZ(20,"button",14),e.NdJ("click",function(){return a.newParameter()}),e._UZ(21,"i",10),e._uU(22,"Add "),e.qZA()()()()()()(),e.TgZ(23,"div",15)(24,"div",16)(25,"div",17),e.YNc(26,La,4,1,"span",18),e.TgZ(27,"div",19)(28,"div",20)(29,"div",21),e.NdJ("click",function(){return a.goToStep(1)}),e.TgZ(30,"h3",22),e._uU(31,"Parameter Identification"),e.qZA()(),e.TgZ(32,"div",21),e.NdJ("click",function(){return a.goToStep(2)}),e.TgZ(33,"h3",22),e._uU(34,"Schedule Parameter"),e.qZA()(),e.TgZ(35,"div",21),e.NdJ("click",function(){return a.goToStep(3)}),e.TgZ(36,"h3",22),e._uU(37,"Value Mapping"),e.qZA()(),e.TgZ(38,"div",21),e.NdJ("click",function(){return a.goToStep(4)}),e.TgZ(39,"h3",22),e._uU(40,"Scaling"),e.qZA()()(),e.TgZ(41,"form",23)(42,"div",24),e.YNc(43,Ba,2,5,"ng-container",25),e.YNc(44,Ea,2,6,"ng-container",25),e.YNc(45,Na,2,4,"ng-container",25),e.YNc(46,Ra,2,4,"ng-container",25),e.YNc(47,Ja,2,0,"ng-container",25),e.qZA(),e.TgZ(48,"div",26)(49,"div",27),e.YNc(50,$a,4,0,"ng-container",25),e.YNc(51,Qa,4,1,"ng-container",25),e.YNc(52,Ya,4,1,"ng-container",25),e.qZA(),e.YNc(53,Xa,6,3,"ng-container",25),e.YNc(54,ja,5,3,"ng-container",25),e.qZA()()()()(),e.TgZ(55,"div",28)(56,"div",29)(57,"div",30)(58,"h2",31),e._uU(59,"Virtual Parameters List"),e.qZA()(),e.TgZ(60,"div",17)(61,"div",32)(62,"table",33)(63,"thead")(64,"tr")(65,"th"),e._uU(66,"V.Parameter ID"),e.qZA(),e.TgZ(67,"th"),e._uU(68,"V.Parameter Label"),e.qZA(),e.TgZ(69,"th"),e._uU(70,"V.Schedule Label"),e.qZA(),e.TgZ(71,"th",34),e._uU(72,"Actions"),e.qZA()()(),e._UZ(73,"tbody"),e.qZA()()()(),e.TgZ(74,"div",35)(75,"div",36)(76,"div",30)(77,"h2",31),e._uU(78,"Scaling List"),e.qZA()(),e.TgZ(79,"div",17)(80,"div",32)(81,"table",37)(82,"thead")(83,"tr")(84,"th"),e._uU(85,"Threshold"),e.qZA(),e.TgZ(86,"th"),e._uU(87,"Multiplication Factor"),e.qZA(),e.TgZ(88,"th"),e._uU(89,"Unit"),e.qZA(),e.TgZ(90,"th"),e._uU(91,"Actions"),e.qZA()()(),e._UZ(92,"tbody"),e.qZA()()()()(),e.TgZ(93,"div",35)(94,"div",36)(95,"div",30)(96,"h2",31),e._uU(97,"Schedule Parameters List"),e.qZA()(),e.TgZ(98,"div",17)(99,"div",32)(100,"table",38)(101,"thead")(102,"tr")(103,"th"),e._uU(104,"Parameter Name"),e.qZA(),e.TgZ(105,"th"),e._uU(106,"Value Type"),e.qZA(),e.TgZ(107,"th"),e._uU(108,"Actions"),e.qZA()()(),e._UZ(109,"tbody"),e.qZA()()()()(),e.TgZ(110,"div",35)(111,"div",36)(112,"div",30)(113,"h2",31),e._uU(114,"Value mapping List"),e.qZA()(),e.TgZ(115,"div",17)(116,"div",32)(117,"table",39)(118,"thead")(119,"tr")(120,"th"),e._uU(121,"Label"),e.qZA(),e.TgZ(122,"th"),e._uU(123,"Value"),e.qZA(),e.TgZ(124,"th"),e._uU(125,"Actions"),e.qZA()()(),e._UZ(126,"tbody"),e.qZA()()()()()(),e.TgZ(127,"div",40)(128,"div",41)(129,"div",42)(130,"div",43)(131,"h2",44),e._uU(132,"Mapping Values List"),e.qZA(),e._UZ(133,"button",45),e.qZA(),e.TgZ(134,"div",46)(135,"div",47)(136,"table",48)(137,"thead"),e.YNc(138,Wa,25,0,"tr",25),e.YNc(139,ei,23,0,"tr",25),e.qZA()()()()()()(),e.TgZ(140,"div",49)(141,"div",41)(142,"div",42)(143,"div",43)(144,"h2",44),e._uU(145,"Scaling Table List"),e.qZA(),e._UZ(146,"button",45),e.qZA(),e.TgZ(147,"div",46)(148,"div",47)(149,"table",50)(150,"thead"),e.YNc(151,ti,16,0,"tr",25),e.YNc(152,ai,13,0,"tr",25),e.qZA()()()()()()(),e.TgZ(153,"ngx-spinner",51)(154,"p",52),e._uU(155,"Please wait your RDT List is Loading... "),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("ngIf",!a.EditOperation),e.xp6(1),e.Q6J("ngIf",a.EditOperation),e.xp6(2),e.Oqu(a.customInit.rdt_id),e.xp6(12),e.Q6J("disabled",1==a.VirtualcurrentStep$.value&&0==a.EditOperation),e.xp6(6),e.Q6J("ngIf",a.EditOperation),e.xp6(3),e.Q6J("ngClass",e.WLB(28,Q,1===a.VirtualcurrentStep$.value,a.VirtualcurrentStep$.value>1)),e.xp6(3),e.Q6J("ngClass",e.WLB(31,Q,2===a.VirtualcurrentStep$.value,a.VirtualcurrentStep$.value>2)),e.xp6(3),e.Q6J("ngClass",e.WLB(34,Q,3===a.VirtualcurrentStep$.value,a.VirtualcurrentStep$.value>3)),e.xp6(3),e.Q6J("ngClass",e.WLB(37,Q,4===a.VirtualcurrentStep$.value,a.VirtualcurrentStep$.value>4)),e.xp6(5),e.Q6J("ngIf",1===a.VirtualcurrentStep$.value),e.xp6(1),e.Q6J("ngIf",2===a.VirtualcurrentStep$.value),e.xp6(1),e.Q6J("ngIf",3===a.VirtualcurrentStep$.value),e.xp6(1),e.Q6J("ngIf",4===a.VirtualcurrentStep$.value),e.xp6(1),e.Q6J("ngIf",5===a.VirtualcurrentStep$.value),e.xp6(3),e.Q6J("ngIf",a.VirtualcurrentStep$.value>=2&&!a.EditOperation&&a.VirtualcurrentStep$.value<=a.formsCount-1),e.xp6(1),e.Q6J("ngIf",a.VirtualcurrentStep$.value<=a.formsCount-1&&a.VirtualcurrentStep$.value>=2&&a.EditOperation),e.xp6(1),e.Q6J("ngIf",a.VirtualcurrentStep$.value<a.formsCount-1&&a.EditOperation),e.xp6(1),e.Q6J("ngIf",a.VirtualcurrentStep$.value!==a.formsCount&&a.VirtualcurrentStep$.value<a.formsCount-1),e.xp6(1),e.Q6J("ngIf",a.VirtualcurrentStep$.value!==a.formsCount&&a.VirtualcurrentStep$.value===a.formsCount-1),e.xp6(2),e.Q6J("hidden",3===a.VirtualcurrentStep$.value||4===a.VirtualcurrentStep$.value),e.xp6(18),e.Q6J("hidden",4!==a.VirtualcurrentStep$.value),e.xp6(19),e.Q6J("hidden",!0),e.xp6(17),e.Q6J("hidden",3!==a.VirtualcurrentStep$.value),e.xp6(28),e.Q6J("ngIf",1==a.hideDeleteButton),e.xp6(1),e.Q6J("ngIf",0==a.hideDeleteButton),e.xp6(12),e.Q6J("ngIf",1==a.hideDeleteButton),e.xp6(1),e.Q6J("ngIf",0==a.hideDeleteButton),e.xp6(1),e.Q6J("fullScreen",!0))},dependencies:[A.mk,A.O5,p._Y,p.JL,M._L,N.Ro,p.F,H,ie,le,oe,Oa],styles:[".btn-light-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);transition:.5s}.bi-card-list[_ngcontent-%COMP%]{font-size:16px;margin-right:3px;margin-bottom:2px}.bi-plus-lg[_ngcontent-%COMP%]{font-size:16px;margin-left:2px;margin-bottom:2px}a[_ngcontent-%COMP%]{font-size:13px}.fa-chevron-right[_ngcontent-%COMP%]{font-size:11px;margin-bottom:1px}.fa-arrow-left[_ngcontent-%COMP%]{margin-bottom:4%}a.disabled[_ngcontent-%COMP%]{pointer-events:none;color:gray;text-decoration:none;cursor:not-allowed;opacity:.5}.bi-arrow-left-short[_ngcontent-%COMP%]{font-size:22px;margin-bottom:3px;margin-top:1.6%;padding-right:0}.card[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:10px;overflow:hidden;box-shadow:0 0 10px #0000001a}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:10px 20px;border-bottom:1px solid #ccc;max-width:70%}.card-body[_ngcontent-%COMP%]{padding:20px}.table[_ngcontent-%COMP%]{width:100%;margin-bottom:0;background-color:transparent}@media (max-width: 768px){.table-responsive[_ngcontent-%COMP%]{width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar}}.bi-plus-square-fill[_ngcontent-%COMP%]{margin-bottom:1px}.dropdown-menu[_ngcontent-%COMP%]{position:absolute!important;bottom:100%!important;left:0!important}.dropdown-menu[_ngcontent-%COMP%]{background-color:#fff;border:none;box-shadow:0 2px 8px #0000001a;border-radius:5px;padding:0;min-width:120px}.dropdown-item[_ngcontent-%COMP%]{color:#212529;padding:10px 16px;font-weight:400;transition:all .3s ease-in-out;cursor:pointer}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.dropdown-toggle[_ngcontent-%COMP%]{border:none;box-shadow:none;color:#212529}.dropdown-toggle[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:5px}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{margin-right:0}.btn[title][_ngcontent-%COMP%]:hover:after{content:attr(title);position:absolute;background:rgba(0,0,0,.7);color:#fff;padding:5px 10px;border-radius:3px;white-space:nowrap;z-index:1000;top:-30px;left:50%;transform:translate(-50%);opacity:1;transition:opacity .3s}.btn[title][_ngcontent-%COMP%]:after{opacity:0;pointer-events:none}.btn-warning[_ngcontent-%COMP%]:hover, .btn-success[_ngcontent-%COMP%]:hover{transform:translateY(-2px);transition:.5s}.btn-equal-size[_ngcontent-%COMP%]{min-width:100px}.custom-close-btn[_ngcontent-%COMP%]{color:#fff;background-color:#dc3545;border-color:#dc3545}.custom-close-btn[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}"]})),s})()},{path:"",redirectTo:"rdt",pathMatch:"full"},{path:"**",redirectTo:"rdt",pathMatch:"full"}]}];let oi=(()=>{var o;class s{}return o=s,(0,n.Z)(s,"\u0275fac",function(t){return new(t||o)}),(0,n.Z)(s,"\u0275mod",e.oAB({type:o})),(0,n.Z)(s,"\u0275inj",e.cJS({imports:[I.Bz.forChild(ii),I.Bz]})),s})();var ne=D(32296),li=D(77988),ni=D(30617),ri=D(40965);let si=(()=>{var o;class s{}return o=s,(0,n.Z)(s,"\u0275fac",function(t){return new(t||o)}),(0,n.Z)(s,"\u0275mod",e.oAB({type:o})),(0,n.Z)(s,"\u0275inj",e.cJS({imports:[A.ez,p.UX,M.HK,re.m,oi,N.ef,ne.ot,li.Tx,ni.Ps,z.LD,p.u5,ne.ot,ri.Q]})),s})()}}]);