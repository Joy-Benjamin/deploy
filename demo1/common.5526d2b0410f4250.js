"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[8592],{42421:(v,f,r)=>{r.d(f,{W:()=>h});var i=r(86656),e=r(65879),l=r(56223),_=r(5588);let h=(()=>{var m;class u{constructor(s){(0,i.Z)(this,"getPowerBoard",void 0),(0,i.Z)(this,"class","menu menu-sub menu-sub-dropdown w-250px w-md-300px"),(0,i.Z)(this,"dataKtMenu","true"),(0,i.Z)(this,"filterEvent",new e.vpe),(0,i.Z)(this,"createFilter",void 0),(0,i.Z)(this,"getLoggedUser",void 0),(0,i.Z)(this,"SK_clientID",void 0),(0,i.Z)(this,"user_companyID",void 0),(0,i.Z)(this,"id",void 0),(0,i.Z)(this,"name",void 0),(0,i.Z)(this,"description",void 0),(0,i.Z)(this,"filterOutput",[]),this.getPowerBoard=s}ngOnInit(){this.initializeFilter(),this.getLoggedUser=this.getPowerBoard.getLoggedUserDetails(),this.SK_clientID=this.getLoggedUser.attributes["custom:clientID"],this.user_companyID=this.getLoggedUser.attributes["custom:companyID"],this.createFilter.reset()}initializeFilter(){this.createFilter=new l.cw({type:new l.NI,id:new l.NI,name:new l.NI(null),description:new l.NI,createdAt:new l.NI,updatedAt:new l.NI})}submit(){this.filterOutput=[],this.id=this.createFilter.get("id")?.value,this.name=this.createFilter.get("name")?.value,this.description=this.createFilter.get("description")?.value,null!==this.id&&null===this.name&&null===this.description?this.filterOutput.push({PK:{eq:this.id},SK:{eq:this.SK_clientID}}):null===this.id&&null!==this.name&&null===this.description?this.filterOutput.push({SK:{eq:this.SK_clientID},name:{contains:this.name}}):null===this.id&&null!==this.name&&null===this.description?this.filterOutput.push({SK:{eq:this.SK_clientID},description:{contains:this.description}}):null!==this.id&&null!==this.name&&null===this.description?this.filterOutput.push({PK:{eq:this.id},SK:{eq:this.SK_clientID},name:{contains:this.name}}):null!==this.id&&null!==this.name&&null!==this.description?this.filterOutput.push({PK:{eq:this.id},SK:{eq:this.SK_clientID},name:{contains:this.name},description:{contains:this.description}}):alert("enter some value"),console.log(this.createFilter.value),console.log('{PK: {eq: "'+this.id+'"}, SK:{eq:"'+this.SK_clientID+'"} name: {eq: "'+this.name+'"}, description: {eq: "'+this.description+'"}}'),console.log(this.filterOutput),this.filterEvent.emit(this.filterOutput),this.createFilter.reset()}}return m=u,(0,i.Z)(u,"\u0275fac",function(s){return new(s||m)(e.Y36(_.F))}),(0,i.Z)(u,"\u0275cmp",e.Xpm({type:m,selectors:[["app-dropdown-menu1"]],hostVars:3,hostBindings:function(s,t){2&s&&(e.uIk("data-kt-menu",t.dataKtMenu),e.Tol(t.class))},outputs:{filterEvent:"filterEvent"},decls:25,vars:1,consts:[[1,"px-7","py-5"],[1,"fs-5","text-dark","fw-bolder"],[1,"separator","border-gray-200"],[1,"px-7","py-5",3,"formGroup"],[1,"mb-10"],[1,"form-label","fw-bold"],["type","text","placeholder","Enter Id","name","id","formControlName","id",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","text","placeholder","Enter Name","name","name","formControlName","name",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","text","placeholder","Enter Description","name","description","formControlName","description",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[1,"d-flex","justify-content-end"],["type","reset","data-kt-menu-dismiss","true",1,"btn","btn-sm","btn-light","btn-active-light-primary","me-2"],["type","submit","data-kt-menu-dismiss","true",1,"btn","btn-sm","btn-primary",3,"click"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Filter Options"),e.qZA()(),e._UZ(3,"div",2),e.TgZ(4,"div",3)(5,"div",4)(6,"label",5),e._uU(7,"ID:"),e.qZA(),e.TgZ(8,"div"),e._UZ(9,"input",6),e.qZA()(),e.TgZ(10,"div",4)(11,"label",5),e._uU(12,"Name:"),e.qZA(),e.TgZ(13,"div"),e._UZ(14,"input",7),e.qZA()(),e.TgZ(15,"div",4)(16,"label",5),e._uU(17,"Description:"),e.qZA(),e.TgZ(18,"div"),e._UZ(19,"input",8),e.qZA()(),e.TgZ(20,"div",9)(21,"button",10),e._uU(22," Reset "),e.qZA(),e.TgZ(23,"button",11),e.NdJ("click",function(){return t.submit()}),e._uU(24," Apply "),e.qZA()()()),2&s&&(e.xp6(4),e.Q6J("formGroup",t.createFilter))},dependencies:[l.Fj,l.JJ,l.JL,l.sg,l.u],encapsulation:2})),u})()},83493:(v,f,r)=>{r.d(f,{J:()=>o});var i=r(86656),e=r(65879),l=r(56223),_=r(6472),h=r(88672),m=r(96814);function u(a,d){1&a&&(e.TgZ(0,"div"),e._uU(1," ID cannot contain only spaces. "),e.qZA())}function n(a,d){1&a&&(e.TgZ(0,"div",14),e._uU(1,"Whitespace is not allowed"),e.qZA())}function s(a,d){1&a&&(e.TgZ(0,"div",14),e._uU(1," Id is required "),e.qZA())}function t(a,d){1&a&&(e.TgZ(0,"div",14),e._uU(1," Name is required "),e.qZA())}let o=(()=>{var a;class d{constructor(c,p){(0,i.Z)(this,"fb",void 0),(0,i.Z)(this,"spinner",void 0),(0,i.Z)(this,"isEditMode",void 0),(0,i.Z)(this,"updateParentModel",void 0),(0,i.Z)(this,"form",void 0),(0,i.Z)(this,"defaultValues",void 0),(0,i.Z)(this,"unsubscribe",[]),(0,i.Z)(this,"errorForUniqueID",void 0),(0,i.Z)(this,"listofDynamicReportIds",void 0),(0,i.Z)(this,"readBack",void 0),(0,i.Z)(this,"enableSubmitButton",new e.vpe),this.fb=c,this.spinner=p}ngAfterViewInit(){this.initForm(),this.updateParentModel({},this.checkForm()),this.isEditMode&&this.disablePKField()}disablePKField(){const c=this.form.get("PK");c&&c.disable()}ngOnInit(){this.initForm(),this.updateParentModel({},this.checkForm()),console.log("lpb",this.listofDynamicReportIds)}initForm(){this.form=this.fb.group({PK:[this.defaultValues.PK,[l.kI.required,_.l.noSpaceAllowed]],file_name:[this.defaultValues.file_name,[l.kI.required]]});const c=this.form.valueChanges.subscribe(p=>{this.updateParentModel(p,this.checkForm())});this.unsubscribe.push(c)}ngOnDestroy(){this.unsubscribe.forEach(c=>c.unsubscribe())}checkUniqueIdentifier(c){this.errorForUniqueID="";for(let p=0;p<this.listofDynamicReportIds.length;p++)c===this.listofDynamicReportIds[p]&&(this.errorForUniqueID="Model ID already exists")}checkForm(){return!(this.form.get("PK")?.hasError("required")||this.form.controls.PK.errors?.noSpaceAllowed||this.errorForUniqueID||this.form.get("file_name")?.hasError("required"))}enableSubmit(){this.enableSubmitButton.emit("enable")}}return a=d,(0,i.Z)(d,"\u0275fac",function(c){return new(c||a)(e.Y36(l.qu),e.Y36(h.t2))}),(0,i.Z)(d,"\u0275cmp",e.Xpm({type:a,selectors:[["app-step1-dt"]],inputs:{isEditMode:"isEditMode",updateParentModel:"updateParentModel",defaultValues:"defaultValues",listofDynamicReportIds:"listofDynamicReportIds",readBack:"readBack"},outputs:{enableSubmitButton:"enableSubmitButton"},decls:22,vars:6,consts:[[1,"pb-10","pb-lg-15"],[1,"fw-bolder","d-flex","align-items-center","text-dark"],["ngbTooltip","fill all the required fields ",1,"fas","fa-exclamation-circle","ms-2","fs-7"],[1,"fv-row",3,"formGroup"],[1,"column"],[1,"col-md-12"],[1,"col-lg-12","col-form-label","fw-bold","fs-6","required"],["ngbTooltip","Please assign a unique identifier to your Model",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["type","text","placeholder","Enter Model Id","name","PK","formControlName","PK","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"change"],[4,"ngIf"],["class","fv-plugins-message-container invalid-feedback",4,"ngIf"],[2,"color","#fc1900"],["ngbTooltip","Provide a name for your Model",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["type","text","placeholder","Enter Model Name","name","file_name","formControlName","file_name","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[1,"fv-plugins-message-container","invalid-feedback"]],template:function(c,p){if(1&c&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2," Model Configuration "),e._UZ(3,"i",2),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),e._uU(8," ID "),e._UZ(9,"i",7),e.qZA(),e.TgZ(10,"input",8),e.NdJ("change",function(){return p.enableSubmit()}),e.qZA(),e.YNc(11,u,2,0,"div",9),e.YNc(12,n,2,0,"div",10),e.TgZ(13,"span",11),e._uU(14),e.qZA(),e.YNc(15,s,2,0,"div",10),e.qZA(),e.TgZ(16,"div",5)(17,"label",6),e._uU(18," Model Name "),e._UZ(19,"i",12),e.qZA(),e._UZ(20,"input",13),e.YNc(21,t,2,0,"div",10),e.qZA()()()),2&c){let D,y,b;e.xp6(4),e.Q6J("formGroup",p.form),e.xp6(7),e.Q6J("ngIf",null==(D=p.form.get("PK"))?null:D.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",(null==p.form.controls.PK.errors?null:p.form.controls.PK.errors.noSpaceAllowed)&&p.form.controls.PK.touched),e.xp6(2),e.Oqu(p.errorForUniqueID),e.xp6(1),e.Q6J("ngIf",(null==(y=p.form.get("PK"))?null:y.hasError("required"))&&(null==(y=p.form.get("PK"))?null:y.touched)),e.xp6(6),e.Q6J("ngIf",(null==(b=p.form.get("file_name"))?null:b.hasError("required"))&&(null==(b=p.form.get("file_name"))?null:b.touched))}},dependencies:[m.O5,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u],encapsulation:2})),d})()},26131:(v,f,r)=>{r.d(f,{E:()=>m});var i=r(86656),e=r(65619),l=r(65592),_=r(65879),h=r(69862);let m=(()=>{var u;class n{constructor(t){(0,i.Z)(this,"http",void 0),(0,i.Z)(this,"apiUrl","https://tbauqko0od.execute-api.ap-south-1.amazonaws.com/reports/dynamic-excel-reports"),(0,i.Z)(this,"uploadedFile$",new e.X(null)),this.http=t}uploadFileToS3(t,o,a){console.log("action :>> ",o),console.log("data :>> ",t);const g={action:o,bucket:"dynamic-excel-reports",type:"json",folder:`${t.SK}/${t.PK}`,fileName:t.file_name};if("upload"===o||"update"===o){if(!a)return console.error("No JSON data provided for upload or update"),new l.y(c=>{c.error("No JSON data provided for upload or update")});g.fileContent=JSON.stringify(a)}return("read"===o||"delete"===o)&&delete g.fileContent,this.http.post("https://tbauqko0od.execute-api.ap-south-1.amazonaws.com/directory",g,{headers:{"Content-Type":"application/json","x-api-key":"k41M7KSGwNanITgPP2meB8UibL70kGRj50wTVujH"}})}uploadJsonToS3(t,o){this.uploadFileToS3(t,"upload",o)}readJsonFromS3(t){this.uploadFileToS3(t,"read")}updateJsonOnS3(t,o){this.uploadFileToS3(t,"update",o)}deleteJsonFromS3(t){this.uploadFileToS3(t,"delete")}downloadJsonFromS3(t){return this.http.post("https://tbauqko0od.execute-api.ap-south-1.amazonaws.com/directory",{action:"download",bucket:"dynamic-excel-reports",type:"json",folder:`${t.SK}/${t.PK}`,fileName:`${t.file_name}`},{headers:{"Content-Type":"application/json","x-api-key":"k41M7KSGwNanITgPP2meB8UibL70kGRj50wTVujH"}})}}return u=n,(0,i.Z)(n,"\u0275fac",function(t){return new(t||u)(_.LFG(h.eN))}),(0,i.Z)(n,"\u0275prov",_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})),n})()},36624:(v,f,r)=>{r.d(f,{y:()=>m});var i=r(15861),e=r(86656),l=r(69862),_=r(24036),h=r(65879);let m=(()=>{var u;class n{constructor(t){(0,e.Z)(this,"http",void 0),(0,e.Z)(this,"apiUrl","https://rwbjvusayh.execute-api.ap-south-1.amazonaws.com/dynamic_permission_stage/Dynamic_Lambda"),this.http=t}sendData(t){const o=new l.WM({"Content-Type":"application/json"});return this.http.post(this.apiUrl,t,{headers:o})}getData(t){var o=this;return(0,i.Z)(function*(){const a=new l.WM({"Content-Type":"application/json"});try{return yield(0,_.z)(o.http.post(o.apiUrl,t,{headers:a}))}catch(d){throw d}})()}}return u=n,(0,e.Z)(n,"\u0275fac",function(t){return new(t||u)(h.LFG(l.eN))}),(0,e.Z)(n,"\u0275prov",h.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})),n})()},24036:(v,f,r)=>{r.d(f,{z:()=>l});var i=r(46973),e=r(80305);function l(_,h){const m="object"==typeof h;return new Promise((u,n)=>{const s=new e.Hp({next:t=>{u(t),s.unsubscribe()},error:n,complete:()=>{m?u(h.defaultValue):n(new i.K)}});_.subscribe(s)})}},10708:(v,f,r)=>{r.d(f,{n:()=>e});var i=r(46973);function e(l,_){const h="object"==typeof _;return new Promise((m,u)=>{let s,n=!1;l.subscribe({next:t=>{s=t,n=!0},error:u,complete:()=>{n?m(s):h?m(_.defaultValue):u(new i.K)}})})}},70342:(v,f,r)=>{r.d(f,{Iq:()=>u,TU:()=>_,i3:()=>m});var i=r(96814),e=r(65879);class l{constructor(s,t){this._document=t;const o=this._textarea=this._document.createElement("textarea"),a=o.style;a.position="fixed",a.top=a.opacity="0",a.left="-999em",o.setAttribute("aria-hidden","true"),o.value=s,o.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(o)}copy(){const s=this._textarea;let t=!1;try{if(s){const o=this._document.activeElement;s.select(),s.setSelectionRange(0,s.value.length),t=this._document.execCommand("copy"),o&&o.focus()}}catch{}return t}destroy(){const s=this._textarea;s&&(s.remove(),this._textarea=void 0)}}let _=(()=>{var n;class s{constructor(o){this._document=o}copy(o){const a=this.beginCopy(o),d=a.copy();return a.destroy(),d}beginCopy(o){return new l(o,this._document)}}return(n=s).\u0275fac=function(o){return new(o||n)(e.LFG(i.K0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();const h=new e.OlP("CDK_COPY_TO_CLIPBOARD_CONFIG");let m=(()=>{var n;class s{constructor(o,a,d){this._clipboard=o,this._ngZone=a,this.text="",this.attempts=1,this.copied=new e.vpe,this._pending=new Set,d&&null!=d.attempts&&(this.attempts=d.attempts)}copy(o=this.attempts){if(o>1){let a=o;const d=this._clipboard.beginCopy(this.text);this._pending.add(d);const g=()=>{const c=d.copy();c||! --a||this._destroyed?(this._currentTimeout=null,this._pending.delete(d),d.destroy(),this.copied.emit(c)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(g,1))};g()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(o=>o.destroy()),this._pending.clear(),this._destroyed=!0}}return(n=s).\u0275fac=function(o){return new(o||n)(e.Y36(_),e.Y36(e.R0b),e.Y36(h,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(o,a){1&o&&e.NdJ("click",function(){return a.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),s})(),u=(()=>{var n;class s{}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),s})()}}]);