"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[9174],{19174:(l,c,r)=>{r.r(c),r.d(c,{DashboardModule:()=>f});var s=r(86656),h=r(96814),n=r(64190),i=r(65879),d=r(5588);let m=(()=>{var o;class t{constructor(e){(0,s.Z)(this,"fetchUserDynamo",void 0),(0,s.Z)(this,"data_temp",void 0),(0,s.Z)(this,"user_PK",void 0),(0,s.Z)(this,"user_SK",void 0),(0,s.Z)(this,"specificUser",void 0),(0,s.Z)(this,"specificTree",void 0),(0,s.Z)(this,"specificPermissions",void 0),(0,s.Z)(this,"loggerUserCompanyID",void 0),this.fetchUserDynamo=e}ngOnInit(){this.addFromService()}addFromService(){this.data_temp=this.fetchUserDynamo.getClientAllDatas(),this.user_PK=this.data_temp.attributes["custom:username"],this.user_SK=this.data_temp.attributes["custom:clientID"],this.loggerUserCompanyID=this.data_temp.attributes["custom:companyID"],this.fetchUserTable(),this.fetchUserTree()}fetchUserTable(){this.fetchUserDynamo.specificUser(this.user_PK,this.user_SK).then(e=>{e&&(this.specificUser=JSON.parse(JSON.stringify(e)),localStorage.setItem("loggedUserDetails",JSON.stringify(e)))}).catch(e=>{console.log("error on fetching specifc user")})}fetchUserTree(){this.fetchUserDynamo.specificLocation(this.loggerUserCompanyID,this.user_SK).then(e=>{e&&(this.specificTree=JSON.parse(JSON.stringify(e)),localStorage.setItem("userTree",JSON.stringify(e)))}).catch(e=>{console.log("error on fetching specifc user tree")})}}return o=t,(0,s.Z)(t,"\u0275fac",function(e){return new(e||o)(i.Y36(d.F))}),(0,s.Z)(t,"\u0275cmp",i.Xpm({type:o,selectors:[["app-dashboard"]],decls:0,vars:0,template:function(e,p){}})),t})(),f=(()=>{var o;class t{}return o=t,(0,s.Z)(t,"\u0275fac",function(e){return new(e||o)}),(0,s.Z)(t,"\u0275mod",i.oAB({type:o})),(0,s.Z)(t,"\u0275inj",i.cJS({imports:[h.ez,n.Bz.forChild([{path:"",component:m}])]})),t})()}}]);