"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[3955],{63955:(ve,D,p)=>{p.r(D),p.d(D,{DynamicTemplateModule:()=>ie});var n=p(86656),v=p(96814),C=p(22939),I=p(64190),s=p(56223),q=p(13519),g=p.n(q),e=p(65879),y=p(5588),w=p(31552),F=p(6593),A=p(60540);const U=["closeDynamicTemplate"];function x(i,m){if(1&i){const c=e.EpF();e.TgZ(0,"button",63),e.NdJ("click",function(){e.CHM(c);const l=e.oxw();return e.KtG(l.openModal("",""))}),e._uU(1," New "),e.qZA()}}function k(i,m){1&i&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Label"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Updated Time"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Edit"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Delete"),e.qZA()())}function S(i,m){1&i&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Label"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Updated Time"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Edit"),e.qZA()())}function N(i,m){1&i&&(e.TgZ(0,"h2",64),e._uU(1,"Add Design Template Configuration"),e.qZA())}function L(i,m){1&i&&(e.TgZ(0,"h2",64),e._uU(1,"Edit Design Template Configuration"),e.qZA())}function P(i,m){1&i&&(e.TgZ(0,"div",65),e._uU(1," Template ID is required "),e.qZA())}function J(i,m){1&i&&(e.TgZ(0,"div",65),e._uU(1," Template Label is required "),e.qZA())}function j(i,m){1&i&&(e.TgZ(0,"div",65),e._uU(1," Template parameter ID is required "),e.qZA())}function M(i,m){1&i&&(e.TgZ(0,"div",65),e._uU(1," Layout Title is required "),e.qZA())}function B(i,m){if(1&i&&e._UZ(0,"img",66),2&i){const c=e.oxw();e.s9C("src",c.base64textString_temp,e.LSH)}}function E(i,m){1&i&&(e.TgZ(0,"div",65),e._uU(1," width is required "),e.qZA())}function H(i,m){1&i&&(e.TgZ(0,"div",65),e._uU(1," height is required "),e.qZA())}function K(i,m){1&i&&(e.TgZ(0,"div",65),e._uU(1," Font Zoom is required "),e.qZA())}function Y(i,m){1&i&&(e.TgZ(0,"div",65),e._uU(1," Max Zoom is required "),e.qZA())}function Q(i,m){1&i&&(e.TgZ(0,"div",65),e._uU(1," Center A is required "),e.qZA())}function z(i,m){1&i&&(e.TgZ(0,"div",65),e._uU(1," Center B is required "),e.qZA())}function O(i,m){1&i&&(e.TgZ(0,"div",65),e._uU(1," minimumZoom is required "),e.qZA())}function W(i,m){1&i&&(e.TgZ(0,"div",67)(1,"label",68),e._uU(2,"Global JS"),e.qZA(),e._UZ(3,"textarea",69),e.qZA())}function G(i,m){1&i&&(e.TgZ(0,"div",67)(1,"label",68),e._uU(2,"On Load JS"),e.qZA(),e._UZ(3,"textarea",70),e.qZA())}function R(i,m){1&i&&(e.TgZ(0,"div",67)(1,"label",68),e._uU(2,"On Update JS"),e.qZA(),e._UZ(3,"textarea",71),e.qZA())}function X(i,m){if(1&i){const c=e.EpF();e.TgZ(0,"div",67)(1,"label",68),e._uU(2,"HTML"),e.qZA(),e.TgZ(3,"textarea",72),e.NdJ("change",function(){e.CHM(c);const l=e.oxw();let o;return e.KtG(l.previewHTML(null==(o=l.createDynamicTemplateField.get("enable_html_code"))?null:o.value))}),e.qZA()()}}function V(i,m){if(1&i&&(e.TgZ(0,"div",18),e._UZ(1,"hr"),e.TgZ(2,"div",19),e._UZ(3,"div",73),e.qZA()()),2&i){const c=e.oxw();e.xp6(3),e.Q6J("innerHtml",c.previewHTML_code,e.oJD)}}function ee(i,m){if(1&i){const c=e.EpF();e.TgZ(0,"button",74),e.NdJ("click",function(){e.CHM(c);const l=e.oxw();return e.KtG(l.updateDynamicTemplate(l.createDynamicTemplateField.value,"editDynamicTemplate"))}),e._uU(1," Update "),e.qZA()}if(2&i){const c=e.oxw();e.Q6J("hidden",c.hideUpdateButton)("disabled",c.createDynamicTemplateField.invalid||"Template ID already exists"==c.errorForUniqueID||"Template label already exists"==c.errorForUniqueLabel)("disabled",!c.createDynamicTemplateField.dirty||c.createDynamicTemplateField.invalid)}}function te(i,m){if(1&i){const c=e.EpF();e.TgZ(0,"button",75),e.NdJ("click",function(){e.CHM(c);const l=e.oxw();return e.KtG(l.createDynamicTemplate(""))}),e._uU(1,"Save"),e.qZA()}if(2&i){const c=e.oxw();let t;e.Q6J("disabled",(null==(t=c.createDynamicTemplateField.get("templateParameterID"))?null:t.hasError("required"))||c.createDynamicTemplateField.invalid||"Template ID already exists"==c.errorForUniqueID||"Template label already exists"==c.errorForUniqueLabel)}}let le=(()=>{var i;class m{constructor(t,l,o,r,d,h,u,a,f){(0,n.Z)(this,"fb",void 0),(0,n.Z)(this,"dynamicTemplate",void 0),(0,n.Z)(this,"dynamicParameter",void 0),(0,n.Z)(this,"api",void 0),(0,n.Z)(this,"toast",void 0),(0,n.Z)(this,"devicesList",void 0),(0,n.Z)(this,"getDiagnostics",void 0),(0,n.Z)(this,"sanitizer",void 0),(0,n.Z)(this,"router",void 0),(0,n.Z)(this,"createDynamicTemplateField",void 0),(0,n.Z)(this,"errorForUniqueID",void 0),(0,n.Z)(this,"errorForUniqueLabel",void 0),(0,n.Z)(this,"base64textString",void 0),(0,n.Z)(this,"showModal",!1),(0,n.Z)(this,"showHeading",!1),(0,n.Z)(this,"base64textString_temp",void 0),(0,n.Z)(this,"data_temp",[]),(0,n.Z)(this,"listofSK",[]),(0,n.Z)(this,"listofUniqueLabel",[]),(0,n.Z)(this,"listofParameterTemplateID",[]),(0,n.Z)(this,"allDynamicTemplate",{}),(0,n.Z)(this,"dynamicTemplateSK",void 0),(0,n.Z)(this,"centreArray",[]),(0,n.Z)(this,"dropdownSettings",{}),(0,n.Z)(this,"multiselectTemplate",[]),(0,n.Z)(this,"templateValues",void 0),(0,n.Z)(this,"enable_html",!1),(0,n.Z)(this,"enable_js",!1),(0,n.Z)(this,"load_js",!1),(0,n.Z)(this,"update_js",!1),(0,n.Z)(this,"getLoggedUser",void 0),(0,n.Z)(this,"SK_clientID",void 0),(0,n.Z)(this,"previewHTML_code",void 0),(0,n.Z)(this,"enableHTML",!1),(0,n.Z)(this,"closeDynamicTemplate",void 0),(0,n.Z)(this,"allPermissions_user",void 0),(0,n.Z)(this,"hideUpdateButton",!1),(0,n.Z)(this,"hideDeleteButton",!1),(0,n.Z)(this,"columnDatatable",[]),(0,n.Z)(this,"allTemplate_ParameterIDs",[]),this.fb=t,this.dynamicTemplate=l,this.dynamicParameter=o,this.api=r,this.toast=d,this.devicesList=h,this.getDiagnostics=u,this.sanitizer=a,this.router=f}ngOnInit(){this.getLoggedUser=this.dynamicTemplate.getLoggedUserDetails(),this.SK_clientID=this.getLoggedUser.attributes["custom:clientID"],this.allPermissions_user=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("permissionDetails")))),this.initializeDynamicParameterFields(),this.addFromService(),this.dropdownSettings=this.getDiagnostics.getSettings()}initializeDynamicParameterFields(){this.createDynamicTemplateField=this.fb.group({templateID:["",s.kI.required],templateLabel:["",s.kI.required],templateParameterID:[[""],s.kI.required],fontColor:["",s.kI.required],layoutTitle:["",s.kI.required],dynamicImage:["",s.kI.required],width:["",s.kI.required],height:["",s.kI.required],fontZoom:["",s.kI.required],maxZoom:["",s.kI.required],centerA:["",s.kI.required],centerB:["",s.kI.required],minimumZoom:["",s.kI.required],zoomControl:["",s.kI.required],scrollWheelZoom:["",s.kI.required],doubleClickZoom:["",s.kI.required],attributionControl:["",s.kI.required],enable_html:[!1,s.kI.required],enable_js:["",s.kI.required],load_js:["",s.kI.required],update_js:["",s.kI.required],enable_html_code:["",s.kI.required],html_preview:[!1,s.kI.required]})}addFromService(){this.columnDatatable=[],this.columnDatatable=[{data:"templateID"},{data:"templateLabel"},{data:"updated"}],this.checkPermission(),this.dynamicTemplate.getSpecificDynamicTemplate(this.SK_clientID).then(t=>{if(t&&void 0!==t){this.data_temp=t,this.listofSK=[],this.listofUniqueLabel=[];for(let l=0;l<t.length;l++)this.listofSK.push(t[l]?.PK);for(let l=0;l<t.length;l++)this.listofUniqueLabel.push(t[l]?.templateLabel);this.getDatatable(this.data_temp)}(null==t||null==t)&&(this.data_temp=t,this.getDatatable(this.data_temp)),this.getTemplateParameterID()}).catch(t=>{console.log("cant fetch",t)})}checkPermission(){let t=!1,l=!1;for(let o=0;o<this.allPermissions_user.length;o++)"Design Template - Update"===this.allPermissions_user[o]?t=!0:"Design Template - View"===this.allPermissions_user[o]&&(l=!0);t&&l||t?this.hideDeleteButton=!0:l?this.hideDeleteButton=!1:this.router.navigate(["/404"])}getTemplateParameterID(){this.dynamicParameter.getSpecificDynamicParameter(this.SK_clientID).then(t=>{if(t&&void 0!==t){this.data_temp=t,this.listofParameterTemplateID=[];for(let l=0;l<t.length;l++)this.listofParameterTemplateID.push({value:t[l]?.PK,text:t[l]?.PK})}}).catch(t=>{console.log("cant fetch",t)})}checkUniqueIdentifier(t){console.log("getID",t),this.errorForUniqueID="";for(let l=0;l<this.listofSK.length;l++)t.target.value==this.listofSK[l]&&(this.errorForUniqueID="Template ID already exists")}checkUniqueLabel(t){this.errorForUniqueLabel="";for(let l=0;l<this.listofUniqueLabel.length;l++)t.target.value==this.listofUniqueLabel[l]&&(this.errorForUniqueLabel="Template label already exists")}onFileChange(t){this.base64textString_temp=t;let l=t.target.files,o=l[0],r=o.type;if("image/gif"==r||"image/png"==r||"image/bmp"==r||"image/jpeg"==r||"image/jpg"==r){if(l&&o){let d=new FileReader;d.onload=this.handleKBconversion.bind(this),d.readAsBinaryString(o)}}else g().fire({customClass:{container:"swal2-container"},position:"center",text:"Image type should be only of GIF, PNG, JPG, JPEG and BMP",icon:"warning",showCancelButton:!0,allowOutsideClick:!1})}handleKBconversion(t){this.base64textString=btoa(t.target.result),this.base64textString_temp="data:"+this.base64textString_temp.target.files[0].type+";base64,"+this.base64textString;let u=1;"="==this.base64textString[this.base64textString.length-1]&&"="==this.base64textString[this.base64textString.length-2]&&(u=2);let a=this.base64textString.length*(3/4)-u;if(a/=1e3,!(a<400))return g().fire({customClass:{container:"swal2-container"},position:"center",text:"Image should be less than 400KB",icon:"warning",showCancelButton:!0,allowOutsideClick:!1})}openModal(t,l){if(console.log("getvalues inside openModal",t),this.centreArray=[],this.multiselectTemplate=[],"edit"==l||""==l){let o="";if(""==t)this.showModal=!1,this.showHeading=!0,this.errorForUniqueID="",this.errorForUniqueLabel="",this.enable_html=!1,this.enable_js=!1,this.load_js=!1,this.update_js=!1,this.base64textString_temp=o,this.createDynamicTemplateField.get("templateID")?.enable(),this.previewHTML_code="",this.createDynamicTemplateField=this.fb.group({templateID:t.templateID,templateLabel:t.templateLabel,templateParameterID:t.templateParameterID,fontColor:t.fontColor,layoutTitle:t.layoutTitle,width:t.width,height:t.height,fontZoom:t.fontZoom,maxZoom:t.maxZoom,centerA:this.centreArray[0],centerB:this.centreArray[1],minimumZoom:t.minimumZoom,zoomControl:t.zoomControl,scrollWheelZoom:t.scrollWheelZoom,doubleClickZoom:t.doubleClickZoom,attributionControl:t.attributionControl,enable_html:!1,enable_js:t.enable_js,load_js:t.load_js,update_js:t.update_js,enable_html_code:t.enable_html_code,html_preview:!1});else if(t){console.log("getValues inside update",t),this.centreArray=[],this.showHeading=!1,this.showModal=!0;for(let a=0;a<this.allPermissions_user.length;a++){if("Design Template - Update"===this.allPermissions_user[a]){this.hideUpdateButton=!1;break}"Design Template - View"===this.allPermissions_user[a]&&(this.hideUpdateButton=!0)}this.base64textString_temp=t.dynamicImage,this.errorForUniqueID="",this.errorForUniqueLabel="",this.createDynamicTemplateField.get("templateID")?.disable();let d=JSON.parse(JSON.stringify(t.center)),h=""!==t.enable_html?JSON.parse(t.enable_html):t.enable_html,u=""!==t.html_preview?JSON.parse(t.html_preview):t.html_preview;this.previewHTML_code="",this.showHTML(h),this.previewHTML(t.html_code),this.createDynamicTemplateField=this.fb.group({templateID:t.templateID,templateLabel:t.templateLabel,templateParameterID:[t.templateParameterID],fontColor:t.fontColor,layoutTitle:t.layoutTitle,width:t.width,height:t.height,fontZoom:t.fontZoom,maxZoom:t.maxZoom,centerA:d[0],centerB:d[1],minimumZoom:t.minimumZoom,zoomControl:""!==t.zoomControl?JSON.parse(t.zoomControl):t.zoomControl,scrollWheelZoom:""!==t.scrollWheelZoom?JSON.parse(t.scrollWheelZoom):t.scrollWheelZoom,doubleClickZoom:""!==t.doubleClickZoom?JSON.parse(t.doubleClickZoom):t.doubleClickZoom,attributionControl:""!==t.attributionControl?JSON.parse(t.attributionControl):t.attributionControl,enable_html:""!==t.enable_html?JSON.parse(t.enable_html):t.enable_html,enable_js:t.global_js,load_js:t.load_js,update_js:t.update_js,enable_html_code:t.html_code,html_preview:u})}}}showHTML(t){""!==t&&(t&&t.target&&1==t.target.checked||1==t?(this.enable_html=!0,this.enable_js=!0,this.load_js=!0,this.update_js=!0):(this.enable_html=!1,this.enable_js=!1,this.load_js=!1,this.update_js=!1))}previewHTML(t){console.log("html code on preview",t),this.previewHTML_code=this.sanitizer.bypassSecurityTrustHtml(t)}showHTMLCode(t){this.enableHTML=!(!t||!t.target||!0!==t.target.checked)||!0===t}onParameterSelect(t){this.multiselectTemplate.push(t.value)}onSelectAll(t){console.log(" select all modules",t);for(let l=0;l<t.length;l++)this.allTemplate_ParameterIDs.push(t[l].value)}getDatatable(t){let l=[],o=[];if(typeof t<"u"){for(let a=0;a<t.length;a++)o[a]=new Date(t[a].updated).toLocaleString(),t[a].updated=o[a];for(let a=0;a<t.length;a++){let b=t[a].templateID,T=t[a].templateLabel,_=t[a].width,Z=t[a].height,ae=t[a].templateParameterID,oe=t[a].fontColor,ne=t[a].layoutTitle,re=t[a].fontZoom,me=t[a].maxZoom,se=JSON.parse(t[a].center);l.push({templateID:b,templateLabel:T,templateParameterID:ae,width:_,height:Z,layoutTitle:ne,fontZoom:re,maxZoom:me,center:se,minimumZoom:t[a].minimumZoom,zoomControl:t[a].zoomControl,scrollWheelZoom:t[a].scrollWheelZoom,doubleClickZoom:t[a].doubleClickZoom,attributionControl:t[a].attributionControl,enable_html:t[a].enable_html,html_preview:t[a].html_preview,global_js:t[a].global_js,load_js:t[a].load_js,update_js:t[a].update_js,html_code:t[a].html_code,fontColor:oe,dynamicImage:t[a].dynamicImage,updated:t[a].updated})}}else l=[];console.log("templateTable",l.length);let r="btn btn-sm btn-primary editdelete ",d="btn btn-sm btn-danger editdelete ";$("#design_template_configuration").off("click"),$("#design_template_configuration").on("click",".editdelete",function(){let a=$(this).closest("tr"),f=h.row(a);this.className==d?u.deleteDynamicTemplate(f.data()):this.className==r&&u.openModal(f.data(),"edit")}),!0===this.hideDeleteButton?this.columnDatatable.push({defaultContent:"<button class='"+r+"' data-bs-target='#templateModal' data-bs-toggle='modal'><i class='fa fa-edit'></i></button>"},{defaultContent:"<button class='"+d+"'><i class='fa fa-trash'></i></button>"}):this.columnDatatable.push({defaultContent:"<button class='"+r+"' data-bs-target='#templateModal' data-bs-toggle='modal'><i class='fa fa-edit'></i></button>"});let h=$("#design_template_configuration").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!1,responsive:!0,data:l,columns:this.columnDatatable}),u=this}createDynamicTemplate(t){let l;console.log("allDynamicTemplate",this.createDynamicTemplateField.value),l=null==this.createDynamicTemplateField.value.fontColor?"#000000":this.createDynamicTemplateField.value.fontColor,this.centreArray.push(this.createDynamicTemplateField.value.centerA),this.centreArray.push(this.createDynamicTemplateField.value.centerB),console.log("centreArray",this.centreArray),this.allDynamicTemplate={PK:this.createDynamicTemplateField.value.templateID,SK:this.SK_clientID,templateID:this.createDynamicTemplateField.value.templateID,templateLabel:this.createDynamicTemplateField.value.templateLabel,templateParameterID:this.multiselectTemplate,fontColor:l,layoutTitle:this.createDynamicTemplateField.value.layoutTitle,width:this.createDynamicTemplateField.value.width,height:this.createDynamicTemplateField.value.height,fontZoom:this.createDynamicTemplateField.value.fontZoom,maxZoom:this.createDynamicTemplateField.value.maxZoom,dynamicImage:this.base64textString_temp,center:JSON.stringify(this.centreArray),minimumZoom:this.createDynamicTemplateField.value.minimumZoom,zoomControl:this.createDynamicTemplateField.value.zoomControl,scrollWheelZoom:this.createDynamicTemplateField.value.scrollWheelZoom,doubleClickZoom:this.createDynamicTemplateField.value.doubleClickZoom,attributionControl:this.createDynamicTemplateField.value.attributionControl,enable_html:this.createDynamicTemplateField.value.enable_html,global_js:this.createDynamicTemplateField.value.enable_js,load_js:this.createDynamicTemplateField.value.load_js,update_js:this.createDynamicTemplateField.value.update_js,html_code:this.createDynamicTemplateField.value.enable_html_code,html_preview:this.createDynamicTemplateField.value.html_preview,updated:new Date},this.allTemplate_ParameterIDs.length>0&&(this.allDynamicTemplate.templateParameterID=this.allTemplate_ParameterIDs),this.api.CreateDesignTemplate(this.allDynamicTemplate).then(o=>{this.addFromService(),o?(this.toast.open("New Dynamic Template configuration created successfully"," ",{duration:2e3,horizontalPosition:"right",verticalPosition:"top"}),this.closeDynamicTemplate.nativeElement.click()):g().fire({customClass:{container:"swal2-container"},position:"center",icon:"warning",title:"Error in adding Dynamic Tempalte Configuration",showCancelButton:!0,allowOutsideClick:!1})}).catch(o=>{console.log("err for creation",o),this.toast.open("Error in adding new Dynamic Tempalte Configuration ","Check again",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})})}updateDynamicTemplate(t,l){this.centreArray=[],this.centreArray.push(this.createDynamicTemplateField.value.centerA),this.centreArray.push(this.createDynamicTemplateField.value.centerB);let o=[];for(let r=0;r<t.templateParameterID.length;r++)o.push(t.templateParameterID&&t.templateParameterID[r].value?t.templateParameterID[r].value:t.templateParameterID[r]);"editDynamicTemplate"==l&&(this.allDynamicTemplate={PK:this.createDynamicTemplateField.value.templateID,SK:this.SK_clientID,templateID:this.createDynamicTemplateField.value.templateID,templateLabel:this.createDynamicTemplateField.value.templateLabel,templateParameterID:o,fontColor:this.createDynamicTemplateField.value.fontColor,layoutTitle:this.createDynamicTemplateField.value.layoutTitle,width:this.createDynamicTemplateField.value.width,height:this.createDynamicTemplateField.value.height,fontZoom:this.createDynamicTemplateField.value.fontZoom,maxZoom:this.createDynamicTemplateField.value.maxZoom,dynamicImage:this.base64textString_temp,center:JSON.stringify(this.centreArray),minimumZoom:this.createDynamicTemplateField.value.minimumZoom,zoomControl:this.createDynamicTemplateField.value.zoomControl,scrollWheelZoom:this.createDynamicTemplateField.value.scrollWheelZoom,doubleClickZoom:this.createDynamicTemplateField.value.doubleClickZoom,attributionControl:this.createDynamicTemplateField.value.attributionControl,enable_html:this.createDynamicTemplateField.value.enable_html,global_js:this.createDynamicTemplateField.value.enable_js,load_js:this.createDynamicTemplateField.value.load_js,update_js:this.createDynamicTemplateField.value.update_js,html_code:this.createDynamicTemplateField.value.enable_html_code,html_preview:this.createDynamicTemplateField.value.html_preview,updated:new Date}),this.api.UpdateDesignTemplate(this.allDynamicTemplate).then(r=>{r?(this.toast.open("Designtemplate Configuration updated successfully","",{duration:2e3,horizontalPosition:"right",verticalPosition:"top"}),this.addFromService(),this.closeDynamicTemplate.nativeElement.click()):alert("Error in updating design template Configuration")}).catch(r=>{console.log("error for updating",r)})}deleteDynamicTemplate(t){this.dynamicTemplateSK=t,this.dynamicTemplateSK&&this.dynamicTemplateSK.templateID&&(this.allDynamicTemplate={PK:this.dynamicTemplateSK.templateID,SK:this.SK_clientID},g().fire({position:"center",title:"Are you sure?",text:"You wont get these details back again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, let me think"}).then(l=>{l.dismiss!==g().DismissReason.cancel?this.api.DeleteDesignTemplate(this.allDynamicTemplate).then(o=>{this.addFromService(),o&&g().fire("Removed!","Design template configuration successfully.","success")}).catch(o=>{console.log("error for deleting",o)}):l.dismiss===g().DismissReason.cancel&&g().fire("Cancelled","Design template configuration not removed","error")}))}}return i=m,(0,n.Z)(m,"\u0275fac",function(t){return new(t||i)(e.Y36(s.QS),e.Y36(y.F),e.Y36(y.F),e.Y36(w.t),e.Y36(C.ux),e.Y36(y.F),e.Y36(y.F),e.Y36(F.H7),e.Y36(I.F0))}),(0,n.Z)(m,"\u0275cmp",e.Xpm({type:i,selectors:[["app-dynamic-template"]],viewQuery:function(t,l){if(1&t&&e.Gf(U,5),2&t){let o;e.iGM(o=e.CRH())&&(l.closeDynamicTemplate=o.first)}},decls:152,vars:31,consts:[[1,"card","mb-5","mb-xl-8"],[1,"card-header","border-0","pt-5"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bolder","fs-3","mb-1"],[1,"card-toolbar"],["type","button","class","btn btn-sm btn-primary","data-bs-toggle","modal","data-bs-target","#templateModal",3,"click",4,"ngIf"],[1,"card-body","py-3"],[1,"table-responsive"],["id","design_template_configuration",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4"],[4,"ngIf"],["id","templateModal","tabindex","-1","aria-labelledby","templateModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content",2,"width","1200px","transform","translate(-27%, 0px)"],[1,"modal-header"],["class","modal-title","id","osLabel",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"fv-row",3,"formGroup"],[1,"card-body","border-top","p-9"],[1,"container"],[1,"row"],[1,"col-md-4"],[1,"col-lg-12","col-form-label","fw-bold","fs-6","required"],["type","text","placeholder","Enter Template ID","name","templateID","formControlName","templateID","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"keyup"],[2,"color","#fc1900"],["class","fv-plugins-message-container invalid-feedback",4,"ngIf"],["type","text","placeholder","Enter Template Label","name","templateLabel","formControlName","templateLabel","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"keyup"],[1,"form-select","form-select-solid","form-select-lg","fw-bold",2,"display","inline-block","width","100%","padding","0px","margin-bottom","0","font-weight","0px","line-height","1.52857143","text-align","left","vertical-align","middle","cursor","pointer","background-image","none","border-radius","4px",3,"placeholder","settings","data","formControl","onSelect","onSelectAll"],[1,"col-lg-12","col-form-label","fw-bold","fs-6"],["type","color","placeholder","Enter font Color","name","fontColor","formControlName","fontColor",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","text","placeholder","Enter layout title","name","layoutTitle","formControlName","layoutTitle","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[1,"col-lg-4"],[1,"col-lg-12","form-group","image-input","image-input-outline"],["for","imageInput",1,"col-lg-12","col-form-label","fw-bold","fs-6"],["type","file","id","imageInput","title","Click to add/update image",1,"form-control","visually-hidden",3,"change"],["for","imageInput",1,"form-control","form-control-lg","form-control-solid",2,"padding-left","115px"],["class","btn btn-icon btn-box image-input-wrapper w-125px h-125px btn-active-color-primary w-25px h-25px bg-body shadow",3,"src",4,"ngIf"],["type","number","placeholder","Enter width","name","width","formControlName","width","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","number","placeholder","Enter width","name","height","formControlName","height","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","number","placeholder","Enter font zoom","name","fontZoom","formControlName","fontZoom","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","number","placeholder","Enter max zoom","name","maxZoom","formControlName","maxZoom","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[1,"col-md-2"],["type","number","placeholder","Enter center A","name","centerA","formControlName","centerA","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","number","placeholder","Enter center B","name","centerB","formControlName","centerB","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","number","placeholder","Enter minimum zoom","name","minimumZoom","formControlName","minimumZoom","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[1,"col-md-2",2,"padding-top","43px"],[1,"col-lg-12","fv-row"],[1,"form-check","form-check-inline","form-check-solid","me-5"],["name","zoomControl","type","checkbox","checked","","formControlName","zoomControl",1,"form-check-input"],[1,"fw-bold","ps-2","fs-6"],["name","scrollWheelZoom","type","checkbox","formControlName","scrollWheelZoom",1,"form-check-input"],["name","doubleClickZoom","type","checkbox","formControlName","doubleClickZoom",1,"form-check-input"],["name","attributionControl","type","checkbox","formControlName","attributionControl",1,"form-check-input"],["name","enable_html","type","checkbox","formControlName","enable_html",1,"form-check-input",3,"click"],[1,"form-row"],[1,"form-group"],["class","col-lg-12",4,"ngIf"],["name","html_preview","type","checkbox","formControlName","html_preview",1,"form-check-input",3,"click"],["class","container",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-sm","btn-danger"],["closeDynamicTemplate",""],["type","submit","class","btn btn-sm btn-primary",3,"hidden","disabled","click",4,"ngIf"],["type","button","class","btn btn-sm btn-primary not-allowed",3,"disabled","click",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#templateModal",1,"btn","btn-sm","btn-primary",3,"click"],["id","osLabel",1,"modal-title"],[1,"fv-plugins-message-container","invalid-feedback"],[1,"btn","btn-icon","btn-box","image-input-wrapper","w-125px","h-125px","btn-active-color-primary","w-25px","h-25px","bg-body","shadow",3,"src"],[1,"col-lg-12"],[1,"col-lg-12","control-label"],["cols","120","rows","10","formControlName","enable_js","placeholder","<JS>",1,"form-control"],["cols","120","rows","10","formControlName","load_js","placeholder","<JS>",1,"form-control"],["cols","120","rows","10","formControlName","update_js","placeholder","<JS>",1,"form-control"],["cols","120","rows","10","formControlName","enable_html_code","placeholder","<HTML>",1,"form-control",3,"change"],[3,"innerHtml"],["type","submit",1,"btn","btn-sm","btn-primary",3,"hidden","disabled","click"],["type","button",1,"btn","btn-sm","btn-primary","not-allowed",3,"disabled","click"]],template:function(t,l){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"span",3),e._uU(4," Design Template Configuration"),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,x,2,0,"button",5),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7)(9,"table",8)(10,"thead"),e.YNc(11,k,11,0,"tr",9),e.YNc(12,S,9,0,"tr",9),e.qZA()()()()(),e.TgZ(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),e.YNc(17,N,2,0,"h2",14),e.YNc(18,L,2,0,"h2",14),e._UZ(19,"button",15),e.qZA(),e.TgZ(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",19)(24,"div",20)(25,"label",21),e._uU(26," ID"),e.qZA(),e.TgZ(27,"input",22),e.NdJ("keyup",function(r){return l.checkUniqueIdentifier(r)}),e.qZA(),e.TgZ(28,"span",23),e._uU(29),e.qZA(),e.YNc(30,P,2,0,"div",24),e.qZA(),e.TgZ(31,"div",20)(32,"label",21),e._uU(33," Label "),e.qZA(),e.TgZ(34,"input",25),e.NdJ("keyup",function(r){return l.checkUniqueLabel(r)}),e.qZA(),e.TgZ(35,"span",23),e._uU(36),e.qZA(),e.YNc(37,J,2,0,"div",24),e.qZA(),e.TgZ(38,"div",20)(39,"label",21),e._uU(40," Template Parameter Id"),e.qZA(),e.TgZ(41,"ng-multiselect-dropdown",26),e.NdJ("onSelect",function(r){return l.onParameterSelect(r)})("onSelectAll",function(r){return l.onSelectAll(r)}),e.qZA(),e.YNc(42,j,2,0,"div",24),e.qZA()()(),e.TgZ(43,"div",18)(44,"div",19)(45,"div",20)(46,"label",27),e._uU(47,"Background color"),e.qZA(),e._UZ(48,"input",28),e.qZA(),e.TgZ(49,"div",20)(50,"label",21),e._uU(51," Layout Title "),e.qZA(),e._UZ(52,"input",29),e.YNc(53,M,2,0,"div",24),e.qZA(),e.TgZ(54,"div",30)(55,"div",31)(56,"label",32),e._uU(57,"Background Image"),e.qZA(),e.TgZ(58,"input",33),e.NdJ("change",function(r){return l.onFileChange(r)}),e.qZA(),e.TgZ(59,"label",34),e._uU(60,"Upload Image"),e.qZA(),e._UZ(61,"br"),e.YNc(62,B,1,1,"img",35),e.qZA()()()(),e.TgZ(63,"div",18)(64,"div",19)(65,"div",20)(66,"label",21),e._uU(67,"Background Image Width "),e.qZA(),e._UZ(68,"input",36),e.YNc(69,E,2,0,"div",24),e.qZA(),e.TgZ(70,"div",20)(71,"label",21),e._uU(72,"Background Image Height "),e.qZA(),e._UZ(73,"input",37),e.YNc(74,H,2,0,"div",24),e.qZA(),e.TgZ(75,"div",20)(76,"label",21),e._uU(77," Zoom "),e.qZA(),e._UZ(78,"input",38),e.YNc(79,K,2,0,"div",24),e.qZA()()(),e.TgZ(80,"div",18)(81,"div",19)(82,"div",20)(83,"label",21),e._uU(84,"Maximum Zoom "),e.qZA(),e._UZ(85,"input",39),e.YNc(86,Y,2,0,"div",24),e.qZA(),e.TgZ(87,"div",40)(88,"label",21),e._uU(89,"Center A "),e.qZA(),e._UZ(90,"input",41),e.YNc(91,Q,2,0,"div",24),e.qZA(),e.TgZ(92,"div",40)(93,"label",21),e._uU(94,"Center B "),e.qZA(),e._UZ(95,"input",42),e.YNc(96,z,2,0,"div",24),e.qZA(),e.TgZ(97,"div",20)(98,"label",21),e._uU(99,"Minimum Zoom "),e.qZA(),e._UZ(100,"input",43),e.YNc(101,O,2,0,"div",24),e.qZA()()(),e.TgZ(102,"div",18)(103,"div",19)(104,"div",44)(105,"div",45)(106,"label",46),e._UZ(107,"input",47),e.TgZ(108,"span",48),e._uU(109," Zoom Control"),e.qZA()()()(),e.TgZ(110,"div",44)(111,"label",46),e._UZ(112,"input",49),e.TgZ(113,"span",48),e._uU(114,"ScrollWheelZoom "),e.qZA()()(),e.TgZ(115,"div",44)(116,"label",46),e._UZ(117,"input",50),e.TgZ(118,"span",48),e._uU(119,"Double Click Zoom "),e.qZA()()(),e.TgZ(120,"div",44)(121,"label",46),e._UZ(122,"input",51),e.TgZ(123,"span",48),e._uU(124,"Attribution Control "),e.qZA()()(),e.TgZ(125,"div",44)(126,"label",46)(127,"input",52),e.NdJ("click",function(r){return l.showHTML(r)}),e.qZA(),e.TgZ(128,"span",48),e._uU(129,"Enable HTML "),e.qZA()()(),e.TgZ(130,"div",53)(131,"div",54),e.YNc(132,W,4,0,"div",55),e.qZA(),e.TgZ(133,"div",54),e.YNc(134,G,4,0,"div",55),e.qZA(),e.TgZ(135,"div",54),e.YNc(136,R,4,0,"div",55),e.qZA(),e.TgZ(137,"div",54),e.YNc(138,X,4,0,"div",55),e._UZ(139,"br"),e.qZA()(),e.TgZ(140,"div",44)(141,"label",46)(142,"input",56),e.NdJ("click",function(r){return l.showHTMLCode(r)}),e.qZA(),e.TgZ(143,"span",48),e._uU(144,"HTML Preview "),e.qZA()()()()(),e.YNc(145,V,4,1,"div",57),e.TgZ(146,"div",58)(147,"button",59,60),e._uU(149,"Cancel"),e.qZA(),e.YNc(150,ee,2,3,"button",61),e.YNc(151,te,2,1,"button",62),e.qZA()()()()()()),2&t){let o,r,d,h,u,a,f,b,T,_,Z;e.xp6(6),e.Q6J("ngIf",l.hideDeleteButton),e.xp6(5),e.Q6J("ngIf",!0===l.hideDeleteButton),e.xp6(1),e.Q6J("ngIf",!1===l.hideDeleteButton),e.xp6(5),e.Q6J("ngIf",l.showHeading),e.xp6(1),e.Q6J("ngIf",!l.showHeading),e.xp6(2),e.Q6J("formGroup",l.createDynamicTemplateField),e.xp6(9),e.Oqu(l.errorForUniqueID),e.xp6(1),e.Q6J("ngIf",(null==(o=l.createDynamicTemplateField.get("templateID"))?null:o.hasError("required"))&&(null==(o=l.createDynamicTemplateField.get("templateID"))?null:o.touched)),e.xp6(6),e.Oqu(l.errorForUniqueLabel),e.xp6(1),e.Q6J("ngIf",(null==(r=l.createDynamicTemplateField.get("templateLabel"))?null:r.hasError("required"))&&(null==(r=l.createDynamicTemplateField.get("templateLabel"))?null:r.touched)),e.xp6(4),e.Q6J("placeholder","Select Parameter Id")("settings",l.dropdownSettings)("data",l.listofParameterTemplateID)("formControl",l.createDynamicTemplateField.controls.templateParameterID),e.xp6(1),e.Q6J("ngIf",(null==(d=l.createDynamicTemplateField.get("templateParameterID"))?null:d.hasError("required"))&&(null==(d=l.createDynamicTemplateField.get("templateParameterID"))?null:d.touched)),e.xp6(11),e.Q6J("ngIf",(null==(h=l.createDynamicTemplateField.get("layoutTitle"))?null:h.hasError("required"))&&(null==(h=l.createDynamicTemplateField.get("layoutTitle"))?null:h.touched)),e.xp6(9),e.Q6J("ngIf",l.base64textString_temp),e.xp6(7),e.Q6J("ngIf",(null==(u=l.createDynamicTemplateField.get("width"))?null:u.hasError("required"))&&(null==(u=l.createDynamicTemplateField.get("width"))?null:u.touched)),e.xp6(5),e.Q6J("ngIf",(null==(a=l.createDynamicTemplateField.get("height"))?null:a.hasError("required"))&&(null==(a=l.createDynamicTemplateField.get("height"))?null:a.touched)),e.xp6(5),e.Q6J("ngIf",(null==(f=l.createDynamicTemplateField.get("fontZoom"))?null:f.hasError("required"))&&(null==(f=l.createDynamicTemplateField.get("fontZoom"))?null:f.touched)),e.xp6(7),e.Q6J("ngIf",(null==(b=l.createDynamicTemplateField.get("maxZoom"))?null:b.hasError("required"))&&(null==(b=l.createDynamicTemplateField.get("maxZoom"))?null:b.touched)),e.xp6(5),e.Q6J("ngIf",(null==(T=l.createDynamicTemplateField.get("centerA"))?null:T.hasError("required"))&&(null==(T=l.createDynamicTemplateField.get("centerA"))?null:T.touched)),e.xp6(5),e.Q6J("ngIf",(null==(_=l.createDynamicTemplateField.get("centerB"))?null:_.hasError("required"))&&(null==(_=l.createDynamicTemplateField.get("centerB"))?null:_.touched)),e.xp6(5),e.Q6J("ngIf",(null==(Z=l.createDynamicTemplateField.get("minimumZoom"))?null:Z.hasError("required"))&&(null==(Z=l.createDynamicTemplateField.get("minimumZoom"))?null:Z.touched)),e.xp6(31),e.Q6J("ngIf",l.enable_js),e.xp6(2),e.Q6J("ngIf",l.load_js),e.xp6(2),e.Q6J("ngIf",l.update_js),e.xp6(2),e.Q6J("ngIf",l.enable_html),e.xp6(7),e.Q6J("ngIf",l.enableHTML),e.xp6(5),e.Q6J("ngIf",l.showModal),e.xp6(1),e.Q6J("ngIf",!l.showModal)}},dependencies:[v.O5,s.Fj,s.wV,s.Wl,s.JJ,s.JL,s.Q7,s.oH,s.sg,s.u,A.O],styles:[".btn-close[_ngcontent-%COMP%]{background-color:#f1416c}"]})),m})(),ie=(()=>{var i;class m{}return i=m,(0,n.Z)(m,"\u0275fac",function(t){return new(t||i)}),(0,n.Z)(m,"\u0275mod",e.oAB({type:i})),(0,n.Z)(m,"\u0275inj",e.cJS({imports:[v.ez,C.ZX,I.Bz.forChild([{path:"",component:le}])]})),m})()}}]);