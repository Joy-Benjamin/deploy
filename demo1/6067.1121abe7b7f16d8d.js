"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[6067],{6067:(Se,A,T)=>{T.r(A),T.d(A,{WritingdeviceV2Module:()=>Ne});var l=T(86656),C=T(96814),k=T(22939),U=T(64190),v=T(15861),_=T(56223),H=T(13519),w=T.n(H),e=T(65879),q=T(5588),z=T(31552),I=T(88672),j=T(16519),x=T(78325),F=T(60540);const ee=["closeWDT"],te=["closeWDTParameter"],ae=["wdtModalLabel"];function re(o,p){if(1&o){const s=e.EpF();e.TgZ(0,"button",82),e.NdJ("click",function(){e.CHM(s);const a=e.oxw();return e.KtG(a.openModal("",""))}),e._uU(1," New "),e.qZA()}}function ie(o,p){1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"WDT ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"WDT Label"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Parameters(Total)"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Updated"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Parameters"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Edit"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Delete"),e.qZA()())}function le(o,p){1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"WDT ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"WDT Label"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Parameters(Total)"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Updated"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Parameters"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Edit"),e.qZA()())}function oe(o,p){1&o&&(e.TgZ(0,"h2",83),e._uU(1,"Add Writing Device Type Configuration "),e.qZA())}function ne(o,p){1&o&&(e.TgZ(0,"h2",83),e._uU(1,"Edit Writing Device Type Configuration "),e.qZA())}function se(o,p){if(1&o&&(e.TgZ(0,"div",21)(1,"div",84)(2,"p"),e._uU(3),e.qZA()()()),2&o){const s=e.oxw();e.xp6(3),e.hij("Note: Successfully cloned the selected ",s.selectedWDTclone," configuration. Please enter the WDT ID and Label to finalize.")}}function de(o,p){1&o&&(e.TgZ(0,"div",85),e._uU(1," WDT ID is required "),e.qZA())}function ce(o,p){1&o&&(e.TgZ(0,"div",85),e._uU(1," WDT Label is required "),e.qZA())}function ue(o,p){if(1&o){const s=e.EpF();e.TgZ(0,"button",86),e.NdJ("click",function(){e.CHM(s);const a=e.oxw();return e.KtG(a.onCloneWDT())}),e.TgZ(1,"span",87),e._UZ(2,"i",88),e.qZA(),e.TgZ(3,"span",89),e._uU(4,"Clone WDT"),e.qZA()()}if(2&o){const s=e.oxw();e.Q6J("disabled",s.cloneWDTOperation)}}function pe(o,p){if(1&o){const s=e.EpF();e.TgZ(0,"button",90),e.NdJ("click",function(){e.CHM(s);const a=e.oxw();return e.KtG(a.updateHelpherWDT(a.createWDTField.value,"editWDT"))}),e._uU(1," Update "),e.qZA()}if(2&o){const s=e.oxw();e.Q6J("hidden",s.hideUpdateButton)("disabled",!s.createWDTField.dirty||s.createWDTField.invalid)}}function me(o,p){if(1&o){const s=e.EpF();e.TgZ(0,"button",91),e.NdJ("click",function(){e.CHM(s);const a=e.oxw();return e.KtG(a.createNewWDT(""))}),e._uU(1,"Submit"),e.qZA()}if(2&o){const s=e.oxw();e.Q6J("disabled",s.createWDTField.invalid)}}function _e(o,p){1&o&&(e.TgZ(0,"h2",92),e._uU(1,"Add Writing Parameter Configuration"),e.qZA())}function he(o,p){1&o&&(e.TgZ(0,"h2",92),e._uU(1,"Edit Writing Parameter Configuration"),e.qZA())}function ge(o,p){1&o&&(e.TgZ(0,"div",85),e._uU(1," Parameter ID is required "),e.qZA())}function fe(o,p){1&o&&(e.TgZ(0,"div",85),e._uU(1," Parameter Label is required "),e.qZA())}function be(o,p){1&o&&(e.TgZ(0,"div",85),e._uU(1," Parameter Description is required "),e.qZA())}function De(o,p){1&o&&(e.TgZ(0,"div",85),e._uU(1," Start Address is required "),e.qZA())}function Te(o,p){1&o&&(e.TgZ(0,"div",85),e._uU(1," Variable Type is required "),e.qZA())}function ve(o,p){1&o&&(e.TgZ(0,"div",85),e._uU(1," Min value is required "),e.qZA())}function we(o,p){1&o&&(e.TgZ(0,"div",85),e._uU(1," Max value is required "),e.qZA())}function Ze(o,p){1&o&&(e.TgZ(0,"div",85),e._uU(1," Multiplication Factor is required "),e.qZA())}function ye(o,p){1&o&&(e.TgZ(0,"div",85),e._uU(1," Addition Factor is required "),e.qZA())}function We(o,p){1&o&&(e.TgZ(0,"div",85),e._uU(1," DL is required "),e.qZA())}function Pe(o,p){if(1&o&&(e.TgZ(0,"div",39)(1,"label",24),e._uU(2,"DL"),e.qZA(),e._UZ(3,"input",93),e.YNc(4,We,2,0,"div",27),e.qZA()),2&o){const s=e.oxw();let t;e.xp6(4),e.Q6J("ngIf",(null==(t=s.createWDTParameter.get("dl"))?null:t.hasError("required"))&&(null==(t=s.createWDTParameter.get("dl"))?null:t.touched))}}function Ce(o,p){1&o&&(e.TgZ(0,"div",85),e._uU(1," Control type is required "),e.qZA())}function qe(o,p){1&o&&(e.TgZ(0,"div",85),e._uU(1," Step is required "),e.qZA())}function Ie(o,p){1&o&&(e.TgZ(0,"div",85),e._uU(1," Block Number is required "),e.qZA())}function Le(o,p){if(1&o&&(e.TgZ(0,"option",94),e._uU(1),e.qZA()),2&o){const s=p.$implicit;e.Q6J("value",s),e.xp6(1),e.hij(" ",s," ")}}function Ae(o,p){if(1&o){const s=e.EpF();e.ynx(0),e.TgZ(1,"div",104),e._uU(2," \xa0 "),e._UZ(3,"input",105),e._uU(4," \xa0 "),e._UZ(5,"input",106),e._uU(6," \xa0 "),e.TgZ(7,"button",107),e.NdJ("click",function(){const r=e.CHM(s).index,i=e.oxw(2);return e.KtG(i.remove(r))}),e._UZ(8,"span",108),e.qZA(),e._uU(9," \xa0 "),e.qZA(),e.BQk()}if(2&o){const s=p.index;e.xp6(1),e.Q6J("formGroupName",s),e.xp6(7),e.Q6J("inlineSVG","./assets/media/icons/duotune/arrows/arr061.svg")}}function ke(o,p){if(1&o){const s=e.EpF();e.TgZ(0,"div",21)(1,"div",95)(2,"button",96),e.NdJ("click",function(){e.CHM(s);const a=e.oxw();return e.KtG(a.copyToLocalStorage())}),e._UZ(3,"i",97),e.qZA(),e.TgZ(4,"button",98),e.NdJ("click",function(){e.CHM(s);const a=e.oxw();return e.KtG(a.pasteFromLocalStorage())}),e._UZ(5,"i",99),e.qZA()(),e.TgZ(6,"label",69),e._uU(7," Add Dropdown Label and Value"),e.qZA(),e.ynx(8,100),e.YNc(9,Ae,10,2,"ng-container",101),e.BQk(),e.TgZ(10,"button",102),e.NdJ("click",function(){e.CHM(s);const a=e.oxw();return e.KtG(a.add())}),e._UZ(11,"span",103),e.qZA()()}if(2&o){const s=e.oxw();e.xp6(9),e.Q6J("ngForOf",s.dropdownLabel_value().controls),e.xp6(2),e.Q6J("inlineSVG","./assets/media/icons/duotune/arrows/arr075.svg")}}function Ue(o,p){if(1&o){const s=e.EpF();e.TgZ(0,"button",109),e.NdJ("click",function(){e.CHM(s);const a=e.oxw();return e.KtG(a.updateParameterWDT(a.createWDTParameter.value,"add"))}),e._uU(1," Submit "),e.qZA()}if(2&o){const s=e.oxw();let t;e.Q6J("disabled",(null==(t=s.createWDTParameter.get("w_parameterID"))?null:t.hasError("required"))||"Parameter ID already exists"==s.errorForUniqueID||(null==(t=s.createWDTParameter.get("w_parameterLabel"))?null:t.hasError("required"))||(null==(t=s.createWDTParameter.get("w_parameterDescription"))?null:t.hasError("required"))||(null==(t=s.createWDTParameter.get("start_address"))?null:t.hasError("required"))||(null==(t=s.createWDTParameter.get("variable_type"))?null:t.hasError("required"))||(null==(t=s.createWDTParameter.get("min"))?null:t.hasError("required"))||(null==(t=s.createWDTParameter.get("max"))?null:t.hasError("required"))||(null==(t=s.createWDTParameter.get("mX_C_X_Multiplication_Factor"))?null:t.hasError("required"))||(null==(t=s.createWDTParameter.get("mX_C_C_Addition_Factor"))?null:t.hasError("required"))||(null==(t=s.createWDTParameter.get("control_type"))?null:t.hasError("required"))||(null==(t=s.createWDTParameter.get("step"))?null:t.hasError("required"))||""!=s.errorForBlockNumber)}}function xe(o,p){if(1&o){const s=e.EpF();e.TgZ(0,"button",109),e.NdJ("click",function(){e.CHM(s);const a=e.oxw();return e.KtG(a.updateParameterWDT(a.createWDTParameter.value,"update"))}),e._uU(1," Update "),e.qZA()}if(2&o){const s=e.oxw();let t;e.Q6J("disabled",(null==(t=s.createWDTParameter.get("w_parameterID"))?null:t.hasError("required"))||"Parameter ID already exists"==s.errorForUniqueID||(null==(t=s.createWDTParameter.get("w_parameterLabel"))?null:t.hasError("required"))||(null==(t=s.createWDTParameter.get("w_parameterDescription"))?null:t.hasError("required"))||(null==(t=s.createWDTParameter.get("start_address"))?null:t.hasError("required"))||(null==(t=s.createWDTParameter.get("variable_type"))?null:t.hasError("required"))||(null==(t=s.createWDTParameter.get("min"))?null:t.hasError("required"))||(null==(t=s.createWDTParameter.get("max"))?null:t.hasError("required"))||(null==(t=s.createWDTParameter.get("mX_C_X_Multiplication_Factor"))?null:t.hasError("required"))||(null==(t=s.createWDTParameter.get("mX_C_C_Addition_Factor"))?null:t.hasError("required"))||(null==(t=s.createWDTParameter.get("control_type"))?null:t.hasError("required"))||(null==(t=s.createWDTParameter.get("step"))?null:t.hasError("required"))||""!=s.errorForBlockNumber)}}let Fe=(()=>{var o;class p{constructor(t,a,r,i,n,d,c,u,m,h){(0,l.Z)(this,"getReadingDeviceType",void 0),(0,l.Z)(this,"getWritingDeviceType",void 0),(0,l.Z)(this,"fb",void 0),(0,l.Z)(this,"api",void 0),(0,l.Z)(this,"toast",void 0),(0,l.Z)(this,"getDiagnostics",void 0),(0,l.Z)(this,"cd",void 0),(0,l.Z)(this,"router",void 0),(0,l.Z)(this,"spinner",void 0),(0,l.Z)(this,"auditTrialServices",void 0),(0,l.Z)(this,"data_temp",[]),(0,l.Z)(this,"createWDTField",void 0),(0,l.Z)(this,"createWDTParameter",void 0),(0,l.Z)(this,"showModal",!1),(0,l.Z)(this,"showHeading",!1),(0,l.Z)(this,"showParameterHeading",!1),(0,l.Z)(this,"showParameterButton",!1),(0,l.Z)(this,"allWDTDetails",{}),(0,l.Z)(this,"deleteWDTdata",void 0),(0,l.Z)(this,"multi_params",[]),(0,l.Z)(this,"errorForUniqueID",void 0),(0,l.Z)(this,"errorForUniqueParameterLabel",void 0),(0,l.Z)(this,"errorForUniqueWDTID",void 0),(0,l.Z)(this,"errorForUniqueWDTLabel",void 0),(0,l.Z)(this,"listofParameterID",[]),(0,l.Z)(this,"dropdownLabelValue",[]),(0,l.Z)(this,"selectedWDTIndex",""),(0,l.Z)(this,"rdtList",[]),(0,l.Z)(this,"allRDTList",[]),(0,l.Z)(this,"bindingParametersList",[]),(0,l.Z)(this,"rdtSpecificParameterList",[]),(0,l.Z)(this,"dropdownSettings",{}),(0,l.Z)(this,"multiBindParam",[]),(0,l.Z)(this,"allBindingParams",[]),(0,l.Z)(this,"multiSelectedBindParams",void 0),(0,l.Z)(this,"closeWDT",void 0),(0,l.Z)(this,"closeWDTParameter",void 0),(0,l.Z)(this,"wdtModalLabel",void 0),(0,l.Z)(this,"isFI",!1),(0,l.Z)(this,"isDID",!1),(0,l.Z)(this,"isFC",!1),(0,l.Z)(this,"isDL",!1),(0,l.Z)(this,"isStartAddress",!1),(0,l.Z)(this,"isVariableType",!1),(0,l.Z)(this,"tcp_ip",void 0),(0,l.Z)(this,"isControllabel",!1),(0,l.Z)(this,"isControlvalue",!1),(0,l.Z)(this,"isDropdownList",!1),(0,l.Z)(this,"enableSaveButton",!1),(0,l.Z)(this,"final_WDT_params",[]),(0,l.Z)(this,"getLoggedUser",void 0),(0,l.Z)(this,"SK_clientID",void 0),(0,l.Z)(this,"allPermissions_user",void 0),(0,l.Z)(this,"hideUpdateButton",!1),(0,l.Z)(this,"hideDeleteButton",!1),(0,l.Z)(this,"columnDatatable",[]),(0,l.Z)(this,"dataform",[]),(0,l.Z)(this,"lookup_data_user",[]),(0,l.Z)(this,"clientID",void 0),(0,l.Z)(this,"deviceTableData",void 0),(0,l.Z)(this,"columnTableData",[]),(0,l.Z)(this,"maxlength",500),(0,l.Z)(this,"lookup_data_temp1",[]),(0,l.Z)(this,"parsedData",void 0),(0,l.Z)(this,"data_temp1",void 0),(0,l.Z)(this,"parametersList",void 0),(0,l.Z)(this,"cloneWDTOperation",!1),(0,l.Z)(this,"selectedWDTclone",""),(0,l.Z)(this,"tempClonedData",void 0),(0,l.Z)(this,"errorForBlockNumber",""),(0,l.Z)(this,"selectedWDT",""),(0,l.Z)(this,"parameterData",[]),(0,l.Z)(this,"editedWDTParameter",[]),(0,l.Z)(this,"wdtList",[]),(0,l.Z)(this,"wdtLabelList",[]),(0,l.Z)(this,"listofParameterLabel",[]),this.getReadingDeviceType=t,this.getWritingDeviceType=a,this.fb=r,this.api=i,this.toast=n,this.getDiagnostics=d,this.cd=c,this.router=u,this.spinner=m,this.auditTrialServices=h}ngOnInit(){this.auditTrialServices.audit_trail("2.1","Writing Device Type","Page Load","Writing Device Type Page Loaded","1"),this.getLoggedUser=this.getWritingDeviceType.getLoggedUserDetails(),this.SK_clientID=this.getLoggedUser.attributes["custom:clientID"],this.clientID=this.getLoggedUser.attributes["custom:clientID"]+"#wdt",this.allPermissions_user=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("permissionDetails")))),this.addFromService(),this.initializeDeviceFields(),this.initializeWDTParameters(),this.loading(),this.dropdownSettings=this.getDiagnostics.getSettings()}loading(){$("#datatables").DataTable().destroy(),this.dataform=[],this.lookup_data_user=[],this.fetchTMLookupData(1)}initializeDeviceFields(){this.createWDTField=this.fb.group({wdtID:["",_.kI.required],wdtLabel:["",_.kI.required]})}initializeWDTParameters(){this.createWDTParameter=this.fb.group({w_parameterID:["",_.kI.required],w_parameterLabel:["",_.kI.required],w_parameterDescription:["",_.kI.required],communication_type:["Automatic",_.kI.required],dl:[""],start_address:["",_.kI.required],variable_type:["",_.kI.required],min:["",_.kI.required],max:["",_.kI.required],mX_C_X_Multiplication_Factor:[""],mX_C_C_Addition_Factor:[""],blockNumber:["",_.kI.required],control_type:["",_.kI.required],dropdownLabel_value:this.fb.array([this.createItem()]),step:["",_.kI.required],rdt:[""],binding_parameter:[[""],_.kI.required],enable_binding_parameter:["",_.kI.required]})}fetchTMLookupData(t){var a=this;return(0,v.Z)(function*(){console.log("Iam called Bro");try{const r=yield a.api.GetLookupMasterTable(a.clientID,t);if(r&&r.items)if("string"==typeof r.items){let i=JSON.parse(r.items);if(console.log("d1 =",i),Array.isArray(i)){for(let n=0;n<i.length;n++){const d=i[n];if(null==d)break;{const c=Object.keys(d)[0],{P1:u,P2:m,P3:h,P4:D}=d[c];a.lookup_data_user.push({P1:u,P2:m,P3:h,P4:D}),console.log("d2 =",a.lookup_data_user)}}a.lookup_data_user.sort((n,d)=>d.P4-n.P4),console.log("Lookup sorting",a.lookup_data_user),yield a.fetchTMLookupData(t+1)}else console.error("Invalid data format - not an array.")}else console.error("response.listOfItems is not a string.");else console.log(),console.log("Permissions to be displayed",a.lookup_data_user),a.getTableUser(a.lookup_data_user),a.wdtList=a.lookup_data_user.map(i=>i.P1),a.wdtLabelList=a.lookup_data_user.map(i=>i.P2),a.auditTrialServices.audit_trail("2.1","Writing Device Type","View","Writing Device Type Table was viewed","1")}catch(r){console.error("Error:",r)}})()}getTableUser(t){let a="btn btn-sm btn-success editclasswdt ",r="btn btn-sm btn-primary editclasswdt ",i="btn btn-sm btn-danger editclasswdt ";if(typeof t<"u")for(let c=0;c<t.length;c++)this.dataform.push({wdt_parameter_id:t[c].P1,wdt_parameter_label:t[c].P2,parameters:t[c].P3,updated:new Date(1e3*t[c].P4).toLocaleDateString()+" "+new Date(1e3*t[c].P4).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})});else this.dataform=[];let n=[];if(typeof t<"u")for(let c=0;c<t.length;c++)n[c]=new Date(t[c].updatedTime).toLocaleString(),t[c].updatedTime=n[c];else t=[];!0===this.hideDeleteButton?this.columnTableData.push({defaultContent:"<button class='"+a+"'data-bs-target='#wdtparameterModal' data-bs-toggle='modal'>Parameter</button>"},{defaultContent:"<button class='"+r+"' data-bs-target='#wdtModal' data-bs-toggle='modal'><i class='fa fa-edit'></i></i></button>"},{defaultContent:"<button class='"+i+"'><i class='fa fa-trash'></i></button>"}):this.columnTableData.push({defaultContent:"<button class='"+a+"'data-bs-target='#wdtparameterModal' data-bs-toggle='modal'>Parameter</button>"},{defaultContent:"<button class='"+r+"' data-bs-target='#wdtModal' data-bs-toggle='modal''><i class='fa fa-edit'></i></i></button>"}),console.log("columnDatatable",this.columnTableData),console.log("dataform",this.dataform),$("#wdt_lookup_table").off("click"),$("#wdt_lookup_table").on("click",".editclasswdt",function(){let c=$(this).closest("tr"),u=d.deviceTableData.row(c);this.className==i&&d.deleteWDT(u.data()),this.className==r&&d.openModal(u.data(),"edit"),this.className==a&&d.updateHelpherWDT(u.data(),"wdt_parameter")}),this.getLookupTableData(this.dataform,this.columnTableData),this.addFromService();let d=this}getLookupTableData(t,a){var r=this;return(0,v.Z)(function*(){console.log("chk1 tm",t),console.log("chk2 tm",a);try{r.deviceTableData&&$.fn.DataTable.isDataTable("#wdt_lookup_table")&&r.deviceTableData.destroy(),r.deviceTableData=$("#wdt_lookup_table").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!0,responsive:!0,data:t,ordering:!0,order:[[4,"asc"]],columnDefs:[{type:"date",targets:4}],columns:a})}catch(i){console.error("Error initializing DataTable:",i)}})()}addFromService(){this.columnDatatable=[],this.columnTableData=[],this.columnDatatable=[{data:"wdt_parameter_id"},{data:"wdt_parameter_label"},{data:"parameters"},{data:"updated"}],this.columnTableData=[{data:"wdt_parameter_id"},{data:"wdt_parameter_label"},{data:"parameters"},{data:"updated"}],this.checkPermission(),this.getWritingDeviceType.getSpecificWDT(this.SK_clientID).then(t=>{t&&(this.data_temp=t,console.log("this.data_temp",this.data_temp)),(null==t||null==t)&&(this.data_temp=t),this.rdtList=[],this.fetchTMData(1)}).catch(t=>{console.log("cant fetch",t)})}checkPermission(){let t=!1,a=!1;for(let r=0;r<this.allPermissions_user.length;r++)"Writing Device Type - Update"===this.allPermissions_user[r]?t=!0:"Writing Device Type - View"===this.allPermissions_user[r]&&(a=!0);t&&a||t?this.hideDeleteButton=!0:a?this.hideDeleteButton=!1:this.router.navigate(["/404"])}fetchTMData(t){var a=this;return(0,v.Z)(function*(){console.log("iam trying to fetch",a.SK_clientID);try{const r=yield a.api.GetLookupMasterTable(a.SK_clientID+"#rdt",t);if(r&&r.items)if("string"==typeof r.items){let i=JSON.parse(r.items);if(console.log("d1 =",i),Array.isArray(i)){for(let n=0;n<i.length;n++){const d=i[n];if(null==d)break;{const c=Object.keys(d)[0],{P1:u,P2:m,P3:h,P4:D}=d[c];a.lookup_data_temp1.push({P1:u,P2:m,P3:h,P4:D}),console.log("d2 =",a.lookup_data_temp1)}}a.lookup_data_temp1.sort((n,d)=>d.P4-n.P4),console.log("Lookup sorting",a.lookup_data_temp1),yield a.fetchTMData(t+1)}else console.error("Invalid data format - not an array.")}else console.error("response.listOfItems is not a string.");else{console.log();const i=new Set;for(let n=0;n<a.lookup_data_temp1.length;n++)i.add(a.lookup_data_temp1[n].P1);a.rdtList=Array.from(i),console.log("RDT to be displayed",a.rdtList)}}catch(r){console.error("Error:",r)}})()}checkUniqueIdentifier(t){console.log("getID",t),this.errorForUniqueWDTID="";for(let a=0;a<this.wdtList.length;a++)t.target.value.toLowerCase()==this.wdtList[a].toLowerCase()&&(this.errorForUniqueWDTID="WDT ID already exists")}checkUniqueIdentifierLabel(t){console.log("getID",t),this.errorForUniqueWDTLabel="";for(let a=0;a<this.wdtLabelList.length;a++)t.target.value.toLowerCase()==this.wdtLabelList[a].toLowerCase()&&(this.errorForUniqueWDTLabel="WDT Label already exists")}showBindingReadingParameter(t){var a=this;return(0,v.Z)(function*(){yield a.getReadingDeviceType.getLookUpRDT(t,a.SK_clientID).then(r=>{r&&(console.log("GetRdt ",r),a.data_temp1=r,a.getBindingParameters(a.data_temp1),console.log("get RDT",a.data_temp1),a.parsedData=JSON.parse(a.data_temp1.parameters),console.log("Parameters",a.parsedData[0].parameterID))}).catch(r=>{console.log("cant fetch",r)})})()}getBindingParameters(t){console.log("Data Temp",t);let a="";a=this.data_temp1.PK,this.bindingParametersList=[],this.parametersList=JSON.parse(t.parameters),console.log("Parameters List",this.parametersList);for(let r=0;r<=this.parametersList.length;r++)0==r&&this.bindingParametersList.push({value:"None",text:"None"}),0!==r&&this.bindingParametersList.push({value:this.parametersList[r-1].parameterID,text:this.parametersList[r-1].parameterID+"-"+this.parametersList[r-1].parameterLabel});console.log("Binding Parameter based on rdt",this.bindingParametersList)}dropdownLabel_value(){return this.createWDTParameter.get("dropdownLabel_value")}createItem(){return this.fb.group({dropdown_label:new _.p4("",[_.kI.required]),dropdown_value:new _.p4("",[_.kI.required])})}updateItem(t){if(console.log("get dropdown vlaues",t),this.dropdownLabel_value().clear(),null!=t)for(let a=0;a<t.length;a++)this.dropdownLabel_value().push(this.fb.group({dropdown_label:t[a].dropdown_label,dropdown_value:t[a].dropdown_value}));return this.dropdownLabel_value()}add(){this.dropdownLabel_value().push(this.createItem())}remove(t){console.log("remove",t),this.createWDTParameter.get("dropdownLabel_value").removeAt(t)}onBindParamSelect(t){this.multiBindParam.push(t.value)}onDeleteSelect(t){console.log("option values are:",t.value),console.log("Multiparams",this.multiBindParam);for(let a in this.multiBindParam)console.log("Multiparams",this.multiBindParam),this.multiBindParam[a]==t.value&&this.multiBindParam.splice(a,1);console.log("Binding Array is :",this.multiBindParam)}onSelectAllBindingParams(t){console.log("Events are",t),this.multiBindParam=[],this.allBindingParams=[];for(let a=0;a<t.length;a++)"None"!=t[a].value&&this.allBindingParams.push(t[a].value);if(this.multiBindParam=this.allBindingParams,console.log("All Binding parameters :",this.allBindingParams),t.length===this.bindingParametersList.length){let a=t.filter(r=>"None"!==r.text);a.push({text:"All",value:"All"}),this.createWDTParameter.controls.binding_parameter.setValue(a),console.log("All the selected items are here",a)}this.cd.detectChanges()}change_communicationType(t){console.log("changed communication type",t.target.value),"TCPIP"==t.target.value||"485"==t.target.value?(this.tcp_ip=t.target.value,this.isFI=!0,this.isFC=!0,this.isDID=!0,this.isDL=!0,this.isStartAddress=!0,this.isVariableType=!0):"Automatic"==t.target.value||""==t.target.value?(this.isFI=!1,this.isFC=!1,this.isDID=!1,this.isDL=!1,this.isStartAddress=!0,this.isVariableType=!0):(this.isFI=!1,this.isFC=!1,this.isDID=!1,this.isDL=!1,this.isStartAddress=!1,this.isVariableType=!1)}changeControlType(t,a){console.log("chane control",t),"Dropdown-Selection"==t&&"fromTS"==a?(console.log("event",t),this.isControllabel=!0,this.isControlvalue=!0):"Dropdown-Selection"==t&&"fromHTML"==a?(this.isControllabel=!0,this.isControlvalue=!0):(this.isControllabel=!1,this.isControlvalue=!1)}getDatatable(t){console.log("reading device typess",t);let a=[];if(typeof t<"u"){for(let u=0;u<t.length;u++){let m=t[u].wdt_parameter_id,h=t[u].wdt_parameter_label,D=new Date(t[u].updated).toLocaleString(),Z="",g=[];if(null==t[u].parameters)g=[];else for(let b=0;b<JSON.parse(t[u].parameters).length;b++)g.push(JSON.parse(t[u].parameters));let W=g.length,y="",P=[],N=[],S=[],M=[],B=[],J=[],O=[],E=[],K=[],V=[],Q=[],X=[],Y=[],L=[],R=[],G=[];for(let b=0;b<1;b++){for(let f=0;f<2;f++)f<W&&(y=y+g[b][f].parameterLabel+",");if(JSON.parse(t[u].parameters)){console.log("parsed details",JSON.parse(t[u].parameters));for(let f=0;f<JSON.parse(t[u].parameters).length;f++)P.push(g[b][f].parameterID),N.push(g[b][f].parameterLabel),S.push(g[b][f].parameterDescription),O.push(g[b][f].start_address),E.push(g[b][f].variable_type),M.push(g[b][f].mX_C_X_Multiplication_Factor),B.push(g[b][f].mX_C_C_Addition_Factor),J.push(g[b][f].blockNumber),K.push(g[b][f].min),V.push(g[b][f].max),Q.push(g[b][f].control_type),X.push(g[b][f].step),Y.push(g[b][f].dropdownLabel_value),L.push(null!==g[b][f].rdt?g[b][f].rdt:[]),G.push(g[b][f].binding_parameter),R.push(g[b][f].enable_binding_parameter)}}Z=y+"... ("+W+") ",a.push({parameters:Z,parameterDescription:S,wdt_parameter_id:m,wdt_parameter_label:h,updated:D,parameter_ID:P,parameter_label:N,start_address:O,variable_type:E,mX_C_X_Multiplication_Factor:M,mX_C_C_Addition_Factor:B,blockNumber:J,min:K,max:V,control_type:Q,step:X,dropdownLabel_value:Y,rdt:L,bindingParamList:G,enable_binding_parameter:R})}console.log("WDT table",a)}else a=[];console.log("after date formatting ",a);let r="btn btn-sm btn-success editdelete ",i="btn btn-sm btn-primary editdelete ",n="btn btn-sm btn-danger editdelete ";$("#wdt_datatables").off("click"),$("#wdt_datatables").on("click",".editdelete",function(){let u=$(this).closest("tr"),m=d.row(u);this.className==r?(this.showParameterButton=!1,c.showWDTparameter(m.data(),"wdt_parameter")):this.className==n?c.deleteWDT(m.data()):this.className==i&&c.openModal(m.data(),"edit")}),!0===this.hideDeleteButton?this.columnDatatable.push({defaultContent:"<button class='"+r+"'data-bs-target='#wdtparameterModal' data-bs-toggle='modal'>Parameter</button>"},{defaultContent:"<button class='"+i+"' data-bs-target='#wdtModal' data-bs-toggle='modal'><i class='fa fa-edit'></i></button>"},{defaultContent:"<button class='"+n+"'><i class='fa fa-trash'></i></button>"}):this.columnDatatable.push({defaultContent:"<button class='"+r+"'data-bs-target='#wdtparameterModal' data-bs-toggle='modal'>Parameter</button>"},{defaultContent:"<button class='"+i+"' data-bs-target='#wdtModal' data-bs-toggle='modal'><i class='fa fa-edit'></i></button>"});let d=$("#wdt_datatables").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!1,responsive:!0,data:a,order:[[3,"date"]],columnDefs:[{type:"date",targets:3}],columns:this.columnDatatable}),c=this}checkUniqueParameterID(t){console.log("checkUniqueParameterID",this.listofParameterID),this.errorForUniqueID="";for(let a=0;a<this.listofParameterID.length;a++)t.target.value.toLowerCase().trim()==this.listofParameterID[a].toLowerCase()&&(this.errorForUniqueID="Parameter ID already exists")}checkUniqueParameterLabel(t){console.log("checkUniqueParameterID",this.listofParameterLabel),this.errorForUniqueParameterLabel="";for(let a=0;a<this.listofParameterLabel.length;a++)t.target.value.toLowerCase().trim()==this.listofParameterLabel[a].toLowerCase()&&(this.errorForUniqueParameterLabel="Parameter Label already exists")}editWDTParameter(t,a){var r=this;return(0,v.Z)(function*(){r.errorForBlockNumber="",r.showParameterButton=!0,r.showParameterHeading=!0,r.isControllabel=!0,r.isControlvalue=!0,r.selectedWDTIndex=a,console.log("Editing parameter:",t),console.log("Selected index:",a);let i=[];if(void 0!==t?.dropdownLabel_value)try{"string"==typeof t.dropdownLabel_value?i=JSON.parse(t.dropdownLabel_value):Array.isArray(t.dropdownLabel_value)&&(i=t.dropdownLabel_value||[])}catch(d){console.warn("Failed to parse dropdownLabel_value:",d)}console.log("Parsed Dropdown values:",i);let n=[];if(t.binding_parameter)try{n="string"==typeof t.binding_parameter?JSON.parse(t.binding_parameter):t.binding_parameter}catch(d){console.warn("Error parsing binding_parameter:",d),n=[]}if(r.createWDTParameter=r.fb.group({w_parameterID:t.parameterID,w_parameterLabel:t.parameterLabel,w_parameterDescription:t.parameterDescription,communication_type:"Automatic",dl:[""],start_address:t.start_address,variable_type:t.variable_type,min:t.min,max:t.max,mX_C_X_Multiplication_Factor:t.mX_C_X_Multiplication_Factor,mX_C_C_Addition_Factor:t.mX_C_C_Addition_Factor,blockNumber:t.blockNumber,control_type:t.control_type,dropdownLabel_value:r.updateItem(i),step:t.step,rdt:t.rdt,enable_binding_parameter:t.enable_binding_parameter,binding_parameter:[]}),yield r.showBindingReadingParameter(t.rdt),r.multiBindParam=n,n?.length>0&&Array.isArray(r.bindingParametersList)){const d=n.map(c=>r.bindingParametersList.find(u=>u?.value===c)).filter(Boolean);console.log("Matched binding parameters:",d),r.createWDTParameter.controls.binding_parameter.setValue(d)}console.log("Final FormGroup:",r.createWDTParameter),r.changeControlType(t.control_type,"fromTS"),r.cd.detectChanges()})()}fetchBindingParameters(t){console.log("values",t);let a=[];if(null!=t)for(let r=0;r<t.length;r++)t[r]&&t[r].text&&(a[r]=t[r].text);return a.toString()}showWDTparameter(t,a){console.log("Parameters on edit values :",t),this.auditTrialServices.audit_trail("2.1","Writing Device Type","View",`${this.selectedWDT} Wdt Parameters was viewed`,"1"),this.createWDTParameter.reset(),this.enableSaveButton=!1,this.showParameterButton=!1,this.showParameterHeading=!0,this.dropdownLabel_value().clear(),this.showTable(this.parameterData)}showTable(t){const a=Array.isArray(t)?t:[];$("#wdt_parameters_tables").off("click");let n=this;$("#wdt_parameters_tables").on("click",".editparamspopup",function(){let c=$(this).closest("tr"),u=d.row(c),m=u.index();$(this).hasClass("btn-primary")?n.editWDTParameter(u.data(),m):$(this).hasClass("btn-danger")&&n.deleteRowLocally(u.data())});let d=$("#wdt_parameters_tables").DataTable({destroy:!0,pagingType:"full_numbers",lengthChange:!1,responsive:!0,data:a,columns:[{data:"parameterID",defaultContent:""},{data:"parameterLabel",defaultContent:""},{defaultContent:"<button class='btn btn-sm btn-primary editparamspopup'><i class='fa fa-edit'></i></button>"},{defaultContent:"<button class='btn btn-sm btn-danger editparamspopup'><i class='fa fa-trash'></i></button>"}]})}openModal(t,a){if(this.cloneWDTOperation=!1,""==t&&(this.showModal=!1,this.showHeading=!0,this.errorForUniqueWDTID="",this.errorForUniqueWDTLabel="",this.createWDTField.get("wdtID")?.enable(),this.createWDTField=this.fb.group({wdtID:t.wdt_parameter_id,wdtLabel:t.wdt_parameter_label})),"edit"==a||"wdt_parameter"==a){this.auditTrialServices.audit_trail("2.1","Writing Device Type","View",`${t.wdt_parameter_label} Wdt was viewed`,"1"),this.showHeading=!1,this.createWDTField.get("wdtID")?.disable(),this.errorForUniqueWDTID="",this.errorForUniqueWDTLabel="";for(let r=0;r<this.allPermissions_user.length;r++){if("Writing Device Type - Update"===this.allPermissions_user[r]){this.hideUpdateButton=!1;break}"Writing Device Type - View"===this.allPermissions_user[r]&&(this.hideUpdateButton=!0)}this.createWDTParameter.reset(),this.showModal=!0,this.createWDTField=this.fb.group({wdtID:[{value:t.wdt_parameter_id,disabled:!0}],wdtLabel:t.wdt_parameter_label})}}createNewWDT(t){var a=this;this.allWDTDetails={PK:this.createWDTField.value.wdtID,SK:this.SK_clientID,wdt_parameter_id:this.createWDTField.value.wdtID,wdt_parameter_label:this.createWDTField.value.wdtLabel,updated:new Date},this.cloneWDTOperation&&(this.allWDTDetails={PK:this.createWDTField.value.wdtID,SK:this.SK_clientID,wdt_parameter_id:this.createWDTField.value.wdtID,wdt_parameter_label:this.createWDTField.value.wdtLabel,parameters:this.tempClonedData.parameters,updated:new Date});let r=[],i="...(0)";null==this.allWDTDetails.parameters||0==this.allWDTDetails.parameters.length?delete this.allWDTDetails.parameters:r=JSON.parse(this.allWDTDetails.parameters),i=r?1===r.length?r[0].parameterID:r.length>1?r[0].parameterID+"...("+r.length+")":"...(0)":"...(0)";const n=Math.ceil((new Date).getTime()/1e3),d={P1:this.allWDTDetails.PK,P2:this.allWDTDetails.wdt_parameter_label,P3:i,P4:n};console.log("Items----",d),this.spinner.show(),this.api.CreateWritingDeviceType(this.allWDTDetails).then(function(){var c=(0,v.Z)(function*(u){a.addFromService(),u?(a.auditTrialServices.audit_trail("2.1","Writing Device Type","Create",`${a.allWDTDetails.PK} Wdt was created`,"1"),yield a.createLookUpRdt(d,1),yield a.loading(),a.spinner.hide(),a.toast.open("New Writing Device Type configuration created successfully"," ",{duration:2e3,horizontalPosition:"right",verticalPosition:"top"}),a.closeWDT.nativeElement.click(),a.multi_params=[]):(alert("Error in Creating Writing Device Type Configuration"),a.spinner.hide())});return function(u){return c.apply(this,arguments)}}()).catch(c=>{this.spinner.hide(),console.log("err for creation",c),this.toast.open("Error in Creating New WDT Configuration ","Check again",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})})}createLookUpRdt(t,a){var r=this;return(0,v.Z)(function*(){try{console.log("iam a calleddd dude",t,a);const i=yield r.api.GetLookupMasterTable(r.clientID,a);let n=[];if(null!=i&&i.items&&"string"==typeof i.items&&(n=JSON.parse(i.items)),null!=i&&n.length<r.maxlength){let d=[];i.items&&"string"==typeof i.items&&JSON.parse(i.items).forEach(h=>{for(const D in h)Object.prototype.hasOwnProperty.call(h,D)&&d.push(h[D])}),d.unshift(t),d=d.map((m,h)=>({[`L${h+1}`]:m})),console.log("newdata 11111111 :>> ",d);let c={PK:r.clientID,SK:i.SK,createdTime:"",updatedTime:"",items:JSON.stringify(d)};const u=yield r.api.UpdateLookupMasterTable(c);console.log("createResponse :>> ",u)}else if(null==i){let d=[];d.push(t),d=d.map((m,h)=>({[`L${h+1}`]:m}));let c={SK:a,PK:r.clientID,items:JSON.stringify(d)};console.log(c);const u=yield r.api.CreateLookupMasterTable(c);console.log(u)}else yield r.createLookUpRdt(t,a+1)}catch(i){console.log("err :>> ",i)}})()}deleteWDT(t){var a=this;this.deleteWDTdata=t,console.log("deleteWDT is called",t),this.allWDTDetails={PK:this.deleteWDTdata.wdt_parameter_id,SK:this.SK_clientID},console.log("before deleting WDT",this.allWDTDetails),w().fire({position:"center",title:"Are you sure?",text:"You wont get these details back again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, let me think"}).then(r=>{console.log("inside sweetalert",r),r.dismiss!==w().DismissReason.cancel?this.api.DeleteWritingDeviceType(this.allWDTDetails).then(function(){var i=(0,v.Z)(function*(n){if(a.addFromService(),n){Math.ceil((new Date).getTime()/1e3);const c={P1:a.allWDTDetails.PK,P2:a.allWDTDetails.wdt_parameter_label};yield a.fetchTimeMachineById(1,a.allWDTDetails.PK,"delete",c),a.auditTrialServices.audit_trail("2.1","Writing Device Type","Delete",`${a.allWDTDetails.PK} Wdt was deleted`,"1"),yield a.loading(),console.log("confirmButtonText",n),w().fire("Removed!","WDT removed successfully.","success")}a.multi_params=[]});return function(n){return i.apply(this,arguments)}}()).catch(i=>{console.log("error for deleting",i)}):r.dismiss===w().DismissReason.cancel&&w().fire("Cancelled","WDT not removed","error")})}updateHelpherWDT(t,a){let r;console.log("Data from llokup :",t),this.errorForUniqueID="",this.errorForUniqueParameterLabel="",r="editWDT"==a?this.createWDTField.get("wdtID")?.value:t.wdt_parameter_id,console.log("tempDataID is ",r),this.api.GetWritingDeviceType(r,this.SK_clientID).then(i=>{i&&void 0!==i&&(console.log("Writing device details are here",i),this.selectedWDT=i.PK,i)&&("editWDT"==a?this.updateWDT(i,a):"wdt_parameter"==a&&(this.parameterData="string"==typeof i.parameters?JSON.parse(i.parameters):i.parameters,this.editedWDTParameter=i,this.listofParameterID=Array.isArray(this.parameterData)&&this.parameterData.map(d=>d.parameterID),this.listofParameterLabel=Array.isArray(this.parameterData)&&this.parameterData.map(d=>d.parameterLabel),console.log("All the parameters :",this.parameterData),this.showWDTparameter(this.parameterData,a)))}).catch(i=>{console.log("cant fetch",i)})}updateWDT(t,a){var r=this;if("editWDT"==a){this.allWDTDetails={PK:this.createWDTField.get("wdtID")?.value,SK:this.SK_clientID,wdt_parameter_id:this.createWDTField.get("wdtID")?.value,wdt_parameter_label:this.createWDTField.value.wdtLabel,updated:new Date},console.log("All update values are here :",this.allWDTDetails),console.log("WDT parameters :",JSON.parse(t.parameters));let i=JSON.parse(t.parameters),n="";n=i?1===i.length?i[0].parameterID:i.length>1?i[0].parameterID+"...("+i.length+")":"...(0)":"...(0)";const c=Math.ceil((new Date).getTime()/1e3),u={P1:this.allWDTDetails.PK,P2:this.allWDTDetails.wdt_parameter_label,P3:n,P4:c};console.log("Items to be pushed :",u),this.spinner.show(),this.api.UpdateWritingDeviceType(this.allWDTDetails).then(function(){var m=(0,v.Z)(function*(h){h?(r.auditTrialServices.audit_trail("2.1","Writing Device Type","Update",`${r.allWDTDetails.PK} Wdt was updated`,"1"),yield r.fetchTimeMachineById(1,r.allWDTDetails.PK,"update",u),yield r.loading(),r.spinner.hide(),r.toast.open("WDT Configuration updated successfully","",{duration:2e3,horizontalPosition:"right",verticalPosition:"top"}),r.addFromService(),r.closeWDT.nativeElement.click(),r.closeWDTParameter.nativeElement.click(),r.multi_params=[]):(alert("Error in updating Configuration"),r.spinner.hide())});return function(h){return m.apply(this,arguments)}}()).catch(m=>{console.log("error for updating",m),this.spinner.hide()})}if("editWDTParameter"==a){this.allWDTDetails={PK:this.editedWDTParameter.PK,SK:this.SK_clientID,wdt_parameter_id:this.editedWDTParameter.PK,wdt_parameter_label:this.editedWDTParameter.wdt_parameter_label,parameters:JSON.stringify(this.parameterData),updated:new Date};let i=this.parameterData,n="";n=i?1===i.length?i[0].parameterID:i.length>1?i[0].parameterID+"...("+i.length+")":"...(0)":"...(0)";const c=Math.ceil((new Date).getTime()/1e3),u={P1:this.allWDTDetails.PK,P2:this.allWDTDetails.wdt_parameter_label,P3:n,P4:c};console.log("Items to be pushed :",u),this.spinner.show(),this.api.UpdateWritingDeviceType(this.allWDTDetails).then(function(){var m=(0,v.Z)(function*(h){h?(yield r.fetchTimeMachineById(1,r.allWDTDetails.PK,"update",u),yield r.loading(),r.spinner.hide(),r.toast.open("WDT Configuration updated successfully","",{duration:2e3,horizontalPosition:"right",verticalPosition:"top"}),r.addFromService(),r.closeWDT.nativeElement.click(),r.closeWDTParameter.nativeElement.click(),r.multi_params=[]):(alert("Error in updating Configuration"),r.spinner.hide())});return function(h){return m.apply(this,arguments)}}()).catch(m=>{console.log("error for updating",m),this.spinner.hide()})}if("deleteParameter"==a){this.allWDTDetails={PK:this.editedWDTParameter.PK,SK:this.SK_clientID,parameters:JSON.stringify(this.parameterData),updated:new Date},console.log("Packet for writing device ",this.allWDTDetails);let i=this.parameterData,n="";n=i?1===i.length?i[0].parameterID:i.length>1?i[0].parameterID+"...("+i.length+")":"...(0)":"...(0)";const c=Math.ceil((new Date).getTime()/1e3),u={P1:this.allWDTDetails.PK,P2:this.lookup_data_user.find(m=>m.P1==this.allWDTDetails.PK).P2,P3:n,P4:c};this.spinner.show(),this.api.UpdateWritingDeviceType(this.allWDTDetails).then(function(){var m=(0,v.Z)(function*(h){h?(yield r.fetchTimeMachineById(1,r.allWDTDetails.PK,"update",u),r.toast.open("WDT Configuration updated successfully","",{duration:2e3,horizontalPosition:"right",verticalPosition:"top"}),r.spinner.hide(),r.addFromService(),r.closeWDT.nativeElement.click(),r.multi_params=[]):(alert("Error in updating Configuration"),r.spinner.hide())});return function(h){return m.apply(this,arguments)}}()).catch(m=>{console.log("error for updating",m),this.spinner.hide()})}}fetchTimeMachineById(t,a,r,i){var n=this;return(0,v.Z)(function*(){try{const d=yield n.api.GetLookupMasterTable(n.clientID,t);if(d&&d.items){let c=yield JSON.parse(d.items),u=c.findIndex(m=>m[Object.keys(m)[0]].P1===a);if(-1!==u){if("update"===r){c[u][`L${u+1}`]=i;const h=[];for(let D=0;D<c.length;D++){const Z=Object.keys(c[D])[0],g=`L${D+1}`;if(Z){const W={[g]:c[D][Z]},y=h.findIndex(P=>Object.keys(P)[0]===g);-1!==y?Object.assign(h[y][g],c[D][Z]):h.push(W)}else console.error(`Original key not found for renaming in data[${D}].`)}c=h}else"delete"===r&&c.splice(u,1);let m={PK:n.clientID,SK:d.SK,items:JSON.stringify(c)};yield n.api.UpdateLookupMasterTable(m)}else yield new Promise(m=>setTimeout(m,500)),yield n.fetchTimeMachineById(t+1,a,r,i)}else w().fire({position:"top-right",icon:"error",title:`ID ${a} not found`,showConfirmButton:!1,timer:1500})}catch(d){console.error("Error:",d)}})()}editWDT_params(t,a){this.showParameterTable(t)}showParameterTable(t){let a="btn btn-sm btn-primary editparamspopup",r="btn btn-sm btn-danger editparamspopup";$("#wdt_parameters_tables").off("click"),$("#wdt_parameters_tables").on("click",".editparamspopup",function(){let d=$(this).closest("tr"),c=i.row(d),u=c.index();this.className==a?n.editWDTParameter(t,u):this.className==r&&n.deleteRowLocally(c.data())});let i=$("#wdt_parameters_tables").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!1,responsive:!0,data:t,columns:[{data:"parameterID"},{data:"parameterLabel"},{defaultContent:"<button class='"+a+"' ><i class='fa fa-edit'></i></button>"},{defaultContent:"<button class='"+r+"'><i class='fa fa-trash'></i></button>"}]}),n=this}deleteRowLocally(t){w().fire({position:"center",title:"Are you sure?",text:"You wont get these details back again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, let me think"}).then(a=>{if(console.log("inside sweetalert",a),a.dismiss!==w().DismissReason.cancel){if(1==a.isConfirmed){const r=this.parameterData.indexOf(t);console.log("The parameter to be deleted is here ",t),this.auditTrialServices.audit_trail("2.1","Writing Device Type","Delete",`${this.selectedWDT} Wdt Parameter (${t.parameterLabel||""}) was deleted`,"1"),this.parameterData.splice(r,1),this.editWDT_params(this.parameterData,"from_delete"),this.updateWDT(this.parameterData,"deleteParameter"),w().fire("Removed!","Writing Parameter removed successfully.","success")}}else a.dismiss===w().DismissReason.cancel&&w().fire("Cancelled","Writing Parameter not removed","error")})}copyToLocalStorage(){console.log("Form data is here ",this.createWDTParameter.value);const t=this.createWDTParameter.value.dropdownLabel_value;console.log("Form data is here ",t),localStorage.setItem("dropdownData",JSON.stringify(t)),this.toast.open("Your data has been copied successfully!","",{duration:1e3,horizontalPosition:"center",verticalPosition:"bottom"})}keyPress(t){const a=t.target.value;if(console.log("Block Number event is ",t.target.value),t.target.value.includes("."))return void(this.errorForBlockNumber="Block Number should be not be decimal");this.errorForBlockNumber="";const r=Number(a);isNaN(r)?this.errorForBlockNumber="Please enter a valid number":(r<1||r>15)&&(this.errorForBlockNumber="Block Number should be between 1 and 15")}pasteFromLocalStorage(){const t=localStorage.getItem("dropdownData");if(console.log("Data is here ",t),t){const a=JSON.parse(t);console.log("Parsed data is here ",a),this.dropdownLabel_value().clear(),a.forEach(r=>{const i=this.fb.group({dropdown_value:[r.dropdown_value],dropdown_label:[r.dropdown_label]});this.dropdownLabel_value().push(i)}),console.log("Pasted from Local Storage!")}else console.log("No data found in Local Storage.")}onCloneWDT(){var t=this;return(0,v.Z)(function*(){t.cloneWDTOperation=!0,t.showModal=!1,t.selectedWDTclone=t.createWDTField.get("wdtID")?.value,t.createWDTField.reset(),t.createWDTField.get("wdtID")?.enable();try{yield t.api.GetWritingDeviceType(t.selectedWDTclone,t.SK_clientID).then(a=>{a&&(t.tempClonedData=a,console.log("Cloneddata is here ",t.tempClonedData))})}catch(a){console.log("Error getting cloned WDT data from DB",a)}})()}updateParameterWDT(t,a){if(console.log("editedWDTParam ",t),"add"==a)this.auditTrialServices.audit_trail("2.1","Writing Device Type","Create",`${this.selectedWDT} Wdt Parameter (${t.w_parameterLabel}) was created`,"1"),(null==this.parameterData||null==this.parameterData)&&(this.parameterData=[]),this.parameterData.push({parameterID:t.w_parameterID.trim(),parameterLabel:t.w_parameterLabel,parameterDescription:t.w_parameterDescription,communication_type:"Automatic",dl:[""],start_address:t.start_address,variable_type:t.variable_type,min:t.min,max:t.max,mX_C_X_Multiplication_Factor:t.mX_C_X_Multiplication_Factor,mX_C_C_Addition_Factor:t.mX_C_C_Addition_Factor,blockNumber:t.blockNumber,control_type:t.control_type,dropdownLabel_value:t.dropdownLabel_value,step:t.step,rdt:t.rdt,binding_parameter:t.binding_parameter&&t.binding_parameter.map(r=>r.value),enable_binding_parameter:t.enable_binding_parameter});else{this.auditTrialServices.audit_trail("2.1","Writing Device Type","Update",`${this.selectedWDT} Wdt Parameter (${t.w_parameterLabel}) was Updated`,"1");const r=this.parameterData.findIndex(i=>i.parameterID==t.w_parameterID);-1!=r&&(this.parameterData[r]={parameterID:t.w_parameterID,parameterLabel:t.w_parameterLabel,parameterDescription:t.w_parameterDescription,communication_type:"Automatic",dl:[""],start_address:t.start_address,variable_type:t.variable_type,min:t.min,max:t.max,mX_C_X_Multiplication_Factor:t.mX_C_X_Multiplication_Factor,mX_C_C_Addition_Factor:t.mX_C_C_Addition_Factor,blockNumber:t.blockNumber,control_type:t.control_type,dropdownLabel_value:t.dropdownLabel_value,step:t.step,rdt:t.rdt,binding_parameter:t.binding_parameter&&t.binding_parameter.map(i=>i.value),enable_binding_parameter:t.enable_binding_parameter})}console.log("Final Packet to be Saved is here ",this.parameterData),this.listofParameterID=Array.isArray(this.parameterData)&&this.parameterData.map(r=>r.parameterID),this.listofParameterLabel=Array.isArray(this.parameterData)&&this.parameterData.map(r=>r.parameterLabel),this.enableSaveButton=!0,this.showParameterButton=!1,this.isControllabel=!1,this.isControlvalue=!1,this.createWDTParameter.reset(),this.dropdownLabel_value().clear(),this.showTable(this.parameterData)}}return o=p,(0,l.Z)(p,"\u0275fac",function(t){return new(t||o)(e.Y36(q.F),e.Y36(q.F),e.Y36(_.QS),e.Y36(z.t),e.Y36(k.ux),e.Y36(q.F),e.Y36(e.sBO),e.Y36(U.F0),e.Y36(I.t2),e.Y36(j.C))}),(0,l.Z)(p,"\u0275cmp",e.Xpm({type:o,selectors:[["app-wdt-v2"]],viewQuery:function(t,a){if(1&t&&(e.Gf(ee,5),e.Gf(te,5),e.Gf(ae,5)),2&t){let r;e.iGM(r=e.CRH())&&(a.closeWDT=r.first),e.iGM(r=e.CRH())&&(a.closeWDTParameter=r.first),e.iGM(r=e.CRH())&&(a.wdtModalLabel=r.first)}},decls:207,vars:47,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],[1,"card","mb-5","mb-xl-8"],[1,"card-header","border-0","pt-5"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bolder","fs-3","mb-1"],[1,"card-toolbar"],["type","button","class","btn btn-sm btn-primary","data-bs-toggle","modal","data-bs-target","#wdtModal",3,"click",4,"ngIf"],[1,"card-body","py-3"],[1,"table-responsive"],["id","wdt_lookup_table",1,"table","table-striped","table-bordered","table-hover","table-responsive-sm"],[4,"ngIf"],["id","wdtModal","tabindex","-1","aria-labelledby","wdtModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content",2,"width","600px","transform","translate(-10%, 0px)"],[1,"modal-header"],["class","modal-title","id","wdtModalLabel",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"fv-row",3,"formGroup"],[1,"card-body","border-top","p-9"],["class","container",4,"ngIf"],[1,"container"],[1,"column"],[1,"col-md-12"],[1,"col-lg-12","col-form-label","fw-bold","fs-6","required"],["type","text","placeholder","Enter wdt id","name","wdtID","formControlName","wdtID","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"keyup"],[2,"color","#fc1900"],["class","fv-plugins-message-container invalid-feedback",4,"ngIf"],["type","text","placeholder","Enter wdt label","name","wdtLabel","formControlName","wdtLabel","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"keyup"],[1,"modal-footer"],["type","button","placement","bottom","class","btn btn-sm btn-danger copy-btn",3,"disabled","click",4,"ngIf"],["type","button","data-bs-dismiss","modal",1,"btn","btn-sm","btn-danger"],["closeWDT",""],["type","submit","class","btn btn-sm btn-primary",3,"hidden","disabled","click",4,"ngIf"],["type","button","class","btn btn-sm btn-primary not-allowed",3,"disabled","click",4,"ngIf"],["id","wdtparameterModal","tabindex","-1","aria-labelledby","wdtParameterModal","aria-hidden","true",1,"modal","fade"],[1,"modal-content",2,"width","1200px","transform","translate(-27%, 0px)"],["class","modal-title","id","wdtParameterModal",4,"ngIf"],[1,"row"],[1,"col-md-4"],["type","text","placeholder","Enter Parameter ID ","name","w_parameterID","formControlName","w_parameterID","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"keyup"],["type","text","placeholder","Enter Parameter Label","name","w_parameterLabel","formControlName","w_parameterLabel","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"keyup"],["type","text","placeholder","Enter Parameter Description","name","w_parameterDescription","formControlName","w_parameterDescription","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","text","placeholder","Enter Start Address","name","start_address","formControlName","start_address","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["placeholder","select one of devices","name","variable_type","formControlName","variable_type","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["value","null","disabled","true",3,"selected"],["value","Bit Coil"],["value","Signed and Unsigned"],["value","Signed and Unsigned-multiple"],["value","float"],["value","float Inverse"],["value","Long"],["value","Long Inverse"],["type","number","placeholder","Enter Min Value","name","min","formControlName","min","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","number","placeholder","Enter Max Value","name","max","formControlName","max","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","number","placeholder","Enter multiplication factor","name","mX_C_X_Multiplication_Factor","formControlName","mX_C_X_Multiplication_Factor","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","number","placeholder","Enter Correction factor","name","mX_C_C_Addition_Factor","formControlName","mX_C_C_Addition_Factor","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["class","col-md-4",4,"ngIf"],["placeholder","select one of control","name","control_type","formControlName","control_type","required","","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold",3,"change"],["value","Slider"],["value","ON & OFF button"],["value","Inverted ON & OFF button"],["value","Dropdown-Selection"],["placeholder","select step","name","step","formControlName","step","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["value","1"],["value","0.1"],["value","0.01"],["value","0.001"],["type","number","min","1","max","15","placeholder","Enter Block Number","name","blockNumber","formControlName","blockNumber","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"input"],[1,"col-lg-12","col-form-label","fw-bold","fs-6"],["placeholder","select Reading Device Type","name","rdt","formControlName","rdt",1,"form-select","form-select-solid","form-select-lg","fw-bold",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"form-select","form-select-solid","form-select-lg","fw-bold",2,"display","inline-block","width","100%","padding","0px","margin-bottom","0","font-weight","0px","line-height","1.52857143","text-align","left","vertical-align","middle","cursor","pointer","background-image","none","border-radius","4px",3,"placeholder","settings","data","formControl","onSelect","onDeSelect","onSelectAll"],[1,"col-md-4",2,"padding-top","50px"],[1,"form-check","form-check-inline","form-check-solid","me-5"],["name","enable_binding_parameter","type","checkbox","formControlName","enable_binding_parameter",1,"form-check-input"],[1,"fw-bold","ps-2","fs-6"],["closeWDTParameter",""],["type","submit","class","btn btn-sm btn-primary",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-primary","not-allowed",3,"click"],[1,"container","table-responsive"],["id","wdt_parameters_tables",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4",2,"width","100%"],["type","button","data-bs-toggle","modal","data-bs-target","#wdtModal",1,"btn","btn-sm","btn-primary",3,"click"],["id","wdtModalLabel",1,"modal-title"],[1,"success-note"],[1,"fv-plugins-message-container","invalid-feedback"],["type","button","placement","bottom",1,"btn","btn-sm","btn-danger","copy-btn",3,"disabled","click"],[1,"copy-icon"],[1,"fa-regular","fa-copy","fs-4","text-white"],[1,"copy-text"],["type","submit",1,"btn","btn-sm","btn-primary",3,"hidden","disabled","click"],["type","button",1,"btn","btn-sm","btn-primary","not-allowed",3,"disabled","click"],["id","wdtParameterModal",1,"modal-title"],["type","text","placeholder","Enter DL","name","dl","formControlName","dl",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[3,"value"],[2,"padding-top","20px"],["type","button",1,"btn","btn-success","btn-sm",2,"margin-right","5px",3,"click"],[1,"fa-solid","fa-copy"],["type","button",1,"btn","btn-warning","btn-sm",3,"click"],[1,"fa-solid","fa-paste"],["formArrayName","dropdownLabel_value"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-sm","btn-icon","btn-primary",2,"height","25px",3,"click"],[1,"svg-icon","svg-icon-3",3,"inlineSVG"],[2,"padding","5px",3,"formGroupName"],["type","number","formControlName","dropdown_value","placeholder","value"],["type","text","formControlName","dropdown_label","placeholder","text"],["type","button",1,"btn","btn-sm","btn-icon","btn-danger",2,"height","25px",3,"click"],[1,"svg-icon","svg-icon-1",3,"inlineSVG"],["type","submit",1,"btn","btn-sm","btn-primary",3,"disabled","click"]],template:function(t,a){if(1&t&&(e.TgZ(0,"ngx-spinner",0)(1,"p",1),e._uU(2,"Please wait Loading... "),e.qZA()(),e.TgZ(3,"div",2)(4,"div",3)(5,"h3",4)(6,"span",5),e._uU(7," Writing Device Type"),e.qZA()(),e.TgZ(8,"div",6),e.YNc(9,re,2,0,"button",7),e.qZA()()(),e.TgZ(10,"div",2)(11,"div",8)(12,"div",9)(13,"table",10)(14,"thead"),e.YNc(15,ie,15,0,"tr",11),e.YNc(16,le,13,0,"tr",11),e.qZA()()()()(),e.TgZ(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15),e.YNc(21,oe,2,0,"h2",16),e.YNc(22,ne,2,0,"h2",16),e._UZ(23,"button",17),e.qZA(),e.TgZ(24,"div",18)(25,"div",19),e.YNc(26,se,4,1,"div",20),e.TgZ(27,"div",21)(28,"div",22)(29,"div",23)(30,"label",24),e._uU(31," WDT ID"),e.qZA(),e.TgZ(32,"input",25),e.NdJ("keyup",function(i){return a.checkUniqueIdentifier(i)}),e.qZA(),e.TgZ(33,"span",26),e._uU(34),e.qZA(),e.YNc(35,de,2,0,"div",27),e.qZA(),e.TgZ(36,"div",23)(37,"label",24),e._uU(38," WDT Label"),e.qZA(),e.TgZ(39,"input",28),e.NdJ("keyup",function(i){return a.checkUniqueIdentifierLabel(i)}),e.qZA(),e.TgZ(40,"span",26),e._uU(41),e.qZA(),e.YNc(42,ce,2,0,"div",27),e.qZA()()()()(),e.TgZ(43,"div",29),e.YNc(44,ue,5,1,"button",30),e.TgZ(45,"button",31,32),e._uU(47,"Cancel"),e.qZA(),e.YNc(48,pe,2,2,"button",33),e.YNc(49,me,2,1,"button",34),e.qZA()()()(),e.TgZ(50,"div",35)(51,"div",13)(52,"div",36)(53,"div",15),e.YNc(54,_e,2,0,"h2",37),e.YNc(55,he,2,0,"h2",37),e._UZ(56,"button",17),e.qZA(),e.TgZ(57,"div",18)(58,"div",19)(59,"div",21)(60,"div",38)(61,"div",39)(62,"label",24),e._uU(63," Parameter ID"),e.qZA(),e.TgZ(64,"input",40),e.NdJ("keyup",function(i){return a.checkUniqueParameterID(i)}),e.qZA(),e.TgZ(65,"span",26),e._uU(66),e.qZA(),e.YNc(67,ge,2,0,"div",27),e.qZA(),e.TgZ(68,"div",39)(69,"label",24),e._uU(70," Parameter Label"),e.qZA(),e.TgZ(71,"input",41),e.NdJ("keyup",function(i){return a.checkUniqueParameterLabel(i)}),e.qZA(),e.TgZ(72,"span",26),e._uU(73),e.qZA(),e.YNc(74,fe,2,0,"div",27),e.qZA(),e.TgZ(75,"div",39)(76,"label",24),e._uU(77," Parameter Description"),e.qZA(),e._UZ(78,"input",42),e.YNc(79,be,2,0,"div",27),e.qZA()()(),e.TgZ(80,"div",21)(81,"div",38)(82,"div",39)(83,"label",24),e._uU(84,"Start Address"),e.qZA(),e._UZ(85,"input",43),e.YNc(86,De,2,0,"div",27),e.qZA(),e.TgZ(87,"div",39)(88,"label",24),e._uU(89,"Variable Type"),e.qZA(),e.TgZ(90,"select",44)(91,"option",45),e._uU(92,"Select Variable type "),e.qZA(),e.TgZ(93,"option",46),e._uU(94,"Bit Coil"),e.qZA(),e.TgZ(95,"option",47),e._uU(96,"Signed and Unsigned"),e.qZA(),e.TgZ(97,"option",48),e._uU(98,"Signed and Unsigned-multiple"),e.qZA(),e.TgZ(99,"option",49),e._uU(100,"float"),e.qZA(),e.TgZ(101,"option",50),e._uU(102,"float Inverse"),e.qZA(),e.TgZ(103,"option",51),e._uU(104,"Long"),e.qZA(),e.TgZ(105,"option",52),e._uU(106,"Long Inverse"),e.qZA()(),e.YNc(107,Te,2,0,"div",27),e.qZA(),e.TgZ(108,"div",39)(109,"label",24),e._uU(110," Min Value"),e.qZA(),e._UZ(111,"input",53),e.YNc(112,ve,2,0,"div",27),e.qZA()()(),e.TgZ(113,"div",21)(114,"div",38)(115,"div",39)(116,"label",24),e._uU(117," Max Value"),e.qZA(),e._UZ(118,"input",54),e.YNc(119,we,2,0,"div",27),e.qZA(),e.TgZ(120,"div",39)(121,"label",24),e._uU(122," mX+C X Multiplication Factor"),e.qZA(),e._UZ(123,"input",55),e.YNc(124,Ze,2,0,"div",27),e.qZA(),e.TgZ(125,"div",39)(126,"label",24),e._uU(127," mX+C C Addition Factor"),e.qZA(),e._UZ(128,"input",56),e.YNc(129,ye,2,0,"div",27),e.qZA()()(),e.TgZ(130,"div",21)(131,"div",38),e.YNc(132,Pe,5,1,"div",57),e.TgZ(133,"div",39)(134,"label",24),e._uU(135," Control Type"),e.qZA(),e.TgZ(136,"select",58),e.NdJ("change",function(){let i;return a.changeControlType(null==(i=a.createWDTParameter.get("control_type"))?null:i.value,"fromHTML")}),e.TgZ(137,"option",45),e._uU(138,"Select Control type "),e.qZA(),e.TgZ(139,"option",59),e._uU(140,"Slider"),e.qZA(),e.TgZ(141,"option",60),e._uU(142,"ON & OFF button"),e.qZA(),e.TgZ(143,"option",61),e._uU(144,"Inverted ON & OFF button"),e.qZA(),e.TgZ(145,"option",62),e._uU(146,"Dropdown-Selection"),e.qZA()(),e.YNc(147,Ce,2,0,"div",27),e.qZA(),e.TgZ(148,"div",39)(149,"label",24),e._uU(150," Step"),e.qZA(),e.TgZ(151,"select",63)(152,"option",45),e._uU(153,"Select Step "),e.qZA(),e.TgZ(154,"option",64),e._uU(155,"1"),e.qZA(),e.TgZ(156,"option",65),e._uU(157,"0.1"),e.qZA(),e.TgZ(158,"option",66),e._uU(159,"0.01"),e.qZA(),e.TgZ(160,"option",67),e._uU(161,"0.001"),e.qZA()(),e.YNc(162,qe,2,0,"div",27),e.qZA(),e.TgZ(163,"div",39)(164,"label",24),e._uU(165,"Block Number"),e.qZA(),e.TgZ(166,"input",68),e.NdJ("input",function(i){return a.keyPress(i)}),e.qZA(),e.TgZ(167,"span",26),e._uU(168),e.qZA(),e.YNc(169,Ie,2,0,"div",27),e.qZA(),e.TgZ(170,"div",39)(171,"label",69),e._uU(172," RDT ID"),e.qZA(),e.TgZ(173,"select",70),e.NdJ("change",function(){let i;return a.showBindingReadingParameter(null==(i=a.createWDTParameter.get("rdt"))?null:i.value)}),e.TgZ(174,"option",45),e._uU(175,"Select RDT ID "),e.qZA(),e.YNc(176,Le,2,2,"option",71),e.qZA()(),e.TgZ(177,"div",39)(178,"label",69),e._uU(179," Add Binding Reading parameter"),e.qZA(),e.TgZ(180,"ng-multiselect-dropdown",72),e.NdJ("onSelect",function(i){return a.onBindParamSelect(i)})("onDeSelect",function(i){return a.onDeleteSelect(i)})("onSelectAll",function(i){return a.onSelectAllBindingParams(i)}),e.qZA()(),e.TgZ(181,"div",73)(182,"label",74),e._UZ(183,"input",75),e.TgZ(184,"span",76),e._uU(185,"Enable Binding Reading Parameter"),e.qZA()()()()(),e.YNc(186,ke,12,2,"div",20),e.TgZ(187,"div",29)(188,"button",31,77),e._uU(190,"Cancel"),e.qZA(),e.YNc(191,Ue,2,1,"button",78),e.YNc(192,xe,2,1,"button",78),e.TgZ(193,"button",79),e.NdJ("click",function(){return a.updateWDT(a.createWDTParameter.value,"editWDTParameter")}),e._uU(194,"Save"),e.qZA()()(),e.TgZ(195,"div",80)(196,"table",81)(197,"thead")(198,"tr")(199,"th"),e._uU(200,"Writing Parameter ID"),e.qZA(),e.TgZ(201,"th"),e._uU(202,"Writing Parameter Label"),e.qZA(),e.TgZ(203,"th"),e._uU(204,"Edit"),e.qZA(),e.TgZ(205,"th"),e._uU(206,"Delete"),e.qZA()()()()()()()()()),2&t){let r,i,n,d,c,u,m,h,D,Z,g,W,y,P;e.Q6J("fullScreen",!0),e.xp6(9),e.Q6J("ngIf",a.hideDeleteButton),e.xp6(6),e.Q6J("ngIf",!0===a.hideDeleteButton),e.xp6(1),e.Q6J("ngIf",!1===a.hideDeleteButton),e.xp6(5),e.Q6J("ngIf",a.showHeading),e.xp6(1),e.Q6J("ngIf",!a.showHeading),e.xp6(2),e.Q6J("formGroup",a.createWDTField),e.xp6(2),e.Q6J("ngIf",a.cloneWDTOperation),e.xp6(8),e.Oqu(a.errorForUniqueWDTID),e.xp6(1),e.Q6J("ngIf",(null==(r=a.createWDTField.get("wdtID"))?null:r.hasError("required"))&&(null==(r=a.createWDTField.get("wdtID"))?null:r.touched)),e.xp6(6),e.Oqu(a.errorForUniqueWDTLabel),e.xp6(1),e.Q6J("ngIf",(null==(i=a.createWDTField.get("wdtLabel"))?null:i.hasError("required"))&&(null==(i=a.createWDTField.get("wdtLabel"))?null:i.touched)),e.xp6(2),e.Q6J("ngIf",a.showModal),e.xp6(4),e.Q6J("ngIf",a.showModal),e.xp6(1),e.Q6J("ngIf",!a.showModal),e.xp6(5),e.Q6J("ngIf",!a.showParameterHeading),e.xp6(1),e.Q6J("ngIf",a.showParameterHeading),e.xp6(2),e.Q6J("formGroup",a.createWDTParameter),e.xp6(9),e.Oqu(a.errorForUniqueID),e.xp6(1),e.Q6J("ngIf",(null==(n=a.createWDTParameter.get("w_parameterID"))?null:n.hasError("required"))&&(null==(n=a.createWDTParameter.get("w_parameterID"))?null:n.touched)),e.xp6(6),e.Oqu(a.errorForUniqueParameterLabel),e.xp6(1),e.Q6J("ngIf",(null==(d=a.createWDTParameter.get("w_parameterLabel"))?null:d.hasError("required"))&&(null==(d=a.createWDTParameter.get("w_parameterLabel"))?null:d.touched)),e.xp6(5),e.Q6J("ngIf",(null==(c=a.createWDTParameter.get("w_parameterDescription"))?null:c.hasError("required"))&&(null==(c=a.createWDTParameter.get("w_parameterDescription"))?null:c.touched)),e.xp6(7),e.Q6J("ngIf",(null==(u=a.createWDTParameter.get("start_address"))?null:u.hasError("required"))&&(null==(u=a.createWDTParameter.get("start_address"))?null:u.touched)),e.xp6(5),e.Q6J("selected",!0),e.xp6(16),e.Q6J("ngIf",(null==(m=a.createWDTParameter.get("variable_type"))?null:m.hasError("required"))&&(null==(m=a.createWDTParameter.get("variable_type"))?null:m.touched)),e.xp6(5),e.Q6J("ngIf",(null==(h=a.createWDTParameter.get("min"))?null:h.hasError("required"))&&(null==(h=a.createWDTParameter.get("min"))?null:h.touched)),e.xp6(7),e.Q6J("ngIf",(null==(D=a.createWDTParameter.get("max"))?null:D.hasError("required"))&&(null==(D=a.createWDTParameter.get("max"))?null:D.touched)),e.xp6(5),e.Q6J("ngIf",(null==(Z=a.createWDTParameter.get("mX_C_X_Multiplication_Factor"))?null:Z.hasError("required"))&&(null==(Z=a.createWDTParameter.get("mX_C_X_Multiplication_Factor"))?null:Z.touched)),e.xp6(5),e.Q6J("ngIf",(null==(g=a.createWDTParameter.get("mX_C_C_Addition_Factor"))?null:g.hasError("required"))&&(null==(g=a.createWDTParameter.get("mX_C_C_Addition_Factor"))?null:g.touched)),e.xp6(3),e.Q6J("ngIf",a.isDL),e.xp6(5),e.Q6J("selected",!0),e.xp6(10),e.Q6J("ngIf",(null==(W=a.createWDTParameter.get("control_type"))?null:W.hasError("required"))&&(null==(W=a.createWDTParameter.get("control_type"))?null:W.touched)),e.xp6(5),e.Q6J("selected",!0),e.xp6(10),e.Q6J("ngIf",(null==(y=a.createWDTParameter.get("step"))?null:y.hasError("required"))&&(null==(y=a.createWDTParameter.get("step"))?null:y.touched)),e.xp6(6),e.Oqu(a.errorForBlockNumber),e.xp6(1),e.Q6J("ngIf",(null==(P=a.createWDTParameter.get("blockNumber"))?null:P.hasError("required"))&&(null==(P=a.createWDTParameter.get("blockNumber"))?null:P.touched)),e.xp6(5),e.Q6J("selected",!0),e.xp6(2),e.Q6J("ngForOf",a.rdtList),e.xp6(4),e.Q6J("placeholder","Select Binding Parameters")("settings",a.dropdownSettings)("data",a.bindingParametersList)("formControl",a.createWDTParameter.controls.binding_parameter),e.xp6(6),e.Q6J("ngIf",a.isControllabel&&a.isControlvalue),e.xp6(5),e.Q6J("ngIf",!a.showParameterButton),e.xp6(1),e.Q6J("ngIf",a.showParameterButton),e.xp6(1),e.uIk("disabled",a.enableSaveButton?null:"")}},dependencies:[C.sg,C.O5,I.Ro,_.YN,_.Kr,_.Fj,_.wV,_.Wl,_.EJ,_.JJ,_.JL,_.Q7,_.qQ,_.Fd,_.oH,_.sg,_.u,_.x0,_.CE,x.d$,F.O],styles:['@charset "UTF-8";.btn-close[_ngcontent-%COMP%]{background-color:#f1416c}input[disabled][_ngcontent-%COMP%]{cursor:not-allowed}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);transition:.8s}.copy-btn[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s ease-in-out}.copy-icon[_ngcontent-%COMP%]{display:inline-block}.copy-text[_ngcontent-%COMP%]{display:none}.copy-btn[_ngcontent-%COMP%]:hover   .copy-text[_ngcontent-%COMP%]{display:inline-block}.copy-btn[_ngcontent-%COMP%]:hover   .copy-icon[_ngcontent-%COMP%]{margin-right:5px;transition:.4s}.copy-btn[_ngcontent-%COMP%]:hover{background-color:#d9534f}.success-note[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;padding:20px;border-radius:8px;font-size:16px;font-weight:500;box-shadow:0 4px 8px #0000001a;margin-top:20px;max-width:100%;width:100%;animation:_ngcontent-%COMP%_slideIn .5s ease-out}.success-note[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;align-items:center}.success-note[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{content:"\\2714";font-size:22px;margin-right:10px;color:#fff}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.success-note.fade-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeOut 2s forwards}@keyframes _ngcontent-%COMP%_fadeOut{0%{opacity:1}to{opacity:0}}']})),p})(),Ne=(()=>{var o;class p{}return o=p,(0,l.Z)(p,"\u0275fac",function(t){return new(t||o)}),(0,l.Z)(p,"\u0275mod",e.oAB({type:o})),(0,l.Z)(p,"\u0275inj",e.cJS({imports:[C.ez,k.ZX,I.ef,_.UX,x.vi,_.u5,F.Z,U.Bz.forChild([{path:"",component:Fe}])]})),p})()}}]);