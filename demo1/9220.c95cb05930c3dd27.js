"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[9220],{99220:(j,w,p)=>{p.r(w),p.d(w,{HomeModule:()=>$});var r=p(86656),f=p(96814),D=p(56223),C=p(22939),h=p(64190),Z=p(15861),O=p(13519),U=p.n(O),t=p(65879),y=p(5588),L=p(31552),T=p(584),M=p(78325);const I=["searchbar"];function J(a,l){1&a&&(t.TgZ(0,"span",13),t.O4$(),t.TgZ(1,"svg",14)(2,"g",15),t._UZ(3,"rect",16)(4,"path",17),t.qZA()()())}function N(a,l){if(1&a&&t._UZ(0,"span",18),2&a){const i=t.oxw(2).$implicit;t.Q6J("inlineSVG","Powerboard - View"==i.value[0]||"Powerboard - Update"==i.value[1]||"Powerboard - xlsx View"==i.value[0]||"Powerboard - xlsx Update"==i.value[1]?"./assets/media/icons/duotune/art/art002.svg":"./assets/media/icons/other-icon.svg")}}function H(a,l){if(1&a&&t._UZ(0,"span",18),2&a){const i=t.oxw(2).$implicit;t.Q6J("inlineSVG","User - View"==i.value[0]||"User - Update"==i.value[1]||"User - xlsx View"==i.value[0]||"User - xlsx Update"==i.value[1]?"./assets/media/icons/duotune/communication/com006.svg":"./assets/media/icons/other-icon.svg")}}function S(a,l){if(1&a&&t._UZ(0,"span",18),2&a){const i=t.oxw(2).$implicit;t.Q6J("inlineSVG","Location - View"==i.value[0]||"Location - Update"==i.value[1]||"Location - xlsx View"==i.value[0]||"Location - xlsx Update"==i.value[1]?"./assets/media/icons/duotune/maps/map006.svg":"./assets/media/icons/other-icon.svg")}}function A(a,l){if(1&a&&t._UZ(0,"span",18),2&a){const i=t.oxw(2).$implicit;t.Q6J("inlineSVG","Magicboard - View"==i.value[0]||"Magicboard - Update"==i.value[1]||"Magicboard - xlsx View"==i.value[0]||"Magicboard - xlsx Update"==i.value[1]?"./assets/media/icons/duotune/maps/magicboard.svg":"./assets/media/icons/other-icon.svg")}}function B(a,l){if(1&a&&t._UZ(0,"span",18),2&a){const i=t.oxw(2).$implicit;t.Q6J("inlineSVG","Dreamboard - View"==i.value[0]||"Dreamboard - Update"==i.value[1]||"Dreamboard - xlsx View"==i.value[0]||"Dreamboard - xlsx Update"==i.value[1]?"./assets/media/icons/duotune/art/art005.svg":"./assets/media/icons/other-icon.svg")}}function R(a,l){if(1&a&&(t.TgZ(0,"div",6)(1,"a",7)(2,"div",8),t.YNc(3,J,5,0,"span",9),t.YNc(4,N,1,1,"span",10),t.YNc(5,H,1,1,"span",10),t.YNc(6,S,1,1,"span",10),t.YNc(7,A,1,1,"span",10),t.YNc(8,B,1,1,"span",10),t.qZA(),t.TgZ(9,"div",11),t._uU(10),t.qZA()(),t.TgZ(11,"div",12),t._uU(12," Device's information which is installed in fields "),t.qZA()()),2&a){const i=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf","Powerboard - View"!==i.value[0]&&"Powerboard - Update"!==i.value[1]&&"Powerboard - xlsx Update"!==i.value[0]&&"Powerboard - xlsx View"!==i.value[1]&&"User - View"!==i.value[0]&&"User - Update"!==i.value[1]&&"User - xlsx Update"!==i.value[0]&&"User - xlsx View"!==i.value[1]&&"Location - View"!==i.value[0]&&"Location - Update"!==i.value[1]&&"Location - xlsx Update"!==i.value[0]&&"Location - xlsx View"!==i.value[1]&&"Magicboard - View"!==i.value[0]&&"Magicboard - Update"!==i.value[1]&&"Magicboard - xlsx Update"!==i.value[0]&&"Magicboard - xlsx View"!==i.value[1]&&"Dreamboard - View"!==i.value[0]&&"Dreamboard - Update"!==i.value[1]&&"Dreamboard - xlsx Update"!==i.value[0]&&"Dreamboard - xlsx View"!==i.value[1]),t.xp6(1),t.Q6J("ngIf","Powerboard - View"==i.value[0]||"Powerboard - Update"==i.value[1]||"Powerboard - xlsx View"==i.value[0]||"Powerboard - xlsx Update"==i.value[1]),t.xp6(1),t.Q6J("ngIf","User - View"==i.value[0]||"User - Update"==i.value[1]||"User - xlsx View"==i.value[0]||"User - xlsx Update"==i.value[1]),t.xp6(1),t.Q6J("ngIf","Location - View"==i.value[0]||"Location - Update"==i.value[1]||"Location - xlsx View"==i.value[0]||"Location - xlsx Update"==i.value[1]),t.xp6(1),t.Q6J("ngIf","Magicboard - View"==i.value[0]||"Magicboard - Update"==i.value[0]||"Magicboard - xlsx View"==i.value[0]||"Magicboard - xlsx Update"==i.value[1]),t.xp6(1),t.Q6J("ngIf","Dreamboard - View"==i.value[0]||"Dreamboard - Update"==i.value[1]||"Dreamboard - xlsx View"==i.value[0]||"Dreamboard - xlsx Update"==i.value[1]),t.xp6(2),t.Oqu(i.key)}}function F(a,l){if(1&a){const i=t.EpF();t.TgZ(0,"div")(1,"div",4),t.NdJ("click",function(){const o=t.CHM(i).$implicit,s=t.oxw(2);return t.KtG(s.redirectTomodule(o.key))}),t.YNc(2,R,13,7,"div",5),t.qZA()()}if(2&a){const i=l.$implicit,e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.isArray(i.value))}}function Q(a,l){if(1&a&&(t.TgZ(0,"div",2),t.YNc(1,F,3,1,"div",3),t.ALo(2,"keyvalue"),t.qZA()),2&a){const i=l.$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,i))}}let Y=(()=>{var a;class l{constructor(e,d,o,s,u,c){(0,r.Z)(this,"homeConfiguration",void 0),(0,r.Z)(this,"cdr",void 0),(0,r.Z)(this,"router",void 0),(0,r.Z)(this,"getPermission",void 0),(0,r.Z)(this,"api",void 0),(0,r.Z)(this,"routeHistory",void 0),(0,r.Z)(this,"allPermissionsList",[]),(0,r.Z)(this,"allPermissions_user",void 0),(0,r.Z)(this,"searchText",""),(0,r.Z)(this,"searchbar",void 0),(0,r.Z)(this,"historyofRoute",[]),(0,r.Z)(this,"filterArrayBaseOnkey",[]),(0,r.Z)(this,"userDetails",void 0),(0,r.Z)(this,"groupRedirectObject",[]),(0,r.Z)(this,"temp",[]),this.homeConfiguration=e,this.cdr=d,this.router=o,this.getPermission=s,this.api=u,this.routeHistory=c,this.homeConfiguration.permissionModule.subscribe(n=>{this.allPermissionsList=this.allPermissions_user}),this.historyofRoute=this.routeHistory.getHistory(),console.log("this.historyofRoute :>> ",this.historyofRoute)}ngAfterViewInit(){}ngOnInit(){this.allPermissions_user=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("permissionDetails")))),this.allPermissionsList=this.allPermissions_user,this.filterArrayBaseOnkey=this.allPermissionsList.reduce((o,s)=>{let[u,c]=s.split(" - "),n=c.startsWith("xlsx")?"xlsx":"";return u=u.trim()+(n?" "+n:""),o[u]||(o[u]=[]),o[u].push(s),o},{}),this.groupRedirectObject=this.groupingViewUpdate(this.filterArrayBaseOnkey),console.log(" this. groupRedirectObject  :>> ",typeof this.groupRedirectObject[0]["Device View and Update"]),this.cdr.detectChanges(),console.log(window.history.length);let e=this.historyofRoute.findIndex(o=>"/auth/login"===o),d=this.historyofRoute.findIndex(o=>"/home"===o);console.log("authLoginIndex :>> ",e),console.log("homeIndex :>> ",d),console.log("this.historyofRoute :>> ",this.historyofRoute),(0==e&&1==d&&2==this.historyofRoute.length||0==d&&1==this.historyofRoute.length)&&(this.userDetails=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("userAttributes")))),this.rediretToAssignBoard(this.userDetails.attributes["custom:clientID"],this.userDetails.attributes["custom:companyID"],this.userDetails.attributes["custom:username"]))}groupingViewUpdate(e){if(console.log("checking it is object",typeof e),"object"!=typeof e)throw new Error("Expected object");if(null===e||0===Object.keys(e).length)throw new Error("Object is null or empty");let d=[];for(const o in e){const s=o.split(" ")[0],u={},c=e[o];console.log(s);let n=`${s} `;c.some(g=>g.includes("Parameter"))&&(n+="Parameter "),c.some(g=>g.includes("Template"))&&(n+="Template "),c.some(g=>g.includes("xlsx"))&&(n.includes("xlsx")||(n+="xlsx ")),c.some(g=>g.includes("View"))&&(n+="View"),c.some(g=>g.includes("Update"))&&(n.length>s.length+1?(n.includes("View"),n.includes("View")?n+=" and Update":n+="Update"):n+="Update"),n!==s&&(u[n]=c,d.push(u))}return console.log("groupedArray :>> ",d),d}redirectTomodule(e){console.log(e),e.includes("Device View")||e.includes("Device Update")?this.router.navigate(["/Device-Configuration"]):e.includes("Reading View")||e.includes("Reading Update")?this.router.navigate(["/rdt-stepper"]):e.includes("Writing View")||e.includes("Writing Update")?this.router.navigate(["/writingdevicetype"]):e.includes("Operational View")||e.includes("Operational Update")?this.router.navigate(["/operationalschedule"]):e.includes("User View")||e.includes("User Update")?this.router.navigate(["/user"]):(e.includes("Permission View")||e.includes("Permission Update"))&&this.router.navigate(["/permission"]),e.includes("Company View")||e.includes("Company Update")?this.router.navigate(["/company"]):e.includes("Client View")||e.includes("Client Update")?this.router.navigate(["/client"]):e.includes("Location View")||e.includes("Location Update")?this.router.navigate(["/location"]):e.includes("Design Parameter View")||e.includes("Design Parameter Update")||e.includes("Design Parameter - View")||e.includes("Design Parameter - Update")?this.router.navigate(["/dynamicParameter"]):e.includes("Design Template View")||e.includes("Design Template Update")?this.router.navigate(["/dynamicTemplate"]):e.includes("Powerboard View")||e.includes("Powerboard Update")?this.router.navigate(["/powerBoard1"]):e.includes("Magicboard View")||e.includes("Magicboard Update")?this.router.navigate(["/magicboard"]):e.includes("Dreamboard View")||e.includes("Dreamboard Update")?this.router.navigate(["/dreamBoard"]):e.includes("Device xlsx View")||e.includes("Device xlsx Update")?this.router.navigate(["/send"]):e.includes("Reading xlsx View")||e.includes("Reading xlsx Update")?this.router.navigate(["/rdtXlsx"]):e.includes("Writing xlsx View")||e.includes("Writing xlsx Update")?this.router.navigate(["/wdtXlsx"]):e.includes("Operational xlsx View")||e.includes("Operational xlsx Update")?this.router.navigate(["/osXlsx"]):e.includes("User xlsx View")||e.includes("User xlsx Update")?this.router.navigate(["/userXlsx"]):(e.includes("Permission xlsx View")||e.includes("Permission xlsx Update"))&&this.router.navigate(["/permissionXlsx"]),e.includes("Company xlsx View")||e.includes("Company xlsx Update")?this.router.navigate(["/companyXlsx"]):e.includes("Client xlsx View")||e.includes("Client xlsx Update")?this.router.navigate(["/clientXlsx"]):e.includes("Location xlsx View")||e.includes("Location xlsx Update")?this.router.navigate(["/locationXlsx"]):e.includes("Design Parameter xlsx View")||e.includes("Design Parameter xlsx Update")?this.router.navigate(["/designParameterXlsx"]):e.includes("Design Template xlsx View")||e.includes("Design Template xlsx Update")?this.router.navigate(["/designTemplateXlsx"]):e.includes("Mqtt View")||e.includes("Mqtt Update")?this.router.navigate(["/mqtt-Configuration"]):e.includes("Diagnostics View")||e.includes("Diagnostics Update")?this.router.navigate(["/diagnostics"]):e.includes("Fusion View")||e.includes("Fusion Update")?this.router.navigate(["/fusion"]):(e.includes("ManualOverride View")||e.includes("ManualOverride Update"))&&this.router.navigate(["/manual-override"])}getTreeData(e,d){var o=this;return(0,Z.Z)(function*(){try{const s=yield o.getPermission.specificLocation(e,d);return s&&s.tree&&(o.temp=JSON.parse(JSON.stringify(s.tree)),o.temp&&o.temp.length>0)?o.temp:(console.error("Unexpected result format:",s),[])}catch(s){throw console.error("Error fetching tree data:",s),s}})()}rediretToAssignBoard(e,d,o){this.getTreeData(d,e).then(s=>{console.log("response",s);let u=JSON.parse(JSON.parse(JSON.stringify(s)));console.log(u),this.api.GetUserManagement(o,e).then(c=>{console.log("User User User",c);let n=JSON.parse(JSON.parse(JSON.stringify(c.location_object)));const g=Array.isArray(n?.text)?n.text[0]:n?.text,x=u?.find(v=>v.text===g)??u?.find(v=>v.text[0]===g);if(x){const v=c.default_module;switch(v){case"MagicBoard":let V=x?.magicboard_view?.id??x?.dashboard_view[0];if(""!=V){const m=`/magicboard/${this.homeConfiguration.encodeURL(V)}?processingMode=true`;this.router.navigateByUrl(m)}else U().fire({title:"Oops! Magic Board ID Not Found Please select proper Magic Board ID in selected Location / Device in User configuration"});break;case"PowerBoard":console.log(v);let b=x?.powerboard_view?.id??x?.powerboard_view_device.id;if(b){let _=this.homeConfiguration.encodeURL(b);localStorage.setItem("fullscreen","true"),this.router.navigateByUrl(`/powerBoard1/${_}`)}else U().fire({title:"Oops! Power Board ID Not Found Please select proper Power Board ID in selected Location / Device in User configuration"});break;case"DreamBoard":console.log(v);break;default:console.warn(`Unexpected module: ${v}`)}}c.profile_picture&&localStorage.setItem("profileImage",c.profile_picture)})})}isArray(e){return Array.isArray(e)}}return a=l,(0,r.Z)(l,"\u0275fac",function(e){return new(e||a)(t.Y36(y.F),t.Y36(t.sBO),t.Y36(h.F0),t.Y36(y.F),t.Y36(L.t),t.Y36(T.H))}),(0,r.Z)(l,"\u0275cmp",t.Xpm({type:a,selectors:[["app-home"]],viewQuery:function(e,d){if(1&e&&t.Gf(I,5),2&e){let o;t.iGM(o=t.CRH())&&(d.searchbar=o.first)}},decls:2,vars:1,consts:[[1,"row","p-2"],["class","col-md-3 col-lg-3 col-sm-12 mb-5",4,"ngFor","ngForOf"],[1,"col-md-3","col-lg-3","col-sm-12","mb-5"],[4,"ngFor","ngForOf"],[1,"card","h-100",3,"click"],["class","card-body d-flex justify-content-center text-center flex-column p-8",4,"ngIf"],[1,"card-body","d-flex","justify-content-center","text-center","flex-column","p-8"],[1,"text-gray-800","text-hover-primary","d-flex","flex-column","cursor-pointer"],[1,"symbol","symbol-75px","mb-6"],["class","svg-icon svg-icon-primary svg-icon-2x",4,"ngIf"],["class","svg-icon svg-icon-2",3,"inlineSVG",4,"ngIf"],[1,"fs-5","fw-bolder","mb-2"],[1,"fs-7","fw-bold","text-gray-400","mt-auto"],[1,"svg-icon","svg-icon-primary","svg-icon-2x"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","24px","height","24px","viewBox","0 0 24 24","version","1.1"],["stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["x","0","y","0","width","24","height","24"],["d","M5,6 L19,6 C20.1045695,6 21,6.8954305 21,8 L21,17 C21,18.1045695 20.1045695,19 19,19 L5,19 C3.8954305,19 3,18.1045695 3,17 L3,8 C3,6.8954305 3.8954305,6 5,6 Z M18.1444251,7.83964668 L12,11.1481833 L5.85557487,7.83964668 C5.4908718,7.6432681 5.03602525,7.77972206 4.83964668,8.14442513 C4.6432681,8.5091282 4.77972206,8.96397475 5.14442513,9.16035332 L11.6444251,12.6603533 C11.8664074,12.7798822 12.1335926,12.7798822 12.3555749,12.6603533 L18.8555749,9.16035332 C19.2202779,8.96397475 19.3567319,8.5091282 19.1603533,8.14442513 C18.9639747,7.77972206 18.5091282,7.6432681 18.1444251,7.83964668 Z","fill","#000000"],[1,"svg-icon","svg-icon-2",3,"inlineSVG"]],template:function(e,d){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Q,3,3,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",d.groupRedirectObject))},dependencies:[f.sg,f.O5,M.d$,f.Nd]})),l})(),$=(()=>{var a;class l{}return a=l,(0,r.Z)(l,"\u0275fac",function(e){return new(e||a)}),(0,r.Z)(l,"\u0275mod",t.oAB({type:a})),(0,r.Z)(l,"\u0275inj",t.cJS({imports:[f.ez,D.UX,C.ZX,h.Bz.forChild([{path:"",component:Y}])]})),l})()}}]);