"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[397],{80397:(tt,Z,g)=>{g.r(Z),g.d(Z,{MqttModule:()=>W});var c=g(86656),M=g(96814),T=g(15861),u=g(56223),F=g(13519),b=g.n(F),S=g(78645),t=g(65879),w=g(5588),x=g(31552),I=g(16519),k=g(22939),U=g(627),A=g(14934);function P(n,d){if(1&n){const s=t.EpF();t.TgZ(0,"button",63),t.NdJ("click",function(){t.CHM(s);const o=t.oxw();return t.KtG(o.openModal("",""))}),t._uU(1," New "),t.qZA()}}function N(n,d){1&n&&(t.TgZ(0,"th"),t._uU(1,"Edit"),t.qZA())}function O(n,d){1&n&&(t.TgZ(0,"th"),t._uU(1,"Delete"),t.qZA())}function K(n,d){if(1&n){const s=t.EpF();t.TgZ(0,"button",66),t.NdJ("click",function(){t.CHM(s);const o=t.oxw().$implicit,i=t.oxw();return t.KtG(i.openModal(o.ID,"edit"))}),t._UZ(1,"i",67),t.qZA()}}function D(n,d){if(1&n){const s=t.EpF();t.TgZ(0,"button",68),t.NdJ("click",function(){t.CHM(s);const o=t.oxw().$implicit,i=t.oxw();return t.KtG(i.deleteMqtt(o.ID))}),t._UZ(1,"i",69),t.qZA()}}function Q(n,d){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t.YNc(9,K,2,0,"button",64),t.qZA(),t.TgZ(10,"td"),t.YNc(11,D,2,0,"button",65),t.qZA()()),2&n){const s=d.$implicit,e=t.oxw();t.xp6(2),t.Oqu(s.ID),t.xp6(2),t.Oqu(s.mqtt),t.xp6(2),t.Oqu(t.xi3(7,5,s.originalDate,"dd/MM/yyyy HH:mm:ss")),t.xp6(3),t.Q6J("ngIf",e.userPermissions.includes("Mqtt - View")),t.xp6(2),t.Q6J("ngIf",e.userPermissions.includes("Mqtt - Update"))}}function J(n,d){1&n&&(t.TgZ(0,"div",70),t._uU(1," Duplicate Id not allowed "),t.qZA())}function H(n,d){if(1&n){const s=t.EpF();t.TgZ(0,"div",71),t._uU(1," If the MQTT ID is set to "),t.TgZ(2,"strong",72),t._uU(3,"WIMATE_MAIN_BROKER"),t.qZA(),t.TgZ(4,"button",73),t.NdJ("click",function(){t.CHM(s);const o=t.oxw();return t.KtG(o.copyToClipboard("WIMATE_MAIN_BROKER"))}),t.TgZ(5,"span",74),t._UZ(6,"i",75),t.qZA()(),t._uU(7," , default configurations will be applied automatically."),t._UZ(8,"br")(9,"br"),t.qZA()}}function L(n,d){if(1&n){const s=t.EpF();t.TgZ(0,"div",71),t._uU(1," You can configure a custom MQTT write topic, or use the default one:"),t._UZ(2,"br")(3,"br"),t.TgZ(4,"strong"),t._uU(5,"Default Write Topic:"),t.qZA(),t.TgZ(6,"code"),t._uU(7,"WIMATE/UR/URCS/"),t.qZA(),t.TgZ(8,"button",73),t.NdJ("click",function(){t.CHM(s);const o=t.oxw();return t.KtG(o.copyToClipboard("WIMATE/UR/URCS/"))}),t.TgZ(9,"span",74),t._UZ(10,"i",75),t.qZA()(),t._UZ(11,"br")(12,"br"),t._uU(13," This topic is used to write data to the MQTT broker. "),t.qZA()}}function E(n,d){if(1&n){const s=t.EpF();t.TgZ(0,"div",71),t._uU(1," You can configure a custom MQTT send topic, or use the default one:"),t._UZ(2,"br")(3,"br"),t.TgZ(4,"strong"),t._uU(5,"Default Send Topic:"),t.qZA(),t.TgZ(6,"code",76),t._uU(7,"WIMATE/UR/UTMS/"),t.qZA(),t.TgZ(8,"button",73),t.NdJ("click",function(){t.CHM(s);const o=t.oxw();return t.KtG(o.copyToClipboard("WIMATE/UR/UTMS/"))}),t.TgZ(9,"span",74),t._UZ(10,"i",75),t.qZA()(),t._UZ(11,"br")(12,"br"),t._uU(13," This topic is used to send data to the MQTT broker. "),t.qZA()}}function Y(n,d){if(1&n){const s=t.EpF();t.TgZ(0,"div",50)(1,"label",51),t._uU(2," Certificate"),t.qZA(),t.TgZ(3,"div",52)(4,"input",77,28),t.NdJ("change",function(){t.CHM(s);const o=t.MAs(5),i=t.oxw();return t.KtG(i.CertificateEvent(o.value))}),t.qZA(),t.TgZ(6,"label",54),t._uU(7,"CA Signed Server"),t.qZA()(),t.TgZ(8,"div",52)(9,"input",78,28),t.NdJ("change",function(){t.CHM(s);const o=t.MAs(5),i=t.oxw();return t.KtG(i.CertificateEvent(o.value))}),t.qZA(),t.TgZ(11,"label",56),t._uU(12,"self Signed"),t.qZA()()()}}function G(n,d){1&n&&t._UZ(0,"div")}function B(n,d){1&n&&(t.TgZ(0,"div",50)(1,"div",0)(2,"div",22)(3,"label",23),t._uU(4,"CA File"),t.qZA(),t._UZ(5,"input",79),t.qZA(),t.TgZ(6,"div",22)(7,"label",80),t._uU(8,"Client Certificate File"),t.qZA(),t._UZ(9,"input",81),t.qZA(),t.TgZ(10,"div",22)(11,"label",80),t._uU(12,"Client key file"),t.qZA(),t._UZ(13,"input",82),t.qZA()()())}function V(n,d){if(1&n){const s=t.EpF();t.TgZ(0,"button",83),t.NdJ("click",function(){t.CHM(s);const o=t.oxw();return t.KtG(o.editMQTT())}),t._uU(1," Update "),t.qZA()}if(2&n){const s=t.oxw();t.Q6J("disabled",!s.createMqttField.valid||0==s.createMqttField.dirty)}}function R(n,d){if(1&n){const s=t.EpF();t.TgZ(0,"button",84),t.NdJ("click",function(){t.CHM(s);const o=t.oxw();return t.KtG(o.createNewMqtt())}),t._uU(1,"Save"),t.qZA()}if(2&n){const s=t.oxw();t.Q6J("disabled",!s.createMqttField.valid||1==s.uniqueKeyFounded)}}let j=(()=>{var n;class d{constructor(e,o,i,a,l,q){(0,c.Z)(this,"fb",void 0),(0,c.Z)(this,"powerboardConfiguration",void 0),(0,c.Z)(this,"Api",void 0),(0,c.Z)(this,"crn",void 0),(0,c.Z)(this,"auditTrialServices",void 0),(0,c.Z)(this,"toast",void 0),(0,c.Z)(this,"createMqttField",void 0),(0,c.Z)(this,"getLoggedUser",void 0),(0,c.Z)(this,"SK_clientID",""),(0,c.Z)(this,"user_companyID",""),(0,c.Z)(this,"isUpdate",!1),(0,c.Z)(this,"isSubmit",!1),(0,c.Z)(this,"uniqueKeyFounded",!1),(0,c.Z)(this,"PKList",[]),(0,c.Z)(this,"dtOptions",{order:[[0,"asc"]],autoWidth:!0}),(0,c.Z)(this,"dtTrigger",new S.x),(0,c.Z)(this,"userPermissions",[]),(0,c.Z)(this,"idToolTipTrue",!1),(0,c.Z)(this,"lookUpdataFinaldata",[]),(0,c.Z)(this,"dataResult",[]),(0,c.Z)(this,"maxlength",1e3),(0,c.Z)(this,"tooltipTimeout",void 0),this.fb=e,this.powerboardConfiguration=o,this.Api=i,this.crn=a,this.auditTrialServices=l,this.toast=q}ngOnInit(){var e=this;return(0,T.Z)(function*(){e.auditTrialServices.audit_trail("2.1","MQTT","Page Load","MQTT Page Loaded","1"),e.getLoggedUser=e.powerboardConfiguration.getLoggedUserDetails(),e.SK_clientID=e.getLoggedUser.attributes["custom:clientID"],e.user_companyID=e.getLoggedUser.attributes["custom:companyID"];const o=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("permissionDetails"))));let i=JSON.parse(JSON.stringify(o));e.userPermissions=i,e.initalizeMqttForm(),yield e.getMQTTData(1)})()}ngAfterViewInit(){}initalizeMqttForm(){this.createMqttField=this.fb.group({mqttId:["",u.kI.required],mqttName:["",u.kI.required],mqttHost:["",u.kI.required],mqttHostUrl:["",u.kI.required],mqttPort:["",u.kI.required],mqttTopic:["",u.kI.required],mqttTopicSend:["",u.kI.required],mqttUsername:["",u.kI.required],mqttPassword:["",u.kI.required],mqttsslOrtls:[""],mqttcertificate:[""],mqttCAFileString:[""],mqttClientCertificate:[""],mqttClientkey:[""]}),console.log(this.createMqttField),this.crn.detectChanges()}getMQTTData(e){var o=this;return(0,T.Z)(function*(){let i=[];console.log("object :>> ",o.SK_clientID),yield o.Api.GetLookupMasterTable(o.SK_clientID+"#mqtt",e).then(function(){var a=(0,T.Z)(function*(l){if(console.log("sk :>> ",e),l&&l.items){const q=JSON.parse(l.items);for(let r=0;r<q.length;r++){let h=q[r];if(null!=h){const f=Object.keys(h)[0],{P1:m,P2:p,P3:_}=h[f];i.push([m,p,_])}}new Promise(r=>setTimeout(r,500)),yield o.getMQTTData(e+1),o.getDatatable(i),setTimeout(()=>{o.auditTrialServices.audit_trail("2.1","MQTT","View","MQTT Table was viewed","1")},1e3)}});return function(l){return a.apply(this,arguments)}}()).catch(a=>{})})()}createNewMqtt(){var e=this;return(0,T.Z)(function*(){let i;i="on"==e.createMqttField.get("mqttsslOrtls").value?{PK:e.createMqttField.get("mqttId").value,SK:e.SK_clientID,mqttName:e.createMqttField.get("mqttName").value,mqttHost:e.createMqttField.get("mqttHost").value,mqttHostUrl:e.createMqttField.get("mqttHostUrl").value,mqttPort:e.createMqttField.get("mqttPort").value,mqttTopic:e.createMqttField.get("mqttTopic").value,mqttTopicSend:e.createMqttField.get("mqttTopicSend").value,mqttUsername:e.createMqttField.get("mqttUsername").value,mqttPassword:e.createMqttField.get("mqttPassword").value,mqttsslOrtls:e.createMqttField.get("mqttsslOrtls").value,mqttcertificate:e.createMqttField.get("mqttcertificate").value,mqttCAFileString:e.createMqttField.get("mqttCAFileString").value,mqttClientCertificate:e.createMqttField.get("mqttClientCertificate").value,mqttClientkey:e.createMqttField.get("mqttClientkey").value}:{PK:e.createMqttField.get("mqttId").value,SK:e.SK_clientID,mqttName:e.createMqttField.get("mqttName").value,mqttHost:e.createMqttField.get("mqttHost").value,mqttHostUrl:e.createMqttField.get("mqttHostUrl").value,mqttPort:e.createMqttField.get("mqttPort").value,mqttTopic:e.createMqttField.get("mqttTopic").value,mqttTopicSend:e.createMqttField.get("mqttTopicSend").value,mqttUsername:e.createMqttField.get("mqttUsername").value,mqttPassword:e.createMqttField.get("mqttPassword").value,mqttsslOrtls:e.createMqttField.get("mqttsslOrtls").value,mqttcertificate:"",mqttCAFileString:"",mqttClientCertificate:"",mqttClientkey:""};let a=Math.floor((new Date).valueOf()/1e3);const l={P1:e.createMqttField.value.mqttId,P2:e.createMqttField.value.mqttName,P3:a};e.createMqttField.valid&&(yield e.Api.CreateMqtt(i).then(function(){var q=(0,T.Z)(function*(r){e.auditTrialServices.audit_trail("2.1","MQTT","Create",`${e.createMqttField.value.mqttId} MQTT was created`,"1"),b().fire({position:"top-end",icon:"success",title:"Created MQTT Configuration Successfully",showConfirmButton:!1,timer:1500}),yield e.createLookUpMagicbord(l,1),e.createMqttField.reset()});return function(r){return q.apply(this,arguments)}}()).catch(q=>{b().fire({position:"top-end",icon:"error",title:"Created MQTT Configuration Failed",showConfirmButton:!1,timer:1500})}))})()}getDatatable(e){let o=[];if(void 0!==typeof e){for(let a=0;a<e.length;a++)o.push({ID:e[a][0],mqtt:e[a][1],date:e[a][2]});console.log("data111111111 :>> ",o),o.forEach(a=>{a.originalDate=new Date(1e3*a.date)}),this.lookUpdataFinaldata=[],this.lookUpdataFinaldata=o.sort((a,l)=>l.originalDate-a.originalDate),console.log(o),this.crn.detectChanges()}}CertificateEvent(e){console.log(e)}SLLTLSEvent(e){"on"===e.target.value?(console.log("on"),this.createMqttField.get("mqttcertificate").valueChanges.subscribe(i=>{"self_Signed"===i?(this.createMqttField.get("mqttCAFileString").setValidators([u.kI.required]),this.crn.detectChanges()):(this.createMqttField.get("mqttCAFileString").clearValidators(),this.crn.detectChanges()),this.createMqttField.get("mqttCAFileString").updateValueAndValidity(),this.crn.detectChanges()})):(this.createMqttField.get("mqttCAFileString").clearValidators(),this.createMqttField.get("mqttCAFileString").updateValueAndValidity(),this.crn.detectChanges())}deleteMqtt(e){b().fire({position:"center",title:"Are you sure?",text:"You wont get these details back again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, let me think"}).then(o=>{o.isConfirmed&&(this.auditTrialServices.audit_trail("2.1","MQTT","Delete",`${e} MQTT was deleted`,"1"),this.Api.DeleteMqtt({PK:e,SK:this.SK_clientID}).then(i=>{this.fetchMagicDataById(1,e,"delete",[]).then(a=>{}).catch(a=>{}),b().fire({position:"center",icon:"success",title:"Deleted MQTT Configuration Successfully",showConfirmButton:!1,timer:1500})}).catch(i=>{console.log(i),b().fire({position:"center",icon:"error",title:"Delete MQTT Configuration Failed",showConfirmButton:!1,timer:1500})}))})}editMQTT(){var e=this;return(0,T.Z)(function*(){console.log("this.createMqttField.get.value :>> ",e.createMqttField.get("mqttId").value);let o={PK:e.createMqttField.get("mqttId").value,SK:e.SK_clientID,mqttName:e.createMqttField.get("mqttName").value,mqttHost:e.createMqttField.get("mqttHost").value,mqttHostUrl:e.createMqttField.get("mqttHostUrl").value,mqttPort:e.createMqttField.get("mqttPort").value,mqttTopic:e.createMqttField.get("mqttTopic").value,mqttTopicSend:e.createMqttField.get("mqttTopicSend").value,mqttUsername:e.createMqttField.get("mqttUsername").value,mqttPassword:e.createMqttField.get("mqttPassword").value,mqttsslOrtls:e.createMqttField.get("mqttsslOrtls").value,mqttcertificate:e.createMqttField.get("mqttcertificate").value,mqttCAFileString:e.createMqttField.get("mqttCAFileString").value,mqttClientCertificate:e.createMqttField.get("mqttClientCertificate").value,mqttClientkey:e.createMqttField.get("mqttClientkey").value};e.auditTrialServices.audit_trail("2.1","MQTT","Update",`${e.createMqttField.get("mqttId").value} MQTT was updated`,"1"),e.Api.UpdateMqtt(o).then(i=>{let a=Math.floor((new Date).valueOf()/1e3),l={P1:e.createMqttField.get("mqttId").value,P2:e.createMqttField.value.mqttName,P3:a};e.fetchMagicDataById(1,e.createMqttField.get("mqttId").value,"update",l).then(q=>{e.getMQTTData(1)}).catch(q=>{}),b().fire({position:"top-end",icon:"success",title:"Update MQTT Configuration Successfully",showConfirmButton:!1,timer:1500}),e.createMqttField.reset()}).catch(i=>{console.log(i),b().fire({position:"top-end",icon:"error",title:"Update MQTT Configuration Failed",showConfirmButton:!1,timer:1500})})})()}openModal(e,o){this.createMqttField.reset(),"edit"===o?this.Api.GetMqtt(e,this.SK_clientID).then(i=>{this.auditTrialServices.audit_trail("2.1","MQTT","View",`${e} MQTT was viewed`,"1"),console.log("object :>> ",i),this.createMqttField.get("mqttId").disable(),0==this.isUpdate&&(this.isUpdate=!this.isUpdate),1==this.isSubmit&&(this.isSubmit=!this.isSubmit),null!=i.mqttsslOrtls&&""!=i.mqttsslOrtls?(this.createMqttField.patchValue({mqttId:i?.PK,mqttName:i?.mqttName,mqttHost:i?.mqttHost,mqttHostUrl:i?.mqttHostUrl,mqttPort:i?.mqttPort,mqttTopic:i?.mqttTopic,mqttTopicSend:i?.mqttTopicSend,mqttUsername:i?.mqttUsername,mqttPassword:i?.mqttPassword,mqttsslOrtls:i?.mqttsslOrtls,mqttcertificate:i?.mqttcertificate,mqttCAFileString:i?.mqttCAFileString,mqttClientCertificate:i?.mqttClientCertificate,mqttClientkey:i?.mqttClientkey}),console.log(this.createMqttField.value,"value"),console.log(this.createMqttField.valid,"valid"),this.crn.detectChanges()):(this.createMqttField.patchValue({mqttId:i?.PK,mqttName:i?.mqttName,mqttHost:i?.mqttHost,mqttHostUrl:i?.mqttHostUrl,mqttPort:i?.mqttPort,mqttTopic:i?.mqttTopic,mqttTopicSend:i?.mqttTopicSend,mqttUsername:i?.mqttUsername,mqttPassword:i?.mqttPassword,mqttsslOrtls:"",mqttcertificate:"",mqttCAFileString:"",mqttClientCertificate:"",mqttClientkey:""}),console.log(this.createMqttField.value,"value"),console.log(this.createMqttField.valid,"valid"),this.crn.detectChanges())}).catch(i=>{}):(this.uniqueKeyFounded=!1,this.createMqttField.get("mqttId").enable(),console.log("create"),this.initalizeMqttForm(),1==this.isUpdate&&(this.isUpdate=!this.isUpdate),0==this.isSubmit&&(this.isSubmit=!this.isSubmit),this.crn.detectChanges())}uniquePKValue(e){this.uniqueKeyFounded=!!this.PKList.includes(e)}createLookUpMagicbord(e,o){var i=this;return(0,T.Z)(function*(){console.log("item :>> ",e),yield i.Api.GetLookupMasterTable(i.SK_clientID+"#mqtt",o).then(function(){var a=(0,T.Z)(function*(l){console.log("REsponse from lookup with null",l);let q=[];if(null!=l&&l.items&&"string"==typeof l.items&&(q=JSON.parse(l.items)),null!=l&&q.length<i.maxlength){let r=[];if(JSON.stringify(l?.items),l.items&&"string"==typeof l.items){const m=JSON.parse(l.items);m.forEach(p=>{for(const _ in p)Object.prototype.hasOwnProperty.call(p,_)&&r.push(p[_])}),console.log("parsedData :>> ",m)}console.log("newdata :>> ",r),r.unshift(e),r=r.map((m,p)=>({[`L${p+1}`]:m})),console.log("update table :>> ",r);let f={SK:l.SK,PK:i.SK_clientID+"#mqtt",items:JSON.stringify(r)};console.log("Look_data :>> ",f),yield i.Api.UpdateLookupMasterTable(f).then(function(){var m=(0,T.Z)(function*(p){console.log("createResponse :>> ",p),yield i.getMQTTData(1)});return function(p){return m.apply(this,arguments)}}()).catch(m=>{console.log("err :>> ",m)})}else if(null==l){let r=[];r.push(e),r=r.map((f,m)=>({[`L${m+1}`]:f}));let h={SK:o,PK:i.SK_clientID+"#mqtt",items:JSON.stringify(r)};console.log("Look_data :>> ",h),i.Api.CreateLookupMasterTable(h).then(function(){var f=(0,T.Z)(function*(m){console.log(m),yield i.getMQTTData(1)});return function(m){return f.apply(this,arguments)}}()).catch(f=>{console.log("err :>> ",f)})}else i.createLookUpMagicbord(e,o+1)});return function(l){return a.apply(this,arguments)}}())})()}fetchMagicDataById(e,o,i,a){var l=this;return(0,T.Z)(function*(){try{const q=yield l.Api.GetLookupMasterTable(l.SK_clientID+"#mqtt",e);if(q&&q.items){let r=yield JSON.parse(q.items),h=r.find(m=>m[Object.keys(m)[0]].P1===o),f=r.findIndex(m=>m[Object.keys(m)[0]].P1===o);if(h){if("update"==i){r[f][`L${f+1}`]=a;const p=[];for(let _=0;_<r.length;_++){const C=Object.keys(r[_])[0],v=`L${_+1}`;if(C){const z={[v]:r[_][C]},y=p.findIndex(X=>Object.keys(X)[0]===v);-1!==y?Object.assign(p[y][v],r[_][C]):p.push(z)}else console.error(`Original key not found for renaming in data[${_}].`)}r=p,console.log("datadata :>> ",r)}else"delete"==i&&r.splice(f,1);console.log("data updateData:>> ",r);let m={PK:l.SK_clientID+"#mqtt",SK:q.SK,items:JSON.stringify(r)};l.Api.UpdateLookupMasterTable(m).then(p=>{console.log(p),l.getMQTTData(1)}).catch(p=>{console.log("err :>> ",p)})}else yield new Promise(m=>setTimeout(m,500)),l.fetchMagicDataById(e+1,o,i,a);l.crn.detectChanges()}else b().fire({position:"top-right",icon:"error",title:`ID ${o} not founded`,showConfirmButton:!1,timer:1500})}catch(q){console.error("Error:",q)}})()}showTooltip(e){e.open(),clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(()=>{e.close(),this.crn.detectChanges()},3e3)}hideTooltip(e){clearTimeout(this.tooltipTimeout),this.crn.detectChanges()}copyToClipboard(e){navigator.clipboard.writeText(e).then(()=>{this.toast.open("Your data has been copied successfully!","",{duration:1e3,horizontalPosition:"center",verticalPosition:"top"}),console.log("Copied to clipboard:",e)}).catch(o=>{console.error("Could not copy text:",o)})}}return n=d,(0,c.Z)(d,"\u0275fac",function(e){return new(e||n)(t.Y36(u.qu),t.Y36(w.F),t.Y36(x.t),t.Y36(t.sBO),t.Y36(I.C),t.Y36(k.ux))}),(0,c.Z)(d,"\u0275cmp",t.Xpm({type:n,selectors:[["app-mqtt"]],decls:120,vars:19,consts:[[1,"row"],[1,"col-md-12","col-lg-12","col-xl-12","col-sm-12","col-xs-12"],[1,"card","mb-5","mb-xl-8"],[1,"card-header","border-0","pt-5"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bolder","fs-3","mb-1"],[1,"card-toolbar"],["type","button","class","btn btn-sm btn-primary","data-bs-toggle","modal","data-bs-target","#osModal",3,"click",4,"ngIf"],[1,"card-body","py-3"],["datatable","",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4",3,"dtTrigger","dtOptions"],[4,"ngIf"],[4,"ngFor","ngForOf"],["id","osModal","tabindex","-1","aria-labelledby","osModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content",2,"width","700px","transform","translate(-10%, 0px)"],[1,"modal-header"],["id","osLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"fv-row"],[1,"card-body","border-top","p-4"],[1,"container"],[1,"row",3,"formGroup"],[1,"col-md-6"],[1,"col-lg-12","col-form-label","fw-bold","fs-6","required"],["triggers","manual","placement","bottom","container","body",1,"sampTooltip",3,"tooltipClass","ngbTooltip","mouseenter","mouseleave"],["t","ngbTooltip"],[1,"fas","fa-exclamation-circle","fs-7","tooltip-icon"],["type","text","formControlName","mqttId","placeholder","Mqtt Id",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"keyup"],["value",""],["class","fv-plugins-message-container invalid-feedback",4,"ngIf"],["tooltipMQTTContent",""],["type","text","formControlName","mqttName","placeholder","Mqtt Name",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[1,"col-md-3"],["formControlName","mqttHost","placeholder","select Mqtt Host",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["value","","disabled","true"],["value","mqtt://"],["value","mqtts://"],["value","ws://"],["value","wss://"],[1,"col-md-9"],["type","text","formControlName","mqttHostUrl","placeholder","Mqtt Url",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","number","formControlName","mqttPort","placeholder","Mqtt Port",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["w","ngbTooltip"],["type","text","formControlName","mqttTopic","placeholder","Mqtt Topic",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["tooltipMQTTWriteContent",""],["s","ngbTooltip"],["type","text","formControlName","mqttTopicSend","placeholder","Mqtt Send Topic",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["tooltipMQTTReadContent",""],["type","text","formControlName","mqttUsername","placeholder","Mqtt Username",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","text","formControlName","mqttPassword","placeholder","Mqtt Password",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[1,"col-md-12"],[1,"col-md-2","col-form-label","fw-bold","fs-6"],[1,"form-check","form-check-inline","col-form-label"],["type","radio","formControlName","mqttsslOrtls","id","inlineCheckbox1","value","on",1,"form-check-input",3,"change"],["for","inlineCheckbox1",1,"form-check-label"],["type","radio","formControlName","mqttsslOrtls","id","inlineCheckbox2","value","off",1,"form-check-input",3,"change"],["for","inlineCheckbox2",1,"form-check-label"],["class","col-md-12",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-sm","btn-danger"],["closeOS",""],["class","btn btn-sm btn-primary","data-bs-dismiss","modal","aria-label","Close",3,"disabled","click",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close","class","btn btn-sm btn-primary not-allowed",3,"disabled","click",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#osModal",1,"btn","btn-sm","btn-primary",3,"click"],["class","btn btn-sm btn-primary editdelete","data-bs-toggle","modal","data-bs-target","#osModal",3,"click",4,"ngIf"],["class","btn btn-sm btn-danger editdelete","data-bs-dismiss","modal","aria-label","Close",3,"click",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#osModal",1,"btn","btn-sm","btn-primary","editdelete",3,"click"],[1,"bi","bi-brush"],["data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-sm","btn-danger","editdelete",3,"click"],[1,"fa","fa-trash"],[1,"fv-plugins-message-container","invalid-feedback"],[1,"tooltip-left-aligned"],["id","brokerIdText"],[1,"badge","badge-sm","badge-dark","ms-1",2,"cursor","pointer",3,"click"],[1,"copy-icon"],[1,"fa-regular","fw-bolder","fa-copy","fs-6"],["id","defaultSendTopic"],["type","radio","formControlName","mqttcertificate","id","inlineCheckbox1","value","CA_Signed_Server",1,"form-check-input",3,"change"],["type","radio","formControlName","mqttcertificate","id","inlineCheckbox2","value","self_Signed",1,"form-check-input",3,"change"],["type","text","formControlName","mqttCAFileString","placeholder","CA File",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[1,"col-lg-12","col-form-label","fw-bold","fs-6"],["type","text","formControlName","mqttClientCertificate","placeholder","Client Certificate File",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","text","formControlName","mqttClientkey","placeholder","Client key ",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-sm","btn-primary",3,"disabled","click"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-sm","btn-primary","not-allowed",3,"disabled","click"]],template:function(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"span",5),t._uU(6," MQTT Configuration"),t.qZA()(),t.TgZ(7,"div",6),t.YNc(8,P,2,0,"button",7),t.qZA()(),t.TgZ(9,"div",8)(10,"div")(11,"table",9)(12,"thead")(13,"tr")(14,"th"),t._uU(15,"ID"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Label"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"UpdateAt"),t.qZA(),t.YNc(20,N,2,0,"th",10),t.YNc(21,O,2,0,"th",10),t.qZA()(),t.TgZ(22,"tbody"),t.YNc(23,Q,12,8,"tr",11),t.qZA()()()()()()(),t.TgZ(24,"div",12)(25,"div",13)(26,"div",14)(27,"div",15)(28,"h2",16),t._uU(29," MQTT Configuration"),t.qZA(),t._UZ(30,"button",17),t.qZA(),t.TgZ(31,"div",18)(32,"div",19)(33,"div",20)(34,"div",21)(35,"div",22)(36,"label",23),t._uU(37,"Id "),t.TgZ(38,"button",24,25),t.NdJ("mouseenter",function(){t.CHM(i);const l=t.MAs(39);return t.KtG(o.showTooltip(l))})("mouseleave",function(){t.CHM(i);const l=t.MAs(39);return t.KtG(o.hideTooltip(l))}),t._UZ(40,"i",26),t.qZA()(),t.TgZ(41,"input",27,28),t.NdJ("keyup",function(){t.CHM(i);const l=t.MAs(42);return t.KtG(o.uniquePKValue(l.value))}),t.qZA(),t.YNc(43,J,2,0,"div",29),t.qZA(),t.YNc(44,H,10,0,"ng-template",null,30,t.W1O),t.TgZ(46,"div",22)(47,"label",23),t._uU(48," Name"),t.qZA(),t._UZ(49,"input",31),t.qZA(),t.TgZ(50,"div",32)(51,"label",23),t._uU(52," Host"),t.qZA(),t.TgZ(53,"select",33)(54,"option",34),t._uU(55," Select Host"),t.qZA(),t.TgZ(56,"option",35),t._uU(57,"mqtt://"),t.qZA(),t.TgZ(58,"option",36),t._uU(59,"mqtts://"),t.qZA(),t.TgZ(60,"option",37),t._uU(61,"ws://"),t.qZA(),t.TgZ(62,"option",38),t._uU(63,"wss://"),t.qZA()()(),t.TgZ(64,"div",39)(65,"label",23),t._uU(66," Url"),t.qZA(),t._UZ(67,"input",40),t.qZA(),t.TgZ(68,"div",32)(69,"label",23),t._uU(70," Port"),t.qZA(),t._UZ(71,"input",41),t.qZA(),t.TgZ(72,"div",39)(73,"label",23),t._uU(74,"Manual Override Topic"),t.TgZ(75,"button",24,42),t.NdJ("mouseenter",function(){t.CHM(i);const l=t.MAs(76);return t.KtG(o.showTooltip(l))})("mouseleave",function(){t.CHM(i);const l=t.MAs(76);return t.KtG(o.hideTooltip(l))}),t._UZ(77,"i",26),t.qZA()(),t._UZ(78,"input",43),t.qZA(),t.YNc(79,L,14,0,"ng-template",null,44,t.W1O),t.TgZ(81,"div",39)(82,"label",23),t._uU(83,"Send Data Topic"),t.TgZ(84,"button",24,45),t.NdJ("mouseenter",function(){t.CHM(i);const l=t.MAs(85);return t.KtG(o.showTooltip(l))})("mouseleave",function(){t.CHM(i);const l=t.MAs(85);return t.KtG(o.hideTooltip(l))}),t._UZ(86,"i",26),t.qZA()(),t._UZ(87,"input",46),t.qZA(),t.YNc(88,E,14,0,"ng-template",null,47,t.W1O),t.TgZ(90,"div",22)(91,"label",23),t._uU(92," Username"),t.qZA(),t._UZ(93,"input",48),t.qZA(),t.TgZ(94,"div",22)(95,"label",23),t._uU(96," Password"),t.qZA(),t._UZ(97,"input",49),t.qZA(),t.TgZ(98,"div",50)(99,"label",51),t._uU(100," SSL/TLS"),t.qZA(),t.TgZ(101,"div",52)(102,"input",53,28),t.NdJ("change",function(l){return o.SLLTLSEvent(l)}),t.qZA(),t.TgZ(104,"label",54),t._uU(105,"On"),t.qZA()(),t.TgZ(106,"div",52)(107,"input",55,28),t.NdJ("change",function(l){return o.SLLTLSEvent(l)}),t.qZA(),t.TgZ(109,"label",56),t._uU(110,"Off"),t.qZA()()(),t.YNc(111,Y,13,0,"div",57),t.YNc(112,G,1,0,"div",10),t.YNc(113,B,14,0,"div",57),t.TgZ(114,"div",58)(115,"button",59,60),t._uU(117,"Cancel"),t.qZA(),t.YNc(118,V,2,1,"button",61),t.YNc(119,R,2,1,"button",62),t.qZA()()()()()()()()}if(2&e){const i=t.MAs(45),a=t.MAs(80),l=t.MAs(89);t.xp6(8),t.Q6J("ngIf",o.userPermissions.includes("Mqtt - Update")),t.xp6(3),t.Q6J("dtTrigger",o.dtTrigger)("dtOptions",o.dtOptions),t.xp6(9),t.Q6J("ngIf",o.userPermissions.includes("Mqtt - View")),t.xp6(1),t.Q6J("ngIf",o.userPermissions.includes("Mqtt - Update")),t.xp6(2),t.Q6J("ngForOf",o.lookUpdataFinaldata),t.xp6(11),t.Q6J("formGroup",o.createMqttField),t.xp6(4),t.Q6J("tooltipClass","custom-tooltip")("ngbTooltip",i),t.xp6(5),t.Q6J("ngIf",1==o.uniqueKeyFounded),t.xp6(32),t.Q6J("tooltipClass","custom-tooltip")("ngbTooltip",a),t.xp6(9),t.Q6J("tooltipClass","custom-tooltip")("ngbTooltip",l),t.xp6(27),t.Q6J("ngIf","on"==o.createMqttField.get("mqttsslOrtls").value),t.xp6(1),t.Q6J("ngIf","CA_Signed_Server"==o.createMqttField.get("mqttcertificate").value),t.xp6(1),t.Q6J("ngIf","self_Signed"==o.createMqttField.get("mqttcertificate").value&&"on"==o.createMqttField.get("mqttsslOrtls").value),t.xp6(5),t.Q6J("ngIf",o.isUpdate&&o.userPermissions.includes("Mqtt - Update")),t.xp6(1),t.Q6J("ngIf",o.isSubmit&&o.userPermissions.includes("Mqtt - Update"))}},dependencies:[M.sg,M.O5,u.YN,u.Kr,u.Fj,u.wV,u.EJ,u._,u.JJ,u.JL,u.sg,u.u,U.G,A._L,M.uU],styles:[".custom-tooltip[_ngcontent-%COMP%]{text-align:left!important;white-space:normal;max-width:300px;background-color:#dc3545;font-size:.875rem;line-height:1.4}.tooltip-left-aligned[_ngcontent-%COMP%], .tooltip-custom[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%]{text-align:left!important}.sampTooltip[_ngcontent-%COMP%]{border:none;border-radius:11px;background-color:#0000;margin-left:1px}.bi-info-circle[_ngcontent-%COMP%]:hover{color:#1da1f2}.sampTooltip[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10px}.tooltip-inner[_ngcontent-%COMP%]{max-width:100%;width:250px;font-size:14px;text-align:justify}.tooltip[_ngcontent-%COMP%]{font-size:20px;width:250px}"]})),d})();var $=g(64190);let W=(()=>{var n;class d{}return n=d,(0,c.Z)(d,"\u0275fac",function(e){return new(e||n)}),(0,c.Z)(d,"\u0275mod",t.oAB({type:n})),(0,c.Z)(d,"\u0275inj",t.cJS({imports:[M.ez,u.UX,U.T,A.HK,$.Bz.forChild([{path:"",component:j}])]})),d})()}}]);