"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[2854],{42854:(z,k,m)=>{m.r(k),m.d(k,{PlcConfigurationModule:()=>j});var s=m(86656),y=m(96814),g=m(56223),M=m(17700),S=m(22939),L=m(64190),U=m(85722),I=m(627),A=m(78325),N=m(60540),_=m(15861),F=m(13519),Z=m.n(F),e=m(65879),q=m(31552),T=m(5588),x=m(16519);const J=["closeModal"],O=["closeAlert"];function K(d,h){1&d&&(e.TgZ(0,"h2",38),e._uU(1,"Add PLC Configuration"),e.qZA())}function E(d,h){1&d&&(e.TgZ(0,"h2",38),e._uU(1,"Edit PLC Configuration"),e.qZA())}function B(d,h){1&d&&(e.TgZ(0,"div",39),e._uU(1," Display label is required "),e.qZA())}function Y(d,h){if(1&d&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&d){const u=h.$implicit;e.Q6J("value",u),e.xp6(1),e.hij(" ",u," ")}}function Q(d,h){1&d&&(e.TgZ(0,"div",39),e._uU(1," user is required "),e.qZA())}function G(d,h){if(1&d){const u=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(u);const t=e.oxw();return e.KtG(t.updateConfiguration(t.createNewField.value,"id"))}),e._uU(1," Update "),e.qZA()}if(2&d){const u=e.oxw();e.Q6J("hidden",u.hideUpdateButton)("disabled",u.createNewField.invalid||"id already exists"==u.errorForUniqueLabel)("disabled",!u.createNewField.dirty||u.createNewField.invalid)}}function R(d,h){if(1&d){const u=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(u);const t=e.oxw();return e.KtG(t.createNewPLC(""))}),e._uU(1,"Submit"),e.qZA()}if(2&d){const u=e.oxw();e.Q6J("disabled",u.createNewField.invalid||"Device Name already exists"==u.errorForUniqueID||"Device Label already exists"==u.errorForUniqueLabel)}}let H=(()=>{var d;class h{constructor(i,t,o,l,r,a,n,c,p){(0,s.Z)(this,"api",void 0),(0,s.Z)(this,"getDiagnostics",void 0),(0,s.Z)(this,"fb",void 0),(0,s.Z)(this,"router",void 0),(0,s.Z)(this,"toast",void 0),(0,s.Z)(this,"sharedService",void 0),(0,s.Z)(this,"plcConfiguration",void 0),(0,s.Z)(this,"cd",void 0),(0,s.Z)(this,"auditTrialServices",void 0),(0,s.Z)(this,"closeModal",void 0),(0,s.Z)(this,"closeAlert",void 0),(0,s.Z)(this,"allModuleValues",[]),(0,s.Z)(this,"createNewField",void 0),(0,s.Z)(this,"allDatas",{}),(0,s.Z)(this,"SK_clientID",void 0),(0,s.Z)(this,"getLoggedUser",void 0),(0,s.Z)(this,"submitted",void 0),(0,s.Z)(this,"temp_createNewField",{}),(0,s.Z)(this,"columnDatatable",[]),(0,s.Z)(this,"uniqueDevicesList",[]),(0,s.Z)(this,"uniqueDeviceLabel_list",[]),(0,s.Z)(this,"allPermissions_user",void 0),(0,s.Z)(this,"data_temp",[]),(0,s.Z)(this,"clientNames",void 0),(0,s.Z)(this,"showModal",!1),(0,s.Z)(this,"showHeading",!1),(0,s.Z)(this,"hideUpdateButton",!1),(0,s.Z)(this,"hideDeleteButton",!0),(0,s.Z)(this,"dropdownSettings",{}),(0,s.Z)(this,"multiselectModule",[]),(0,s.Z)(this,"getDialogData",{id:"",client_id:""}),(0,s.Z)(this,"errorForUniqueLabel",void 0),(0,s.Z)(this,"errorForUniqueID",void 0),(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"lookup_data_plc",[]),(0,s.Z)(this,"dataform",[]),(0,s.Z)(this,"columnTableData",[]),(0,s.Z)(this,"deviceTableData",void 0),(0,s.Z)(this,"maxlength",500),(0,s.Z)(this,"plcIDHolder",""),(0,s.Z)(this,"lookup_data_user",[]),(0,s.Z)(this,"allMacID",[]),(0,s.Z)(this,"username",void 0),this.api=i,this.getDiagnostics=t,this.fb=o,this.router=l,this.toast=r,this.sharedService=a,this.plcConfiguration=n,this.cd=c,this.auditTrialServices=p,this.plcConfiguration.permissionModule.subscribe(f=>{console.log("subscribed from permission"+f)})}ngOnInit(){this.getLoggedUser=this.getDiagnostics.getLoggedUserDetails(),this.SK_clientID=this.getLoggedUser.attributes["custom:clientID"],this.username=this.getLoggedUser.attributes["custom:username"],this.allPermissions_user=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("permissionDetails")))),this.auditTrialServices.audit_trail("2.1","PLC","Page Load","PLC page loaded","1"),this.initializeDeviceFields(),this.addFromService(),this.loadClientNames(),this.loading(),this.dropdownSettings=this.getDiagnostics.getSettings1()}loading(){var i=this;return(0,_.Z)(function*(){$("#datatables").DataTable().destroy(),i.dataform=[],i.lookup_data_plc=[],yield i.fetchTMLookupData(1)})()}initializeDeviceFields(){this.createNewField=this.fb.group({id:["",g.kI.required],model:[""],description:[""],ip:[""],port:[""],unifier_mac_id:[""],users:[[""]]})}createNewPLC(i){var t=this;this.submitted=!0,console.log("multi select module checkkk",this.multiselectModule),this.allDatas={id:this.createNewField.value.id.trim(),client_id:this.SK_clientID,model:this.createNewField.value.model,description:this.createNewField.value.description,ip:this.createNewField.value.ip,port:this.createNewField.value.port,unifier_mac_id:this.createNewField.value.unifier_mac_id,users:this.multiselectModule};const o={PK:`${this.SK_clientID}#plc#${this.createNewField.value.id.trim()}#main`,SK:1,items:JSON.stringify(this.allDatas)};this.plcConfiguration.permissionModule.next(this.allDatas.users),this.allModuleValues.length>0&&(this.allDatas.users=this.allModuleValues),this.temp_createNewField=this.createNewField;const l=Math.ceil((new Date).getTime()/1e3),r={P1:this.allDatas.id,P2:this.allDatas.model,P3:this.allDatas.description,P4:this.allDatas.ip,P5:this.allDatas.port,P6:this.allDatas.unifier_mac_id,P7:JSON.stringify(this.allDatas.users),P8:l};console.log("Create DB packet ",o),console.log("lookup items packet ",r),this.addFromService(),console.log("device creation",this.allDatas),this.auditTrialServices.audit_trail("2.1","PLC","Create",`${this.allDatas.id} PLC was created`,"1"),this.api.CreateLookupMasterTable(o).then(function(){var a=(0,_.Z)(function*(n){n?(yield t.createLookUpRdt(r,1),console.log("Lookupo created "),t.loading(),t.toast.open("New PLC configuration created successfully"," ",{duration:2e3,horizontalPosition:"right",verticalPosition:"top"}),t.closeModal.nativeElement.click()):alert("Error in Creating New Configuration")});return function(n){return a.apply(this,arguments)}}()).catch(a=>{console.log("err for creation",a),this.toast.open("Error in Creating New Configuration ","Check again",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})})}createLookUpRdt(i,t){var o=this;return(0,_.Z)(function*(){try{console.log("iam a calleddd dude",i,t);const l=yield o.api.GetLookupMasterTable(`${o.SK_clientID}#plc#lookup`,t);let r=[];if(null!=l&&l.items&&"string"==typeof l.items&&(r=JSON.parse(l.items)),null!=l&&r.length<o.maxlength){let a=[];l.items&&"string"==typeof l.items&&JSON.parse(l.items).forEach(f=>{for(const b in f)Object.prototype.hasOwnProperty.call(f,b)&&a.push(f[b])}),a.unshift(i),a=a.map((p,f)=>({[`L${f+1}`]:p})),console.log("newdata 11111111 :>> ",a);let n={PK:`${o.SK_clientID}#plc#lookup`,SK:l.SK,createdTime:"",updatedTime:"",items:JSON.stringify(a)};const c=yield o.api.UpdateLookupMasterTable(n);console.log("createResponse :>> ",c)}else if(null==l){let a=[];a.push(i),a=a.map((p,f)=>({[`L${f+1}`]:p}));let n={SK:t,PK:`${o.SK_clientID}#plc#lookup`,items:JSON.stringify(a)};console.log(n);const c=yield o.api.CreateLookupMasterTable(n);console.log(c)}else yield o.createLookUpRdt(i,t+1)}catch(l){console.log("err :>> ",l)}})()}addFromService(){var i=this;return(0,_.Z)(function*(){i.columnTableData=[],i.columnTableData=[{data:"plc_id"},{data:"model"},{data:"desc"},{data:"plc_ip"},{data:"port"},{data:"unifier_mac"},{data:"users"},{data:"updated"}],i.checkPermission()})()}fetchTMLookupData(i){var t=this;return(0,_.Z)(function*(){try{const o=yield t.api.GetLookupMasterTable(`${t.SK_clientID}#plc#lookup`,i);if(o&&o.items)if("string"==typeof o.items){let l=JSON.parse(o.items);if(console.log("d1 =",l),Array.isArray(l)){for(let r=0;r<l.length;r++){const a=l[r];if(null==a)break;{const n=Object.keys(a)[0],{P1:c,P2:p,P3:f,P4:b,P5:v,P6:D,P7:C,P8:P}=a[n];t.lookup_data_plc.push({P1:c,P2:p,P3:f,P4:b,P5:v,P6:D,P7:C,P8:P}),console.log("d2 =",t.lookup_data_plc)}}t.lookup_data_plc.sort((r,a)=>a.P8-r.P8),console.log("Lookup sorting",t.lookup_data_plc),yield t.fetchTMLookupData(i+1)}else console.error("Invalid data format - not an array.")}else console.error("response.listOfItems is not a string.");else console.log("Permissions to be displayed",t.lookup_data_plc),t.lookup_data_plc=t.lookup_data_plc.filter(l=>l.P7.includes(t.username)),t.uniqueDeviceLabel_list=t.lookup_data_plc.map(l=>l.P1),console.log("Unique PLC are here ",t.uniqueDeviceLabel_list),t.getDatatable(t.lookup_data_plc),t.auditTrialServices.audit_trail("2.1","PLC","View","PLC Table was viewed","1")}catch(o){console.error("Error:",o)}})()}checkPermission(){let i=!1,t=!1;console.log("these are permkjk",this.allPermissions_user);for(let o=0;o<this.allPermissions_user.length;o++)"PLC - Update"===this.allPermissions_user[o]?i=!0:"PLC - View"===this.allPermissions_user[o]&&(t=!0);i&&t||i?this.hideDeleteButton=!0:t?this.hideDeleteButton=!1:this.router.navigate(["/404"])}getDatatable(i){let t="btn btn-sm btn-primary editclassplc ",o="btn btn-sm btn-danger editclassplc ";if(console.log("getData is here ",i),typeof i<"u")for(let a=0;a<i.length;a++)this.dataform.push({plc_id:i[a].P1,model:i[a].P2,desc:i[a].P3,plc_ip:i[a].P4,port:i[a].P5,unifier_mac:i[a].P6,users:i[a].P7,updated:new Date(1e3*i[a].P8).toLocaleDateString()+" "+new Date(1e3*i[a].P8).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})});else this.dataform=[];let l=[];if(typeof i<"u")for(let a=0;a<i.length;a++)l[a]=new Date(i[a].updatedTime).toLocaleString(),i[a].updatedTime=l[a];else i=[];!0===this.hideDeleteButton?this.columnTableData.push({defaultContent:"<button class='"+t+"' data-bs-target='#exampleModal' data-bs-toggle='modal'><i class='fa fa-edit'></i></i></button>"},{defaultContent:"<button class='"+o+"'><i class='fa fa-trash'></i></button>"}):this.columnTableData.push({defaultContent:"<button class='"+t+"' data-bs-target='#exampleModal' data-bs-toggle='modal''><i class='fa fa-edit'></i></i></button>"}),$("#plc_datatables").off("click"),$("#plc_datatables").on("click",".editclassplc",function(){let a=$(this).closest("tr"),n=r.deviceTableData.row(a);this.className==t?(this.showUpdateAlertButton=!1,r.openModalHelper(n.data())):this.className==o&&r.deletePlcConfiguration(n.data())}),this.getLookupTableData(this.dataform,this.columnTableData);let r=this}getLookupTableData(i,t){var o=this;return(0,_.Z)(function*(){console.log("chk1 tm",i),console.log("chk2 tm",t);try{o.deviceTableData&&$.fn.DataTable.isDataTable("#plc_datatables")&&o.deviceTableData.destroy(),o.deviceTableData=$("#plc_datatables").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!0,responsive:!0,data:i,ordering:!0,order:[[8,"asc"]],columnDefs:[{type:"date",targets:8}],columns:t})}catch(l){console.error("Error initializing DataTable:",l)}})()}openModalHelper(i){var t=this;return(0,_.Z)(function*(){const o=yield t.api.GetLookupMasterTable(`${t.SK_clientID}#plc#${i.plc_id}#main`,1);if(t.auditTrialServices.audit_trail("2.1","PLC","View",`${i.plc_id} PLC was viewed`,"1"),o&&o.items){console.log("Result is here ",o);const l=JSON.parse(o.items);yield t.openModal(l)}})()}openModal(i){var t=this;return(0,_.Z)(function*(){t.multiselectModule=[],console.log("getValues are here ",i),""==i?(t.createNewField.get("id")?.enable(),t.showModal=!1,t.showHeading=!0,t.errorForUniqueLabel="",t.errorForUniqueID="",t.createNewField=t.fb.group({id:i.plc_id,model:i.model,description:i.description,ip:i.ip,port:i.port,unifier_mac_id:"",users:[i.users]})):i&&(t.showModal=!0,t.showHeading=!1,t.createNewField=t.fb.group({id:{value:i.id,disabled:!0},model:i.model,description:i.description,ip:i.ip,port:i.port,unifier_mac_id:i.unifier_mac_id,users:[i.users]}),t.cd.detectChanges())})()}deletePlcConfiguration(i){var t=this;return(0,_.Z)(function*(){t.getDialogData=i,t.getDialogData={PK:`${t.SK_clientID}#plc#${t.getDialogData.plc_id}#main`,SK:1},Math.ceil((new Date).getTime()/1e3);const l={P1:i.plc_id};console.log("this.getDialogData ",t.getDialogData),Z().fire({customClass:{container:"my-swal"},position:"center",title:"Are you sure?",text:"You wont get these details back again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, let me think"}).then(r=>{r.dismiss!==Z().DismissReason.cancel?t.api.DeleteLookupMasterTable(t.getDialogData).then(function(){var a=(0,_.Z)(function*(n){t.auditTrialServices.audit_trail("2.1","PLC","Delete",`${l.P1} PLC was deleted`,"1"),t.addFromService(),yield t.fetchTimeMachineById(1,l.P1,"delete",l),console.log("Lookupo created "),t.loading(),n&&Z().fire("Removed!","PLC Configuration removed successfully.","success")});return function(n){return a.apply(this,arguments)}}()).catch(a=>{console.log("error for deleting",a)}):r.dismiss===Z().DismissReason.cancel&&Z().fire("Cancelled","PLC Configuration not removed","error")})})()}checkUniqueID(i){console.log("get label",i),this.errorForUniqueLabel="";for(let t=0;t<this.lookup_data_plc.map(o=>o.P1).length;t++)i.toLowerCase().trim()==this.uniqueDeviceLabel_list[t].toLowerCase().trim()&&(this.errorForUniqueLabel="PLC ID already exists")}updateConfiguration(i,t){var o=this;let l=[];for(let c=0;c<i.users.length;c++)l.push(i.users&&i.users[c].username?i.users[c].username:i.users[c]);"id"==t&&(this.allDatas={id:this.createNewField.get("id")?.value,client_id:this.SK_clientID,model:this.createNewField.value.model,description:this.createNewField.value.description,ip:this.createNewField.value.ip,port:this.createNewField.value.port,unifier_mac_id:this.createNewField.value.unifier_mac_id,users:l});const r={PK:`${this.SK_clientID}#plc#${this.allDatas.id}#main`,SK:1,items:JSON.stringify(this.allDatas)},a=Math.ceil((new Date).getTime()/1e3),n={P1:this.allDatas.id,P2:this.allDatas.model,P3:this.allDatas.description,P4:this.allDatas.ip,P5:this.allDatas.port,P6:this.allDatas.unifier_mac_id,P7:JSON.stringify(this.allDatas.users),P8:a};console.log("Create DB packet ",r),console.log("lookup items packet ",n),this.addFromService(),this.auditTrialServices.audit_trail("2.1","PLC","Update",`${this.allDatas.id} PLC was updated`,"1"),this.api.UpdateLookupMasterTable(r).then(function(){var c=(0,_.Z)(function*(p){p?(o.addFromService(),yield o.fetchTimeMachineById(1,o.allDatas.id,"update",n),console.log("Lookupo created "),o.loading(),o.toast.open("Configuration updated successfully","",{duration:2e3,horizontalPosition:"right",verticalPosition:"top"}),"deleteParameter"==t||(o.closeModal.nativeElement.click(),o.closeAlert.nativeElement.click())):alert("Error in updating Configuration")});return function(p){return c.apply(this,arguments)}}()).catch(c=>{console.log("error for updating",c)})}fetchTimeMachineById(i,t,o,l){var r=this;return(0,_.Z)(function*(){try{const a=yield r.api.GetLookupMasterTable(`${r.SK_clientID}#plc#lookup`,i);if(a&&a.items){let n=yield JSON.parse(a.items),c=n.findIndex(p=>p[Object.keys(p)[0]].P1===t);if(-1!==c){if("update"===o){n[c][`L${c+1}`]=l;const f=[];for(let b=0;b<n.length;b++){const v=Object.keys(n[b])[0],D=`L${b+1}`;if(v){const C={[D]:n[b][v]},P=f.findIndex(w=>Object.keys(w)[0]===D);-1!==P?Object.assign(f[P][D],n[b][v]):f.push(C)}else console.error(`Original key not found for renaming in data[${b}].`)}n=f}else"delete"===o&&n.splice(c,1);let p={PK:`${r.SK_clientID}#plc#lookup`,SK:a.SK,items:JSON.stringify(n)};yield r.api.UpdateLookupMasterTable(p),console.log("Deleted Successfully")}else yield new Promise(p=>setTimeout(p,500)),yield r.fetchTimeMachineById(i+1,t,o,l)}else Z().fire({position:"top-right",icon:"error",title:`ID ${t} not found`,showConfirmButton:!1,timer:1500})}catch(a){console.error("Error:",a)}})()}loadClientNames(){var i=this;return(0,_.Z)(function*(){try{const t=yield i.api.GetClient(i.SK_clientID,i.SK_clientID);if(t&&t.subscription){const o=JSON.parse(t.subscription);i.allMacID=o.map(l=>l.name)}}catch(t){console.log("Error loading client names",t)}yield i.fetchDynamicLookupData(`${i.SK_clientID}#user`,1)})()}fetchDynamicLookupData(i,t){var o=this;return(0,_.Z)(function*(){try{const l=yield o.api.GetLookupMasterTable(i,t);if(l&&l.items)if("string"==typeof l.items){let r=JSON.parse(l.items);if(console.log("d1 =",r),Array.isArray(r)){for(let a=0;a<r.length;a++){const n=r[a];if(null==n)break;{const c=Object.keys(n)[0],{P1:p,P2:f,P3:b,P4:v,P5:D,P6:C,P7:P,P8:w}=n[c];o.lookup_data_user.push({P1:p,P2:f,P3:b,P4:v,P5:D,P6:C,P7:P,P8:w}),console.log("d2 =",o.lookup_data_user)}}o.lookup_data_user.sort((a,n)=>n.P8-a.P8),console.log("Lookup sorting",o.lookup_data_user),yield o.fetchDynamicLookupData(i,t+1)}else console.error("Invalid data format - not an array.")}else console.error("response.listOfItems is not a string.");else console.log("Users to be displayed",o.lookup_data_user),o.clientNames=o.lookup_data_user.map(r=>({username:r.P1}))}catch(l){console.error("Error:",l)}})()}onModuleSelect(i){console.log("selected option client seese",i),this.multiselectModule.push(i.username),console.log("on select",this.multiselectModule)}onDeSelect(i){if(this.multiselectModule.includes(i.username)){const t=this.multiselectModule.indexOf(i.username);this.multiselectModule.splice(t,1)}console.log("on de-select",this.multiselectModule)}onDeSelectAll(){this.allModuleValues=[],console.log("on de-selectall",this.allModuleValues)}onSelectAll(i){console.log("select all modules",i);for(let t=0;t<i.length;t++)this.allModuleValues.push(i[t].username)}}return d=h,(0,s.Z)(h,"\u0275fac",function(i){return new(i||d)(e.Y36(q.t),e.Y36(T.F),e.Y36(g.QS),e.Y36(L.F0),e.Y36(S.ux),e.Y36(T.F),e.Y36(T.F),e.Y36(e.sBO),e.Y36(x.C))}),(0,s.Z)(h,"\u0275cmp",e.Xpm({type:d,selectors:[["app-plc-configuration"]],viewQuery:function(i,t){if(1&i&&(e.Gf(J,5),e.Gf(O,5)),2&i){let o;e.iGM(o=e.CRH())&&(t.closeModal=o.first),e.iGM(o=e.CRH())&&(t.closeAlert=o.first)}},decls:88,vars:13,consts:[["id","exampleModal","aria-labelledby","exampleModalLabel",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content",2,"width","1200px","transform","translate(-27%, 0px)"],[1,"modal-header"],["class","modal-title","id","exampleModalLabel",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"fv-row",3,"formGroup"],[1,"card-body","border-top","p-9"],[1,"container"],[1,"row"],[1,"col-md-4"],[1,"col-lg-12","col-form-label","fw-bold","fs-6","required"],["type","text","placeholder","Enter ID","name","id","formControlName","id","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"keyup"],[2,"color","#fc1900"],["class","fv-plugins-message-container invalid-feedback",4,"ngIf"],["type","text","min","1","placeholder","Enter model","name","model","formControlName","model","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","text","min","1","placeholder","Enter Description","name","description","formControlName","description","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","text","min","1","placeholder","Enter IP","name","ip","formControlName","ip","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","number","min","1","placeholder","Enter port","name","port","formControlName","port","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["required","","placeholder","Enter unifier_mac_id","name","altitude","formControlName","unifier_mac_id",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"custom-multiselect"],["required","",1,"form-select","form-select-solid","form-select-lg","fw-bold",2,"display","inline-block","width","100%","padding","0px","margin-bottom","0","font-weight","0px","line-height","1.52857143","text-align","left","vertical-align","middle","cursor","pointer","background-image","none","border-radius","4px",3,"placeholder","settings","data","formControl","onSelect","onDeSelect","onSelectAll","onDeSelectAll"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-sm","btn-danger"],["closeModal",""],["type","submit","class","btn btn-sm btn-primary",3,"hidden","disabled","click",4,"ngIf"],["type","button","class","btn btn-sm btn-primary not-allowed",3,"disabled","click",4,"ngIf"],[1,"card","mb-5","mb-xl-8"],[1,"card-header","border-0","pt-5"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bolder","fs-3","mb-1"],[1,"card-toolbar"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-sm","btn-primary",3,"click"],[1,"card-body","py-3"],[1,"table-responsive"],["id","plc_datatables",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4"],["id","exampleModalLabel",1,"modal-title"],[1,"fv-plugins-message-container","invalid-feedback"],[3,"value"],["type","submit",1,"btn","btn-sm","btn-primary",3,"hidden","disabled","click"],["type","button",1,"btn","btn-sm","btn-primary","not-allowed",3,"disabled","click"]],template:function(i,t){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,K,2,0,"h2",4),e.YNc(5,E,2,0,"h2",4),e._UZ(6,"button",5),e.qZA(),e.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),e._uU(13," ID"),e.qZA(),e.TgZ(14,"input",12),e.NdJ("keyup",function(){let l;return t.checkUniqueID(null==(l=t.createNewField.get("id"))?null:l.value)}),e.qZA(),e.TgZ(15,"span",13),e._uU(16),e.qZA(),e.YNc(17,B,2,0,"div",14),e.qZA(),e.TgZ(18,"div",10)(19,"label",11),e._uU(20,"Model"),e.qZA(),e._UZ(21,"input",15),e.qZA(),e.TgZ(22,"div",10)(23,"label",11),e._uU(24,"Description"),e.qZA(),e._UZ(25,"input",16),e.qZA()()(),e.TgZ(26,"div",8)(27,"div",9)(28,"div",10)(29,"label",11),e._uU(30,"IP "),e.qZA(),e._UZ(31,"input",17),e.qZA(),e.TgZ(32,"div",10)(33,"label",11),e._uU(34,"Port"),e.qZA(),e._UZ(35,"input",18),e.qZA(),e.TgZ(36,"div",10)(37,"label",11),e._uU(38,"Unifier MAC Id"),e.qZA(),e.TgZ(39,"select",19)(40,"option",20),e._uU(41,"Select Unifier ID"),e.qZA(),e.YNc(42,Y,2,2,"option",21),e.qZA()()()(),e.TgZ(43,"div",10)(44,"label",11),e._uU(45," Users"),e.qZA(),e.TgZ(46,"div",22)(47,"ng-multiselect-dropdown",23),e.NdJ("onSelect",function(l){return t.onModuleSelect(l)})("onDeSelect",function(l){return t.onDeSelect(l)})("onSelectAll",function(l){return t.onSelectAll(l)})("onDeSelectAll",function(){return t.onDeSelectAll()}),e.qZA()(),e.YNc(48,Q,2,0,"div",14),e.qZA()()(),e.TgZ(49,"div",24)(50,"button",25,26),e._uU(52,"Cancel"),e.qZA(),e.YNc(53,G,2,3,"button",27),e.YNc(54,R,2,1,"button",28),e.qZA()()()(),e.TgZ(55,"div",29)(56,"div",30)(57,"h3",31)(58,"span",32),e._uU(59," PLC Configuration"),e.qZA()(),e.TgZ(60,"div",33)(61,"button",34),e.NdJ("click",function(){return t.openModal("")}),e._uU(62," New "),e.qZA()()(),e.TgZ(63,"div",35)(64,"div",36)(65,"table",37)(66,"thead")(67,"tr")(68,"th"),e._uU(69,"ID"),e.qZA(),e.TgZ(70,"th"),e._uU(71,"Model"),e.qZA(),e.TgZ(72,"th"),e._uU(73,"Description"),e.qZA(),e.TgZ(74,"th"),e._uU(75,"IP"),e.qZA(),e.TgZ(76,"th"),e._uU(77,"Port"),e.qZA(),e.TgZ(78,"th"),e._uU(79,"Unifier MAC ID"),e.qZA(),e.TgZ(80,"th"),e._uU(81,"Users"),e.qZA(),e.TgZ(82,"th"),e._uU(83,"Updated"),e.qZA(),e.TgZ(84,"th"),e._uU(85,"Edit"),e.qZA(),e.TgZ(86,"th"),e._uU(87,"Delete"),e.qZA()()()()()()()),2&i){let o,l;e.xp6(4),e.Q6J("ngIf",t.showHeading),e.xp6(1),e.Q6J("ngIf",!t.showHeading),e.xp6(2),e.Q6J("formGroup",t.createNewField),e.xp6(9),e.Oqu(t.errorForUniqueLabel),e.xp6(1),e.Q6J("ngIf",(null==(o=t.createNewField.get("id"))?null:o.hasError("required"))&&(null==(o=t.createNewField.get("id"))?null:o.touched)),e.xp6(25),e.Q6J("ngForOf",t.allMacID),e.xp6(5),e.Q6J("placeholder","Select Users")("settings",t.dropdownSettings)("data",t.clientNames)("formControl",t.createNewField.controls.users),e.xp6(1),e.Q6J("ngIf",(null==(l=t.createNewField.get("users"))?null:l.hasError("required"))&&(null==(l=t.createNewField.get("users"))?null:l.touched)),e.xp6(5),e.Q6J("ngIf",t.showModal),e.xp6(1),e.Q6J("ngIf",!t.showModal)}},dependencies:[y.sg,y.O5,g.YN,g.Kr,g.Fj,g.wV,g.EJ,g.JJ,g.JL,g.Q7,g.qQ,g.oH,g.sg,g.u,N.O]})),h})(),j=(()=>{var d;class h{}return d=h,(0,s.Z)(h,"\u0275fac",function(i){return new(i||d)}),(0,s.Z)(h,"\u0275mod",e.oAB({type:d})),(0,s.Z)(h,"\u0275inj",e.cJS({imports:[y.ez,g.u5,g.UX,I.T,M.Is,S.ZX,U.ii,A.vi,N.Z.forRoot(),L.Bz.forChild([{path:"",component:H}])]})),h})()}}]);