"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[2307],{52307:(ie,Z,u)=>{u.r(Z),u.d(Z,{LocationModule:()=>ee});var l=u(86656),D=u(96814),L=u(22939),T=u(64190),g=u(15861),m=u(56223),C=u(13519),b=u.n(C),e=u(65879),w=u(5588),A=u(74260),S=u(31552),x=u(60540),y=u(81127);function I(n,c){if(1&n){const s=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){e.CHM(s);const t=e.oxw(2);return e.KtG(t.addLocation())}),e.TgZ(1,"span",62),e.O4$(),e.TgZ(2,"svg",63)(3,"g",64),e._UZ(4,"rect",65)(5,"path",72),e.qZA()()(),e._uU(6," Add Location "),e.qZA()}if(2&n){const s=e.oxw(2);e.Q6J("disabled",!s.enableLocationButton||s.All_button_permissions)}}function F(n,c){if(1&n){const s=e.EpF();e.TgZ(0,"button",73),e.NdJ("click",function(){e.CHM(s);const t=e.oxw(2);return e.KtG(t.addDevice())}),e.TgZ(1,"span",62),e.O4$(),e.TgZ(2,"svg",63)(3,"g",64),e._UZ(4,"rect",65)(5,"path",74)(6,"path",75),e.qZA()()(),e._uU(7," Add Device "),e.qZA()}if(2&n){const s=e.oxw(2);e.Q6J("disabled",!s.enableLocationButton||s.All_button_permissions)}}function k(n,c){if(1&n){const s=e.EpF();e.TgZ(0,"button",76),e.NdJ("click",function(){e.CHM(s);const t=e.oxw(2);return e.KtG(t.deleteDevice())}),e.TgZ(1,"span",62),e.O4$(),e.TgZ(2,"svg",63)(3,"g",64),e._UZ(4,"rect",65)(5,"path",77)(6,"path",78),e.qZA()()(),e._uU(7," Delete Node "),e.qZA()}if(2&n){const s=e.oxw(2);e.Q6J("disabled",!s.enableDeviceButton&&!s.enableLocationButton||s.All_button_permissions)}}function q(n,c){if(1&n){const s=e.EpF();e.TgZ(0,"div",39)(1,"div",58)(2,"div",21)(3,"div",59),e.YNc(4,I,7,1,"button",60),e.qZA(),e.TgZ(5,"div",59)(6,"button",61),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.editLocation())}),e.TgZ(7,"span",62),e.O4$(),e.TgZ(8,"svg",63)(9,"g",64),e._UZ(10,"rect",65)(11,"path",66)(12,"rect",67),e.qZA()()(),e._uU(13," Edit Location "),e.qZA()()()(),e.kcU(),e.TgZ(14,"div",58)(15,"div",21)(16,"div",59),e.YNc(17,F,8,1,"button",68),e.qZA(),e.TgZ(18,"div",59)(19,"button",69),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.editDevice())}),e.TgZ(20,"span",62),e.O4$(),e.TgZ(21,"svg",63)(22,"g",64),e._UZ(23,"rect",65)(24,"path",66)(25,"rect",67),e.qZA()()(),e._uU(26," Edit Device "),e.qZA()()()(),e.kcU(),e.TgZ(27,"div",11)(28,"div",21),e.YNc(29,k,8,1,"button",70),e.qZA()()()}if(2&n){const s=e.oxw();e.xp6(4),e.Q6J("ngIf",s.hideDeleteButton),e.xp6(2),e.Q6J("disabled",!s.enableLocationButton||s.All_button_permissions),e.xp6(11),e.Q6J("ngIf",s.hideDeleteButton),e.xp6(2),e.Q6J("disabled",!s.enableDeviceButton||s.All_button_permissions),e.xp6(10),e.Q6J("ngIf",s.hideDeleteButton)}}function U(n,c){1&n&&(e.TgZ(0,"h2",9),e._uU(1,"Add Location "),e.qZA())}function N(n,c){1&n&&(e.TgZ(0,"h2",9),e._uU(1,"Edit Location "),e.qZA())}function J(n,c){1&n&&(e.TgZ(0,"div",79),e._uU(1," Name is required "),e.qZA())}function M(n,c){1&n&&(e.TgZ(0,"div",79),e._uU(1," Description is required "),e.qZA())}function P(n,c){1&n&&(e.TgZ(0,"div",79),e._uU(1," area is required "),e.qZA())}function O(n,c){1&n&&(e.TgZ(0,"div",79),e._uU(1," Magicboard View is required "),e.qZA())}function B(n,c){1&n&&(e.TgZ(0,"div",79),e._uU(1," Dreamboard View is required "),e.qZA())}function Q(n,c){if(1&n){const s=e.EpF();e.TgZ(0,"button",80),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.updateLocation("","location"))}),e._uU(1,"Save"),e.qZA()}if(2&n){const s=e.oxw();e.Q6J("disabled",s.createLocationField.invalid||s.All_button_permissions)}}function K(n,c){if(1&n){const s=e.EpF();e.TgZ(0,"button",80),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.updateLocation("","updatelocation"))}),e._uU(1,"Update"),e.qZA()}if(2&n){const s=e.oxw();e.Q6J("disabled",s.createLocationField.invalid||s.All_button_permissions)}}function E(n,c){if(1&n&&(e.TgZ(0,"h2",9),e._uU(1," Add Device - "),e.TgZ(2,"a",81),e._uU(3),e.qZA()()),2&n){const s=e.oxw();e.xp6(3),e.hij(" rdt : ",s.RDT,"")}}function V(n,c){if(1&n&&(e.TgZ(0,"h2",9),e._uU(1," Edit Device - "),e.TgZ(2,"a",81),e._uU(3),e.qZA()()),2&n){const s=e.oxw();e.xp6(3),e.hij(" rdt : ",s.RDT,"")}}function Y(n,c){if(1&n){const s=e.EpF();e.TgZ(0,"ng-multiselect-dropdown",82),e.NdJ("onDeSelect",function(t){e.CHM(s);const i=e.oxw();return e.KtG(i.onDeviceDeSelect(t))})("onSelect",function(t){e.CHM(s);const i=e.oxw();return e.KtG(i.onDeviceSelect(t))})("onSelectAll",function(t){e.CHM(s);const i=e.oxw();return e.KtG(i.onSelectAllDevices(t))}),e.qZA()}if(2&n){const s=e.oxw();e.Q6J("placeholder","Select Devices")("settings",s.dropdownSettings)("data",s.listofDeviceIds)("settings",s.singleSelection)("formControl",s.createDeviceField.controls.name)}}function j(n,c){1&n&&(e.TgZ(0,"div",79),e._uU(1," Name is required "),e.qZA())}function G(n,c){1&n&&(e.TgZ(0,"div",79),e._uU(1," Description is required "),e.qZA())}function R(n,c){1&n&&(e.TgZ(0,"div",79),e._uU(1," Magicboard View is required "),e.qZA())}function z(n,c){1&n&&(e.TgZ(0,"div",79),e._uU(1," Dreamboard View is required "),e.qZA())}function H(n,c){if(1&n){const s=e.EpF();e.TgZ(0,"button",80),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.updateLocation("","device"))}),e._uU(1,"Save"),e.qZA()}if(2&n){const s=e.oxw();e.Q6J("disabled",s.createDeviceField.invalid)}}function X(n,c){if(1&n){const s=e.EpF();e.TgZ(0,"button",80),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.updateLocation("","updatedevice"))}),e._uU(1,"Update"),e.qZA()}if(2&n){const s=e.oxw();e.Q6J("disabled",s.createDeviceField.invalid)}}let W=(()=>{var n;class c{onDeviceDeSelect(o){this.multiselectDevice=[],this.multiselectDevice_text=[],console.log("deselect is triggering")}constructor(o,t,i,a,r,d,p,h,_){(0,l.Z)(this,"fb",void 0),(0,l.Z)(this,"locationConfiguration",void 0),(0,l.Z)(this,"powerboardConfiguration",void 0),(0,l.Z)(this,"locationPermissionService",void 0),(0,l.Z)(this,"devicesList",void 0),(0,l.Z)(this,"api",void 0),(0,l.Z)(this,"toast",void 0),(0,l.Z)(this,"crn",void 0),(0,l.Z)(this,"router",void 0),(0,l.Z)(this,"createLocationField",void 0),(0,l.Z)(this,"createDeviceField",void 0),(0,l.Z)(this,"All_button_permissions",!1),(0,l.Z)(this,"LeadershipViewOptions",[{value:"auto",text:"Auto"},{value:"type_1",text:"Type 1 LV"},{value:"type_2",text:"Type 2 LV"}]),(0,l.Z)(this,"data_temp",[]),(0,l.Z)(this,"listofSK",[]),(0,l.Z)(this,"temp",[]),(0,l.Z)(this,"result",[]),(0,l.Z)(this,"temp_tree",[]),(0,l.Z)(this,"allDevices",[]),(0,l.Z)(this,"final_list",[]),(0,l.Z)(this,"tempTree",[]),(0,l.Z)(this,"RDT_ID",""),(0,l.Z)(this,"allLocationDetails",{}),(0,l.Z)(this,"cognitoCurrentUserDetails",[]),(0,l.Z)(this,"dropdownSettings",{}),(0,l.Z)(this,"singleSelection",{}),(0,l.Z)(this,"singleSelection_magic",{}),(0,l.Z)(this,"singleSelection_dream",{}),(0,l.Z)(this,"userClientIDCognito",void 0),(0,l.Z)(this,"SK_clientID",void 0),(0,l.Z)(this,"user_companyID",void 0),(0,l.Z)(this,"temp_TemplateID_Label",[]),(0,l.Z)(this,"templateIDsList",[]),(0,l.Z)(this,"templateLabels",[]),(0,l.Z)(this,"tempmagic",[]),(0,l.Z)(this,"temp_powerboardID",[]),(0,l.Z)(this,"showNewLoc",!0),(0,l.Z)(this,"showNewDevice",!0),(0,l.Z)(this,"enableDeviceButton",!1),(0,l.Z)(this,"enableLocationButton",!1),(0,l.Z)(this,"parentID_selected_node",void 0),(0,l.Z)(this,"listofMagicboardIds",[]),(0,l.Z)(this,"allPermissions_user",void 0),(0,l.Z)(this,"hideUpdateButton",!1),(0,l.Z)(this,"hideDeleteButton",!1),(0,l.Z)(this,"multiselectDevice",[]),(0,l.Z)(this,"multiselectDevice_text",[]),(0,l.Z)(this,"allselectedDevices",[]),(0,l.Z)(this,"allselectedDevices_text",[]),(0,l.Z)(this,"multiselectLocation_dream",[]),(0,l.Z)(this,"multiselectLocation",[]),(0,l.Z)(this,"multiselectLeadership",[]),(0,l.Z)(this,"multiselectMobileView",[]),(0,l.Z)(this,"multiselect_device",[]),(0,l.Z)(this,"multiselect_device_dream",[]),(0,l.Z)(this,"multiselectLeadership_device",[]),(0,l.Z)(this,"multiselectMobileView_device",[]),(0,l.Z)(this,"Lookupdata",[]),(0,l.Z)(this,"listofDreamboardIds",[]),(0,l.Z)(this,"ApiToken",""),(0,l.Z)(this,"lookup_data_temp1",[]),(0,l.Z)(this,"listofPowerboardIds",void 0),(0,l.Z)(this,"lookup_data_tempL1",[]),(0,l.Z)(this,"listofDeviceIds",[]),(0,l.Z)(this,"user_name",void 0),(0,l.Z)(this,"lookUpdataFinaldata",[]),(0,l.Z)(this,"multiSelectMagicboard",[]),this.fb=o,this.locationConfiguration=t,this.powerboardConfiguration=i,this.locationPermissionService=a,this.devicesList=r,this.api=d,this.toast=p,this.crn=h,this.router=_}ngOnInit(){this.dropdownSettings=this.devicesList.getMultiSelectSettings(),this.singleSelection=this.devicesList.showSingleSelection(),this.singleSelection_magic=this.devicesList.showSingleSelection_magic(),this.singleSelection_dream=this.devicesList.showSingleSelection_dream(),this.initializeDeviceFields(),this.initializeLocationFields(),this.userClientIDCognito=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("userAttributes")))),this.SK_clientID=this.userClientIDCognito.attributes["custom:clientID"],this.user_companyID=this.userClientIDCognito.attributes["custom:companyID"],this.user_name=this.userClientIDCognito.attributes["custom:username"],this.allPermissions_user=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("permissionDetails")))),this.addFromService(),this.getAllDevices(),this.fetchPBData(1),this.fetchTMData(1)}initializeDeviceFields(){this.createDeviceField=this.fb.group({name:[[""],m.kI.required],description:["",m.kI.required],magicboard_view:[[""]],leadership_view:[[""]],mobile_view:[[""]],icon:[""],powerboard_view_device:[null],dreamboard_view_device:[""]})}initializeLocationFields(){this.createLocationField=this.fb.group({name:["",m.kI.required],description:["",m.kI.required],area:["",m.kI.required],summary_enable:[""],summary_types:["",m.kI.required],magicboard_view:[[""]],leadership_view:[[""]],mobile_view:[[""]],powerboard_view:[null],dreamboard_view:[""]})}addFromService(){var o=this;return(0,g.Z)(function*(){o.checkPermission(),o.fetchMagicData(1),o.getDreamBoardList(1),console.log("this.user_companyID",o.user_companyID),console.log("this.SK_clientID",o.SK_clientID),o.All_button_permissions=yield o.api.GetUserManagement(o.user_name,o.SK_clientID).then(t=>{if(t)return console.log("userPermissions iside",o.modifyList(t.location_permission,t.device_type_permission,t.device_permission)),"All-All-All"!==o.modifyList(t.location_permission,t.device_type_permission,t.device_permission)}),console.log("this.All_button_permissions",o.All_button_permissions),o.locationPermissionService.fetchGlobalLocationTree().then(t=>{if(!t)throw new Error("No data returned");console.log("Data from location:",t),o.temp=t,o.createJSTree(t),o.getAllDevices()}),o.locationConfiguration.getSpecificDynamicTemplate(o.SK_clientID).then(t=>{if(t&&void 0!==t){o.temp_TemplateID_Label=[];for(let i=0;i<t.length;i++)o.temp_TemplateID_Label.push({value:t[i]?.templateID,text:t[i]?.templateLabel})}}).catch(t=>{console.log("err in fetching template IDs",t)}),o.powerboardConfiguration.getPowerboard_specificID(o.SK_clientID).then(t=>{if(t&&void 0!==t)for(let i=0;i<t.length;i++)o.temp_powerboardID.push(t[i]?.PK)}).catch(t=>{console.log("cant fetch",t)})})()}fetchMagicData(o){var t=this;return(0,g.Z)(function*(){yield t.api.GetLookupMasterTable(t.SK_clientID+"#magicboard",o).then(i=>{if(console.log(i.items),i&&i.items){const a=JSON.parse(i.items);console.log("datadatadatadata :>> ",a);for(let r=0;r<a.length;r++){let d=a[r];if(null==d)break;{const p=Object.keys(d)[0],{P1:h,P2:_,P3:v}=d[p];t.lookUpdataFinaldata.push([h,_,v])}}new Promise(r=>setTimeout(r,500)),t.fetchMagicData(o+1)}}).catch(i=>{null!=t.lookUpdataFinaldata&&(console.log("this.Lookupdata",t.lookUpdataFinaldata),t.multiSelectMagicboard=t.lookUpdataFinaldata.reduce((a,r)=>[...a,{value:r[0],text:r[0]}],[]),t.crn.detectChanges(),console.log("this. multiSelectMagicboard ",t.multiSelectMagicboard))})})()}getMagicBoardList(){var o=this;return(0,g.Z)(function*(){o.api.ListMagicboards_ID({PK:{contains:""},SK:{in:o.SK_clientID}},500,o.ApiToken).then(function(){var t=(0,g.Z)(function*(i){o.ApiToken=i.nextToken;let a=JSON.parse(JSON.stringify(i.items));if(0!==a.length){o.tempmagic=a;for(let r=0;r<o.tempmagic.length;r++)o.listofMagicboardIds.push(o.tempmagic[r]?.PK);console.log("this.listofMagicboardIds",o.listofMagicboardIds)}console.log("data of magicboard",o.tempmagic),null!==o.ApiToken&&(yield o.getMagicBoardList())});return function(i){return t.apply(this,arguments)}}()).catch(t=>{console.log("API error:",t)})})()}getDreamBoardList(o){var t=this;return(0,g.Z)(function*(){try{const i=yield t.api.GetLookupTableDreamBoard(t.SK_clientID,o);if(i&&i.items)if("string"==typeof i.items){let a=JSON.parse(i.items);if(Array.isArray(a)){for(let r=0;r<a.length;r++){const d=a[r];if(null==d)break;t.Lookupdata.push(d)}yield t.getDreamBoardList(o+1)}else console.error("Invalid data format - not an array.")}else console.error("response.items is not a string.");else{t.listofDreamboardIds=[];for(let a=0;a<t.Lookupdata.length;a++)t.listofDreamboardIds.push(t.Lookupdata[a][0])}}catch{console.log("Finished parsing through the pages"),console.log("ADDING TO THE TABLE")}})()}checkPermission(){let o=!1,t=!1;for(let i=0;i<this.allPermissions_user.length;i++)"Location - Update"===this.allPermissions_user[i]?o=!0:"Location - View"===this.allPermissions_user[i]&&(t=!0);o&&t||o?this.hideDeleteButton=!0:t?this.hideDeleteButton=!1:this.router.navigate(["/404"])}getAllDevices(){this.devicesList.getSpecificConfiguration(this.SK_clientID).then(o=>{if(o){this.data_temp=o,this.allDevices=[];for(let t=0;t<o.length;t++)this.allDevices.push({value:o[t]?.mn,text:o[t]?.mn_label,textfield:o[t]?.mn+"-"+o[t]?.mn_label})}}).catch(o=>{console.log("cant fetch",o)})}createJSTree(o){$("#SimpleJSTree").jstree({core:{check_callback:!0,data:o,multiple:!1},search:{show_only_matches:!0},plugins:["contextmenu","dnd","search"],contextmenu:{items:function(i){console.log("selected node",i.selected);let a=$("#SimpleJSTree").jstree(!0);return{Create:{separator_before:!1,separator_after:!0,label:"Add Location",action:!1,submenu:{Child:{seperator_before:!1,seperator_after:!1,label:"Child",action:function(r){i=a.create_node(i,{text:"New Child",type:"file",icon:"glyphicon glyphicon-file"}),a.deselect_all(),a.select_node(i)}},Parent:{seperator_before:!1,seperator_after:!1,label:"Parent",action:function(r){i=a.create_node(i,{text:"New Parent",type:"default"}),a.deselect_all(),a.select_node(i)}}}},Rename:{separator_before:!1,separator_after:!1,label:"Edit Location",action:function(r){a.edit(i)}},Remove:{separator_before:!1,separator_after:!1,label:"Remove Location",action:function(r){a.delete_node(i)}}}}}}).on("changed.jstree",(i,a)=>{a&&a.node&&a.node.text&&(this.parentID_selected_node=a.node.parent,this.final_list=a.instance.get_node(a.selected),"location"==this.final_list.original.node_type?(this.enableLocationButton=!0,this.enableDeviceButton=!1):"device"==this.final_list.original.node_type&&(this.enableLocationButton=!1,this.enableDeviceButton=!0))}),$("#search").keyup(()=>{var i=$("#search").val();$("#SimpleJSTree").jstree(!0).search(i)})}onDashboardViewSelect(o){console.log("selected option board",o),console.log("selected option",o[0].value),this.multiselectLocation=[],this.multiselectLocation.push(o[0].value),console.log("object :>> ",this.multiselectLocation)}onDreamboardViewSelect(o){console.log("selected option board",o),console.log("selected option",o.value),this.multiselectLocation_dream=[],this.multiselectLocation_dream.push(o),console.log("object :>> ",this.multiselectLocation_dream)}onLeadershipViewSelect(o){console.log("selected option from",o),this.multiselectLeadership=[],this.multiselectLeadership.push(o.value)}onMobileViewSelect(o){this.multiselectMobileView.push(o[0].value)}onDashboardViewSelect_device(o){console.log("selected option magicboard",o[0].value),this.multiselect_device.push(o)}onDreamboardViewSelect_device(o){console.log("selected option",o),console.log("selected option",o[0].value),this.multiselect_device_dream.push(o[0].avlue)}onLeadershipViewSelect_device(o){console.log("selected option",o),this.multiselectLeadership_device.push(o[0].value)}onMobileViewSelect_device(o){this.multiselectMobileView_device.push(o[0].value)}onDeviceSelect(o){this.multiselectDevice.push(o.value),this.multiselectDevice_text.push(o.text);const t=this.lookup_data_tempL1.find(i=>i.P1===o.value);this.RDT_ID=t.P3,console.log(" this.multiselectDevice",this.multiselectDevice)}onSelectAllDevices(o){for(let t=0;t<o.length;t++)this.allselectedDevices.push(o[t].value),this.allselectedDevices_text.push(o[t].text)}updateLocation(o,t){if(console.log("this.multiselectLocation  :>> ",this.multiselectLocation),"location"==t)this.temp.push({id:this.createLocationField.value.name+"#"+(new Date).getTime(),parent:this.final_list.id,text:this.createLocationField.value.name,description:this.createLocationField.value.description,node_type:"location",area:this.createLocationField.value.area,summary_enable:this.createLocationField.value.summary_enable,summary_types:this.createLocationField.value.summary_types,magicboard_view:{id:this.createLocationField.value.magicboard_view},dreamboard_view:{id:this.createLocationField.value.dreamboard_view},leadership_view:{id:this.createLocationField.value.leadership_view},powerboard_view:{id:this.createLocationField.value.powerboard_view},mobile_view:{id:this.multiselectMobileView}}),console.log("temp location",this.temp);else if("updatelocation"==t){for(let i=0;i<this.temp.length;i++)this.temp[i].id==this.final_list.id&&(this.temp[i].text=this.createLocationField.value.name,this.temp[i].description=this.createLocationField.value.description,this.temp[i].area=this.createLocationField.value.area,this.temp[i].summary_enable=this.createLocationField.value.summary_enable,this.temp[i].summary_types=this.createLocationField.value.summary_types,this.temp[i].magicboard_view={id:this.createLocationField.value.magicboard_view},this.temp[i].dreamboard_view={id:this.createLocationField.value.dreamboard_view},this.temp[i].leadership_view={id:this.multiselectLeadership},this.temp[i].powerboard_view={id:this.createLocationField.value.powerboard_view},this.temp[i].mobile_view={id:this.multiselectMobileView});console.log("updatelocation :>> ",this.temp)}else if("device"==t)if(0!=this.allselectedDevices.length){for(let i=0;i<this.allselectedDevices.length;i++)this.temp.push({id:this.createDeviceField.get("name")?.value[0].value+"#"+(new Date).getTime(),mn:this.createDeviceField.get("name")?.value[0].value,text:[this.createDeviceField.get("name")?.value[0].text],RDT:this.RDT_ID,parent:this.final_list.id,description:this.createDeviceField.value.description,node_type:"device",icon:this.createDeviceField.value.icon,magicboard_view:{id:this.createDeviceField.value.magicboard_view},dreamboard_view:{id:this.createDeviceField.value.dreamboard_view_device},leadership_view:{id:this.createDeviceField.value.leadership_view},mobile_view:{id:this.createDeviceField.value.mobile_view},powerboard_view_device:{id:this.createDeviceField.value.powerboard_view_device}});console.log("device :>> ",this.temp)}else{for(let i=0;i<this.multiselectDevice.length;i++)this.temp.push({id:this.createDeviceField.get("name")?.value[0].value+"#"+(new Date).getTime(),mn:this.createDeviceField.get("name")?.value[0].value,text:[this.createDeviceField.get("name")?.value[0].text],RDT:this.RDT_ID,parent:this.final_list.id,description:this.createDeviceField.value.description,node_type:"device",icon:this.createDeviceField.value.icon,magicboard_view:{id:this.createDeviceField.value.magicboard_view},dreamboard_view:{id:this.createDeviceField.value.dreamboard_view_device},leadership_view:{id:this.createDeviceField.value.leadership_view},mobile_view:{id:this.createDeviceField.value.mobile_view},powerboard_view_device:{id:this.createDeviceField.value.powerboard_view_device}});console.log("noOfChild :>> ",this.temp)}else if("updatedevice"==t){console.log(" this.createDeviceField.value.name",this.createDeviceField.get("name")?.value);for(let i=0;i<this.temp.length;i++)this.temp[i].id==this.final_list.id&&(null!==this.createDeviceField.get("name")?.value[0].text&&(this.temp[i].text=[this.createDeviceField.get("name")?.value[0].text]),null!==this.createDeviceField.get("name")?.value[0].value&&(this.temp[i].mn=this.createDeviceField.get("name")?.value[0].value),null!==this.createDeviceField.get("name")?.value[0].value&&""!==this.RDT_ID&&(this.temp[i].RDT=this.RDT_ID),this.temp[i].description=this.createDeviceField.value.description,this.temp[i].icon=this.createDeviceField.value.icon,this.temp[i].magicboard_view={id:this.createDeviceField.value.magicboard_view},this.temp[i].dreamboard_view={id:this.createDeviceField.value.dreamboard_view_device},this.temp[i].leadership_view={id:this.createDeviceField.value.leadership_view},this.temp[i].mobile_view={id:this.createDeviceField.value.mobile_view},this.temp[i].powerboard_view_device={id:this.createDeviceField.value.powerboard_view_device});console.log("after update of device",this.temp)}this.allLocationDetails={PK:this.user_companyID,SK:this.SK_clientID,tree:JSON.stringify(this.temp)},console.log("this.allLocationDetails:",this.allLocationDetails),this.api.UpdateLocation(this.allLocationDetails).then(i=>{i?(this.tempTree=JSON.parse(JSON.stringify(i.tree)),$("#SimpleJSTree").jstree(!0).settings.core.data=JSON.parse(this.tempTree),$("#SimpleJSTree").jstree(!0).refresh(!0),this.toast.open("Location Configuration updated successfully"," ",{duration:2e3,horizontalPosition:"right",verticalPosition:"top"}),this.multiselectDevice=[],this.multiselectDevice_text=[],this.allselectedDevices=[],this.allselectedDevices_text=[]):b().fire({customClass:{container:"swal2-container"},position:"center",icon:"warning",title:"Error in updating Location Configuration",showCancelButton:!0,allowOutsideClick:!1})}).catch(i=>{console.log("err for updation",i),this.toast.open("Error in updating new Location Configuration ","Check again",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})})}editLocation(){this.showNewLoc=!1,console.log("this.final_list.original",this.final_list.original),this.createLocationField.patchValue({name:this.final_list.original.text,description:this.final_list.original.description,area:this.final_list.original.area,summary_enable:"string"==typeof this.final_list.original.summary_enable?JSON.parse(this.final_list.original.summary_enable):this.final_list.original.summary_enable,summary_types:this.final_list.original.summary_types,magicboard_view:this.final_list.original.magicboard_view&&null!==this.final_list.original.magicboard_view.id?this.final_list.original.magicboard_view.id:"",dreamboard_view:this.final_list.original.dreamboard_view&&null!==this.final_list.original.dreamboard_view.id?this.final_list.original.dreamboard_view.id:"",leadership_view:this.final_list.original.leadership_view&&null!==this.final_list.original.leadership_view.id?this.final_list.original.leadership_view.id:"",mobile_view:this.final_list.original.mobile_view&&null!==this.final_list.original.mobile_view.id?this.final_list.original.mobile_view.id:"",powerboard_view:this.final_list.original.powerboard_view&&null!==this.final_list.original.powerboard_view.id?this.final_list.original.powerboard_view.id:""})}addLocation(){this.createLocationField=this.fb.group({name:"",description:"",area:"",summary_enable:!1,summary_types:"",magicboard_view:"",dreamboard_view:"",leadership_view:"",powerboard_view:"",mobile_view:""}),this.showNewLoc=!0}editDevice(){this.RDT_ID="",console.log("on edit of device",this.final_list.original);let o=[];console.log("all devices",this.allDevices);for(let i=0;i<this.allDevices.length;i++)if(this.final_list.original.id.split("#")[0]===this.allDevices[i].value){o.push(this.allDevices[i].text);break}console.log(" before check Array.isArray(tempID)",o),this.showNewDevice=!1;const t=[{text:this.final_list.original.text[0],value:this.final_list.original.mn}];console.log("check jjobj",t),this.createDeviceField.patchValue({name:t,description:this.final_list.original.description,magicboard_view:this.final_list.original.magicboard_view&&null!==this.final_list.original.magicboard_view.id?this.final_list.original.magicboard_view.id:"",dreamboard_view_device:this.final_list.original.dreamboard_view&&null!==this.final_list.original.dreamboard_view?this.final_list.original.dreamboard_view.id:"",leadership_view:this.final_list.original.leadership_view&&null!==this.final_list.original.leadership_view.id?this.final_list.original.leadership_view.id:"",mobile_view:this.final_list.original.mobile_view&&null!==this.final_list.original.mobile_view.id?this.final_list.original.mobile_view.id:"",icon:this.final_list.original.icon,powerboard_view_device:this.final_list.original.powerboard_view_device&&null!==this.final_list.original.powerboard_view_device.id?this.final_list.original.powerboard_view_device.id:""}),this.createDeviceField.get("name")?.disable(),this.crn.detectChanges()}addDevice(){this.createDeviceField=this.fb.group({name:[""],description:[""],magicboard_view:[""],dreamboard_view_device:[""],leadership_view:[""],mobile_view:[""],icon:[""],powerboard_view_device:[""]}),this.showNewDevice=!0}deleteDevice(){let o=$("#SimpleJSTree").jstree(!0).get_selected()[0],t=$("#SimpleJSTree").jstree(!0).get_node(o);if(!1===t)return b().fire({customClass:{container:"swal2-container"},position:"center",icon:"warning",title:"Select any Location or Device",showCancelButton:!0,allowOutsideClick:!1});for(let i=0;i<this.temp.length;i++){if("#"==t.parent)return b().fire({customClass:{container:"swal2-container"},position:"center",icon:"warning",title:"Dont delete root node ",showCancelButton:!0,allowOutsideClick:!1});if(t.id===this.temp[i].parent)return b().fire({customClass:{container:"swal2-container"},position:"center",icon:"warning",title:"Delete child node first",showCancelButton:!0,allowOutsideClick:!1})}for(let i=0;i<this.temp.length;i++)if(this.temp[i].id==t.id){this.temp.splice(i,1);break}this.allLocationDetails={PK:this.user_companyID,SK:this.SK_clientID,tree:JSON.stringify(this.temp)},this.api.UpdateLocation(this.allLocationDetails).then(i=>{if(i){let a=JSON.parse(JSON.stringify(i.tree));$("#SimpleJSTree").jstree(!0).settings.core.data=JSON.parse(a),$("#SimpleJSTree").jstree(!0).refresh(!0),this.toast.open("Location Configuration deleted successfully"," ",{duration:2e3,horizontalPosition:"right",verticalPosition:"top"}),this.multiselectDevice=[]}else b().fire({customClass:{container:"swal2-container"},position:"center",icon:"warning",title:"Error in deleting Location Configuration",showCancelButton:!0,allowOutsideClick:!1})}).catch(i=>{this.toast.open("Error in deleting Location Configuration ","Check again",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})})}fetchPBData(o){var t=this;return(0,g.Z)(function*(){try{const i=yield t.api.GetLookupMasterTable(t.SK_clientID+"#power_board",o);if(i&&i.items)if("string"==typeof i.items){let a=JSON.parse(i.items);if(Array.isArray(a)){for(let r=0;r<a.length;r++){const d=a[r];if(null==d)break;{const p=Object.keys(d)[0],{P1:h,P2:_,P3:v}=d[p];t.lookup_data_temp1.push([h,_,v])}}yield t.fetchPBData(o+1)}else console.error("Invalid data format - not an array.")}else console.error("response.listOfItems is not a string.");else t.lookup_data_temp1.sort((a,r)=>r[2]-a[2]),t.listofPowerboardIds=[],t.listofPowerboardIds=t.lookup_data_temp1.map(a=>a[0])}catch(i){console.error("Error:",i)}})()}fetchTMData(o){var t=this;return(0,g.Z)(function*(){console.log("iam trying to fetch",t.SK_clientID);try{const i=yield t.api.GetLookupMasterTable(t.SK_clientID+"#device",o);if(i&&i.items)if("string"==typeof i.items){let a=JSON.parse(i.items);if(console.log("d1 =",a),Array.isArray(a)){for(let r=0;r<a.length;r++){const d=a[r];if(null==d)break;{const p=Object.keys(d)[0],{P1:h,P2:_,P3:v,P4:f,P5:te}=d[p];t.lookup_data_tempL1.push({P1:h,P2:_,P3:v,P4:f,P5:te}),console.log("d2 =",t.lookup_data_temp1)}}t.lookup_data_tempL1.sort((r,d)=>d.P5-r.P5),console.log("Lookup sorting",t.lookup_data_tempL1),yield t.fetchTMData(o+1)}else console.error("Invalid data format - not an array.")}else console.error("response.listOfItems is not a string.");else{console.log(),console.log("Data to bemmmmm displayed",t.lookup_data_tempL1);for(let a=0;a<t.lookup_data_tempL1.length;a++)t.listofDeviceIds.push({value:t.lookup_data_tempL1[a].P1,text:t.lookup_data_tempL1[a].P2,RDT:t.lookup_data_tempL1[a].P3});console.log("Data to bemmmmssssssm displayed -----",t.listofDeviceIds),t.crn.detectChanges()}}catch(i){console.error("Error:",i)}})()}modifyList(o,t,i){const a=1===o.length&&"All"===o[0]?"All":"Not all",r=1===t.length&&"All"===t[0]?"All":"Not all",d=1===i.length&&"All"===i[0]?"All":"Not all";return"All-All-All"==(console.log("moodify",`${a}-${r}-${d}`),`${a}-${r}-${d}`)?"All-All-All":(console.log("Unrecognized case"),"")}get RDT(){return""!==this.RDT_ID&&void 0!==this.RDT_ID?this.RDT_ID:""!==this.final_list?.original?.RDT?this.final_list?.original?.RDT:"rdt is empty"}}return n=c,(0,l.Z)(c,"\u0275fac",function(o){return new(o||n)(e.Y36(m.QS),e.Y36(w.F),e.Y36(w.F),e.Y36(A.G),e.Y36(w.F),e.Y36(S.t),e.Y36(L.ux),e.Y36(e.sBO),e.Y36(T.F0))}),(0,l.Z)(c,"\u0275cmp",e.Xpm({type:n,selectors:[["app-location"]],decls:148,vars:34,consts:[["type","button","data-bs-toggle","modal","data-bs-target","#myModal",1,"btn","btn-sm","btn-primary",2,"margin-left","30px"],[1,"svg-icon","svg-icon-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","11.364","y","20.364","width","16","height","2","rx","1","transform","rotate(-90 11.364 20.364)","fill","black"],["x","4.36396","y","11.364","width","16","height","2","rx","1","fill","black"],["id","myModal",1,"modal"],[1,"modal-dialog"],[1,"modal-content",2,"width","450px","transform","translate(30%, 0px)"],[1,"modal-header",2,"padding-bottom","15px"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"container"],["type","search","id","search","value","","placeholder","Search For Devices",1,"col-md-12","input",2,"margin","0em auto 1em auto","padding","4px","border-radius","4px","border","1px solid silver"],["id","SimpleJSTree",1,"container","scroll-y","h-300px"],["class","modal-footer",4,"ngIf"],["id","myModal2",1,"modal"],[1,"modal-content",2,"width","800px","transform","translate(-5%, 0px)"],["class","modal-title",4,"ngIf"],["type","button","data-bs-toggle","modal","aria-label","Close","data-bs-target","#myModal",1,"btn-close"],[1,"fv-row",3,"formGroup"],[1,"card-body","border-top","p-9"],[1,"row"],[1,"col-md-4"],[1,"col-lg-12","col-form-label","fw-bold","fs-6","required"],["type","text","placeholder","Enter name","name","name","formControlName","name","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["class","fv-plugins-message-container invalid-feedback",4,"ngIf"],["type","text","placeholder","Enter description","name","description","formControlName","description","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","number","placeholder","Enter area","name","area","formControlName","area","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[1,"col-lg-12","col-form-label","fw-bold","fs-6"],[1,"form-check","form-check-inline","form-check-solid","me-5"],["name","summary_enable","type","checkbox","formControlName","summary_enable",1,"form-check-input"],[1,"fw-bold","ps-2","fs-6"],["placeholder","select report to","name","summary_types","formControlName","summary_types",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["value","Min"],["value","Max"],["value","Avg"],["formControlName","magicboard_view","optionValueField","value","optionTextField","text","placeholder","Select MagicboardID",3,"allowClear","items"],["formControlName","dreamboard_view","optionValueField","value","optionTextField","text","placeholder","Select DreamboardID",3,"allowClear","items"],["formControlName","powerboard_view","optionValueField","value","optionTextField","text","placeholder","Select PowerboardID",3,"allowClear","items"],[1,"modal-footer"],["type","button","data-bs-toggle","modal","data-bs-target","#myModal",1,"btn","btn-sm","btn-danger"],["type","button","class","btn btn-sm btn-primary not-allowed","data-bs-toggle","modal","data-bs-target","#myModal",3,"disabled","click",4,"ngIf"],["id","myModal3",1,"modal"],[1,"custom-multiselect"],["style","\n        display: inline-block; \n        width: 100%;\n        padding: 0px ;\n        margin-bottom: 0;\n        font-weight: 0px;\n        line-height: 1.52857143;\n        text-align: left;\n        vertical-align: middle;\n        cursor: pointer;\n        background-image: none;\n        border-radius: 4px;\n      \n    ","class","form-select form-select-solid form-select-lg fw-bold","required","",3,"placeholder","settings","data","formControl","onDeSelect","onSelect","onSelectAll",4,"ngIf"],["formControlName","dreamboard_view_device","placeholder","Select DreamBoardID",3,"allowClear","items"],["placeholder","select report to","name","icon","formControlName","icon",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["value","fa fa-cube"],["value","fa fa-cubes"],["value","fa fa-bolt"],["value","fa fa-inbox"],["value","fa fa-rocket"],["value","fa fa-wifi"],["value","fa fa-mobile"],["value","fa fa-laptop"],["value","fa fa-desktop"],["value","fa fa-car"],["formControlName","powerboard_view_device","placeholder","Select PowerBoardID",3,"allowClear","items"],[1,"container",2,"margin-left","30px"],[1,"col-md-6"],["type","button","class","btn btn-sm custom-success  fw-bold","data-bs-toggle","modal","data-bs-target","#myModal2",3,"disabled","click",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#myModal2",1,"btn","btn-sm","custom-primary","fw-bold",3,"disabled","click"],[1,"svg-icon","svg-icon-primary","svg-icon-2x"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","24px","height","24px","viewBox","0 0 24 24","version","1.1"],["stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["x","0","y","0","width","24","height","24"],["d","M8,17.9148182 L8,5.96685884 C8,5.56391781 8.16211443,5.17792052 8.44982609,4.89581508 L10.965708,2.42895648 C11.5426798,1.86322723 12.4640974,1.85620921 13.0496196,2.41308426 L15.5337377,4.77566479 C15.8314604,5.0588212 16,5.45170806 16,5.86258077 L16,17.9148182 C16,18.7432453 15.3284271,19.4148182 14.5,19.4148182 L9.5,19.4148182 C8.67157288,19.4148182 8,18.7432453 8,17.9148182 Z","fill","#000000","fill-rule","nonzero","transform","translate(12.000000, 10.707409) rotate(-135.000000) translate(-12.000000, -10.707409) "],["fill","#000000","opacity","0.3","x","5","y","20","width","15","height","2","rx","1"],["class","btn btn-sm custom-success  fw-bold","data-bs-toggle","modal","style","width: 142.38px !important;","data-bs-target","#myModal3",3,"disabled","click",4,"ngIf"],["type","button","data-bs-target","#myModal3","data-bs-toggle","modal",1,"btn","btn-sm","custom-primary","fw-bold",2,"width","142.38px !important",3,"disabled","click"],["class","btn btn-sm btn-danger","data-bs-target","#myModal","style","margin-left: 35px!important;width: 330px!important;","data-bs-toggle","modal",3,"disabled","click",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#myModal2",1,"btn","btn-sm","custom-success","fw-bold",3,"disabled","click"],["d","M5,10.5 C5,6 8,3 12.5,3 C17,3 20,6.75 20,10.5 C20,12.8325623 17.8236613,16.03566 13.470984,20.1092932 C12.9154018,20.6292577 12.0585054,20.6508331 11.4774555,20.1594925 C7.15915182,16.5078313 5,13.2880005 5,10.5 Z M12.5,12 C13.8807119,12 15,10.8807119 15,9.5 C15,8.11928813 13.8807119,7 12.5,7 C11.1192881,7 10,8.11928813 10,9.5 C10,10.8807119 11.1192881,12 12.5,12 Z","fill","#000000","fill-rule","nonzero"],["data-bs-toggle","modal","data-bs-target","#myModal3",1,"btn","btn-sm","custom-success","fw-bold",2,"width","142.38px !important",3,"disabled","click"],["d","M2,13 L22,13 L22,18 C22,19.1045695 21.1045695,20 20,20 L4,20 C2.8954305,20 2,19.1045695 2,18 L2,13 Z M18.5,18 C19.3284271,18 20,17.3284271 20,16.5 C20,15.6715729 19.3284271,15 18.5,15 C17.6715729,15 17,15.6715729 17,16.5 C17,17.3284271 17.6715729,18 18.5,18 Z M13.5,18 C14.3284271,18 15,17.3284271 15,16.5 C15,15.6715729 14.3284271,15 13.5,15 C12.6715729,15 12,15.6715729 12,16.5 C12,17.3284271 12.6715729,18 13.5,18 Z","fill","#000000"],["d","M5.79268604,8 L18.207314,8 C18.5457897,8 18.8612922,8.17121884 19.0457576,8.45501165 L22,13 L2,13 L4.95424243,8.45501165 C5.13870775,8.17121884 5.45421032,8 5.79268604,8 Z","fill","#000000","opacity","0.3"],["data-bs-target","#myModal","data-bs-toggle","modal",1,"btn","btn-sm","btn-danger",2,"margin-left","35px!important","width","330px!important",3,"disabled","click"],["d","M6,8 L18,8 L17.106535,19.6150447 C17.04642,20.3965405 16.3947578,21 15.6109533,21 L8.38904671,21 C7.60524225,21 6.95358004,20.3965405 6.89346498,19.6150447 L6,8 Z M8,10 L8.45438229,14.0894406 L15.5517885,14.0339036 L16,10 L8,10 Z","fill","#000000","fill-rule","nonzero"],["d","M14,4.5 L14,3.5 C14,3.22385763 13.7761424,3 13.5,3 L10.5,3 C10.2238576,3 10,3.22385763 10,3.5 L10,4.5 L5.5,4.5 C5.22385763,4.5 5,4.72385763 5,5 L5,5.5 C5,5.77614237 5.22385763,6 5.5,6 L18.5,6 C18.7761424,6 19,5.77614237 19,5.5 L19,5 C19,4.72385763 18.7761424,4.5 18.5,4.5 L14,4.5 Z","fill","#000000","opacity","0.3"],[1,"fv-plugins-message-container","invalid-feedback"],["type","button","data-bs-toggle","modal","data-bs-target","#myModal",1,"btn","btn-sm","btn-primary","not-allowed",3,"disabled","click"],[1,"btn","btn-sm","btn-success","fw-bolder","ms-2","fs-8","py-1","px-3"],["required","",1,"form-select","form-select-solid","form-select-lg","fw-bold",2,"display","inline-block","width","100%","padding","0px","margin-bottom","0","font-weight","0px","line-height","1.52857143","text-align","left","vertical-align","middle","cursor","pointer","background-image","none","border-radius","4px",3,"placeholder","settings","data","formControl","onDeSelect","onSelect","onSelectAll"]],template:function(o,t){if(1&o&&(e.TgZ(0,"button",0)(1,"span",1),e.O4$(),e.TgZ(2,"svg",2),e._UZ(3,"rect",3)(4,"rect",4),e.qZA()(),e._uU(5," Location\n"),e.qZA(),e.kcU(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"h2",9),e._uU(11," Location "),e.qZA(),e._UZ(12,"button",10),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"div",11),e._UZ(15,"input",12),e.qZA(),e._UZ(16,"div",13),e.YNc(17,q,30,5,"div",14),e.qZA()()(),e.TgZ(18,"div",15)(19,"div",6)(20,"div",16)(21,"div",8),e.YNc(22,U,2,0,"h2",17),e.YNc(23,N,2,0,"h2",17),e._UZ(24,"button",18),e.qZA(),e.TgZ(25,"div",19)(26,"div",20)(27,"div",11)(28,"div",21)(29,"b"),e._uU(30),e.qZA(),e.TgZ(31,"div",22)(32,"label",23),e._uU(33," Name"),e.qZA(),e._UZ(34,"input",24),e.YNc(35,J,2,0,"div",25),e.qZA(),e.TgZ(36,"div",22)(37,"label",23),e._uU(38," Description"),e.qZA(),e._UZ(39,"input",26),e.YNc(40,M,2,0,"div",25),e.qZA(),e.TgZ(41,"div",22)(42,"label",23),e._uU(43," Area"),e.qZA(),e._UZ(44,"input",27),e.YNc(45,P,2,0,"div",25),e.qZA()()(),e.TgZ(46,"div",11)(47,"div",21)(48,"div",22)(49,"label",28),e._uU(50," Summary Enable"),e.qZA(),e.TgZ(51,"label",29),e._UZ(52,"input",30)(53,"span",31),e.qZA()(),e.TgZ(54,"div",22)(55,"label",28),e._uU(56,"Summary Types"),e.qZA(),e.TgZ(57,"select",32)(58,"option",33),e._uU(59,"Min"),e.qZA(),e.TgZ(60,"option",34),e._uU(61,"Max"),e.qZA(),e.TgZ(62,"option",35),e._uU(63,"Avg"),e.qZA()()(),e.TgZ(64,"div",22)(65,"label",28),e._uU(66,"Magicboard View"),e.qZA(),e._UZ(67,"ngx-select",36),e.YNc(68,O,2,0,"div",25),e.qZA(),e.TgZ(69,"div",22)(70,"label",28),e._uU(71,"DreamBoard View"),e.qZA(),e._UZ(72,"ngx-select",37),e.YNc(73,B,2,0,"div",25),e.qZA(),e.TgZ(74,"div",22)(75,"label",28),e._uU(76,"Powerboard View"),e.qZA(),e._UZ(77,"ngx-select",38),e.qZA()()(),e.TgZ(78,"div",39)(79,"button",40),e._uU(80,"Cancel"),e.qZA(),e.YNc(81,Q,2,1,"button",41),e.YNc(82,K,2,1,"button",41),e.qZA()()()()()(),e.TgZ(83,"div",42)(84,"div",6)(85,"div",16)(86,"div",8),e.YNc(87,E,4,1,"h2",17),e.YNc(88,V,4,1,"h2",17),e._UZ(89,"button",18),e.qZA(),e.TgZ(90,"div",19)(91,"div",20)(92,"div",11)(93,"div",21)(94,"div",22)(95,"label",23),e._uU(96," Device Name "),e.qZA(),e.TgZ(97,"div",43),e.YNc(98,Y,1,5,"ng-multiselect-dropdown",44),e.qZA(),e.YNc(99,j,2,0,"div",25),e.qZA(),e.TgZ(100,"div",22)(101,"label",23),e._uU(102," Description"),e.qZA(),e._UZ(103,"input",26),e.YNc(104,G,2,0,"div",25),e.qZA(),e.TgZ(105,"div",22)(106,"label",28),e._uU(107,"Magicboard View"),e.qZA(),e._UZ(108,"ngx-select",36),e.YNc(109,R,2,0,"div",25),e.qZA(),e.TgZ(110,"div",22)(111,"label",28),e._uU(112,"DreamBoard View"),e.qZA(),e._UZ(113,"ngx-select",45),e.YNc(114,z,2,0,"div",25),e.qZA(),e.TgZ(115,"div",22)(116,"label",28),e._uU(117,"Icon"),e.qZA(),e.TgZ(118,"select",46)(119,"option",47),e._uU(120,"Cube"),e.qZA(),e.TgZ(121,"option",48),e._uU(122,"Cubes"),e.qZA(),e.TgZ(123,"option",49),e._uU(124,"Bolt"),e.qZA(),e.TgZ(125,"option",50),e._uU(126,"Inbox"),e.qZA(),e.TgZ(127,"option",51),e._uU(128,"Rocket"),e.qZA(),e.TgZ(129,"option",52),e._uU(130,"WiFi"),e.qZA(),e.TgZ(131,"option",53),e._uU(132,"Mobile"),e.qZA(),e.TgZ(133,"option",54),e._uU(134,"Laptop"),e.qZA(),e.TgZ(135,"option",55),e._uU(136,"Desktop"),e.qZA(),e.TgZ(137,"option",56),e._uU(138,"Car"),e.qZA()()(),e.TgZ(139,"div",22)(140,"label",28),e._uU(141,"Powerboard View"),e.qZA(),e._UZ(142,"ngx-select",57),e.qZA()()(),e.TgZ(143,"div",39)(144,"button",40),e._uU(145,"Cancel"),e.qZA(),e.YNc(146,H,2,1,"button",41),e.YNc(147,X,2,1,"button",41),e.qZA()()()()()()),2&o){let i,a,r,d,p,h,_,v,f;e.xp6(17),e.Q6J("ngIf",!t.All_button_permissions),e.xp6(5),e.Q6J("ngIf",t.showNewLoc),e.xp6(1),e.Q6J("ngIf",!t.showNewLoc),e.xp6(2),e.Q6J("formGroup",t.createLocationField),e.xp6(5),e.hij("Parent ID:",t.parentID_selected_node,""),e.xp6(5),e.Q6J("ngIf",(null==(i=t.createLocationField.get("name"))?null:i.hasError("required"))&&(null==(i=t.createLocationField.get("name"))?null:i.touched)),e.xp6(5),e.Q6J("ngIf",(null==(a=t.createLocationField.get("description"))?null:a.hasError("required"))&&(null==(a=t.createLocationField.get("description"))?null:a.touched)),e.xp6(5),e.Q6J("ngIf",(null==(r=t.createLocationField.get("area"))?null:r.hasError("required"))&&(null==(r=t.createLocationField.get("area"))?null:r.touched)),e.xp6(22),e.Q6J("allowClear",!0)("items",t.multiSelectMagicboard),e.xp6(1),e.Q6J("ngIf",(null==(d=t.createLocationField.get("magicboard_view"))?null:d.hasError("required"))&&(null==(d=t.createLocationField.get("magicboard_view"))?null:d.touched)),e.xp6(4),e.Q6J("allowClear",!0)("items",t.listofDreamboardIds),e.xp6(1),e.Q6J("ngIf",(null==(p=t.createLocationField.get("dreamboard_view"))?null:p.hasError("required"))&&(null==(p=t.createLocationField.get("dreamboard_view"))?null:p.touched)),e.xp6(4),e.Q6J("allowClear",!0)("items",t.listofPowerboardIds),e.xp6(4),e.Q6J("ngIf",t.showNewLoc),e.xp6(1),e.Q6J("ngIf",!t.showNewLoc&&t.hideDeleteButton),e.xp6(5),e.Q6J("ngIf",t.showNewDevice),e.xp6(1),e.Q6J("ngIf",!t.showNewDevice),e.xp6(2),e.Q6J("formGroup",t.createDeviceField),e.xp6(8),e.Q6J("ngIf",t.listofDeviceIds.length>0),e.xp6(1),e.Q6J("ngIf",(null==(h=t.createDeviceField.get("name"))?null:h.hasError("required"))&&(null==(h=t.createDeviceField.get("name"))?null:h.touched)),e.xp6(5),e.Q6J("ngIf",(null==(_=t.createDeviceField.get("description"))?null:_.hasError("required"))&&(null==(_=t.createDeviceField.get("description"))?null:_.touched)),e.xp6(4),e.Q6J("allowClear",!0)("items",t.multiSelectMagicboard),e.xp6(1),e.Q6J("ngIf",(null==(v=t.createDeviceField.get("magicboard_view"))?null:v.hasError("required"))&&(null==(v=t.createDeviceField.get("magicboard_view"))?null:v.touched)),e.xp6(4),e.Q6J("allowClear",!0)("items",t.listofDreamboardIds),e.xp6(1),e.Q6J("ngIf",(null==(f=t.createDeviceField.get("dreamboard_view"))?null:f.hasError("required"))&&(null==(f=t.createDeviceField.get("dreamboard_view"))?null:f.touched)),e.xp6(28),e.Q6J("allowClear",!0)("items",t.listofPowerboardIds),e.xp6(4),e.Q6J("ngIf",t.showNewDevice),e.xp6(1),e.Q6J("ngIf",!t.showNewDevice&&t.hideDeleteButton)}},dependencies:[D.O5,m.YN,m.Kr,m.Fj,m.wV,m.Wl,m.EJ,m.JJ,m.JL,m.Q7,m.oH,m.sg,m.u,x.O,y.O2],styles:[".btn-close[_ngcontent-%COMP%]{background-color:#f1416c}.custom-primary[_ngcontent-%COMP%]{background-color:#ffc700;color:#fff}.custom-success[_ngcontent-%COMP%]{background-color:#17c653;color:#fff}"]})),c})(),ee=(()=>{var n;class c{}return n=c,(0,l.Z)(c,"\u0275fac",function(o){return new(o||n)}),(0,l.Z)(c,"\u0275mod",e.oAB({type:n})),(0,l.Z)(c,"\u0275inj",e.cJS({imports:[D.ez,m.UX,L.ZX,x.Z,y.i4,T.Bz.forChild([{path:"",component:W}])]})),c})()}}]);