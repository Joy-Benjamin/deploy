!function(k,Ae){"object"==typeof exports&&typeof module<"u"?module.exports=Ae(require("@popperjs/core")):"function"==typeof define&&define.amd?define(["@popperjs/core"],Ae):(k=typeof globalThis<"u"?globalThis:k||self).bootstrap=Ae(k.Popper)}(this,function(k){"use strict";const Xe=function Ae(ie){const W=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(ie)for(const d in ie)if("default"!==d){const C=Object.getOwnPropertyDescriptor(ie,d);Object.defineProperty(W,d,C.get?C:{enumerable:!0,get:()=>ie[d]})}return W.default=ie,Object.freeze(W)}(k),wt="transitionend",R=ie=>(ie&&window.CSS&&window.CSS.escape&&(ie=ie.replace(/#([^\s"#']+)/g,(W,d)=>`#${CSS.escape(d)}`)),ie),at=ie=>{ie.dispatchEvent(new Event(wt))},ct=ie=>!(!ie||"object"!=typeof ie)&&(void 0!==ie.jquery&&(ie=ie[0]),void 0!==ie.nodeType),nt=ie=>ct(ie)?ie.jquery?ie[0]:ie:"string"==typeof ie&&ie.length>0?document.querySelector(R(ie)):null,pt=ie=>{if(!ct(ie)||0===ie.getClientRects().length)return!1;const W="visible"===getComputedStyle(ie).getPropertyValue("visibility"),d=ie.closest("details:not([open])");if(!d)return W;if(d!==ie){const C=ie.closest("summary");if(C&&C.parentNode!==d||null===C)return!1}return W},J=ie=>!ie||ie.nodeType!==Node.ELEMENT_NODE||!!ie.classList.contains("disabled")||(void 0!==ie.disabled?ie.disabled:ie.hasAttribute("disabled")&&"false"!==ie.getAttribute("disabled")),ht=ie=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof ie.getRootNode){const W=ie.getRootNode();return W instanceof ShadowRoot?W:null}return ie instanceof ShadowRoot?ie:ie.parentNode?ht(ie.parentNode):null},rt=()=>{},H=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,N=[],X=()=>"rtl"===document.documentElement.dir,ut=ie=>{var W;W=()=>{const d=H();if(d){const C=ie.NAME,P=d.fn[C];d.fn[C]=ie.jQueryInterface,d.fn[C].Constructor=ie,d.fn[C].noConflict=()=>(d.fn[C]=P,ie.jQueryInterface)}},"loading"===document.readyState?(N.length||document.addEventListener("DOMContentLoaded",()=>{for(const d of N)d()}),N.push(W)):W()},V=(ie,W=[],d=ie)=>"function"==typeof ie?ie(...W):d,$=(ie,W,d=!0)=>{if(!d)return void V(ie);const C=(g=>{if(!g)return 0;let{transitionDuration:b,transitionDelay:O}=window.getComputedStyle(g);const I=Number.parseFloat(b),L=Number.parseFloat(O);return I||L?(b=b.split(",")[0],O=O.split(",")[0],1e3*(Number.parseFloat(b)+Number.parseFloat(O))):0})(W)+5;let P=!1;const c=({target:g})=>{g===W&&(P=!0,W.removeEventListener(wt,c),V(ie))};W.addEventListener(wt,c),setTimeout(()=>{P||at(W)},C)},mt=(ie,W,d,C)=>{const P=ie.length;let c=ie.indexOf(W);return-1===c?!d&&C?ie[P-1]:ie[0]:(c+=d?1:-1,C&&(c=(c+P)%P),ie[Math.max(0,Math.min(c,P-1))])},K=/[^.]*(?=\..*)\.|.*/,st=/\..*/,_=/::\d+$/,et={};let u=1;const w={mouseenter:"mouseover",mouseleave:"mouseout"},m=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function x(ie,W){return W&&`${W}::${u++}`||ie.uidEvent||u++}function E(ie){const W=x(ie);return ie.uidEvent=W,et[W]=et[W]||{},et[W]}function A(ie,W,d=null){return Object.values(ie).find(C=>C.callable===W&&C.delegationSelector===d)}function T(ie,W,d){const C="string"==typeof W,P=C?d:W||d;let c=B(ie);return m.has(c)||(c=ie),[C,P,c]}function q(ie,W,d,C,P){if("string"!=typeof W||!ie)return;let[c,g,b]=T(W,d,C);var It;W in w&&(It=g,g=function(Ut){if(!Ut.relatedTarget||Ut.relatedTarget!==Ut.delegateTarget&&!Ut.delegateTarget.contains(Ut.relatedTarget))return It.call(this,Ut)});const O=E(ie),I=O[b]||(O[b]={}),L=A(I,g,c?d:null);if(L)return void(L.oneOff=L.oneOff&&P);const Z=x(g,W.replace(K,"")),vt=c?function(_t,It,Ut){return function Gt(Xt){const ye=_t.querySelectorAll(It);for(let{target:tn}=Xt;tn&&tn!==this;tn=tn.parentNode)for(const en of ye)if(en===tn)return U(Xt,{delegateTarget:tn}),Gt.oneOff&&ot.off(_t,Xt.type,It,Ut),Ut.apply(tn,[Xt])}}(ie,d,g):function(_t,It){return function Ut(Gt){return U(Gt,{delegateTarget:_t}),Ut.oneOff&&ot.off(_t,Gt.type,It),It.apply(_t,[Gt])}}(ie,g);vt.delegationSelector=c?d:null,vt.callable=g,vt.oneOff=P,vt.uidEvent=Z,I[Z]=vt,ie.addEventListener(b,vt,c)}function M(ie,W,d,C,P){const c=A(W[d],C,P);c&&(ie.removeEventListener(d,c,!!P),delete W[d][c.uidEvent])}function G(ie,W,d,C){const P=W[d]||{};for(const[c,g]of Object.entries(P))c.includes(C)&&M(ie,W,d,g.callable,g.delegationSelector)}function B(ie){return ie=ie.replace(st,""),w[ie]||ie}const ot={on(ie,W,d,C){q(ie,W,d,C,!1)},one(ie,W,d,C){q(ie,W,d,C,!0)},off(ie,W,d,C){if("string"!=typeof W||!ie)return;const[P,c,g]=T(W,d,C),b=g!==W,O=E(ie),I=O[g]||{},L=W.startsWith(".");if(void 0===c){if(L)for(const Z of Object.keys(O))G(ie,O,Z,W.slice(1));for(const[Z,vt]of Object.entries(I)){const _t=Z.replace(_,"");b&&!W.includes(_t)||M(ie,O,g,vt.callable,vt.delegationSelector)}}else{if(!Object.keys(I).length)return;M(ie,O,g,c,P?d:null)}},trigger(ie,W,d){if("string"!=typeof W||!ie)return null;const C=H();let P=null,c=!0,g=!0,b=!1;W!==B(W)&&C&&(P=C.Event(W,d),C(ie).trigger(P),c=!P.isPropagationStopped(),g=!P.isImmediatePropagationStopped(),b=P.isDefaultPrevented());let O=new Event(W,{bubbles:c,cancelable:!0});return O=U(O,d),b&&O.preventDefault(),g&&ie.dispatchEvent(O),O.defaultPrevented&&P&&P.preventDefault(),O}};function U(ie,W={}){for(const[d,C]of Object.entries(W))try{ie[d]=C}catch{Object.defineProperty(ie,d,{configurable:!0,get:()=>C})}return ie}const Lt=new Map,Mt={set(ie,W,d){Lt.has(ie)||Lt.set(ie,new Map);const C=Lt.get(ie);C.has(W)||0===C.size?C.set(W,d):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(C.keys())[0]}.`)},get:(ie,W)=>Lt.has(ie)&&Lt.get(ie).get(W)||null,remove(ie,W){if(!Lt.has(ie))return;const d=Lt.get(ie);d.delete(W),0===d.size&&Lt.delete(ie)}};function St(ie){if("true"===ie)return!0;if("false"===ie)return!1;if(ie===Number(ie).toString())return Number(ie);if(""===ie||"null"===ie)return null;if("string"!=typeof ie)return ie;try{return JSON.parse(decodeURIComponent(ie))}catch{return ie}}function Pt(ie){return ie.replace(/[A-Z]/g,W=>`-${W.toLowerCase()}`)}const Jt={setDataAttribute(ie,W,d){ie.setAttribute(`data-bs-${Pt(W)}`,d)},removeDataAttribute(ie,W){ie.removeAttribute(`data-bs-${Pt(W)}`)},getDataAttributes(ie){if(!ie)return{};const W={},d=Object.keys(ie.dataset).filter(C=>C.startsWith("bs")&&!C.startsWith("bsConfig"));for(const C of d){let P=C.replace(/^bs/,"");P=P.charAt(0).toLowerCase()+P.slice(1,P.length),W[P]=St(ie.dataset[C])}return W},getDataAttribute:(ie,W)=>St(ie.getAttribute(`data-bs-${Pt(W)}`))};class de{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(W){return W=this._mergeConfigObj(W),W=this._configAfterMerge(W),this._typeCheckConfig(W),W}_configAfterMerge(W){return W}_mergeConfigObj(W,d){const C=ct(d)?Jt.getDataAttribute(d,"config"):{};return{...this.constructor.Default,..."object"==typeof C?C:{},...ct(d)?Jt.getDataAttributes(d):{},..."object"==typeof W?W:{}}}_typeCheckConfig(W,d=this.constructor.DefaultType){for(const[P,c]of Object.entries(d)){const g=W[P],b=ct(g)?"element":null==(C=g)?`${C}`:Object.prototype.toString.call(C).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(c).test(b))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${P}" provided type "${b}" but expected type "${c}".`)}var C}}class zt extends de{constructor(W,d){super(),(W=nt(W))&&(this._element=W,this._config=this._getConfig(d),Mt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Mt.remove(this._element,this.constructor.DATA_KEY),ot.off(this._element,this.constructor.EVENT_KEY);for(const W of Object.getOwnPropertyNames(this))this[W]=null}_queueCallback(W,d,C=!0){$(W,d,C)}_getConfig(W){return W=this._mergeConfigObj(W,this._element),W=this._configAfterMerge(W),this._typeCheckConfig(W),W}static getInstance(W){return Mt.get(nt(W),this.DATA_KEY)}static getOrCreateInstance(W,d={}){return this.getInstance(W)||new this(W,"object"==typeof d?d:null)}static get VERSION(){return"5.3.0-alpha1"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(W){return`${W}${this.EVENT_KEY}`}}const he=ie=>{let W=ie.getAttribute("data-bs-target");if(!W||"#"===W){let d=ie.getAttribute("href");if(!d||!d.includes("#")&&!d.startsWith("."))return null;d.includes("#")&&!d.startsWith("#")&&(d=`#${d.split("#")[1]}`),W=d&&"#"!==d?d.trim():null}return R(W)},Qt={find:(ie,W=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(W,ie)),findOne:(ie,W=document.documentElement)=>Element.prototype.querySelector.call(W,ie),children:(ie,W)=>[].concat(...ie.children).filter(d=>d.matches(W)),parents(ie,W){const d=[];let C=ie.parentNode.closest(W);for(;C;)d.push(C),C=C.parentNode.closest(W);return d},prev(ie,W){let d=ie.previousElementSibling;for(;d;){if(d.matches(W))return[d];d=d.previousElementSibling}return[]},next(ie,W){let d=ie.nextElementSibling;for(;d;){if(d.matches(W))return[d];d=d.nextElementSibling}return[]},focusableChildren(ie){const W=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(d=>`${d}:not([tabindex^="-"])`).join(",");return this.find(W,ie).filter(d=>!J(d)&&pt(d))},getSelectorFromElement(ie){const W=he(ie);return W&&Qt.findOne(W)?W:null},getElementFromSelector(ie){const W=he(ie);return W?Qt.findOne(W):null},getMultipleElementsFromSelector(ie){const W=he(ie);return W?Qt.find(W):[]}},Ue=(ie,W="hide")=>{const C=ie.NAME;ot.on(document,`click.dismiss${ie.EVENT_KEY}`,`[data-bs-dismiss="${C}"]`,function(P){if(["A","AREA"].includes(this.tagName)&&P.preventDefault(),J(this))return;const c=Qt.getElementFromSelector(this)||this.closest(`.${C}`);ie.getOrCreateInstance(c)[W]()})};class me extends zt{static get NAME(){return"alert"}close(){if(ot.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const W=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,W)}_destroyElement(){this._element.remove(),ot.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(W){return this.each(function(){const d=me.getOrCreateInstance(this);if("string"==typeof W){if(void 0===d[W]||W.startsWith("_")||"constructor"===W)throw new TypeError(`No method named "${W}"`);d[W](this)}})}}Ue(me,"close"),ut(me);const Ee='[data-bs-toggle="button"]';class We extends zt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(W){return this.each(function(){const d=We.getOrCreateInstance(this);"toggle"===W&&d[W]()})}}ot.on(document,"click.bs.button.data-api",Ee,ie=>{ie.preventDefault();const W=ie.target.closest(Ee);We.getOrCreateInstance(W).toggle()}),ut(We);const Ke={endCallback:null,leftCallback:null,rightCallback:null},le={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Kt extends de{constructor(W,d){super(),this._element=W,W&&Kt.isSupported()&&(this._config=this._getConfig(d),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ke}static get DefaultType(){return le}static get NAME(){return"swipe"}dispose(){ot.off(this._element,".bs.swipe")}_start(W){this._supportPointerEvents?this._eventIsPointerPenTouch(W)&&(this._deltaX=W.clientX):this._deltaX=W.touches[0].clientX}_end(W){this._eventIsPointerPenTouch(W)&&(this._deltaX=W.clientX-this._deltaX),this._handleSwipe(),V(this._config.endCallback)}_move(W){this._deltaX=W.touches&&W.touches.length>1?0:W.touches[0].clientX-this._deltaX}_handleSwipe(){const W=Math.abs(this._deltaX);if(W<=40)return;const d=W/this._deltaX;this._deltaX=0,d&&V(d>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ot.on(this._element,"pointerdown.bs.swipe",W=>this._start(W)),ot.on(this._element,"pointerup.bs.swipe",W=>this._end(W)),this._element.classList.add("pointer-event")):(ot.on(this._element,"touchstart.bs.swipe",W=>this._start(W)),ot.on(this._element,"touchmove.bs.swipe",W=>this._move(W)),ot.on(this._element,"touchend.bs.swipe",W=>this._end(W)))}_eventIsPointerPenTouch(W){return this._supportPointerEvents&&("pen"===W.pointerType||"touch"===W.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ie="next",ue="prev",Fe="left",Me="right",sn="slid.bs.carousel",mn="carousel",gn="active",ce={ArrowLeft:Me,ArrowRight:Fe},se={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},dt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class yt extends zt{constructor(W,d){super(W,d),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Qt.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===mn&&this.cycle()}static get Default(){return se}static get DefaultType(){return dt}static get NAME(){return"carousel"}next(){this._slide(Ie)}nextWhenVisible(){!document.hidden&&pt(this._element)&&this.next()}prev(){this._slide(ue)}pause(){this._isSliding&&at(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?ot.one(this._element,sn,()=>this.cycle()):this.cycle())}to(W){const d=this._getItems();if(W>d.length-1||W<0)return;if(this._isSliding)return void ot.one(this._element,sn,()=>this.to(W));const C=this._getItemIndex(this._getActive());C!==W&&this._slide(W>C?Ie:ue,d[W])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(W){return W.defaultInterval=W.interval,W}_addEventListeners(){this._config.keyboard&&ot.on(this._element,"keydown.bs.carousel",W=>this._keydown(W)),"hover"===this._config.pause&&(ot.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),ot.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&Kt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const d of Qt.find(".carousel-item img",this._element))ot.on(d,"dragstart.bs.carousel",C=>C.preventDefault());this._swipeHelper=new Kt(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Fe)),rightCallback:()=>this._slide(this._directionToOrder(Me)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(W){if(/input|textarea/i.test(W.target.tagName))return;const d=ce[W.key];d&&(W.preventDefault(),this._slide(this._directionToOrder(d)))}_getItemIndex(W){return this._getItems().indexOf(W)}_setActiveIndicatorElement(W){if(!this._indicatorsElement)return;const d=Qt.findOne(".active",this._indicatorsElement);d.classList.remove(gn),d.removeAttribute("aria-current");const C=Qt.findOne(`[data-bs-slide-to="${W}"]`,this._indicatorsElement);C&&(C.classList.add(gn),C.setAttribute("aria-current","true"))}_updateInterval(){const W=this._activeElement||this._getActive();if(!W)return;const d=Number.parseInt(W.getAttribute("data-bs-interval"),10);this._config.interval=d||this._config.defaultInterval}_slide(W,d=null){if(this._isSliding)return;const C=this._getActive(),P=W===Ie,c=d||mt(this._getItems(),C,P,this._config.wrap);if(c===C)return;const g=this._getItemIndex(c),b=Z=>ot.trigger(this._element,Z,{relatedTarget:c,direction:this._orderToDirection(W),from:this._getItemIndex(C),to:g});if(b("slide.bs.carousel").defaultPrevented||!C||!c)return;const O=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(g),this._activeElement=c;const I=P?"carousel-item-start":"carousel-item-end",L=P?"carousel-item-next":"carousel-item-prev";c.classList.add(L),C.classList.add(I),c.classList.add(I),this._queueCallback(()=>{c.classList.remove(I,L),c.classList.add(gn),C.classList.remove(gn,L,I),this._isSliding=!1,b(sn)},C,this._isAnimated()),O&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Qt.findOne(".active.carousel-item",this._element)}_getItems(){return Qt.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(W){return X()?W===Fe?ue:Ie:W===Fe?Ie:ue}_orderToDirection(W){return X()?W===ue?Fe:Me:W===ue?Me:Fe}static jQueryInterface(W){return this.each(function(){const d=yt.getOrCreateInstance(this,W);if("number"!=typeof W){if("string"==typeof W){if(void 0===d[W]||W.startsWith("_")||"constructor"===W)throw new TypeError(`No method named "${W}"`);d[W]()}}else d.to(W)})}}ot.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(ie){const W=Qt.getElementFromSelector(this);if(!W||!W.classList.contains(mn))return;ie.preventDefault();const d=yt.getOrCreateInstance(W),C=this.getAttribute("data-bs-slide-to");return C?(d.to(C),void d._maybeEnableCycle()):"next"===Jt.getDataAttribute(this,"slide")?(d.next(),void d._maybeEnableCycle()):(d.prev(),void d._maybeEnableCycle())}),ot.on(window,"load.bs.carousel.data-api",()=>{const ie=Qt.find('[data-bs-ride="carousel"]');for(const W of ie)yt.getOrCreateInstance(W)}),ut(yt);const Rt="show",re="collapse",xe="collapsing",Se='[data-bs-toggle="collapse"]',He={parent:null,toggle:!0},Sn={parent:"(null|element)",toggle:"boolean"};class jn extends zt{constructor(W,d){super(W,d),this._isTransitioning=!1,this._triggerArray=[];const C=Qt.find(Se);for(const P of C){const c=Qt.getSelectorFromElement(P),g=Qt.find(c).filter(b=>b===this._element);null!==c&&g.length&&this._triggerArray.push(P)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return He}static get DefaultType(){return Sn}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let W=[];if(this._config.parent&&(W=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(P=>P!==this._element).map(P=>jn.getOrCreateInstance(P,{toggle:!1}))),W.length&&W[0]._isTransitioning||ot.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const P of W)P.hide();const d=this._getDimension();this._element.classList.remove(re),this._element.classList.add(xe),this._element.style[d]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const C=`scroll${d[0].toUpperCase()+d.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(xe),this._element.classList.add(re,Rt),this._element.style[d]="",ot.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[d]=`${this._element[C]}px`}hide(){if(this._isTransitioning||!this._isShown()||ot.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const W=this._getDimension();this._element.style[W]=`${this._element.getBoundingClientRect()[W]}px`,this._element.classList.add(xe),this._element.classList.remove(re,Rt);for(const d of this._triggerArray){const C=Qt.getElementFromSelector(d);C&&!this._isShown(C)&&this._addAriaAndCollapsedClass([d],!1)}this._isTransitioning=!0,this._element.style[W]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(xe),this._element.classList.add(re),ot.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(W=this._element){return W.classList.contains(Rt)}_configAfterMerge(W){return W.toggle=!!W.toggle,W.parent=nt(W.parent),W}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const W=this._getFirstLevelChildren(Se);for(const d of W){const C=Qt.getElementFromSelector(d);C&&this._addAriaAndCollapsedClass([d],this._isShown(C))}}_getFirstLevelChildren(W){const d=Qt.find(":scope .collapse .collapse",this._config.parent);return Qt.find(W,this._config.parent).filter(C=>!d.includes(C))}_addAriaAndCollapsedClass(W,d){if(W.length)for(const C of W)C.classList.toggle("collapsed",!d),C.setAttribute("aria-expanded",d)}static jQueryInterface(W){const d={};return"string"==typeof W&&/show|hide/.test(W)&&(d.toggle=!1),this.each(function(){const C=jn.getOrCreateInstance(this,d);if("string"==typeof W){if(void 0===C[W])throw new TypeError(`No method named "${W}"`);C[W]()}})}}ot.on(document,"click.bs.collapse.data-api",Se,function(ie){("A"===ie.target.tagName||ie.delegateTarget&&"A"===ie.delegateTarget.tagName)&&ie.preventDefault();for(const W of Qt.getMultipleElementsFromSelector(this))jn.getOrCreateInstance(W,{toggle:!1}).toggle()}),ut(jn);const bn="dropdown",$n="ArrowUp",At="ArrowDown",Be="click.bs.dropdown.data-api",Ct="keydown.bs.dropdown.data-api",kt="show",jt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Wt=`${jt}.show`,gt=".dropdown-menu",Ce=X()?"top-end":"top-start",Ze=X()?"top-start":"top-end",tt=X()?"bottom-end":"bottom-start",Te=X()?"bottom-start":"bottom-end",Oe=X()?"left-start":"right-start",Nt=X()?"right-start":"left-start",oe={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},we={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class un extends zt{constructor(W,d){super(W,d),this._popper=null,this._parent=this._element.parentNode,this._menu=Qt.next(this._element,gt)[0]||Qt.prev(this._element,gt)[0]||Qt.findOne(gt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return oe}static get DefaultType(){return we}static get NAME(){return bn}toggle(){return this._isShown()?this.hide():this.show()}show(){if(J(this._element)||this._isShown())return;const W={relatedTarget:this._element};if(!ot.trigger(this._element,"show.bs.dropdown",W).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const d of[].concat(...document.body.children))ot.on(d,"mouseover",rt);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(kt),this._element.classList.add(kt),ot.trigger(this._element,"shown.bs.dropdown",W)}}hide(){!J(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(W){if(!ot.trigger(this._element,"hide.bs.dropdown",W).defaultPrevented){if("ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))ot.off(d,"mouseover",rt);this._popper&&this._popper.destroy(),this._menu.classList.remove(kt),this._element.classList.remove(kt),this._element.setAttribute("aria-expanded","false"),Jt.removeDataAttribute(this._menu,"popper"),ot.trigger(this._element,"hidden.bs.dropdown",W)}}_getConfig(W){if("object"==typeof(W=super._getConfig(W)).reference&&!ct(W.reference)&&"function"!=typeof W.reference.getBoundingClientRect)throw new TypeError(`${bn.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return W}_createPopper(){if(void 0===Xe)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let W=this._element;"parent"===this._config.reference?W=this._parent:ct(this._config.reference)?W=nt(this._config.reference):"object"==typeof this._config.reference&&(W=this._config.reference);const d=this._getPopperConfig();this._popper=Xe.createPopper(W,this._menu,d)}_isShown(){return this._menu.classList.contains(kt)}_getPlacement(){const W=this._parent;if(W.classList.contains("dropend"))return Oe;if(W.classList.contains("dropstart"))return Nt;if(W.classList.contains("dropup-center"))return"top";if(W.classList.contains("dropdown-center"))return"bottom";const d="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return W.classList.contains("dropup")?d?Ze:Ce:d?Te:tt}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:W}=this._config;return"string"==typeof W?W.split(",").map(d=>Number.parseInt(d,10)):"function"==typeof W?d=>W(d,this._element):W}_getPopperConfig(){const W={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Jt.setDataAttribute(this._menu,"popper","static"),W.modifiers=[{name:"applyStyles",enabled:!1}]),{...W,...V(this._config.popperConfig,[W])}}_selectMenuItem({key:W,target:d}){const C=Qt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(P=>pt(P));C.length&&mt(C,d,W===At,!C.includes(d)).focus()}static jQueryInterface(W){return this.each(function(){const d=un.getOrCreateInstance(this,W);if("string"==typeof W){if(void 0===d[W])throw new TypeError(`No method named "${W}"`);d[W]()}})}static clearMenus(W){if(2===W.button||"keyup"===W.type&&"Tab"!==W.key)return;const d=Qt.find(Wt);for(const C of d){const P=un.getInstance(C);if(!P||!1===P._config.autoClose)continue;const c=W.composedPath(),g=c.includes(P._menu);if(c.includes(P._element)||"inside"===P._config.autoClose&&!g||"outside"===P._config.autoClose&&g||P._menu.contains(W.target)&&("keyup"===W.type&&"Tab"===W.key||/input|select|option|textarea|form/i.test(W.target.tagName)))continue;const b={relatedTarget:P._element};"click"===W.type&&(b.clickEvent=W),P._completeHide(b)}}static dataApiKeydownHandler(W){const d=/input|textarea/i.test(W.target.tagName),C="Escape"===W.key,P=[$n,At].includes(W.key);if(!P&&!C||d&&!C)return;W.preventDefault();const c=this.matches(jt)?this:Qt.prev(this,jt)[0]||Qt.next(this,jt)[0]||Qt.findOne(jt,W.delegateTarget.parentNode),g=un.getOrCreateInstance(c);if(P)return W.stopPropagation(),g.show(),void g._selectMenuItem(W);g._isShown()&&(W.stopPropagation(),g.hide(),c.focus())}}ot.on(document,Ct,jt,un.dataApiKeydownHandler),ot.on(document,Ct,gt,un.dataApiKeydownHandler),ot.on(document,Be,un.clearMenus),ot.on(document,"keyup.bs.dropdown.data-api",un.clearMenus),ot.on(document,Be,jt,function(ie){ie.preventDefault(),un.getOrCreateInstance(this).toggle()}),ut(un);const Qe=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",rn=".sticky-top",Hn="padding-right",Br="margin-right";class Bn{constructor(){this._element=document.body}getWidth(){const W=document.documentElement.clientWidth;return Math.abs(window.innerWidth-W)}hide(){const W=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Hn,d=>d+W),this._setElementAttributes(Qe,Hn,d=>d+W),this._setElementAttributes(rn,Br,d=>d-W)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Hn),this._resetElementAttributes(Qe,Hn),this._resetElementAttributes(rn,Br)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(W,d,C){const P=this.getWidth();this._applyManipulationCallback(W,c=>{if(c!==this._element&&window.innerWidth>c.clientWidth+P)return;this._saveInitialAttribute(c,d);const g=window.getComputedStyle(c).getPropertyValue(d);c.style.setProperty(d,`${C(Number.parseFloat(g))}px`)})}_saveInitialAttribute(W,d){const C=W.style.getPropertyValue(d);C&&Jt.setDataAttribute(W,d,C)}_resetElementAttributes(W,d){this._applyManipulationCallback(W,C=>{const P=Jt.getDataAttribute(C,d);null!==P?(Jt.removeDataAttribute(C,d),C.style.setProperty(d,P)):C.style.removeProperty(d)})}_applyManipulationCallback(W,d){if(ct(W))d(W);else for(const C of Qt.find(W,this._element))d(C)}}const or="mousedown.bs.backdrop",Cr={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Sr={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Or extends de{constructor(W){super(),this._config=this._getConfig(W),this._isAppended=!1,this._element=null}static get Default(){return Cr}static get DefaultType(){return Sr}static get NAME(){return"backdrop"}show(W){if(!this._config.isVisible)return void V(W);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{V(W)})}hide(W){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),V(W)})):V(W)}dispose(){this._isAppended&&(ot.off(this._element,or),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const W=document.createElement("div");W.className=this._config.className,this._config.isAnimated&&W.classList.add("fade"),this._element=W}return this._element}_configAfterMerge(W){return W.rootElement=nt(W.rootElement),W}_append(){if(this._isAppended)return;const W=this._getElement();this._config.rootElement.append(W),ot.on(W,or,()=>{V(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(W){$(W,this._getElement(),this._config.isAnimated)}}const fr=".bs.focustrap",Vn="backward",Vr={autofocus:!0,trapElement:null},Gn={autofocus:"boolean",trapElement:"element"};class Dr extends de{constructor(W){super(),this._config=this._getConfig(W),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Vr}static get DefaultType(){return Gn}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ot.off(document,fr),ot.on(document,"focusin.bs.focustrap",W=>this._handleFocusin(W)),ot.on(document,"keydown.tab.bs.focustrap",W=>this._handleKeydown(W)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ot.off(document,fr))}_handleFocusin(W){const{trapElement:d}=this._config;if(W.target===document||W.target===d||d.contains(W.target))return;const C=Qt.focusableChildren(d);0===C.length?d.focus():this._lastTabNavDirection===Vn?C[C.length-1].focus():C[0].focus()}_handleKeydown(W){"Tab"===W.key&&(this._lastTabNavDirection=W.shiftKey?Vn:"forward")}}const Ir="hidden.bs.modal",Qr="show.bs.modal",kr="modal-open",Io="modal-static",_r={backdrop:!0,focus:!0,keyboard:!0},an={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Pr extends zt{constructor(W,d){super(W,d),this._dialog=Qt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Bn,this._addEventListeners()}static get Default(){return _r}static get DefaultType(){return an}static get NAME(){return"modal"}toggle(W){return this._isShown?this.hide():this.show(W)}show(W){this._isShown||this._isTransitioning||ot.trigger(this._element,Qr,{relatedTarget:W}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(kr),this._adjustDialog(),this._backdrop.show(()=>this._showElement(W)))}hide(){this._isShown&&!this._isTransitioning&&(ot.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){for(const W of[window,this._dialog])ot.off(W,".bs.modal");this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Or({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Dr({trapElement:this._element})}_showElement(W){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const d=Qt.findOne(".modal-body",this._dialog);d&&(d.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ot.trigger(this._element,"shown.bs.modal",{relatedTarget:W})},this._dialog,this._isAnimated())}_addEventListeners(){ot.on(this._element,"keydown.dismiss.bs.modal",W=>{if("Escape"===W.key)return this._config.keyboard?(W.preventDefault(),void this.hide()):void this._triggerBackdropTransition()}),ot.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ot.on(this._element,"mousedown.dismiss.bs.modal",W=>{ot.one(this._element,"click.dismiss.bs.modal",d=>{this._element===W.target&&this._element===d.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(kr),this._resetAdjustments(),this._scrollBar.reset(),ot.trigger(this._element,Ir)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(ot.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const W=this._element.scrollHeight>document.documentElement.clientHeight,d=this._element.style.overflowY;"hidden"===d||this._element.classList.contains(Io)||(W||(this._element.style.overflowY="hidden"),this._element.classList.add(Io),this._queueCallback(()=>{this._element.classList.remove(Io),this._queueCallback(()=>{this._element.style.overflowY=d},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const W=this._element.scrollHeight>document.documentElement.clientHeight,d=this._scrollBar.getWidth(),C=d>0;if(C&&!W){const P=X()?"paddingLeft":"paddingRight";this._element.style[P]=`${d}px`}if(!C&&W){const P=X()?"paddingRight":"paddingLeft";this._element.style[P]=`${d}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(W,d){return this.each(function(){const C=Pr.getOrCreateInstance(this,W);if("string"==typeof W){if(void 0===C[W])throw new TypeError(`No method named "${W}"`);C[W](d)}})}}ot.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(ie){const W=Qt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&ie.preventDefault(),ot.one(W,Qr,C=>{C.defaultPrevented||ot.one(W,Ir,()=>{pt(this)&&this.focus()})});const d=Qt.findOne(".modal.show");d&&Pr.getInstance(d).hide(),Pr.getOrCreateInstance(W).toggle(this)}),Ue(Pr),ut(Pr);const So="showing",To=".offcanvas.show",to="hidePrevented.bs.offcanvas",di="hidden.bs.offcanvas",qe={backdrop:!0,keyboard:!0,scroll:!1},In={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Dt extends zt{constructor(W,d){super(W,d),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return qe}static get DefaultType(){return In}static get NAME(){return"offcanvas"}toggle(W){return this._isShown?this.hide():this.show(W)}show(W){this._isShown||ot.trigger(this._element,"show.bs.offcanvas",{relatedTarget:W}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Bn).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(So),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(So),ot.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:W})},this._element,!0))}hide(){this._isShown&&(ot.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Bn).reset(),ot.trigger(this._element,di)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const W=!!this._config.backdrop;return new Or({className:"offcanvas-backdrop",isVisible:W,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:W?()=>{"static"!==this._config.backdrop?this.hide():ot.trigger(this._element,to)}:null})}_initializeFocusTrap(){return new Dr({trapElement:this._element})}_addEventListeners(){ot.on(this._element,"keydown.dismiss.bs.offcanvas",W=>{"Escape"===W.key&&(this._config.keyboard?this.hide():ot.trigger(this._element,to))})}static jQueryInterface(W){return this.each(function(){const d=Dt.getOrCreateInstance(this,W);if("string"==typeof W){if(void 0===d[W]||W.startsWith("_")||"constructor"===W)throw new TypeError(`No method named "${W}"`);d[W](this)}})}}ot.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(ie){const W=Qt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&ie.preventDefault(),J(this))return;ot.one(W,di,()=>{pt(this)&&this.focus()});const d=Qt.findOne(To);d&&d!==W&&Dt.getInstance(d).hide(),Dt.getOrCreateInstance(W).toggle(this)}),ot.on(window,"load.bs.offcanvas.data-api",()=>{for(const ie of Qt.find(To))Dt.getOrCreateInstance(ie).show()}),ot.on(window,"resize.bs.offcanvas",()=>{for(const ie of Qt.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(ie).position&&Dt.getOrCreateInstance(ie).hide()}),Ue(Dt),ut(Dt);const $t=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),je=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,fn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Tn=(ie,W)=>{const d=ie.nodeName.toLowerCase();return W.includes(d)?!$t.has(d)||!(!je.test(ie.nodeValue)&&!fn.test(ie.nodeValue)):W.filter(C=>C instanceof RegExp).some(C=>C.test(d))},cn={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},sr={allowList:cn,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Wn={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},go={entry:"(string|element|function|null)",selector:"(string|element)"};class qr extends de{constructor(W){super(),this._config=this._getConfig(W)}static get Default(){return sr}static get DefaultType(){return Wn}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(W=>this._resolvePossibleFunction(W)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(W){return this._checkContent(W),this._config.content={...this._config.content,...W},this}toHtml(){const W=document.createElement("div");W.innerHTML=this._maybeSanitize(this._config.template);for(const[P,c]of Object.entries(this._config.content))this._setContent(W,c,P);const d=W.children[0],C=this._resolvePossibleFunction(this._config.extraClass);return C&&d.classList.add(...C.split(" ")),d}_typeCheckConfig(W){super._typeCheckConfig(W),this._checkContent(W.content)}_checkContent(W){for(const[d,C]of Object.entries(W))super._typeCheckConfig({selector:d,entry:C},go)}_setContent(W,d,C){const P=Qt.findOne(C,W);P&&((d=this._resolvePossibleFunction(d))?ct(d)?this._putElementInTemplate(nt(d),P):this._config.html?P.innerHTML=this._maybeSanitize(d):P.textContent=d:P.remove())}_maybeSanitize(W){return this._config.sanitize?function(d,C,P){if(!d.length)return d;if(P&&"function"==typeof P)return P(d);const c=(new window.DOMParser).parseFromString(d,"text/html"),g=[].concat(...c.body.querySelectorAll("*"));for(const b of g){const O=b.nodeName.toLowerCase();if(!Object.keys(C).includes(O)){b.remove();continue}const I=[].concat(...b.attributes),L=[].concat(C["*"]||[],C[O]||[]);for(const Z of I)Tn(Z,L)||b.removeAttribute(Z.nodeName)}return c.body.innerHTML}(W,this._config.allowList,this._config.sanitizeFn):W}_resolvePossibleFunction(W){return V(W,[this])}_putElementInTemplate(W,d){if(this._config.html)return d.innerHTML="",void d.append(W);d.textContent=W.textContent}}const zr=new Set(["sanitize","allowList","sanitizeFn"]),Wo="fade",Ar="show",xo="hide.bs.modal",eo="hover",qo={AUTO:"auto",TOP:"top",RIGHT:X()?"left":"right",BOTTOM:"bottom",LEFT:X()?"right":"left"},fi={allowList:cn,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},_i={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ur extends zt{constructor(W,d){if(void 0===Xe)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(W,d),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return fi}static get DefaultType(){return _i}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),ot.off(this._element.closest(".modal"),xo,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const W=ot.trigger(this._element,this.constructor.eventName("show")),d=(ht(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(W.defaultPrevented||!d)return;this._disposePopper();const C=this._getTipElement();this._element.setAttribute("aria-describedby",C.getAttribute("id"));const{container:P}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(P.append(C),ot.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(C),C.classList.add(Ar),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))ot.on(c,"mouseover",rt);this._queueCallback(()=>{ot.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!ot.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Ar),"ontouchstart"in document.documentElement)for(const W of[].concat(...document.body.children))ot.off(W,"mouseover",rt);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ot.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(W){const d=this._getTemplateFactory(W).toHtml();if(!d)return null;d.classList.remove(Wo,Ar),d.classList.add(`bs-${this.constructor.NAME}-auto`);const C=(P=>{do{P+=Math.floor(1e6*Math.random())}while(document.getElementById(P));return P})(this.constructor.NAME).toString();return d.setAttribute("id",C),this._isAnimated()&&d.classList.add(Wo),d}setContent(W){this._newContent=W,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(W){return this._templateFactory?this._templateFactory.changeContent(W):this._templateFactory=new qr({...this._config,content:W,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(W){return this.constructor.getOrCreateInstance(W.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Wo)}_isShown(){return this.tip&&this.tip.classList.contains(Ar)}_createPopper(W){const d=V(this._config.placement,[this,W,this._element]),C=qo[d.toUpperCase()];return Xe.createPopper(this._element,W,this._getPopperConfig(C))}_getOffset(){const{offset:W}=this._config;return"string"==typeof W?W.split(",").map(d=>Number.parseInt(d,10)):"function"==typeof W?d=>W(d,this._element):W}_resolvePossibleFunction(W){return V(W,[this._element])}_getPopperConfig(W){const d={placement:W,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:C=>{this._getTipElement().setAttribute("data-popper-placement",C.state.placement)}}]};return{...d,...V(this._config.popperConfig,[d])}}_setListeners(){const W=this._config.trigger.split(" ");for(const d of W)if("click"===d)ot.on(this._element,this.constructor.eventName("click"),this._config.selector,C=>{this._initializeOnDelegatedTarget(C).toggle()});else if("manual"!==d){const C=this.constructor.eventName(d===eo?"mouseenter":"focusin"),P=this.constructor.eventName(d===eo?"mouseleave":"focusout");ot.on(this._element,C,this._config.selector,c=>{const g=this._initializeOnDelegatedTarget(c);g._activeTrigger["focusin"===c.type?"focus":eo]=!0,g._enter()}),ot.on(this._element,P,this._config.selector,c=>{const g=this._initializeOnDelegatedTarget(c);g._activeTrigger["focusout"===c.type?"focus":eo]=g._element.contains(c.relatedTarget),g._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ot.on(this._element.closest(".modal"),xo,this._hideModalHandler)}_fixTitle(){const W=this._element.getAttribute("title");W&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",W),this._element.setAttribute("data-bs-original-title",W),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(W,d){clearTimeout(this._timeout),this._timeout=setTimeout(W,d)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(W){const d=Jt.getDataAttributes(this._element);for(const C of Object.keys(d))zr.has(C)&&delete d[C];return W={...d,..."object"==typeof W&&W?W:{}},W=this._mergeConfigObj(W),W=this._configAfterMerge(W),this._typeCheckConfig(W),W}_configAfterMerge(W){return W.container=!1===W.container?document.body:nt(W.container),"number"==typeof W.delay&&(W.delay={show:W.delay,hide:W.delay}),"number"==typeof W.title&&(W.title=W.title.toString()),"number"==typeof W.content&&(W.content=W.content.toString()),W}_getDelegateConfig(){const W={};for(const[d,C]of Object.entries(this._config))this.constructor.Default[d]!==C&&(W[d]=C);return W.selector=!1,W.trigger="manual",W}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(W){return this.each(function(){const d=Ur.getOrCreateInstance(this,W);if("string"==typeof W){if(void 0===d[W])throw new TypeError(`No method named "${W}"`);d[W]()}})}}ut(Ur);const Li={...Ur.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Xo={...Ur.DefaultType,content:"(null|string|element|function)"};class vo extends Ur{static get Default(){return Li}static get DefaultType(){return Xo}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(W){return this.each(function(){const d=vo.getOrCreateInstance(this,W);if("string"==typeof W){if(void 0===d[W])throw new TypeError(`No method named "${W}"`);d[W]()}})}}ut(vo);const fo="click.bs.scrollspy",Eo="active",Nr={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},mo={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ii extends zt{constructor(W,d){super(W,d),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Nr}static get DefaultType(){return mo}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const W of this._observableSections.values())this._observer.observe(W)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(W){return W.target=nt(W.target)||document.body,W.rootMargin=W.offset?`${W.offset}px 0px -30%`:W.rootMargin,"string"==typeof W.threshold&&(W.threshold=W.threshold.split(",").map(d=>Number.parseFloat(d))),W}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ot.off(this._config.target,fo),ot.on(this._config.target,fo,"[href]",W=>{const d=this._observableSections.get(W.target.hash);if(d){W.preventDefault();const C=this._rootElement||window,P=d.offsetTop-this._element.offsetTop;if(C.scrollTo)return void C.scrollTo({top:P,behavior:"smooth"});C.scrollTop=P}}))}_getNewObserver(){return new IntersectionObserver(d=>this._observerCallback(d),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(W){const d=g=>this._targetLinks.get(`#${g.target.id}`),C=g=>{this._previousScrollData.visibleEntryTop=g.target.offsetTop,this._process(d(g))},P=(this._rootElement||document.documentElement).scrollTop,c=P>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=P;for(const g of W){if(!g.isIntersecting){this._activeTarget=null,this._clearActiveClass(d(g));continue}const b=g.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(c&&b){if(C(g),!P)return}else c||b||C(g)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const W=Qt.find("[href]",this._config.target);for(const d of W){if(!d.hash||J(d))continue;const C=Qt.findOne(d.hash,this._element);pt(C)&&(this._targetLinks.set(d.hash,d),this._observableSections.set(d.hash,C))}}_process(W){this._activeTarget!==W&&(this._clearActiveClass(this._config.target),this._activeTarget=W,W.classList.add(Eo),this._activateParents(W),ot.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:W}))}_activateParents(W){if(W.classList.contains("dropdown-item"))Qt.findOne(".dropdown-toggle",W.closest(".dropdown")).classList.add(Eo);else for(const d of Qt.parents(W,".nav, .list-group"))for(const C of Qt.prev(d,".nav-link, .nav-item > .nav-link, .list-group-item"))C.classList.add(Eo)}_clearActiveClass(W){W.classList.remove(Eo);const d=Qt.find("[href].active",W);for(const C of d)C.classList.remove(Eo)}static jQueryInterface(W){return this.each(function(){const d=ii.getOrCreateInstance(this,W);if("string"==typeof W){if(void 0===d[W]||W.startsWith("_")||"constructor"===W)throw new TypeError(`No method named "${W}"`);d[W]()}})}}ot.on(window,"load.bs.scrollspy.data-api",()=>{for(const ie of Qt.find('[data-bs-spy="scroll"]'))ii.getOrCreateInstance(ie)}),ut(ii);const Lo="ArrowLeft",Si="ArrowRight",hi="ArrowUp",gi="ArrowDown",Ti="active",Zo="show",si='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Oo=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${si}`;class Kr extends zt{constructor(W){super(W),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ot.on(this._element,"keydown.bs.tab",d=>this._keydown(d)))}static get NAME(){return"tab"}show(){const W=this._element;if(this._elemIsActive(W))return;const d=this._getActiveElem(),C=d?ot.trigger(d,"hide.bs.tab",{relatedTarget:W}):null;ot.trigger(W,"show.bs.tab",{relatedTarget:d}).defaultPrevented||C&&C.defaultPrevented||(this._deactivate(d,W),this._activate(W,d))}_activate(W,d){W&&(W.classList.add(Ti),this._activate(Qt.getElementFromSelector(W)),this._queueCallback(()=>{"tab"===W.getAttribute("role")?(W.removeAttribute("tabindex"),W.setAttribute("aria-selected",!0),this._toggleDropDown(W,!0),ot.trigger(W,"shown.bs.tab",{relatedTarget:d})):W.classList.add(Zo)},W,W.classList.contains("fade")))}_deactivate(W,d){W&&(W.classList.remove(Ti),W.blur(),this._deactivate(Qt.getElementFromSelector(W)),this._queueCallback(()=>{"tab"===W.getAttribute("role")?(W.setAttribute("aria-selected",!1),W.setAttribute("tabindex","-1"),this._toggleDropDown(W,!1),ot.trigger(W,"hidden.bs.tab",{relatedTarget:d})):W.classList.remove(Zo)},W,W.classList.contains("fade")))}_keydown(W){if(![Lo,Si,hi,gi].includes(W.key))return;W.stopPropagation(),W.preventDefault();const d=[Si,gi].includes(W.key),C=mt(this._getChildren().filter(P=>!J(P)),W.target,d,!0);C&&(C.focus({preventScroll:!0}),Kr.getOrCreateInstance(C).show())}_getChildren(){return Qt.find(Oo,this._parent)}_getActiveElem(){return this._getChildren().find(W=>this._elemIsActive(W))||null}_setInitialAttributes(W,d){this._setAttributeIfNotExists(W,"role","tablist");for(const C of d)this._setInitialAttributesOnChild(C)}_setInitialAttributesOnChild(W){W=this._getInnerElement(W);const d=this._elemIsActive(W),C=this._getOuterElement(W);W.setAttribute("aria-selected",d),C!==W&&this._setAttributeIfNotExists(C,"role","presentation"),d||W.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(W,"role","tab"),this._setInitialAttributesOnTargetPanel(W)}_setInitialAttributesOnTargetPanel(W){const d=Qt.getElementFromSelector(W);d&&(this._setAttributeIfNotExists(d,"role","tabpanel"),W.id&&this._setAttributeIfNotExists(d,"aria-labelledby",`#${W.id}`))}_toggleDropDown(W,d){const C=this._getOuterElement(W);if(!C.classList.contains("dropdown"))return;const P=(c,g)=>{const b=Qt.findOne(c,C);b&&b.classList.toggle(g,d)};P(".dropdown-toggle",Ti),P(".dropdown-menu",Zo),C.setAttribute("aria-expanded",d)}_setAttributeIfNotExists(W,d,C){W.hasAttribute(d)||W.setAttribute(d,C)}_elemIsActive(W){return W.classList.contains(Ti)}_getInnerElement(W){return W.matches(Oo)?W:Qt.findOne(Oo,W)}_getOuterElement(W){return W.closest(".nav-item, .list-group-item")||W}static jQueryInterface(W){return this.each(function(){const d=Kr.getOrCreateInstance(this);if("string"==typeof W){if(void 0===d[W]||W.startsWith("_")||"constructor"===W)throw new TypeError(`No method named "${W}"`);d[W]()}})}}ot.on(document,"click.bs.tab",si,function(ie){["A","AREA"].includes(this.tagName)&&ie.preventDefault(),J(this)||Kr.getOrCreateInstance(this).show()}),ot.on(window,"load.bs.tab",()=>{for(const ie of Qt.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))Kr.getOrCreateInstance(ie)}),ut(Kr);const Yr="show",jo="showing",bi={animation:"boolean",autohide:"boolean",delay:"number"},Fi={animation:!0,autohide:!0,delay:5e3};class vr extends zt{constructor(W,d){super(W,d),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Fi}static get DefaultType(){return bi}static get NAME(){return"toast"}show(){ot.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Yr,jo),this._queueCallback(()=>{this._element.classList.remove(jo),ot.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(ot.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(jo),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(jo,Yr),ot.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Yr),super.dispose()}isShown(){return this._element.classList.contains(Yr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(W,d){switch(W.type){case"mouseover":case"mouseout":this._hasMouseInteraction=d;break;case"focusin":case"focusout":this._hasKeyboardInteraction=d}if(d)return void this._clearTimeout();const C=W.relatedTarget;this._element===C||this._element.contains(C)||this._maybeScheduleHide()}_setListeners(){ot.on(this._element,"mouseover.bs.toast",W=>this._onInteraction(W,!0)),ot.on(this._element,"mouseout.bs.toast",W=>this._onInteraction(W,!1)),ot.on(this._element,"focusin.bs.toast",W=>this._onInteraction(W,!0)),ot.on(this._element,"focusout.bs.toast",W=>this._onInteraction(W,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(W){return this.each(function(){const d=vr.getOrCreateInstance(this,W);if("string"==typeof W){if(void 0===d[W])throw new TypeError(`No method named "${W}"`);d[W](this)}})}}return Ue(vr),ut(vr),{Alert:me,Button:We,Carousel:yt,Collapse:jn,Dropdown:un,Modal:Pr,Offcanvas:Dt,Popover:vo,ScrollSpy:ii,Tab:Kr,Toast:vr,Tooltip:Ur}}),function(k,Ae){"object"==typeof exports&&typeof module<"u"?module.exports=Ae(require("@popperjs/core")):"function"==typeof define&&define.amd?define(["@popperjs/core"],Ae):(k=typeof globalThis<"u"?globalThis:k||self).bootstrap=Ae(k.Popper)}(this,function(k){"use strict";function Ae(ee){const z=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(ee)for(const Et in ee)if("default"!==Et){const ae=Object.getOwnPropertyDescriptor(ee,Et);Object.defineProperty(z,Et,ae.get?ae:{enumerable:!0,get:()=>ee[Et]})}return z.default=ee,Object.freeze(z)}const Xe=Ae(k),at="transitionend",ct=ee=>(ee&&window.CSS&&window.CSS.escape&&(ee=ee.replace(/#([^\s"#']+)/g,(z,Et)=>`#${CSS.escape(Et)}`)),ee),ht=ee=>{ee.dispatchEvent(new Event(at))},rt=ee=>!(!ee||"object"!=typeof ee)&&(typeof ee.jquery<"u"&&(ee=ee[0]),typeof ee.nodeType<"u"),F=ee=>rt(ee)?ee.jquery?ee[0]:ee:"string"==typeof ee&&ee.length>0?document.querySelector(ct(ee)):null,H=ee=>{if(!rt(ee)||0===ee.getClientRects().length)return!1;const z="visible"===getComputedStyle(ee).getPropertyValue("visibility"),Et=ee.closest("details:not([open])");if(!Et)return z;if(Et!==ee){const ae=ee.closest("summary");if(ae&&ae.parentNode!==Et||null===ae)return!1}return z},N=ee=>!(ee&&ee.nodeType===Node.ELEMENT_NODE&&!ee.classList.contains("disabled"))||(typeof ee.disabled<"u"?ee.disabled:ee.hasAttribute("disabled")&&"false"!==ee.getAttribute("disabled")),X=ee=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof ee.getRootNode){const z=ee.getRootNode();return z instanceof ShadowRoot?z:null}return ee instanceof ShadowRoot?ee:ee.parentNode?X(ee.parentNode):null},ut=()=>{},$=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,mt=[],st=()=>"rtl"===document.documentElement.dir,_=ee=>{(ee=>{"loading"===document.readyState?(mt.length||document.addEventListener("DOMContentLoaded",()=>{for(const z of mt)z()}),mt.push(ee)):ee()})(()=>{const z=$();if(z){const Et=ee.NAME,ae=z.fn[Et];z.fn[Et]=ee.jQueryInterface,z.fn[Et].Constructor=ee,z.fn[Et].noConflict=()=>(z.fn[Et]=ae,ee.jQueryInterface)}})},et=(ee,z=[],Et=ee)=>"function"==typeof ee?ee(...z):Et,u=(ee,z,Et=!0)=>{if(!Et)return void et(ee);const Je=(ee=>{if(!ee)return 0;let{transitionDuration:z,transitionDelay:Et}=window.getComputedStyle(ee);const ae=Number.parseFloat(z),Je=Number.parseFloat(Et);return ae||Je?(z=z.split(",")[0],Et=Et.split(",")[0],1e3*(Number.parseFloat(z)+Number.parseFloat(Et))):0})(z)+5;let xn=!1;const vn=({target:gr})=>{gr===z&&(xn=!0,z.removeEventListener(at,vn),et(ee))};z.addEventListener(at,vn),setTimeout(()=>{xn||ht(z)},Je)},w=(ee,z,Et,ae)=>{const Je=ee.length;let xn=ee.indexOf(z);return-1===xn?!Et&&ae?ee[Je-1]:ee[0]:(xn+=Et?1:-1,ae&&(xn=(xn+Je)%Je),ee[Math.max(0,Math.min(xn,Je-1))])},m=/[^.]*(?=\..*)\.|.*/,x=/\..*/,E=/::\d+$/,A={};let T=1;const q={mouseenter:"mouseover",mouseleave:"mouseout"},M=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function G(ee,z){return z&&`${z}::${T++}`||ee.uidEvent||T++}function B(ee){const z=G(ee);return ee.uidEvent=z,A[z]=A[z]||{},A[z]}function Lt(ee,z,Et=null){return Object.values(ee).find(ae=>ae.callable===z&&ae.delegationSelector===Et)}function Mt(ee,z,Et){const ae="string"==typeof z,Je=ae?Et:z||Et;let xn=de(ee);return M.has(xn)||(xn=ee),[ae,Je,xn]}function St(ee,z,Et,ae,Je){if("string"!=typeof z||!ee)return;let[xn,vn,gr]=Mt(z,Et,ae);var Dc;z in q&&(Dc=vn,vn=function(ga){if(!ga.relatedTarget||ga.relatedTarget!==ga.delegateTarget&&!ga.delegateTarget.contains(ga.relatedTarget))return Dc.call(this,ga)});const Ai=B(ee),Hi=Ai[gr]||(Ai[gr]={}),Ro=Lt(Hi,vn,xn?Et:null);if(Ro)return void(Ro.oneOff=Ro.oneOff&&Je);const Ei=G(vn,z.replace(m,"")),Yi=xn?function U(ee,z,Et){return function ae(Je){const xn=ee.querySelectorAll(z);for(let{target:vn}=Je;vn&&vn!==this;vn=vn.parentNode)for(const gr of xn)if(gr===vn)return he(Je,{delegateTarget:vn}),ae.oneOff&&zt.off(ee,Je.type,z,Et),Et.apply(vn,[Je])}}(ee,Et,vn):function ot(ee,z){return function Et(ae){return he(ae,{delegateTarget:ee}),Et.oneOff&&zt.off(ee,ae.type,z),z.apply(ee,[ae])}}(ee,vn);Yi.delegationSelector=xn?Et:null,Yi.callable=vn,Yi.oneOff=Je,Yi.uidEvent=Ei,Hi[Ei]=Yi,ee.addEventListener(gr,Yi,xn)}function Pt(ee,z,Et,ae,Je){const xn=Lt(z[Et],ae,Je);xn&&(ee.removeEventListener(Et,xn,!!Je),delete z[Et][xn.uidEvent])}function Jt(ee,z,Et,ae){const Je=z[Et]||{};for(const[xn,vn]of Object.entries(Je))xn.includes(ae)&&Pt(ee,z,Et,vn.callable,vn.delegationSelector)}function de(ee){return ee=ee.replace(x,""),q[ee]||ee}const zt={on(ee,z,Et,ae){St(ee,z,Et,ae,!1)},one(ee,z,Et,ae){St(ee,z,Et,ae,!0)},off(ee,z,Et,ae){if("string"!=typeof z||!ee)return;const[Je,xn,vn]=Mt(z,Et,ae),gr=vn!==z,Ai=B(ee),Hi=Ai[vn]||{},Ro=z.startsWith(".");if(typeof xn<"u"){if(!Object.keys(Hi).length)return;Pt(ee,Ai,vn,xn,Je?Et:null)}else{if(Ro)for(const Ei of Object.keys(Ai))Jt(ee,Ai,Ei,z.slice(1));for(const[Ei,Yi]of Object.entries(Hi)){const os=Ei.replace(E,"");(!gr||z.includes(os))&&Pt(ee,Ai,vn,Yi.callable,Yi.delegationSelector)}}},trigger(ee,z,Et){if("string"!=typeof z||!ee)return null;const ae=$();let vn=null,gr=!0,Ai=!0,Hi=!1;z!==de(z)&&ae&&(vn=ae.Event(z,Et),ae(ee).trigger(vn),gr=!vn.isPropagationStopped(),Ai=!vn.isImmediatePropagationStopped(),Hi=vn.isDefaultPrevented());let Ro=new Event(z,{bubbles:gr,cancelable:!0});return Ro=he(Ro,Et),Hi&&Ro.preventDefault(),Ai&&ee.dispatchEvent(Ro),Ro.defaultPrevented&&vn&&vn.preventDefault(),Ro}};function he(ee,z={}){for(const[Et,ae]of Object.entries(z))try{ee[Et]=ae}catch{Object.defineProperty(ee,Et,{configurable:!0,get:()=>ae})}return ee}const Qt=new Map,Ue={set(ee,z,Et){Qt.has(ee)||Qt.set(ee,new Map);const ae=Qt.get(ee);ae.has(z)||0===ae.size?ae.set(z,Et):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(ae.keys())[0]}.`)},get:(ee,z)=>Qt.has(ee)&&Qt.get(ee).get(z)||null,remove(ee,z){if(!Qt.has(ee))return;const Et=Qt.get(ee);Et.delete(z),0===Et.size&&Qt.delete(ee)}};function me(ee){if("true"===ee)return!0;if("false"===ee)return!1;if(ee===Number(ee).toString())return Number(ee);if(""===ee||"null"===ee)return null;if("string"!=typeof ee)return ee;try{return JSON.parse(decodeURIComponent(ee))}catch{return ee}}function Ee(ee){return ee.replace(/[A-Z]/g,z=>`-${z.toLowerCase()}`)}const We={setDataAttribute(ee,z,Et){ee.setAttribute(`data-bs-${Ee(z)}`,Et)},removeDataAttribute(ee,z){ee.removeAttribute(`data-bs-${Ee(z)}`)},getDataAttributes(ee){if(!ee)return{};const z={},Et=Object.keys(ee.dataset).filter(ae=>ae.startsWith("bs")&&!ae.startsWith("bsConfig"));for(const ae of Et){let Je=ae.replace(/^bs/,"");Je=Je.charAt(0).toLowerCase()+Je.slice(1,Je.length),z[Je]=me(ee.dataset[ae])}return z},getDataAttribute:(ee,z)=>me(ee.getAttribute(`data-bs-${Ee(z)}`))};class Ke{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(z){return z=this._mergeConfigObj(z),z=this._configAfterMerge(z),this._typeCheckConfig(z),z}_configAfterMerge(z){return z}_mergeConfigObj(z,Et){const ae=rt(Et)?We.getDataAttribute(Et,"config"):{};return{...this.constructor.Default,..."object"==typeof ae?ae:{},...rt(Et)?We.getDataAttributes(Et):{},..."object"==typeof z?z:{}}}_typeCheckConfig(z,Et=this.constructor.DefaultType){for(const[ae,Je]of Object.entries(Et)){const xn=z[ae],vn=rt(xn)?"element":null==(ee=xn)?`${ee}`:Object.prototype.toString.call(ee).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(Je).test(vn))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${ae}" provided type "${vn}" but expected type "${Je}".`)}var ee}}class Kt extends Ke{constructor(z,Et){super(),(z=F(z))&&(this._element=z,this._config=this._getConfig(Et),Ue.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ue.remove(this._element,this.constructor.DATA_KEY),zt.off(this._element,this.constructor.EVENT_KEY);for(const z of Object.getOwnPropertyNames(this))this[z]=null}_queueCallback(z,Et,ae=!0){u(z,Et,ae)}_getConfig(z){return z=this._mergeConfigObj(z,this._element),z=this._configAfterMerge(z),this._typeCheckConfig(z),z}static getInstance(z){return Ue.get(F(z),this.DATA_KEY)}static getOrCreateInstance(z,Et={}){return this.getInstance(z)||new this(z,"object"==typeof Et?Et:null)}static get VERSION(){return"5.3.0-alpha1"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(z){return`${z}${this.EVENT_KEY}`}}const Ie=ee=>{let z=ee.getAttribute("data-bs-target");if(!z||"#"===z){let Et=ee.getAttribute("href");if(!Et||!Et.includes("#")&&!Et.startsWith("."))return null;Et.includes("#")&&!Et.startsWith("#")&&(Et=`#${Et.split("#")[1]}`),z=Et&&"#"!==Et?Et.trim():null}return ct(z)},ue={find:(ee,z=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(z,ee)),findOne:(ee,z=document.documentElement)=>Element.prototype.querySelector.call(z,ee),children:(ee,z)=>[].concat(...ee.children).filter(Et=>Et.matches(z)),parents(ee,z){const Et=[];let ae=ee.parentNode.closest(z);for(;ae;)Et.push(ae),ae=ae.parentNode.closest(z);return Et},prev(ee,z){let Et=ee.previousElementSibling;for(;Et;){if(Et.matches(z))return[Et];Et=Et.previousElementSibling}return[]},next(ee,z){let Et=ee.nextElementSibling;for(;Et;){if(Et.matches(z))return[Et];Et=Et.nextElementSibling}return[]},focusableChildren(ee){const z=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(Et=>`${Et}:not([tabindex^="-"])`).join(",");return this.find(z,ee).filter(Et=>!N(Et)&&H(Et))},getSelectorFromElement(ee){const z=Ie(ee);return z&&ue.findOne(z)?z:null},getElementFromSelector(ee){const z=Ie(ee);return z?ue.findOne(z):null},getMultipleElementsFromSelector(ee){const z=Ie(ee);return z?ue.find(z):[]}},Fe=(ee,z="hide")=>{const ae=ee.NAME;zt.on(document,`click.dismiss${ee.EVENT_KEY}`,`[data-bs-dismiss="${ae}"]`,function(Je){if(["A","AREA"].includes(this.tagName)&&Je.preventDefault(),N(this))return;const xn=ue.getElementFromSelector(this)||this.closest(`.${ae}`);ee.getOrCreateInstance(xn)[z]()})},mn=".bs.alert",gn=`close${mn}`,ce=`closed${mn}`;class yt extends Kt{static get NAME(){return"alert"}close(){if(zt.trigger(this._element,gn).defaultPrevented)return;this._element.classList.remove("show");const Et=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,Et)}_destroyElement(){this._element.remove(),zt.trigger(this._element,ce),this.dispose()}static jQueryInterface(z){return this.each(function(){const Et=yt.getOrCreateInstance(this);if("string"==typeof z){if(void 0===Et[z]||z.startsWith("_")||"constructor"===z)throw new TypeError(`No method named "${z}"`);Et[z](this)}})}}Fe(yt,"close"),_(yt);const Sn='[data-bs-toggle="button"]';class bn extends Kt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(z){return this.each(function(){const Et=bn.getOrCreateInstance(this);"toggle"===z&&Et[z]()})}}zt.on(document,"click.bs.button.data-api",Sn,ee=>{ee.preventDefault();const z=ee.target.closest(Sn);bn.getOrCreateInstance(z).toggle()}),_(bn);const At=".bs.swipe",Be=`touchstart${At}`,Ct=`touchmove${At}`,kt=`touchend${At}`,jt=`pointerdown${At}`,Wt=`pointerup${At}`,Te={endCallback:null,leftCallback:null,rightCallback:null},Oe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Nt extends Ke{constructor(z,Et){super(),this._element=z,z&&Nt.isSupported()&&(this._config=this._getConfig(Et),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Te}static get DefaultType(){return Oe}static get NAME(){return"swipe"}dispose(){zt.off(this._element,At)}_start(z){this._supportPointerEvents?this._eventIsPointerPenTouch(z)&&(this._deltaX=z.clientX):this._deltaX=z.touches[0].clientX}_end(z){this._eventIsPointerPenTouch(z)&&(this._deltaX=z.clientX-this._deltaX),this._handleSwipe(),et(this._config.endCallback)}_move(z){this._deltaX=z.touches&&z.touches.length>1?0:z.touches[0].clientX-this._deltaX}_handleSwipe(){const z=Math.abs(this._deltaX);if(z<=40)return;const Et=z/this._deltaX;this._deltaX=0,Et&&et(Et>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(zt.on(this._element,jt,z=>this._start(z)),zt.on(this._element,Wt,z=>this._end(z)),this._element.classList.add("pointer-event")):(zt.on(this._element,Be,z=>this._start(z)),zt.on(this._element,Ct,z=>this._move(z)),zt.on(this._element,kt,z=>this._end(z)))}_eventIsPointerPenTouch(z){return this._supportPointerEvents&&("pen"===z.pointerType||"touch"===z.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const un=".bs.carousel",Qe=".data-api",Bn="next",Zn="prev",or="left",Cr="right",Sr=`slide${un}`,Or=`slid${un}`,fr=`keydown${un}`,Vn=`mouseenter${un}`,Vr=`mouseleave${un}`,Gn=`dragstart${un}`,Dr=`load${un}${Qe}`,Ir=`click${un}${Qe}`,Qr="carousel",kr="active",No=".active",So=".carousel-item",cr=No+So,In={ArrowLeft:Cr,ArrowRight:or},Dt={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},$t={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class je extends Kt{constructor(z,Et){super(z,Et),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ue.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Qr&&this.cycle()}static get Default(){return Dt}static get DefaultType(){return $t}static get NAME(){return"carousel"}next(){this._slide(Bn)}nextWhenVisible(){!document.hidden&&H(this._element)&&this.next()}prev(){this._slide(Zn)}pause(){this._isSliding&&ht(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void zt.one(this._element,Or,()=>this.cycle());this.cycle()}}to(z){const Et=this._getItems();if(z>Et.length-1||z<0)return;if(this._isSliding)return void zt.one(this._element,Or,()=>this.to(z));const ae=this._getItemIndex(this._getActive());ae!==z&&this._slide(z>ae?Bn:Zn,Et[z])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(z){return z.defaultInterval=z.interval,z}_addEventListeners(){this._config.keyboard&&zt.on(this._element,fr,z=>this._keydown(z)),"hover"===this._config.pause&&(zt.on(this._element,Vn,()=>this.pause()),zt.on(this._element,Vr,()=>this._maybeEnableCycle())),this._config.touch&&Nt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const ae of ue.find(".carousel-item img",this._element))zt.on(ae,Gn,Je=>Je.preventDefault());this._swipeHelper=new Nt(this._element,{leftCallback:()=>this._slide(this._directionToOrder(or)),rightCallback:()=>this._slide(this._directionToOrder(Cr)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(z){if(/input|textarea/i.test(z.target.tagName))return;const Et=In[z.key];Et&&(z.preventDefault(),this._slide(this._directionToOrder(Et)))}_getItemIndex(z){return this._getItems().indexOf(z)}_setActiveIndicatorElement(z){if(!this._indicatorsElement)return;const Et=ue.findOne(No,this._indicatorsElement);Et.classList.remove(kr),Et.removeAttribute("aria-current");const ae=ue.findOne(`[data-bs-slide-to="${z}"]`,this._indicatorsElement);ae&&(ae.classList.add(kr),ae.setAttribute("aria-current","true"))}_updateInterval(){const z=this._activeElement||this._getActive();if(!z)return;const Et=Number.parseInt(z.getAttribute("data-bs-interval"),10);this._config.interval=Et||this._config.defaultInterval}_slide(z,Et=null){if(this._isSliding)return;const ae=this._getActive(),Je=z===Bn,xn=Et||w(this._getItems(),ae,Je,this._config.wrap);if(xn===ae)return;const vn=this._getItemIndex(xn),gr=os=>zt.trigger(this._element,os,{relatedTarget:xn,direction:this._orderToDirection(z),from:this._getItemIndex(ae),to:vn});if(gr(Sr).defaultPrevented||!ae||!xn)return;const Hi=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(vn),this._activeElement=xn;const Ro=Je?"carousel-item-start":"carousel-item-end",Ei=Je?"carousel-item-next":"carousel-item-prev";xn.classList.add(Ei),ae.classList.add(Ro),xn.classList.add(Ro),this._queueCallback(()=>{xn.classList.remove(Ro,Ei),xn.classList.add(kr),ae.classList.remove(kr,Ei,Ro),this._isSliding=!1,gr(Or)},ae,this._isAnimated()),Hi&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ue.findOne(cr,this._element)}_getItems(){return ue.find(So,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(z){return st()?z===or?Zn:Bn:z===or?Bn:Zn}_orderToDirection(z){return st()?z===Zn?or:Cr:z===Zn?Cr:or}static jQueryInterface(z){return this.each(function(){const Et=je.getOrCreateInstance(this,z);if("number"!=typeof z){if("string"==typeof z){if(void 0===Et[z]||z.startsWith("_")||"constructor"===z)throw new TypeError(`No method named "${z}"`);Et[z]()}}else Et.to(z)})}}zt.on(document,Ir,"[data-bs-slide], [data-bs-slide-to]",function(ee){const z=ue.getElementFromSelector(this);if(!z||!z.classList.contains(Qr))return;ee.preventDefault();const Et=je.getOrCreateInstance(z),ae=this.getAttribute("data-bs-slide-to");return ae?(Et.to(ae),void Et._maybeEnableCycle()):"next"===We.getDataAttribute(this,"slide")?(Et.next(),void Et._maybeEnableCycle()):(Et.prev(),void Et._maybeEnableCycle())}),zt.on(window,Dr,()=>{const ee=ue.find('[data-bs-ride="carousel"]');for(const z of ee)je.getOrCreateInstance(z)}),_(je);const cn=".bs.collapse",Wn=`show${cn}`,go=`shown${cn}`,qr=`hide${cn}`,zr=`hidden${cn}`,Wo=`click${cn}.data-api`,Ar="show",wo="collapse",xo="collapsing",io=`:scope .${wo} .${wo}`,Li='[data-bs-toggle="collapse"]',Xo={parent:null,toggle:!0},vo={parent:"(null|element)",toggle:"boolean"};class fo extends Kt{constructor(z,Et){super(z,Et),this._isTransitioning=!1,this._triggerArray=[];const ae=ue.find(Li);for(const Je of ae){const xn=ue.getSelectorFromElement(Je),vn=ue.find(xn).filter(gr=>gr===this._element);null!==xn&&vn.length&&this._triggerArray.push(Je)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Xo}static get DefaultType(){return vo}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let z=[];if(this._config.parent&&(z=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(gr=>gr!==this._element).map(gr=>fo.getOrCreateInstance(gr,{toggle:!1}))),z.length&&z[0]._isTransitioning||zt.trigger(this._element,Wn).defaultPrevented)return;for(const gr of z)gr.hide();const ae=this._getDimension();this._element.classList.remove(wo),this._element.classList.add(xo),this._element.style[ae]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const vn=`scroll${ae[0].toUpperCase()+ae.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(xo),this._element.classList.add(wo,Ar),this._element.style[ae]="",zt.trigger(this._element,go)},this._element,!0),this._element.style[ae]=`${this._element[vn]}px`}hide(){if(this._isTransitioning||!this._isShown()||zt.trigger(this._element,qr).defaultPrevented)return;const Et=this._getDimension();this._element.style[Et]=`${this._element.getBoundingClientRect()[Et]}px`,this._element.classList.add(xo),this._element.classList.remove(wo,Ar);for(const Je of this._triggerArray){const xn=ue.getElementFromSelector(Je);xn&&!this._isShown(xn)&&this._addAriaAndCollapsedClass([Je],!1)}this._isTransitioning=!0,this._element.style[Et]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(xo),this._element.classList.add(wo),zt.trigger(this._element,zr)},this._element,!0)}_isShown(z=this._element){return z.classList.contains(Ar)}_configAfterMerge(z){return z.toggle=!!z.toggle,z.parent=F(z.parent),z}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const z=this._getFirstLevelChildren(Li);for(const Et of z){const ae=ue.getElementFromSelector(Et);ae&&this._addAriaAndCollapsedClass([Et],this._isShown(ae))}}_getFirstLevelChildren(z){const Et=ue.find(io,this._config.parent);return ue.find(z,this._config.parent).filter(ae=>!Et.includes(ae))}_addAriaAndCollapsedClass(z,Et){if(z.length)for(const ae of z)ae.classList.toggle("collapsed",!Et),ae.setAttribute("aria-expanded",Et)}static jQueryInterface(z){const Et={};return"string"==typeof z&&/show|hide/.test(z)&&(Et.toggle=!1),this.each(function(){const ae=fo.getOrCreateInstance(this,Et);if("string"==typeof z){if(typeof ae[z]>"u")throw new TypeError(`No method named "${z}"`);ae[z]()}})}}zt.on(document,Wo,Li,function(ee){("A"===ee.target.tagName||ee.delegateTarget&&"A"===ee.delegateTarget.tagName)&&ee.preventDefault();for(const z of ue.getMultipleElementsFromSelector(this))fo.getOrCreateInstance(z,{toggle:!1}).toggle()}),_(fo);const Eo="dropdown",Nr=".bs.dropdown",mo=".data-api",Si="ArrowUp",hi="ArrowDown",Ti=`hide${Nr}`,ai=`hidden${Nr}`,Zo=`show${Nr}`,si=`shown${Nr}`,Oo=`click${Nr}${mo}`,Kr=`keydown${Nr}${mo}`,yo=`keyup${Nr}${mo}`,Yr="show",W='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',d=`${W}.${Yr}`,C=".dropdown-menu",b=st()?"top-end":"top-start",O=st()?"top-start":"top-end",I=st()?"bottom-end":"bottom-start",L=st()?"bottom-start":"bottom-end",Z=st()?"left-start":"right-start",vt=st()?"right-start":"left-start",Ut={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Gt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Xt extends Kt{constructor(z,Et){super(z,Et),this._popper=null,this._parent=this._element.parentNode,this._menu=ue.next(this._element,C)[0]||ue.prev(this._element,C)[0]||ue.findOne(C,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Ut}static get DefaultType(){return Gt}static get NAME(){return Eo}toggle(){return this._isShown()?this.hide():this.show()}show(){if(N(this._element)||this._isShown())return;const z={relatedTarget:this._element};if(!zt.trigger(this._element,Zo,z).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const ae of[].concat(...document.body.children))zt.on(ae,"mouseover",ut);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Yr),this._element.classList.add(Yr),zt.trigger(this._element,si,z)}}hide(){!N(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(z){if(!zt.trigger(this._element,Ti,z).defaultPrevented){if("ontouchstart"in document.documentElement)for(const ae of[].concat(...document.body.children))zt.off(ae,"mouseover",ut);this._popper&&this._popper.destroy(),this._menu.classList.remove(Yr),this._element.classList.remove(Yr),this._element.setAttribute("aria-expanded","false"),We.removeDataAttribute(this._menu,"popper"),zt.trigger(this._element,ai,z)}}_getConfig(z){if("object"==typeof(z=super._getConfig(z)).reference&&!rt(z.reference)&&"function"!=typeof z.reference.getBoundingClientRect)throw new TypeError(`${Eo.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return z}_createPopper(){if(typeof Xe>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let z=this._element;"parent"===this._config.reference?z=this._parent:rt(this._config.reference)?z=F(this._config.reference):"object"==typeof this._config.reference&&(z=this._config.reference);const Et=this._getPopperConfig();this._popper=Xe.createPopper(z,this._menu,Et)}_isShown(){return this._menu.classList.contains(Yr)}_getPlacement(){const z=this._parent;if(z.classList.contains("dropend"))return Z;if(z.classList.contains("dropstart"))return vt;if(z.classList.contains("dropup-center"))return"top";if(z.classList.contains("dropdown-center"))return"bottom";const Et="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return z.classList.contains("dropup")?Et?O:b:Et?L:I}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:z}=this._config;return"string"==typeof z?z.split(",").map(Et=>Number.parseInt(Et,10)):"function"==typeof z?Et=>z(Et,this._element):z}_getPopperConfig(){const z={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(We.setDataAttribute(this._menu,"popper","static"),z.modifiers=[{name:"applyStyles",enabled:!1}]),{...z,...et(this._config.popperConfig,[z])}}_selectMenuItem({key:z,target:Et}){const ae=ue.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Je=>H(Je));ae.length&&w(ae,Et,z===hi,!ae.includes(Et)).focus()}static jQueryInterface(z){return this.each(function(){const Et=Xt.getOrCreateInstance(this,z);if("string"==typeof z){if(typeof Et[z]>"u")throw new TypeError(`No method named "${z}"`);Et[z]()}})}static clearMenus(z){if(2===z.button||"keyup"===z.type&&"Tab"!==z.key)return;const Et=ue.find(d);for(const ae of Et){const Je=Xt.getInstance(ae);if(!Je||!1===Je._config.autoClose)continue;const xn=z.composedPath(),vn=xn.includes(Je._menu);if(xn.includes(Je._element)||"inside"===Je._config.autoClose&&!vn||"outside"===Je._config.autoClose&&vn||Je._menu.contains(z.target)&&("keyup"===z.type&&"Tab"===z.key||/input|select|option|textarea|form/i.test(z.target.tagName)))continue;const gr={relatedTarget:Je._element};"click"===z.type&&(gr.clickEvent=z),Je._completeHide(gr)}}static dataApiKeydownHandler(z){const Et=/input|textarea/i.test(z.target.tagName),ae="Escape"===z.key,Je=[Si,hi].includes(z.key);if(!Je&&!ae||Et&&!ae)return;z.preventDefault();const xn=this.matches(W)?this:ue.prev(this,W)[0]||ue.next(this,W)[0]||ue.findOne(W,z.delegateTarget.parentNode),vn=Xt.getOrCreateInstance(xn);if(Je)return z.stopPropagation(),vn.show(),void vn._selectMenuItem(z);vn._isShown()&&(z.stopPropagation(),vn.hide(),xn.focus())}}zt.on(document,Kr,W,Xt.dataApiKeydownHandler),zt.on(document,Kr,C,Xt.dataApiKeydownHandler),zt.on(document,Oo,Xt.clearMenus),zt.on(document,yo,Xt.clearMenus),zt.on(document,Oo,W,function(ee){ee.preventDefault(),Xt.getOrCreateInstance(this).toggle()}),_(Xt);const ye=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",tn=".sticky-top",en="padding-right",hn="margin-right";class qn{constructor(){this._element=document.body}getWidth(){const z=document.documentElement.clientWidth;return Math.abs(window.innerWidth-z)}hide(){const z=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,en,Et=>Et+z),this._setElementAttributes(ye,en,Et=>Et+z),this._setElementAttributes(tn,hn,Et=>Et-z)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,en),this._resetElementAttributes(ye,en),this._resetElementAttributes(tn,hn)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(z,Et,ae){const Je=this.getWidth();this._applyManipulationCallback(z,vn=>{if(vn!==this._element&&window.innerWidth>vn.clientWidth+Je)return;this._saveInitialAttribute(vn,Et);const gr=window.getComputedStyle(vn).getPropertyValue(Et);vn.style.setProperty(Et,`${ae(Number.parseFloat(gr))}px`)})}_saveInitialAttribute(z,Et){const ae=z.style.getPropertyValue(Et);ae&&We.setDataAttribute(z,Et,ae)}_resetElementAttributes(z,Et){this._applyManipulationCallback(z,Je=>{const xn=We.getDataAttribute(Je,Et);null!==xn?(We.removeDataAttribute(Je,Et),Je.style.setProperty(Et,xn)):Je.style.removeProperty(Et)})}_applyManipulationCallback(z,Et){if(rt(z))Et(z);else for(const ae of ue.find(z,this._element))Et(ae)}}const ir="backdrop",Jn=`mousedown.bs.${ir}`,br={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Mn={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Pn extends Ke{constructor(z){super(),this._config=this._getConfig(z),this._isAppended=!1,this._element=null}static get Default(){return br}static get DefaultType(){return Mn}static get NAME(){return ir}show(z){if(!this._config.isVisible)return void et(z);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{et(z)})}hide(z){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),et(z)})):et(z)}dispose(){this._isAppended&&(zt.off(this._element,Jn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const z=document.createElement("div");z.className=this._config.className,this._config.isAnimated&&z.classList.add("fade"),this._element=z}return this._element}_configAfterMerge(z){return z.rootElement=F(z.rootElement),z}_append(){if(this._isAppended)return;const z=this._getElement();this._config.rootElement.append(z),zt.on(z,Jn,()=>{et(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(z){u(z,this._getElement(),this._config.isAnimated)}}const wr=".bs.focustrap",_o=`focusin${wr}`,no=`keydown.tab${wr}`,Lr="backward",Fr={autofocus:!0,trapElement:null},$r={autofocus:"boolean",trapElement:"element"};class Mr extends Ke{constructor(z){super(),this._config=this._getConfig(z),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Fr}static get DefaultType(){return $r}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),zt.off(document,wr),zt.on(document,_o,z=>this._handleFocusin(z)),zt.on(document,no,z=>this._handleKeydown(z)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,zt.off(document,wr))}_handleFocusin(z){const{trapElement:Et}=this._config;if(z.target===document||z.target===Et||Et.contains(z.target))return;const ae=ue.focusableChildren(Et);0===ae.length?Et.focus():this._lastTabNavDirection===Lr?ae[ae.length-1].focus():ae[0].focus()}_handleKeydown(z){"Tab"===z.key&&(this._lastTabNavDirection=z.shiftKey?Lr:"forward")}}const Rr=".bs.modal",qt=`hide${Rr}`,ne=`hidePrevented${Rr}`,fe=`hidden${Rr}`,ve=`show${Rr}`,$e=`shown${Rr}`,ln=`resize${Rr}`,tr=`click.dismiss${Rr}`,lr=`mousedown.dismiss${Rr}`,Hr=`keydown.dismiss${Rr}`,ro=`click${Rr}.data-api`,ko="modal-open",Va="modal-static",za={backdrop:!0,focus:!0,keyboard:!0},Ds={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ht extends Kt{constructor(z,Et){super(z,Et),this._dialog=ue.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new qn,this._addEventListeners()}static get Default(){return za}static get DefaultType(){return Ds}static get NAME(){return"modal"}toggle(z){return this._isShown?this.hide():this.show(z)}show(z){this._isShown||this._isTransitioning||zt.trigger(this._element,ve,{relatedTarget:z}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ko),this._adjustDialog(),this._backdrop.show(()=>this._showElement(z)))}hide(){!this._isShown||this._isTransitioning||zt.trigger(this._element,qt).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const z of[window,this._dialog])zt.off(z,Rr);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Pn({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Mr({trapElement:this._element})}_showElement(z){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const Et=ue.findOne(".modal-body",this._dialog);Et&&(Et.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,zt.trigger(this._element,$e,{relatedTarget:z})},this._dialog,this._isAnimated())}_addEventListeners(){zt.on(this._element,Hr,z=>{if("Escape"===z.key){if(this._config.keyboard)return z.preventDefault(),void this.hide();this._triggerBackdropTransition()}}),zt.on(window,ln,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),zt.on(this._element,lr,z=>{zt.one(this._element,tr,Et=>{if(this._element===z.target&&this._element===Et.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ko),this._resetAdjustments(),this._scrollBar.reset(),zt.trigger(this._element,fe)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(zt.trigger(this._element,ne).defaultPrevented)return;const Et=this._element.scrollHeight>document.documentElement.clientHeight,ae=this._element.style.overflowY;"hidden"===ae||this._element.classList.contains(Va)||(Et||(this._element.style.overflowY="hidden"),this._element.classList.add(Va),this._queueCallback(()=>{this._element.classList.remove(Va),this._queueCallback(()=>{this._element.style.overflowY=ae},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const z=this._element.scrollHeight>document.documentElement.clientHeight,Et=this._scrollBar.getWidth(),ae=Et>0;if(ae&&!z){const Je=st()?"paddingLeft":"paddingRight";this._element.style[Je]=`${Et}px`}if(!ae&&z){const Je=st()?"paddingRight":"paddingLeft";this._element.style[Je]=`${Et}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(z,Et){return this.each(function(){const ae=Ht.getOrCreateInstance(this,z);if("string"==typeof z){if(typeof ae[z]>"u")throw new TypeError(`No method named "${z}"`);ae[z](Et)}})}}zt.on(document,ro,'[data-bs-toggle="modal"]',function(ee){const z=ue.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&ee.preventDefault(),zt.one(z,ve,Je=>{Je.defaultPrevented||zt.one(z,fe,()=>{H(this)&&this.focus()})});const Et=ue.findOne(".modal.show");Et&&Ht.getInstance(Et).hide(),Ht.getOrCreateInstance(z).toggle(this)}),Fe(Ht),_(Ht);const Pe=".bs.offcanvas",Ge=".data-api",wn=`load${Pe}${Ge}`,En="showing",dr=".offcanvas.show",yr=`show${Pe}`,Kn=`shown${Pe}`,so=`hide${Pe}`,vi=`hidePrevented${Pe}`,Jo=`hidden${Pe}`,Co=`resize${Pe}`,mi=`click${Pe}${Ge}`,ua=`keydown.dismiss${Pe}`,pc={backdrop:!0,keyboard:!0,scroll:!1},El={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class li extends Kt{constructor(z,Et){super(z,Et),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return pc}static get DefaultType(){return El}static get NAME(){return"offcanvas"}toggle(z){return this._isShown?this.hide():this.show(z)}show(z){this._isShown||zt.trigger(this._element,yr,{relatedTarget:z}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new qn).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(En),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(En),zt.trigger(this._element,Kn,{relatedTarget:z})},this._element,!0))}hide(){this._isShown&&!zt.trigger(this._element,so).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new qn).reset(),zt.trigger(this._element,Jo)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const Et=!!this._config.backdrop;return new Pn({className:"offcanvas-backdrop",isVisible:Et,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:Et?()=>{"static"!==this._config.backdrop?this.hide():zt.trigger(this._element,vi)}:null})}_initializeFocusTrap(){return new Mr({trapElement:this._element})}_addEventListeners(){zt.on(this._element,ua,z=>{if("Escape"===z.key){if(!this._config.keyboard)return void zt.trigger(this._element,vi);this.hide()}})}static jQueryInterface(z){return this.each(function(){const Et=li.getOrCreateInstance(this,z);if("string"==typeof z){if(void 0===Et[z]||z.startsWith("_")||"constructor"===z)throw new TypeError(`No method named "${z}"`);Et[z](this)}})}}zt.on(document,mi,'[data-bs-toggle="offcanvas"]',function(ee){const z=ue.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&ee.preventDefault(),N(this))return;zt.one(z,Jo,()=>{H(this)&&this.focus()});const Et=ue.findOne(dr);Et&&Et!==z&&li.getInstance(Et).hide(),li.getOrCreateInstance(z).toggle(this)}),zt.on(window,wn,()=>{for(const ee of ue.find(dr))li.getOrCreateInstance(ee).show()}),zt.on(window,Co,()=>{for(const ee of ue.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(ee).position&&li.getOrCreateInstance(ee).hide()}),Fe(li),_(li);const Ua=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),La=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,da=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Gs=(ee,z)=>{const Et=ee.nodeName.toLowerCase();return z.includes(Et)?!Ua.has(Et)||!(!La.test(ee.nodeValue)&&!da.test(ee.nodeValue)):z.filter(ae=>ae instanceof RegExp).some(ae=>ae.test(Et))},hc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ys={allowList:hc,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},vc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Xs={entry:"(string|element|function|null)",selector:"(string|element)"};class Zs extends Ke{constructor(z){super(),this._config=this._getConfig(z)}static get Default(){return Ys}static get DefaultType(){return vc}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(z=>this._resolvePossibleFunction(z)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(z){return this._checkContent(z),this._config.content={...this._config.content,...z},this}toHtml(){const z=document.createElement("div");z.innerHTML=this._maybeSanitize(this._config.template);for(const[Je,xn]of Object.entries(this._config.content))this._setContent(z,xn,Je);const Et=z.children[0],ae=this._resolvePossibleFunction(this._config.extraClass);return ae&&Et.classList.add(...ae.split(" ")),Et}_typeCheckConfig(z){super._typeCheckConfig(z),this._checkContent(z.content)}_checkContent(z){for(const[Et,ae]of Object.entries(z))super._typeCheckConfig({selector:Et,entry:ae},Xs)}_setContent(z,Et,ae){const Je=ue.findOne(ae,z);if(Je){if(!(Et=this._resolvePossibleFunction(Et)))return void Je.remove();if(rt(Et))return void this._putElementInTemplate(F(Et),Je);if(this._config.html)return void(Je.innerHTML=this._maybeSanitize(Et));Je.textContent=Et}}_maybeSanitize(z){return this._config.sanitize?function gc(ee,z,Et){if(!ee.length)return ee;if(Et&&"function"==typeof Et)return Et(ee);const Je=(new window.DOMParser).parseFromString(ee,"text/html"),xn=[].concat(...Je.body.querySelectorAll("*"));for(const vn of xn){const gr=vn.nodeName.toLowerCase();if(!Object.keys(z).includes(gr)){vn.remove();continue}const Ai=[].concat(...vn.attributes),Hi=[].concat(z["*"]||[],z[gr]||[]);for(const Ro of Ai)Gs(Ro,Hi)||vn.removeAttribute(Ro.nodeName)}return Je.body.innerHTML}(z,this._config.allowList,this._config.sanitizeFn):z}_resolvePossibleFunction(z){return et(z,[this])}_putElementInTemplate(z,Et){if(this._config.html)return Et.innerHTML="",void Et.append(z);Et.textContent=z.textContent}}const mc=new Set(["sanitize","allowList","sanitizeFn"]),Wa="fade",$i="show",Ma="hide.bs.modal",qa="hover",Il="focus",Ga={AUTO:"auto",TOP:"top",RIGHT:st()?"left":"right",BOTTOM:"bottom",LEFT:st()?"right":"left"},Ns={allowList:hc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ta={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class pa extends Kt{constructor(z,Et){if(typeof Xe>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(z,Et),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ns}static get DefaultType(){return Ta}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),zt.off(this._element.closest(".modal"),Ma,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const z=zt.trigger(this._element,this.constructor.eventName("show")),ae=(X(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(z.defaultPrevented||!ae)return;this._disposePopper();const Je=this._getTipElement();this._element.setAttribute("aria-describedby",Je.getAttribute("id"));const{container:xn}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(xn.append(Je),zt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(Je),Je.classList.add($i),"ontouchstart"in document.documentElement)for(const gr of[].concat(...document.body.children))zt.on(gr,"mouseover",ut);this._queueCallback(()=>{zt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!zt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove($i),"ontouchstart"in document.documentElement)for(const Je of[].concat(...document.body.children))zt.off(Je,"mouseover",ut);this._activeTrigger.click=!1,this._activeTrigger[Il]=!1,this._activeTrigger[qa]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),zt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(z){const Et=this._getTemplateFactory(z).toHtml();if(!Et)return null;Et.classList.remove(Wa,$i),Et.classList.add(`bs-${this.constructor.NAME}-auto`);const ae=(ee=>{do{ee+=Math.floor(1e6*Math.random())}while(document.getElementById(ee));return ee})(this.constructor.NAME).toString();return Et.setAttribute("id",ae),this._isAnimated()&&Et.classList.add(Wa),Et}setContent(z){this._newContent=z,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(z){return this._templateFactory?this._templateFactory.changeContent(z):this._templateFactory=new Zs({...this._config,content:z,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(z){return this.constructor.getOrCreateInstance(z.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Wa)}_isShown(){return this.tip&&this.tip.classList.contains($i)}_createPopper(z){const Et=et(this._config.placement,[this,z,this._element]),ae=Ga[Et.toUpperCase()];return Xe.createPopper(this._element,z,this._getPopperConfig(ae))}_getOffset(){const{offset:z}=this._config;return"string"==typeof z?z.split(",").map(Et=>Number.parseInt(Et,10)):"function"==typeof z?Et=>z(Et,this._element):z}_resolvePossibleFunction(z){return et(z,[this._element])}_getPopperConfig(z){const Et={placement:z,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:ae=>{this._getTipElement().setAttribute("data-popper-placement",ae.state.placement)}}]};return{...Et,...et(this._config.popperConfig,[Et])}}_setListeners(){const z=this._config.trigger.split(" ");for(const Et of z)if("click"===Et)zt.on(this._element,this.constructor.eventName("click"),this._config.selector,ae=>{this._initializeOnDelegatedTarget(ae).toggle()});else if("manual"!==Et){const ae=this.constructor.eventName(Et===qa?"mouseenter":"focusin"),Je=this.constructor.eventName(Et===qa?"mouseleave":"focusout");zt.on(this._element,ae,this._config.selector,xn=>{const vn=this._initializeOnDelegatedTarget(xn);vn._activeTrigger["focusin"===xn.type?Il:qa]=!0,vn._enter()}),zt.on(this._element,Je,this._config.selector,xn=>{const vn=this._initializeOnDelegatedTarget(xn);vn._activeTrigger["focusout"===xn.type?Il:qa]=vn._element.contains(xn.relatedTarget),vn._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},zt.on(this._element.closest(".modal"),Ma,this._hideModalHandler)}_fixTitle(){const z=this._element.getAttribute("title");z&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",z),this._element.setAttribute("data-bs-original-title",z),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(z,Et){clearTimeout(this._timeout),this._timeout=setTimeout(z,Et)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(z){const Et=We.getDataAttributes(this._element);for(const ae of Object.keys(Et))mc.has(ae)&&delete Et[ae];return z={...Et,..."object"==typeof z&&z?z:{}},z=this._mergeConfigObj(z),z=this._configAfterMerge(z),this._typeCheckConfig(z),z}_configAfterMerge(z){return z.container=!1===z.container?document.body:F(z.container),"number"==typeof z.delay&&(z.delay={show:z.delay,hide:z.delay}),"number"==typeof z.title&&(z.title=z.title.toString()),"number"==typeof z.content&&(z.content=z.content.toString()),z}_getDelegateConfig(){const z={};for(const[Et,ae]of Object.entries(this._config))this.constructor.Default[Et]!==ae&&(z[Et]=ae);return z.selector=!1,z.trigger="manual",z}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(z){return this.each(function(){const Et=pa.getOrCreateInstance(this,z);if("string"==typeof z){if(typeof Et[z]>"u")throw new TypeError(`No method named "${z}"`);Et[z]()}})}}_(pa);const Ya={...pa.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Xa={...pa.DefaultType,content:"(null|string|element|function)"};class Za extends pa{static get Default(){return Ya}static get DefaultType(){return Xa}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(z){return this.each(function(){const Et=Za.getOrCreateInstance(this,z);if("string"==typeof z){if(typeof Et[z]>"u")throw new TypeError(`No method named "${z}"`);Et[z]()}})}}_(Za);const Ll=".bs.scrollspy",Fl=`activate${Ll}`,yi=`click${Ll}`,ti=`load${Ll}.data-api`,Ao="active",ps="[href]",wc=".nav-link",Fs=`${wc}, .nav-item > ${wc}, .list-group-item`,nl={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},rl={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ja extends Kt{constructor(z,Et){super(z,Et),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return nl}static get DefaultType(){return rl}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const z of this._observableSections.values())this._observer.observe(z)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(z){return z.target=F(z.target)||document.body,z.rootMargin=z.offset?`${z.offset}px 0px -30%`:z.rootMargin,"string"==typeof z.threshold&&(z.threshold=z.threshold.split(",").map(Et=>Number.parseFloat(Et))),z}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(zt.off(this._config.target,yi),zt.on(this._config.target,yi,ps,z=>{const Et=this._observableSections.get(z.target.hash);if(Et){z.preventDefault();const ae=this._rootElement||window,Je=Et.offsetTop-this._element.offsetTop;if(ae.scrollTo)return void ae.scrollTo({top:Je,behavior:"smooth"});ae.scrollTop=Je}}))}_getNewObserver(){return new IntersectionObserver(Et=>this._observerCallback(Et),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(z){const Et=vn=>this._targetLinks.get(`#${vn.target.id}`),ae=vn=>{this._previousScrollData.visibleEntryTop=vn.target.offsetTop,this._process(Et(vn))},Je=(this._rootElement||document.documentElement).scrollTop,xn=Je>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Je;for(const vn of z){if(!vn.isIntersecting){this._activeTarget=null,this._clearActiveClass(Et(vn));continue}const gr=vn.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(xn&&gr){if(ae(vn),!Je)return}else!xn&&!gr&&ae(vn)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const z=ue.find(ps,this._config.target);for(const Et of z){if(!Et.hash||N(Et))continue;const ae=ue.findOne(Et.hash,this._element);H(ae)&&(this._targetLinks.set(Et.hash,Et),this._observableSections.set(Et.hash,ae))}}_process(z){this._activeTarget!==z&&(this._clearActiveClass(this._config.target),this._activeTarget=z,z.classList.add(Ao),this._activateParents(z),zt.trigger(this._element,Fl,{relatedTarget:z}))}_activateParents(z){if(z.classList.contains("dropdown-item"))ue.findOne(".dropdown-toggle",z.closest(".dropdown")).classList.add(Ao);else for(const Et of ue.parents(z,".nav, .list-group"))for(const ae of ue.prev(Et,Fs))ae.classList.add(Ao)}_clearActiveClass(z){z.classList.remove(Ao);const Et=ue.find(`${ps}.${Ao}`,z);for(const ae of Et)ae.classList.remove(Ao)}static jQueryInterface(z){return this.each(function(){const Et=Ja.getOrCreateInstance(this,z);if("string"==typeof z){if(void 0===Et[z]||z.startsWith("_")||"constructor"===z)throw new TypeError(`No method named "${z}"`);Et[z]()}})}}zt.on(window,ti,()=>{for(const ee of ue.find('[data-bs-spy="scroll"]'))Ja.getOrCreateInstance(ee)}),_(Ja);const ea=".bs.tab",Qa=`hide${ea}`,ha=`hidden${ea}`,gs=`show${ea}`,Ms=`shown${ea}`,ki=`click${ea}`,Sc=`keydown${ea}`,au=`load${ea}`,Tc="ArrowLeft",ni="ArrowRight",Xr="ArrowUp",Gi="ArrowDown",Mi="active",Rs="show",lo=":not(.dropdown-toggle)",ka='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',il=`.nav-link${lo}, .list-group-item${lo}, [role="tab"]${lo}, ${ka}`,Oc=`.${Mi}[data-bs-toggle="tab"], .${Mi}[data-bs-toggle="pill"], .${Mi}[data-bs-toggle="list"]`;class ts extends Kt{constructor(z){super(z),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),zt.on(this._element,Sc,Et=>this._keydown(Et)))}static get NAME(){return"tab"}show(){const z=this._element;if(this._elemIsActive(z))return;const Et=this._getActiveElem(),ae=Et?zt.trigger(Et,Qa,{relatedTarget:z}):null;zt.trigger(z,gs,{relatedTarget:Et}).defaultPrevented||ae&&ae.defaultPrevented||(this._deactivate(Et,z),this._activate(z,Et))}_activate(z,Et){z&&(z.classList.add(Mi),this._activate(ue.getElementFromSelector(z)),this._queueCallback(()=>{"tab"===z.getAttribute("role")?(z.removeAttribute("tabindex"),z.setAttribute("aria-selected",!0),this._toggleDropDown(z,!0),zt.trigger(z,Ms,{relatedTarget:Et})):z.classList.add(Rs)},z,z.classList.contains("fade")))}_deactivate(z,Et){z&&(z.classList.remove(Mi),z.blur(),this._deactivate(ue.getElementFromSelector(z)),this._queueCallback(()=>{"tab"===z.getAttribute("role")?(z.setAttribute("aria-selected",!1),z.setAttribute("tabindex","-1"),this._toggleDropDown(z,!1),zt.trigger(z,ha,{relatedTarget:Et})):z.classList.remove(Rs)},z,z.classList.contains("fade")))}_keydown(z){if(![Tc,ni,Xr,Gi].includes(z.key))return;z.stopPropagation(),z.preventDefault();const Et=[ni,Gi].includes(z.key),ae=w(this._getChildren().filter(Je=>!N(Je)),z.target,Et,!0);ae&&(ae.focus({preventScroll:!0}),ts.getOrCreateInstance(ae).show())}_getChildren(){return ue.find(il,this._parent)}_getActiveElem(){return this._getChildren().find(z=>this._elemIsActive(z))||null}_setInitialAttributes(z,Et){this._setAttributeIfNotExists(z,"role","tablist");for(const ae of Et)this._setInitialAttributesOnChild(ae)}_setInitialAttributesOnChild(z){z=this._getInnerElement(z);const Et=this._elemIsActive(z),ae=this._getOuterElement(z);z.setAttribute("aria-selected",Et),ae!==z&&this._setAttributeIfNotExists(ae,"role","presentation"),Et||z.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(z,"role","tab"),this._setInitialAttributesOnTargetPanel(z)}_setInitialAttributesOnTargetPanel(z){const Et=ue.getElementFromSelector(z);Et&&(this._setAttributeIfNotExists(Et,"role","tabpanel"),z.id&&this._setAttributeIfNotExists(Et,"aria-labelledby",`#${z.id}`))}_toggleDropDown(z,Et){const ae=this._getOuterElement(z);if(!ae.classList.contains("dropdown"))return;const Je=(xn,vn)=>{const gr=ue.findOne(xn,ae);gr&&gr.classList.toggle(vn,Et)};Je(".dropdown-toggle",Mi),Je(".dropdown-menu",Rs),ae.setAttribute("aria-expanded",Et)}_setAttributeIfNotExists(z,Et,ae){z.hasAttribute(Et)||z.setAttribute(Et,ae)}_elemIsActive(z){return z.classList.contains(Mi)}_getInnerElement(z){return z.matches(il)?z:ue.findOne(il,z)}_getOuterElement(z){return z.closest(".nav-item, .list-group-item")||z}static jQueryInterface(z){return this.each(function(){const Et=ts.getOrCreateInstance(this);if("string"==typeof z){if(void 0===Et[z]||z.startsWith("_")||"constructor"===z)throw new TypeError(`No method named "${z}"`);Et[z]()}})}}zt.on(document,ki,ka,function(ee){["A","AREA"].includes(this.tagName)&&ee.preventDefault(),!N(this)&&ts.getOrCreateInstance(this).show()}),zt.on(window,au,()=>{for(const ee of ue.find(Oc))ts.getOrCreateInstance(ee)}),_(ts);const Aa=".bs.toast",es=`mouseover${Aa}`,Bs=`mouseout${Aa}`,ll=`focusin${Aa}`,lu=`focusout${Aa}`,Vs=`hide${Aa}`,kc=`hidden${Aa}`,Ac=`show${Aa}`,cu=`shown${Aa}`,vs="show",rs="showing",jc={animation:"boolean",autohide:"boolean",delay:"number"},zl={animation:!0,autohide:!0,delay:5e3};class ms extends Kt{constructor(z,Et){super(z,Et),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return zl}static get DefaultType(){return jc}static get NAME(){return"toast"}show(){zt.trigger(this._element,Ac).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(vs,rs),this._queueCallback(()=>{this._element.classList.remove(rs),zt.trigger(this._element,cu),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!zt.trigger(this._element,Vs).defaultPrevented&&(this._element.classList.add(rs),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(rs,vs),zt.trigger(this._element,kc)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(vs),super.dispose()}isShown(){return this._element.classList.contains(vs)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(z,Et){switch(z.type){case"mouseover":case"mouseout":this._hasMouseInteraction=Et;break;case"focusin":case"focusout":this._hasKeyboardInteraction=Et}if(Et)return void this._clearTimeout();const ae=z.relatedTarget;this._element===ae||this._element.contains(ae)||this._maybeScheduleHide()}_setListeners(){zt.on(this._element,es,z=>this._onInteraction(z,!0)),zt.on(this._element,Bs,z=>this._onInteraction(z,!1)),zt.on(this._element,ll,z=>this._onInteraction(z,!0)),zt.on(this._element,lu,z=>this._onInteraction(z,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(z){return this.each(function(){const Et=ms.getOrCreateInstance(this,z);if("string"==typeof z){if(typeof Et[z]>"u")throw new TypeError(`No method named "${z}"`);Et[z](this)}})}}return Fe(ms),_(ms),{Alert:yt,Button:bn,Carousel:je,Collapse:fo,Dropdown:Xt,Modal:Ht,Offcanvas:li,Popover:Za,ScrollSpy:Ja,Tab:ts,Toast:ms,Tooltip:pa}}),function(k,Ae){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=k.document?Ae(k,!0):function(Xe){if(!Xe.document)throw new Error("jQuery requires a window with a document");return Ae(Xe)}:Ae(k)}(typeof window<"u"?window:this,function(k,Ae){"use strict";var Xe=[],wt=Object.getPrototypeOf,R=Xe.slice,at=Xe.flat?function(c){return Xe.flat.call(c)}:function(c){return Xe.concat.apply([],c)},ct=Xe.push,nt=Xe.indexOf,pt={},J=pt.toString,ht=pt.hasOwnProperty,rt=ht.toString,F=rt.call(Object),H={},N=function(g){return"function"==typeof g&&"number"!=typeof g.nodeType&&"function"!=typeof g.item},X=function(g){return null!=g&&g===g.window},ut=k.document,V={type:!0,src:!0,nonce:!0,noModule:!0};function $(c,g,b){var O,I,L=(b=b||ut).createElement("script");if(L.text=c,g)for(O in V)(I=g[O]||g.getAttribute&&g.getAttribute(O))&&L.setAttribute(O,I);b.head.appendChild(L).parentNode.removeChild(L)}function mt(c){return null==c?c+"":"object"==typeof c||"function"==typeof c?pt[J.call(c)]||"object":typeof c}var K="3.7.1",st=/HTML$/i,_=function(c,g){return new _.fn.init(c,g)};function et(c){var g=!!c&&"length"in c&&c.length,b=mt(c);return!N(c)&&!X(c)&&("array"===b||0===g||"number"==typeof g&&g>0&&g-1 in c)}function u(c,g){return c.nodeName&&c.nodeName.toLowerCase()===g.toLowerCase()}_.fn=_.prototype={jquery:K,constructor:_,length:0,toArray:function(){return R.call(this)},get:function(c){return null==c?R.call(this):c<0?this[c+this.length]:this[c]},pushStack:function(c){var g=_.merge(this.constructor(),c);return g.prevObject=this,g},each:function(c){return _.each(this,c)},map:function(c){return this.pushStack(_.map(this,function(g,b){return c.call(g,b,g)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(_.grep(this,function(c,g){return(g+1)%2}))},odd:function(){return this.pushStack(_.grep(this,function(c,g){return g%2}))},eq:function(c){var g=this.length,b=+c+(c<0?g:0);return this.pushStack(b>=0&&b<g?[this[b]]:[])},end:function(){return this.prevObject||this.constructor()},push:ct,sort:Xe.sort,splice:Xe.splice},_.extend=_.fn.extend=function(){var c,g,b,O,I,L,Z=arguments[0]||{},vt=1,_t=arguments.length,It=!1;for("boolean"==typeof Z&&(It=Z,Z=arguments[vt]||{},vt++),"object"!=typeof Z&&!N(Z)&&(Z={}),vt===_t&&(Z=this,vt--);vt<_t;vt++)if(null!=(c=arguments[vt]))for(g in c)O=c[g],"__proto__"!==g&&Z!==O&&(It&&O&&(_.isPlainObject(O)||(I=Array.isArray(O)))?(b=Z[g],L=I&&!Array.isArray(b)?[]:I||_.isPlainObject(b)?b:{},I=!1,Z[g]=_.extend(It,L,O)):void 0!==O&&(Z[g]=O));return Z},_.extend({expando:"jQuery"+(K+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw new Error(c)},noop:function(){},isPlainObject:function(c){var g,b;return!(!c||"[object Object]"!==J.call(c)||(g=wt(c))&&("function"!=typeof(b=ht.call(g,"constructor")&&g.constructor)||rt.call(b)!==F))},isEmptyObject:function(c){var g;for(g in c)return!1;return!0},globalEval:function(c,g,b){$(c,{nonce:g&&g.nonce},b)},each:function(c,g){var b,O=0;if(et(c))for(b=c.length;O<b&&!1!==g.call(c[O],O,c[O]);O++);else for(O in c)if(!1===g.call(c[O],O,c[O]))break;return c},text:function(c){var g,b="",O=0,I=c.nodeType;if(!I)for(;g=c[O++];)b+=_.text(g);return 1===I||11===I?c.textContent:9===I?c.documentElement.textContent:3===I||4===I?c.nodeValue:b},makeArray:function(c,g){var b=g||[];return null!=c&&(et(Object(c))?_.merge(b,"string"==typeof c?[c]:c):ct.call(b,c)),b},inArray:function(c,g,b){return null==g?-1:nt.call(g,c,b)},isXMLDoc:function(c){var b=c&&(c.ownerDocument||c).documentElement;return!st.test(c&&c.namespaceURI||b&&b.nodeName||"HTML")},merge:function(c,g){for(var b=+g.length,O=0,I=c.length;O<b;O++)c[I++]=g[O];return c.length=I,c},grep:function(c,g,b){for(var I=[],L=0,Z=c.length,vt=!b;L<Z;L++)!g(c[L],L)!==vt&&I.push(c[L]);return I},map:function(c,g,b){var O,I,L=0,Z=[];if(et(c))for(O=c.length;L<O;L++)null!=(I=g(c[L],L,b))&&Z.push(I);else for(L in c)null!=(I=g(c[L],L,b))&&Z.push(I);return at(Z)},guid:1,support:H}),"function"==typeof Symbol&&(_.fn[Symbol.iterator]=Xe[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,g){pt["[object "+g+"]"]=g.toLowerCase()});var w=Xe.pop,m=Xe.sort,x=Xe.splice,E="[\\x20\\t\\r\\n\\f]",A=new RegExp("^"+E+"+|((?:^|[^\\\\])(?:\\\\.)*)"+E+"+$","g");_.contains=function(c,g){var b=g&&g.parentNode;return c===b||!(!b||1!==b.nodeType||!(c.contains?c.contains(b):c.compareDocumentPosition&&16&c.compareDocumentPosition(b)))};var T=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function q(c,g){return g?"\0"===c?"\ufffd":c.slice(0,-1)+"\\"+c.charCodeAt(c.length-1).toString(16)+" ":"\\"+c}_.escapeSelector=function(c){return(c+"").replace(T,q)};var M=ut,G=ct;!function(){var c,g,b,O,I,Z,vt,_t,It,Ut,L=G,Gt=_.expando,Xt=0,ye=0,tn=Ot(),en=Ot(),hn=Ot(),qn=Ot(),ir=function(Ht,pe){return Ht===pe&&(I=!0),0},Re="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",pr="(?:\\\\[\\da-fA-F]{1,6}"+E+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Jn="\\["+E+"*("+pr+")(?:"+E+"*([*^$|!~]?=)"+E+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+pr+"))|)"+E+"*\\]",br=":("+pr+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Jn+")*)|.*)\\)|)",Mn=new RegExp(E+"+","g"),Pn=new RegExp("^"+E+"*,"+E+"*"),Wr=new RegExp("^"+E+"*([>+~]|"+E+")"+E+"*"),Er=new RegExp(E+"|>"),wr=new RegExp(br),_o=new RegExp("^"+pr+"$"),no={ID:new RegExp("^#("+pr+")"),CLASS:new RegExp("^\\.("+pr+")"),TAG:new RegExp("^("+pr+"|[*])"),ATTR:new RegExp("^"+Jn),PSEUDO:new RegExp("^"+br),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+E+"*(even|odd|(([+-]|)(\\d*)n|)"+E+"*(?:([+-]|)"+E+"*(\\d+)|))"+E+"*\\)|)","i"),bool:new RegExp("^(?:"+Re+")$","i"),needsContext:new RegExp("^"+E+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+E+"*((?:-\\d)?\\d*)"+E+"*\\)|)(?=[^-]|$)","i")},Fo=/^(?:input|select|textarea|button)$/i,kn=/^h\d$/i,Lr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Fr=/[+~]/,$r=new RegExp("\\\\[\\da-fA-F]{1,6}"+E+"?|\\\\([^\\r\\n\\f])","g"),Mr=function(Ht,pe){var De="0x"+Ht.slice(1)-65536;return pe||(De<0?String.fromCharCode(De+65536):String.fromCharCode(De>>10|55296,1023&De|56320))},Oi=function(){lr()},ao=Mo(function(Ht){return!0===Ht.disabled&&u(Ht,"fieldset")},{dir:"parentNode",next:"legend"});try{L.apply(Xe=R.call(M.childNodes),M.childNodes)}catch{L={apply:function(pe,De){G.apply(pe,R.call(De))},call:function(pe){G.apply(pe,R.call(arguments,1))}}}function ft(Ht,pe,De,Pe){var Ge,wn,Cn,Dn,En,hr,ar,dr=pe&&pe.ownerDocument,yr=pe?pe.nodeType:9;if(De=De||[],"string"!=typeof Ht||!Ht||1!==yr&&9!==yr&&11!==yr)return De;if(!Pe&&(lr(pe),pe=pe||Z,_t)){if(11!==yr&&(En=Lr.exec(Ht)))if(Ge=En[1]){if(9===yr){if(!(Cn=pe.getElementById(Ge)))return De;if(Cn.id===Ge)return L.call(De,Cn),De}else if(dr&&(Cn=dr.getElementById(Ge))&&ft.contains(pe,Cn)&&Cn.id===Ge)return L.call(De,Cn),De}else{if(En[2])return L.apply(De,pe.getElementsByTagName(Ht)),De;if((Ge=En[3])&&pe.getElementsByClassName)return L.apply(De,pe.getElementsByClassName(Ge)),De}if(!(qn[Ht+" "]||It&&It.test(Ht))){if(ar=Ht,dr=pe,1===yr&&(Er.test(Ht)||Wr.test(Ht))){for(((dr=Fr.test(Ht)&&tr(pe.parentNode)||pe)!=pe||!H.scope)&&((Dn=pe.getAttribute("id"))?Dn=_.escapeSelector(Dn):pe.setAttribute("id",Dn=Gt)),wn=(hr=ro(Ht)).length;wn--;)hr[wn]=(Dn?"#"+Dn:":scope")+" "+ko(hr[wn]);ar=hr.join(",")}try{return L.apply(De,dr.querySelectorAll(ar)),De}catch{qn(Ht,!0)}finally{Dn===Gt&&pe.removeAttribute("id")}}}return Ds(Ht.replace(A,"$1"),pe,De,Pe)}function Ot(){var Ht=[];return function pe(De,Pe){return Ht.push(De+" ")>g.cacheLength&&delete pe[Ht.shift()],pe[De+" "]=Pe}}function qt(Ht){return Ht[Gt]=!0,Ht}function ne(Ht){var pe=Z.createElement("fieldset");try{return!!Ht(pe)}catch{return!1}finally{pe.parentNode&&pe.parentNode.removeChild(pe),pe=null}}function fe(Ht){return function(pe){return u(pe,"input")&&pe.type===Ht}}function ve(Ht){return function(pe){return(u(pe,"input")||u(pe,"button"))&&pe.type===Ht}}function $e(Ht){return function(pe){return"form"in pe?pe.parentNode&&!1===pe.disabled?"label"in pe?"label"in pe.parentNode?pe.parentNode.disabled===Ht:pe.disabled===Ht:pe.isDisabled===Ht||pe.isDisabled!==!Ht&&ao(pe)===Ht:pe.disabled===Ht:"label"in pe&&pe.disabled===Ht}}function ln(Ht){return qt(function(pe){return pe=+pe,qt(function(De,Pe){for(var Ge,wn=Ht([],De.length,pe),Cn=wn.length;Cn--;)De[Ge=wn[Cn]]&&(De[Ge]=!(Pe[Ge]=De[Ge]))})})}function tr(Ht){return Ht&&typeof Ht.getElementsByTagName<"u"&&Ht}function lr(Ht){var pe,De=Ht?Ht.ownerDocument||Ht:M;return De==Z||9!==De.nodeType||!De.documentElement||(vt=(Z=De).documentElement,_t=!_.isXMLDoc(Z),Ut=vt.matches||vt.webkitMatchesSelector||vt.msMatchesSelector,vt.msMatchesSelector&&M!=Z&&(pe=Z.defaultView)&&pe.top!==pe&&pe.addEventListener("unload",Oi),H.getById=ne(function(Pe){return vt.appendChild(Pe).id=_.expando,!Z.getElementsByName||!Z.getElementsByName(_.expando).length}),H.disconnectedMatch=ne(function(Pe){return Ut.call(Pe,"*")}),H.scope=ne(function(){return Z.querySelectorAll(":scope")}),H.cssHas=ne(function(){try{return Z.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),H.getById?(g.filter.ID=function(Pe){var Ge=Pe.replace($r,Mr);return function(wn){return wn.getAttribute("id")===Ge}},g.find.ID=function(Pe,Ge){if(typeof Ge.getElementById<"u"&&_t){var wn=Ge.getElementById(Pe);return wn?[wn]:[]}}):(g.filter.ID=function(Pe){var Ge=Pe.replace($r,Mr);return function(wn){var Cn=typeof wn.getAttributeNode<"u"&&wn.getAttributeNode("id");return Cn&&Cn.value===Ge}},g.find.ID=function(Pe,Ge){if(typeof Ge.getElementById<"u"&&_t){var wn,Cn,Dn,En=Ge.getElementById(Pe);if(En){if((wn=En.getAttributeNode("id"))&&wn.value===Pe)return[En];for(Dn=Ge.getElementsByName(Pe),Cn=0;En=Dn[Cn++];)if((wn=En.getAttributeNode("id"))&&wn.value===Pe)return[En]}return[]}}),g.find.TAG=function(Pe,Ge){return typeof Ge.getElementsByTagName<"u"?Ge.getElementsByTagName(Pe):Ge.querySelectorAll(Pe)},g.find.CLASS=function(Pe,Ge){if(typeof Ge.getElementsByClassName<"u"&&_t)return Ge.getElementsByClassName(Pe)},It=[],ne(function(Pe){var Ge;vt.appendChild(Pe).innerHTML="<a id='"+Gt+"' href='' disabled='disabled'></a><select id='"+Gt+"-\r\\' disabled='disabled'><option selected=''></option></select>",Pe.querySelectorAll("[selected]").length||It.push("\\["+E+"*(?:value|"+Re+")"),Pe.querySelectorAll("[id~="+Gt+"-]").length||It.push("~="),Pe.querySelectorAll("a#"+Gt+"+*").length||It.push(".#.+[+~]"),Pe.querySelectorAll(":checked").length||It.push(":checked"),(Ge=Z.createElement("input")).setAttribute("type","hidden"),Pe.appendChild(Ge).setAttribute("name","D"),vt.appendChild(Pe).disabled=!0,2!==Pe.querySelectorAll(":disabled").length&&It.push(":enabled",":disabled"),(Ge=Z.createElement("input")).setAttribute("name",""),Pe.appendChild(Ge),Pe.querySelectorAll("[name='']").length||It.push("\\["+E+"*name"+E+"*="+E+"*(?:''|\"\")")}),H.cssHas||It.push(":has"),It=It.length&&new RegExp(It.join("|")),ir=function(Pe,Ge){if(Pe===Ge)return I=!0,0;var wn=!Pe.compareDocumentPosition-!Ge.compareDocumentPosition;return wn||(1&(wn=(Pe.ownerDocument||Pe)==(Ge.ownerDocument||Ge)?Pe.compareDocumentPosition(Ge):1)||!H.sortDetached&&Ge.compareDocumentPosition(Pe)===wn?Pe===Z||Pe.ownerDocument==M&&ft.contains(M,Pe)?-1:Ge===Z||Ge.ownerDocument==M&&ft.contains(M,Ge)?1:O?nt.call(O,Pe)-nt.call(O,Ge):0:4&wn?-1:1)}),Z}for(c in ft.matches=function(Ht,pe){return ft(Ht,null,null,pe)},ft.matchesSelector=function(Ht,pe){if(lr(Ht),_t&&!qn[pe+" "]&&(!It||!It.test(pe)))try{var De=Ut.call(Ht,pe);if(De||H.disconnectedMatch||Ht.document&&11!==Ht.document.nodeType)return De}catch{qn(pe,!0)}return ft(pe,Z,null,[Ht]).length>0},ft.contains=function(Ht,pe){return(Ht.ownerDocument||Ht)!=Z&&lr(Ht),_.contains(Ht,pe)},ft.attr=function(Ht,pe){(Ht.ownerDocument||Ht)!=Z&&lr(Ht);var De=g.attrHandle[pe.toLowerCase()],Pe=De&&ht.call(g.attrHandle,pe.toLowerCase())?De(Ht,pe,!_t):void 0;return void 0!==Pe?Pe:Ht.getAttribute(pe)},ft.error=function(Ht){throw new Error("Syntax error, unrecognized expression: "+Ht)},_.uniqueSort=function(Ht){var pe,De=[],Pe=0,Ge=0;if(I=!H.sortStable,O=!H.sortStable&&R.call(Ht,0),m.call(Ht,ir),I){for(;pe=Ht[Ge++];)pe===Ht[Ge]&&(Pe=De.push(Ge));for(;Pe--;)x.call(Ht,De[Pe],1)}return O=null,Ht},_.fn.uniqueSort=function(){return this.pushStack(_.uniqueSort(R.apply(this)))},(g=_.expr={cacheLength:50,createPseudo:qt,match:no,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Ht){return Ht[1]=Ht[1].replace($r,Mr),Ht[3]=(Ht[3]||Ht[4]||Ht[5]||"").replace($r,Mr),"~="===Ht[2]&&(Ht[3]=" "+Ht[3]+" "),Ht.slice(0,4)},CHILD:function(Ht){return Ht[1]=Ht[1].toLowerCase(),"nth"===Ht[1].slice(0,3)?(Ht[3]||ft.error(Ht[0]),Ht[4]=+(Ht[4]?Ht[5]+(Ht[6]||1):2*("even"===Ht[3]||"odd"===Ht[3])),Ht[5]=+(Ht[7]+Ht[8]||"odd"===Ht[3])):Ht[3]&&ft.error(Ht[0]),Ht},PSEUDO:function(Ht){var pe,De=!Ht[6]&&Ht[2];return no.CHILD.test(Ht[0])?null:(Ht[3]?Ht[2]=Ht[4]||Ht[5]||"":De&&wr.test(De)&&(pe=ro(De,!0))&&(pe=De.indexOf(")",De.length-pe)-De.length)&&(Ht[0]=Ht[0].slice(0,pe),Ht[2]=De.slice(0,pe)),Ht.slice(0,3))}},filter:{TAG:function(Ht){var pe=Ht.replace($r,Mr).toLowerCase();return"*"===Ht?function(){return!0}:function(De){return u(De,pe)}},CLASS:function(Ht){var pe=tn[Ht+" "];return pe||(pe=new RegExp("(^|"+E+")"+Ht+"("+E+"|$)"))&&tn(Ht,function(De){return pe.test("string"==typeof De.className&&De.className||typeof De.getAttribute<"u"&&De.getAttribute("class")||"")})},ATTR:function(Ht,pe,De){return function(Pe){var Ge=ft.attr(Pe,Ht);return null==Ge?"!="===pe:!pe||(Ge+="","="===pe?Ge===De:"!="===pe?Ge!==De:"^="===pe?De&&0===Ge.indexOf(De):"*="===pe?De&&Ge.indexOf(De)>-1:"$="===pe?De&&Ge.slice(-De.length)===De:"~="===pe?(" "+Ge.replace(Mn," ")+" ").indexOf(De)>-1:"|="===pe&&(Ge===De||Ge.slice(0,De.length+1)===De+"-"))}},CHILD:function(Ht,pe,De,Pe,Ge){var wn="nth"!==Ht.slice(0,3),Cn="last"!==Ht.slice(-4),Dn="of-type"===pe;return 1===Pe&&0===Ge?function(En){return!!En.parentNode}:function(En,hr,ar){var dr,yr,Kn,so,vi,Jo=wn!==Cn?"nextSibling":"previousSibling",Co=En.parentNode,mi=Dn&&En.nodeName.toLowerCase(),ua=!ar&&!Dn,Qo=!1;if(Co){if(wn){for(;Jo;){for(Kn=En;Kn=Kn[Jo];)if(Dn?u(Kn,mi):1===Kn.nodeType)return!1;vi=Jo="only"===Ht&&!vi&&"nextSibling"}return!0}if(vi=[Cn?Co.firstChild:Co.lastChild],Cn&&ua){for(Qo=(so=(dr=(yr=Co[Gt]||(Co[Gt]={}))[Ht]||[])[0]===Xt&&dr[1])&&dr[2],Kn=so&&Co.childNodes[so];Kn=++so&&Kn&&Kn[Jo]||(Qo=so=0)||vi.pop();)if(1===Kn.nodeType&&++Qo&&Kn===En){yr[Ht]=[Xt,so,Qo];break}}else if(ua&&(Qo=so=(dr=(yr=En[Gt]||(En[Gt]={}))[Ht]||[])[0]===Xt&&dr[1]),!1===Qo)for(;(Kn=++so&&Kn&&Kn[Jo]||(Qo=so=0)||vi.pop())&&(!(Dn?u(Kn,mi):1===Kn.nodeType)||!++Qo||(ua&&((yr=Kn[Gt]||(Kn[Gt]={}))[Ht]=[Xt,Qo]),Kn!==En)););return(Qo-=Ge)===Pe||Qo%Pe==0&&Qo/Pe>=0}}},PSEUDO:function(Ht,pe){var De,Pe=g.pseudos[Ht]||g.setFilters[Ht.toLowerCase()]||ft.error("unsupported pseudo: "+Ht);return Pe[Gt]?Pe(pe):Pe.length>1?(De=[Ht,Ht,"",pe],g.setFilters.hasOwnProperty(Ht.toLowerCase())?qt(function(Ge,wn){for(var Cn,Dn=Pe(Ge,pe),En=Dn.length;En--;)Ge[Cn=nt.call(Ge,Dn[En])]=!(wn[Cn]=Dn[En])}):function(Ge){return Pe(Ge,0,De)}):Pe}},pseudos:{not:qt(function(Ht){var pe=[],De=[],Pe=za(Ht.replace(A,"$1"));return Pe[Gt]?qt(function(Ge,wn,Cn,Dn){for(var En,hr=Pe(Ge,null,Dn,[]),ar=Ge.length;ar--;)(En=hr[ar])&&(Ge[ar]=!(wn[ar]=En))}):function(Ge,wn,Cn){return pe[0]=Ge,Pe(pe,null,Cn,De),pe[0]=null,!De.pop()}}),has:qt(function(Ht){return function(pe){return ft(Ht,pe).length>0}}),contains:qt(function(Ht){return Ht=Ht.replace($r,Mr),function(pe){return(pe.textContent||_.text(pe)).indexOf(Ht)>-1}}),lang:qt(function(Ht){return _o.test(Ht||"")||ft.error("unsupported lang: "+Ht),Ht=Ht.replace($r,Mr).toLowerCase(),function(pe){var De;do{if(De=_t?pe.lang:pe.getAttribute("xml:lang")||pe.getAttribute("lang"))return(De=De.toLowerCase())===Ht||0===De.indexOf(Ht+"-")}while((pe=pe.parentNode)&&1===pe.nodeType);return!1}}),target:function(Ht){var pe=k.location&&k.location.hash;return pe&&pe.slice(1)===Ht.id},root:function(Ht){return Ht===vt},focus:function(Ht){return Ht===function Rr(){try{return Z.activeElement}catch{}}()&&Z.hasFocus()&&!!(Ht.type||Ht.href||~Ht.tabIndex)},enabled:$e(!1),disabled:$e(!0),checked:function(Ht){return u(Ht,"input")&&!!Ht.checked||u(Ht,"option")&&!!Ht.selected},selected:function(Ht){return!0===Ht.selected},empty:function(Ht){for(Ht=Ht.firstChild;Ht;Ht=Ht.nextSibling)if(Ht.nodeType<6)return!1;return!0},parent:function(Ht){return!g.pseudos.empty(Ht)},header:function(Ht){return kn.test(Ht.nodeName)},input:function(Ht){return Fo.test(Ht.nodeName)},button:function(Ht){return u(Ht,"input")&&"button"===Ht.type||u(Ht,"button")},text:function(Ht){var pe;return u(Ht,"input")&&"text"===Ht.type&&(null==(pe=Ht.getAttribute("type"))||"text"===pe.toLowerCase())},first:ln(function(){return[0]}),last:ln(function(Ht,pe){return[pe-1]}),eq:ln(function(Ht,pe,De){return[De<0?De+pe:De]}),even:ln(function(Ht,pe){for(var De=0;De<pe;De+=2)Ht.push(De);return Ht}),odd:ln(function(Ht,pe){for(var De=1;De<pe;De+=2)Ht.push(De);return Ht}),lt:ln(function(Ht,pe,De){var Pe;for(Pe=De<0?De+pe:De>pe?pe:De;--Pe>=0;)Ht.push(Pe);return Ht}),gt:ln(function(Ht,pe,De){for(var Pe=De<0?De+pe:De;++Pe<pe;)Ht.push(Pe);return Ht})}}).pseudos.nth=g.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})g.pseudos[c]=fe(c);for(c in{submit:!0,reset:!0})g.pseudos[c]=ve(c);function Hr(){}function ro(Ht,pe){var De,Pe,Ge,wn,Cn,Dn,En,hr=en[Ht+" "];if(hr)return pe?0:hr.slice(0);for(Cn=Ht,Dn=[],En=g.preFilter;Cn;){for(wn in(!De||(Pe=Pn.exec(Cn)))&&(Pe&&(Cn=Cn.slice(Pe[0].length)||Cn),Dn.push(Ge=[])),De=!1,(Pe=Wr.exec(Cn))&&(De=Pe.shift(),Ge.push({value:De,type:Pe[0].replace(A," ")}),Cn=Cn.slice(De.length)),g.filter)(Pe=no[wn].exec(Cn))&&(!En[wn]||(Pe=En[wn](Pe)))&&(De=Pe.shift(),Ge.push({value:De,type:wn,matches:Pe}),Cn=Cn.slice(De.length));if(!De)break}return pe?Cn.length:Cn?ft.error(Ht):en(Ht,Dn).slice(0)}function ko(Ht){for(var pe=0,De=Ht.length,Pe="";pe<De;pe++)Pe+=Ht[pe].value;return Pe}function Mo(Ht,pe,De){var Pe=pe.dir,Ge=pe.next,wn=Ge||Pe,Cn=De&&"parentNode"===wn,Dn=ye++;return pe.first?function(En,hr,ar){for(;En=En[Pe];)if(1===En.nodeType||Cn)return Ht(En,hr,ar);return!1}:function(En,hr,ar){var dr,yr,Kn=[Xt,Dn];if(ar){for(;En=En[Pe];)if((1===En.nodeType||Cn)&&Ht(En,hr,ar))return!0}else for(;En=En[Pe];)if(1===En.nodeType||Cn)if(yr=En[Gt]||(En[Gt]={}),Ge&&u(En,Ge))En=En[Pe]||En;else{if((dr=yr[wn])&&dr[0]===Xt&&dr[1]===Dn)return Kn[2]=dr[2];if(yr[wn]=Kn,Kn[2]=Ht(En,hr,ar))return!0}return!1}}function qi(Ht){return Ht.length>1?function(pe,De,Pe){for(var Ge=Ht.length;Ge--;)if(!Ht[Ge](pe,De,Pe))return!1;return!0}:Ht[0]}function Ki(Ht,pe,De,Pe,Ge){for(var wn,Cn=[],Dn=0,En=Ht.length,hr=null!=pe;Dn<En;Dn++)(wn=Ht[Dn])&&(!De||De(wn,Pe,Ge))&&(Cn.push(wn),hr&&pe.push(Dn));return Cn}function Es(Ht,pe,De,Pe,Ge,wn){return Pe&&!Pe[Gt]&&(Pe=Es(Pe)),Ge&&!Ge[Gt]&&(Ge=Es(Ge,wn)),qt(function(Cn,Dn,En,hr){var ar,dr,yr,Kn,so=[],vi=[],Jo=Dn.length,Co=Cn||function Va(Ht,pe,De){for(var Pe=0,Ge=pe.length;Pe<Ge;Pe++)ft(Ht,pe[Pe],De);return De}(pe||"*",En.nodeType?[En]:En,[]),mi=!Ht||!Cn&&pe?Co:Ki(Co,so,Ht,En,hr);if(De?De(mi,Kn=Ge||(Cn?Ht:Jo||Pe)?[]:Dn,En,hr):Kn=mi,Pe)for(ar=Ki(Kn,vi),Pe(ar,[],En,hr),dr=ar.length;dr--;)(yr=ar[dr])&&(Kn[vi[dr]]=!(mi[vi[dr]]=yr));if(Cn){if(Ge||Ht){if(Ge){for(ar=[],dr=Kn.length;dr--;)(yr=Kn[dr])&&ar.push(mi[dr]=yr);Ge(null,Kn=[],ar,hr)}for(dr=Kn.length;dr--;)(yr=Kn[dr])&&(ar=Ge?nt.call(Cn,yr):so[dr])>-1&&(Cn[ar]=!(Dn[ar]=yr))}}else Kn=Ki(Kn===Dn?Kn.splice(Jo,Kn.length):Kn),Ge?Ge(null,Dn,Kn,hr):L.apply(Dn,Kn)})}function js(Ht){for(var pe,De,Pe,Ge=Ht.length,wn=g.relative[Ht[0].type],Cn=wn||g.relative[" "],Dn=wn?1:0,En=Mo(function(dr){return dr===pe},Cn,!0),hr=Mo(function(dr){return nt.call(pe,dr)>-1},Cn,!0),ar=[function(dr,yr,Kn){var so=!wn&&(Kn||yr!=b)||((pe=yr).nodeType?En(dr,yr,Kn):hr(dr,yr,Kn));return pe=null,so}];Dn<Ge;Dn++)if(De=g.relative[Ht[Dn].type])ar=[Mo(qi(ar),De)];else{if((De=g.filter[Ht[Dn].type].apply(null,Ht[Dn].matches))[Gt]){for(Pe=++Dn;Pe<Ge&&!g.relative[Ht[Pe].type];Pe++);return Es(Dn>1&&qi(ar),Dn>1&&ko(Ht.slice(0,Dn-1).concat({value:" "===Ht[Dn-2].type?"*":""})).replace(A,"$1"),De,Dn<Pe&&js(Ht.slice(Dn,Pe)),Pe<Ge&&js(Ht=Ht.slice(Pe)),Pe<Ge&&ko(Ht))}ar.push(De)}return qi(ar)}function za(Ht,pe){var De,Pe=[],Ge=[],wn=hn[Ht+" "];if(!wn){for(pe||(pe=ro(Ht)),De=pe.length;De--;)(wn=js(pe[De]))[Gt]?Pe.push(wn):Ge.push(wn);wn=hn(Ht,function Al(Ht,pe){var De=pe.length>0,Pe=Ht.length>0,Ge=function(wn,Cn,Dn,En,hr){var ar,dr,yr,Kn=0,so="0",vi=wn&&[],Jo=[],Co=b,mi=wn||Pe&&g.find.TAG("*",hr),ua=Xt+=null==Co?1:Math.random()||.1,Qo=mi.length;for(hr&&(b=Cn==Z||Cn||hr);so!==Qo&&null!=(ar=mi[so]);so++){if(Pe&&ar){for(dr=0,!Cn&&ar.ownerDocument!=Z&&(lr(ar),Dn=!_t);yr=Ht[dr++];)if(yr(ar,Cn||Z,Dn)){L.call(En,ar);break}hr&&(Xt=ua)}De&&((ar=!yr&&ar)&&Kn--,wn&&vi.push(ar))}if(Kn+=so,De&&so!==Kn){for(dr=0;yr=pe[dr++];)yr(vi,Jo,Cn,Dn);if(wn){if(Kn>0)for(;so--;)vi[so]||Jo[so]||(Jo[so]=w.call(En));Jo=Ki(Jo)}L.apply(En,Jo),hr&&!wn&&Jo.length>0&&Kn+pe.length>1&&_.uniqueSort(En)}return hr&&(Xt=ua,b=Co),vi};return De?qt(Ge):Ge}(Ge,Pe)),wn.selector=Ht}return wn}function Ds(Ht,pe,De,Pe){var Ge,wn,Cn,Dn,En,hr="function"==typeof Ht&&Ht,ar=!Pe&&ro(Ht=hr.selector||Ht);if(De=De||[],1===ar.length){if((wn=ar[0]=ar[0].slice(0)).length>2&&"ID"===(Cn=wn[0]).type&&9===pe.nodeType&&_t&&g.relative[wn[1].type]){if(!(pe=(g.find.ID(Cn.matches[0].replace($r,Mr),pe)||[])[0]))return De;hr&&(pe=pe.parentNode),Ht=Ht.slice(wn.shift().value.length)}for(Ge=no.needsContext.test(Ht)?0:wn.length;Ge--&&!g.relative[Dn=(Cn=wn[Ge]).type];)if((En=g.find[Dn])&&(Pe=En(Cn.matches[0].replace($r,Mr),Fr.test(wn[0].type)&&tr(pe.parentNode)||pe))){if(wn.splice(Ge,1),!(Ht=Pe.length&&ko(wn)))return L.apply(De,Pe),De;break}}return(hr||za(Ht,ar))(Pe,pe,!_t,De,!pe||Fr.test(Ht)&&tr(pe.parentNode)||pe),De}Hr.prototype=g.filters=g.pseudos,g.setFilters=new Hr,H.sortStable=Gt.split("").sort(ir).join("")===Gt,lr(),H.sortDetached=ne(function(Ht){return 1&Ht.compareDocumentPosition(Z.createElement("fieldset"))}),_.find=ft,_.expr[":"]=_.expr.pseudos,_.unique=_.uniqueSort,ft.compile=za,ft.select=Ds,ft.setDocument=lr,ft.tokenize=ro,ft.escape=_.escapeSelector,ft.getText=_.text,ft.isXML=_.isXMLDoc,ft.selectors=_.expr,ft.support=_.support,ft.uniqueSort=_.uniqueSort}();var B=function(c,g,b){for(var O=[],I=void 0!==b;(c=c[g])&&9!==c.nodeType;)if(1===c.nodeType){if(I&&_(c).is(b))break;O.push(c)}return O},ot=function(c,g){for(var b=[];c;c=c.nextSibling)1===c.nodeType&&c!==g&&b.push(c);return b},U=_.expr.match.needsContext,Lt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Mt(c,g,b){return N(g)?_.grep(c,function(O,I){return!!g.call(O,I,O)!==b}):g.nodeType?_.grep(c,function(O){return O===g!==b}):"string"!=typeof g?_.grep(c,function(O){return nt.call(g,O)>-1!==b}):_.filter(g,c,b)}_.filter=function(c,g,b){var O=g[0];return b&&(c=":not("+c+")"),1===g.length&&1===O.nodeType?_.find.matchesSelector(O,c)?[O]:[]:_.find.matches(c,_.grep(g,function(I){return 1===I.nodeType}))},_.fn.extend({find:function(c){var g,b,O=this.length,I=this;if("string"!=typeof c)return this.pushStack(_(c).filter(function(){for(g=0;g<O;g++)if(_.contains(I[g],this))return!0}));for(b=this.pushStack([]),g=0;g<O;g++)_.find(c,I[g],b);return O>1?_.uniqueSort(b):b},filter:function(c){return this.pushStack(Mt(this,c||[],!1))},not:function(c){return this.pushStack(Mt(this,c||[],!0))},is:function(c){return!!Mt(this,"string"==typeof c&&U.test(c)?_(c):c||[],!1).length}});var St,Pt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Jt=_.fn.init=function(c,g,b){var O,I;if(!c)return this;if(b=b||St,"string"==typeof c){if(!(O="<"===c[0]&&">"===c[c.length-1]&&c.length>=3?[null,c,null]:Pt.exec(c))||!O[1]&&g)return!g||g.jquery?(g||b).find(c):this.constructor(g).find(c);if(O[1]){if(_.merge(this,_.parseHTML(O[1],(g=g instanceof _?g[0]:g)&&g.nodeType?g.ownerDocument||g:ut,!0)),Lt.test(O[1])&&_.isPlainObject(g))for(O in g)N(this[O])?this[O](g[O]):this.attr(O,g[O]);return this}return(I=ut.getElementById(O[2]))&&(this[0]=I,this.length=1),this}return c.nodeType?(this[0]=c,this.length=1,this):N(c)?void 0!==b.ready?b.ready(c):c(_):_.makeArray(c,this)};Jt.prototype=_.fn,St=_(ut);var de=/^(?:parents|prev(?:Until|All))/,zt={children:!0,contents:!0,next:!0,prev:!0};function he(c,g){for(;(c=c[g])&&1!==c.nodeType;);return c}_.fn.extend({has:function(c){var g=_(c,this),b=g.length;return this.filter(function(){for(var O=0;O<b;O++)if(_.contains(this,g[O]))return!0})},closest:function(c,g){var b,O=0,I=this.length,L=[],Z="string"!=typeof c&&_(c);if(!U.test(c))for(;O<I;O++)for(b=this[O];b&&b!==g;b=b.parentNode)if(b.nodeType<11&&(Z?Z.index(b)>-1:1===b.nodeType&&_.find.matchesSelector(b,c))){L.push(b);break}return this.pushStack(L.length>1?_.uniqueSort(L):L)},index:function(c){return c?"string"==typeof c?nt.call(_(c),this[0]):nt.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,g){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(c,g))))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}}),_.each({parent:function(c){var g=c.parentNode;return g&&11!==g.nodeType?g:null},parents:function(c){return B(c,"parentNode")},parentsUntil:function(c,g,b){return B(c,"parentNode",b)},next:function(c){return he(c,"nextSibling")},prev:function(c){return he(c,"previousSibling")},nextAll:function(c){return B(c,"nextSibling")},prevAll:function(c){return B(c,"previousSibling")},nextUntil:function(c,g,b){return B(c,"nextSibling",b)},prevUntil:function(c,g,b){return B(c,"previousSibling",b)},siblings:function(c){return ot((c.parentNode||{}).firstChild,c)},children:function(c){return ot(c.firstChild)},contents:function(c){return null!=c.contentDocument&&wt(c.contentDocument)?c.contentDocument:(u(c,"template")&&(c=c.content||c),_.merge([],c.childNodes))}},function(c,g){_.fn[c]=function(b,O){var I=_.map(this,g,b);return"Until"!==c.slice(-5)&&(O=b),O&&"string"==typeof O&&(I=_.filter(O,I)),this.length>1&&(zt[c]||_.uniqueSort(I),de.test(c)&&I.reverse()),this.pushStack(I)}});var Qt=/[^\x20\t\r\n\f]+/g;function me(c){return c}function Ee(c){throw c}function We(c,g,b,O){var I;try{c&&N(I=c.promise)?I.call(c).done(g).fail(b):c&&N(I=c.then)?I.call(c,g,b):g.apply(void 0,[c].slice(O))}catch(L){b.apply(void 0,[L])}}_.Callbacks=function(c){c="string"==typeof c?function Ue(c){var g={};return _.each(c.match(Qt)||[],function(b,O){g[O]=!0}),g}(c):_.extend({},c);var g,b,O,I,L=[],Z=[],vt=-1,_t=function(){for(I=I||c.once,O=g=!0;Z.length;vt=-1)for(b=Z.shift();++vt<L.length;)!1===L[vt].apply(b[0],b[1])&&c.stopOnFalse&&(vt=L.length,b=!1);c.memory||(b=!1),g=!1,I&&(L=b?[]:"")},It={add:function(){return L&&(b&&!g&&(vt=L.length-1,Z.push(b)),function Ut(Gt){_.each(Gt,function(Xt,ye){N(ye)?(!c.unique||!It.has(ye))&&L.push(ye):ye&&ye.length&&"string"!==mt(ye)&&Ut(ye)})}(arguments),b&&!g&&_t()),this},remove:function(){return _.each(arguments,function(Ut,Gt){for(var Xt;(Xt=_.inArray(Gt,L,Xt))>-1;)L.splice(Xt,1),Xt<=vt&&vt--}),this},has:function(Ut){return Ut?_.inArray(Ut,L)>-1:L.length>0},empty:function(){return L&&(L=[]),this},disable:function(){return I=Z=[],L=b="",this},disabled:function(){return!L},lock:function(){return I=Z=[],!b&&!g&&(L=b=""),this},locked:function(){return!!I},fireWith:function(Ut,Gt){return I||(Gt=[Ut,(Gt=Gt||[]).slice?Gt.slice():Gt],Z.push(Gt),g||_t()),this},fire:function(){return It.fireWith(this,arguments),this},fired:function(){return!!O}};return It},_.extend({Deferred:function(c){var g=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],b="pending",O={state:function(){return b},always:function(){return I.done(arguments).fail(arguments),this},catch:function(L){return O.then(null,L)},pipe:function(){var L=arguments;return _.Deferred(function(Z){_.each(g,function(vt,_t){var It=N(L[_t[4]])&&L[_t[4]];I[_t[1]](function(){var Ut=It&&It.apply(this,arguments);Ut&&N(Ut.promise)?Ut.promise().progress(Z.notify).done(Z.resolve).fail(Z.reject):Z[_t[0]+"With"](this,It?[Ut]:arguments)})}),L=null}).promise()},then:function(L,Z,vt){var _t=0;function It(Ut,Gt,Xt,ye){return function(){var tn=this,en=arguments,hn=function(){var ir,Re;if(!(Ut<_t)){if((ir=Xt.apply(tn,en))===Gt.promise())throw new TypeError("Thenable self-resolution");N(Re=ir&&("object"==typeof ir||"function"==typeof ir)&&ir.then)?ye?Re.call(ir,It(_t,Gt,me,ye),It(_t,Gt,Ee,ye)):(_t++,Re.call(ir,It(_t,Gt,me,ye),It(_t,Gt,Ee,ye),It(_t,Gt,me,Gt.notifyWith))):(Xt!==me&&(tn=void 0,en=[ir]),(ye||Gt.resolveWith)(tn,en))}},qn=ye?hn:function(){try{hn()}catch(ir){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(ir,qn.error),Ut+1>=_t&&(Xt!==Ee&&(tn=void 0,en=[ir]),Gt.rejectWith(tn,en))}};Ut?qn():(_.Deferred.getErrorHook?qn.error=_.Deferred.getErrorHook():_.Deferred.getStackHook&&(qn.error=_.Deferred.getStackHook()),k.setTimeout(qn))}}return _.Deferred(function(Ut){g[0][3].add(It(0,Ut,N(vt)?vt:me,Ut.notifyWith)),g[1][3].add(It(0,Ut,N(L)?L:me)),g[2][3].add(It(0,Ut,N(Z)?Z:Ee))}).promise()},promise:function(L){return null!=L?_.extend(L,O):O}},I={};return _.each(g,function(L,Z){var vt=Z[2],_t=Z[5];O[Z[1]]=vt.add,_t&&vt.add(function(){b=_t},g[3-L][2].disable,g[3-L][3].disable,g[0][2].lock,g[0][3].lock),vt.add(Z[3].fire),I[Z[0]]=function(){return I[Z[0]+"With"](this===I?void 0:this,arguments),this},I[Z[0]+"With"]=vt.fireWith}),O.promise(I),c&&c.call(I,I),I},when:function(c){var g=arguments.length,b=g,O=Array(b),I=R.call(arguments),L=_.Deferred(),Z=function(vt){return function(_t){O[vt]=this,I[vt]=arguments.length>1?R.call(arguments):_t,--g||L.resolveWith(O,I)}};if(g<=1&&(We(c,L.done(Z(b)).resolve,L.reject,!g),"pending"===L.state()||N(I[b]&&I[b].then)))return L.then();for(;b--;)We(I[b],Z(b),L.reject);return L.promise()}});var Ke=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(c,g){k.console&&k.console.warn&&c&&Ke.test(c.name)&&k.console.warn("jQuery.Deferred exception: "+c.message,c.stack,g)},_.readyException=function(c){k.setTimeout(function(){throw c})};var le=_.Deferred();function Kt(){ut.removeEventListener("DOMContentLoaded",Kt),k.removeEventListener("load",Kt),_.ready()}_.fn.ready=function(c){return le.then(c).catch(function(g){_.readyException(g)}),this},_.extend({isReady:!1,readyWait:1,ready:function(c){(!0===c?--_.readyWait:_.isReady)||(_.isReady=!0,!(!0!==c&&--_.readyWait>0)&&le.resolveWith(ut,[_]))}}),_.ready.then=le.then,"complete"===ut.readyState||"loading"!==ut.readyState&&!ut.documentElement.doScroll?k.setTimeout(_.ready):(ut.addEventListener("DOMContentLoaded",Kt),k.addEventListener("load",Kt));var Ie=function(c,g,b,O,I,L,Z){var vt=0,_t=c.length,It=null==b;if("object"===mt(b))for(vt in I=!0,b)Ie(c,g,vt,b[vt],!0,L,Z);else if(void 0!==O&&(I=!0,N(O)||(Z=!0),It&&(Z?(g.call(c,O),g=null):(It=g,g=function(Ut,Gt,Xt){return It.call(_(Ut),Xt)})),g))for(;vt<_t;vt++)g(c[vt],b,Z?O:O.call(c[vt],vt,g(c[vt],b)));return I?c:It?g.call(c):_t?g(c[0],b):L},ue=/^-ms-/,Fe=/-([a-z])/g;function Me(c,g){return g.toUpperCase()}function sn(c){return c.replace(ue,"ms-").replace(Fe,Me)}var mn=function(c){return 1===c.nodeType||9===c.nodeType||!+c.nodeType};function gn(){this.expando=_.expando+gn.uid++}gn.uid=1,gn.prototype={cache:function(c){var g=c[this.expando];return g||(g={},mn(c)&&(c.nodeType?c[this.expando]=g:Object.defineProperty(c,this.expando,{value:g,configurable:!0}))),g},set:function(c,g,b){var O,I=this.cache(c);if("string"==typeof g)I[sn(g)]=b;else for(O in g)I[sn(O)]=g[O];return I},get:function(c,g){return void 0===g?this.cache(c):c[this.expando]&&c[this.expando][sn(g)]},access:function(c,g,b){return void 0===g||g&&"string"==typeof g&&void 0===b?this.get(c,g):(this.set(c,g,b),void 0!==b?b:g)},remove:function(c,g){var b,O=c[this.expando];if(void 0!==O){if(void 0!==g)for((b=(g=Array.isArray(g)?g.map(sn):(g=sn(g))in O?[g]:g.match(Qt)||[]).length);b--;)delete O[g[b]];(void 0===g||_.isEmptyObject(O))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){var g=c[this.expando];return void 0!==g&&!_.isEmptyObject(g)}};var ce=new gn,se=new gn,dt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,yt=/[A-Z]/g;function re(c,g,b){var O;if(void 0===b&&1===c.nodeType)if(O="data-"+g.replace(yt,"-$&").toLowerCase(),"string"==typeof(b=c.getAttribute(O))){try{b=function Rt(c){return"true"===c||"false"!==c&&("null"===c?null:c===+c+""?+c:dt.test(c)?JSON.parse(c):c)}(b)}catch{}se.set(c,g,b)}else b=void 0;return b}_.extend({hasData:function(c){return se.hasData(c)||ce.hasData(c)},data:function(c,g,b){return se.access(c,g,b)},removeData:function(c,g){se.remove(c,g)},_data:function(c,g,b){return ce.access(c,g,b)},_removeData:function(c,g){ce.remove(c,g)}}),_.fn.extend({data:function(c,g){var b,O,I,L=this[0],Z=L&&L.attributes;if(void 0===c){if(this.length&&(I=se.get(L),1===L.nodeType&&!ce.get(L,"hasDataAttrs"))){for(b=Z.length;b--;)Z[b]&&0===(O=Z[b].name).indexOf("data-")&&(O=sn(O.slice(5)),re(L,O,I[O]));ce.set(L,"hasDataAttrs",!0)}return I}return"object"==typeof c?this.each(function(){se.set(this,c)}):Ie(this,function(vt){var _t;if(L&&void 0===vt)return void 0!==(_t=se.get(L,c))||void 0!==(_t=re(L,c))?_t:void 0;this.each(function(){se.set(this,c,vt)})},null,g,arguments.length>1,null,!0)},removeData:function(c){return this.each(function(){se.remove(this,c)})}}),_.extend({queue:function(c,g,b){var O;if(c)return O=ce.get(c,g=(g||"fx")+"queue"),b&&(!O||Array.isArray(b)?O=ce.access(c,g,_.makeArray(b)):O.push(b)),O||[]},dequeue:function(c,g){var b=_.queue(c,g=g||"fx"),O=b.length,I=b.shift(),L=_._queueHooks(c,g);"inprogress"===I&&(I=b.shift(),O--),I&&("fx"===g&&b.unshift("inprogress"),delete L.stop,I.call(c,function(){_.dequeue(c,g)},L)),!O&&L&&L.empty.fire()},_queueHooks:function(c,g){var b=g+"queueHooks";return ce.get(c,b)||ce.access(c,b,{empty:_.Callbacks("once memory").add(function(){ce.remove(c,[g+"queue",b])})})}}),_.fn.extend({queue:function(c,g){var b=2;return"string"!=typeof c&&(g=c,c="fx",b--),arguments.length<b?_.queue(this[0],c):void 0===g?this:this.each(function(){var O=_.queue(this,c,g);_._queueHooks(this,c),"fx"===c&&"inprogress"!==O[0]&&_.dequeue(this,c)})},dequeue:function(c){return this.each(function(){_.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,g){var b,O=1,I=_.Deferred(),L=this,Z=this.length,vt=function(){--O||I.resolveWith(L,[L])};for("string"!=typeof c&&(g=c,c=void 0),c=c||"fx";Z--;)(b=ce.get(L[Z],c+"queueHooks"))&&b.empty&&(O++,b.empty.add(vt));return vt(),I.promise(g)}});var xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Se=new RegExp("^(?:([+-])=|)("+xe+")([a-z%]*)$","i"),He=["Top","Right","Bottom","Left"],Sn=ut.documentElement,jn=function(c){return _.contains(c.ownerDocument,c)},bn={composed:!0};Sn.getRootNode&&(jn=function(c){return _.contains(c.ownerDocument,c)||c.getRootNode(bn)===c.ownerDocument});var $n=function(c,g){return"none"===(c=g||c).style.display||""===c.style.display&&jn(c)&&"none"===_.css(c,"display")};function At(c,g,b,O){var I,L,Z=20,vt=O?function(){return O.cur()}:function(){return _.css(c,g,"")},_t=vt(),It=b&&b[3]||(_.cssNumber[g]?"":"px"),Ut=c.nodeType&&(_.cssNumber[g]||"px"!==It&&+_t)&&Se.exec(_.css(c,g));if(Ut&&Ut[3]!==It){for(It=It||Ut[3],Ut=+(_t/=2)||1;Z--;)_.style(c,g,Ut+It),(1-L)*(1-(L=vt()/_t||.5))<=0&&(Z=0),Ut/=L;_.style(c,g,(Ut*=2)+It),b=b||[]}return b&&(Ut=+Ut||+_t||0,I=b[1]?Ut+(b[1]+1)*b[2]:+b[2],O&&(O.unit=It,O.start=Ut,O.end=I)),I}var Be={};function Ct(c){var g,b=c.ownerDocument,O=c.nodeName,I=Be[O];return I||(g=b.body.appendChild(b.createElement(O)),I=_.css(g,"display"),g.parentNode.removeChild(g),"none"===I&&(I="block"),Be[O]=I,I)}function kt(c,g){for(var b,O,I=[],L=0,Z=c.length;L<Z;L++)(O=c[L]).style&&(b=O.style.display,g?("none"===b&&(I[L]=ce.get(O,"display")||null,I[L]||(O.style.display="")),""===O.style.display&&$n(O)&&(I[L]=Ct(O))):"none"!==b&&(I[L]="none",ce.set(O,"display",b)));for(L=0;L<Z;L++)null!=I[L]&&(c[L].style.display=I[L]);return c}_.fn.extend({show:function(){return kt(this,!0)},hide:function(){return kt(this)},toggle:function(c){return"boolean"==typeof c?c?this.show():this.hide():this.each(function(){$n(this)?_(this).show():_(this).hide()})}});var g,b,jt=/^(?:checkbox|radio)$/i,Wt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,gt=/^$|^module$|\/(?:java|ecma)script/i;g=ut.createDocumentFragment().appendChild(ut.createElement("div")),(b=ut.createElement("input")).setAttribute("type","radio"),b.setAttribute("checked","checked"),b.setAttribute("name","t"),g.appendChild(b),H.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,g.innerHTML="<textarea>x</textarea>",H.noCloneChecked=!!g.cloneNode(!0).lastChild.defaultValue,g.innerHTML="<option></option>",H.option=!!g.lastChild;var Ce={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ze(c,g){var b;return b=typeof c.getElementsByTagName<"u"?c.getElementsByTagName(g||"*"):typeof c.querySelectorAll<"u"?c.querySelectorAll(g||"*"):[],void 0===g||g&&u(c,g)?_.merge([c],b):b}function tt(c,g){for(var b=0,O=c.length;b<O;b++)ce.set(c[b],"globalEval",!g||ce.get(g[b],"globalEval"))}Ce.tbody=Ce.tfoot=Ce.colgroup=Ce.caption=Ce.thead,Ce.th=Ce.td,H.option||(Ce.optgroup=Ce.option=[1,"<select multiple='multiple'>","</select>"]);var Te=/<|&#?\w+;/;function Oe(c,g,b,O,I){for(var L,Z,vt,_t,It,Ut,Gt=g.createDocumentFragment(),Xt=[],ye=0,tn=c.length;ye<tn;ye++)if((L=c[ye])||0===L)if("object"===mt(L))_.merge(Xt,L.nodeType?[L]:L);else if(Te.test(L)){for(Z=Z||Gt.appendChild(g.createElement("div")),vt=(Wt.exec(L)||["",""])[1].toLowerCase(),Z.innerHTML=(_t=Ce[vt]||Ce._default)[1]+_.htmlPrefilter(L)+_t[2],Ut=_t[0];Ut--;)Z=Z.lastChild;_.merge(Xt,Z.childNodes),(Z=Gt.firstChild).textContent=""}else Xt.push(g.createTextNode(L));for(Gt.textContent="",ye=0;L=Xt[ye++];)if(O&&_.inArray(L,O)>-1)I&&I.push(L);else if(It=jn(L),Z=Ze(Gt.appendChild(L),"script"),It&&tt(Z),b)for(Ut=0;L=Z[Ut++];)gt.test(L.type||"")&&b.push(L);return Gt}var Nt=/^([^.]*)(?:\.(.+)|)/;function oe(){return!0}function we(){return!1}function un(c,g,b,O,I,L){var Z,vt;if("object"==typeof g){for(vt in"string"!=typeof b&&(O=O||b,b=void 0),g)un(c,vt,b,O,g[vt],L);return c}if(null==O&&null==I?(I=b,O=b=void 0):null==I&&("string"==typeof b?(I=O,O=void 0):(I=O,O=b,b=void 0)),!1===I)I=we;else if(!I)return c;return 1===L&&(Z=I,I=function(_t){return _().off(_t),Z.apply(this,arguments)},I.guid=Z.guid||(Z.guid=_.guid++)),c.each(function(){_.event.add(this,g,I,O,b)})}function Qe(c,g,b){b?(ce.set(c,g,!1),_.event.add(c,g,{namespace:!1,handler:function(O){var I,L=ce.get(this,g);if(1&O.isTrigger&&this[g]){if(L)(_.event.special[g]||{}).delegateType&&O.stopPropagation();else if(L=R.call(arguments),ce.set(this,g,L),this[g](),I=ce.get(this,g),ce.set(this,g,!1),L!==I)return O.stopImmediatePropagation(),O.preventDefault(),I}else L&&(ce.set(this,g,_.event.trigger(L[0],L.slice(1),this)),O.stopPropagation(),O.isImmediatePropagationStopped=oe)}})):void 0===ce.get(c,g)&&_.event.add(c,g,oe)}_.event={global:{},add:function(c,g,b,O,I){var L,Z,vt,_t,It,Ut,Gt,Xt,ye,tn,en,hn=ce.get(c);if(mn(c))for(b.handler&&(b=(L=b).handler,I=L.selector),I&&_.find.matchesSelector(Sn,I),b.guid||(b.guid=_.guid++),(_t=hn.events)||(_t=hn.events=Object.create(null)),(Z=hn.handle)||(Z=hn.handle=function(qn){return typeof _<"u"&&_.event.triggered!==qn.type?_.event.dispatch.apply(c,arguments):void 0}),It=(g=(g||"").match(Qt)||[""]).length;It--;)ye=en=(vt=Nt.exec(g[It])||[])[1],tn=(vt[2]||"").split(".").sort(),ye&&(Gt=_.event.special[ye]||{},Gt=_.event.special[ye=(I?Gt.delegateType:Gt.bindType)||ye]||{},Ut=_.extend({type:ye,origType:en,data:O,handler:b,guid:b.guid,selector:I,needsContext:I&&_.expr.match.needsContext.test(I),namespace:tn.join(".")},L),(Xt=_t[ye])||((Xt=_t[ye]=[]).delegateCount=0,(!Gt.setup||!1===Gt.setup.call(c,O,tn,Z))&&c.addEventListener&&c.addEventListener(ye,Z)),Gt.add&&(Gt.add.call(c,Ut),Ut.handler.guid||(Ut.handler.guid=b.guid)),I?Xt.splice(Xt.delegateCount++,0,Ut):Xt.push(Ut),_.event.global[ye]=!0)},remove:function(c,g,b,O,I){var L,Z,vt,_t,It,Ut,Gt,Xt,ye,tn,en,hn=ce.hasData(c)&&ce.get(c);if(hn&&(_t=hn.events)){for(It=(g=(g||"").match(Qt)||[""]).length;It--;)if(ye=en=(vt=Nt.exec(g[It])||[])[1],tn=(vt[2]||"").split(".").sort(),ye){for(Gt=_.event.special[ye]||{},Xt=_t[ye=(O?Gt.delegateType:Gt.bindType)||ye]||[],vt=vt[2]&&new RegExp("(^|\\.)"+tn.join("\\.(?:.*\\.|)")+"(\\.|$)"),Z=L=Xt.length;L--;)Ut=Xt[L],(I||en===Ut.origType)&&(!b||b.guid===Ut.guid)&&(!vt||vt.test(Ut.namespace))&&(!O||O===Ut.selector||"**"===O&&Ut.selector)&&(Xt.splice(L,1),Ut.selector&&Xt.delegateCount--,Gt.remove&&Gt.remove.call(c,Ut));Z&&!Xt.length&&((!Gt.teardown||!1===Gt.teardown.call(c,tn,hn.handle))&&_.removeEvent(c,ye,hn.handle),delete _t[ye])}else for(ye in _t)_.event.remove(c,ye+g[It],b,O,!0);_.isEmptyObject(_t)&&ce.remove(c,"handle events")}},dispatch:function(c){var g,b,O,I,L,Z,vt=new Array(arguments.length),_t=_.event.fix(c),It=(ce.get(this,"events")||Object.create(null))[_t.type]||[],Ut=_.event.special[_t.type]||{};for(vt[0]=_t,g=1;g<arguments.length;g++)vt[g]=arguments[g];if(_t.delegateTarget=this,!Ut.preDispatch||!1!==Ut.preDispatch.call(this,_t)){for(Z=_.event.handlers.call(this,_t,It),g=0;(I=Z[g++])&&!_t.isPropagationStopped();)for(_t.currentTarget=I.elem,b=0;(L=I.handlers[b++])&&!_t.isImmediatePropagationStopped();)(!_t.rnamespace||!1===L.namespace||_t.rnamespace.test(L.namespace))&&(_t.handleObj=L,_t.data=L.data,void 0!==(O=((_.event.special[L.origType]||{}).handle||L.handler).apply(I.elem,vt))&&!1===(_t.result=O)&&(_t.preventDefault(),_t.stopPropagation()));return Ut.postDispatch&&Ut.postDispatch.call(this,_t),_t.result}},handlers:function(c,g){var b,O,I,L,Z,vt=[],_t=g.delegateCount,It=c.target;if(_t&&It.nodeType&&!("click"===c.type&&c.button>=1))for(;It!==this;It=It.parentNode||this)if(1===It.nodeType&&("click"!==c.type||!0!==It.disabled)){for(L=[],Z={},b=0;b<_t;b++)void 0===Z[I=(O=g[b]).selector+" "]&&(Z[I]=O.needsContext?_(I,this).index(It)>-1:_.find(I,this,null,[It]).length),Z[I]&&L.push(O);L.length&&vt.push({elem:It,handlers:L})}return It=this,_t<g.length&&vt.push({elem:It,handlers:g.slice(_t)}),vt},addProp:function(c,g){Object.defineProperty(_.Event.prototype,c,{enumerable:!0,configurable:!0,get:N(g)?function(){if(this.originalEvent)return g(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},set:function(b){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(c){return c[_.expando]?c:new _.Event(c)},special:{load:{noBubble:!0},click:{setup:function(c){var g=this||c;return jt.test(g.type)&&g.click&&u(g,"input")&&Qe(g,"click",!0),!1},trigger:function(c){var g=this||c;return jt.test(g.type)&&g.click&&u(g,"input")&&Qe(g,"click"),!0},_default:function(c){var g=c.target;return jt.test(g.type)&&g.click&&u(g,"input")&&ce.get(g,"click")||u(g,"a")}},beforeunload:{postDispatch:function(c){void 0!==c.result&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}},_.removeEvent=function(c,g,b){c.removeEventListener&&c.removeEventListener(g,b)},_.Event=function(c,g){if(!(this instanceof _.Event))return new _.Event(c,g);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||void 0===c.defaultPrevented&&!1===c.returnValue?oe:we,this.target=c.target&&3===c.target.nodeType?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,this.relatedTarget=c.relatedTarget):this.type=c,g&&_.extend(this,g),this.timeStamp=c&&c.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:we,isPropagationStopped:we,isImmediatePropagationStopped:we,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=oe,c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=oe,c&&!this.isSimulated&&c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=oe,c&&!this.isSimulated&&c.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},_.event.addProp),_.each({focus:"focusin",blur:"focusout"},function(c,g){function b(O){if(ut.documentMode){var I=ce.get(this,"handle"),L=_.event.fix(O);L.type="focusin"===O.type?"focus":"blur",L.isSimulated=!0,I(O),L.target===L.currentTarget&&I(L)}else _.event.simulate(g,O.target,_.event.fix(O))}_.event.special[c]={setup:function(){var O;if(Qe(this,c,!0),!ut.documentMode)return!1;(O=ce.get(this,g))||this.addEventListener(g,b),ce.set(this,g,(O||0)+1)},trigger:function(){return Qe(this,c),!0},teardown:function(){var O;if(!ut.documentMode)return!1;(O=ce.get(this,g)-1)?ce.set(this,g,O):(this.removeEventListener(g,b),ce.remove(this,g))},_default:function(O){return ce.get(O.target,c)},delegateType:g},_.event.special[g]={setup:function(){var O=this.ownerDocument||this.document||this,I=ut.documentMode?this:O,L=ce.get(I,g);L||(ut.documentMode?this.addEventListener(g,b):O.addEventListener(c,b,!0)),ce.set(I,g,(L||0)+1)},teardown:function(){var O=this.ownerDocument||this.document||this,I=ut.documentMode?this:O,L=ce.get(I,g)-1;L?ce.set(I,g,L):(ut.documentMode?this.removeEventListener(g,b):O.removeEventListener(c,b,!0),ce.remove(I,g))}}}),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,g){_.event.special[c]={delegateType:g,bindType:g,handle:function(b){var O,L=b.relatedTarget,Z=b.handleObj;return(!L||L!==this&&!_.contains(this,L))&&(b.type=Z.origType,O=Z.handler.apply(this,arguments),b.type=g),O}}}),_.fn.extend({on:function(c,g,b,O){return un(this,c,g,b,O)},one:function(c,g,b,O){return un(this,c,g,b,O,1)},off:function(c,g,b){var O,I;if(c&&c.preventDefault&&c.handleObj)return O=c.handleObj,_(c.delegateTarget).off(O.namespace?O.origType+"."+O.namespace:O.origType,O.selector,O.handler),this;if("object"==typeof c){for(I in c)this.off(I,g,c[I]);return this}return(!1===g||"function"==typeof g)&&(b=g,g=void 0),!1===b&&(b=we),this.each(function(){_.event.remove(this,c,b,g)})}});var rn=/<script|<style|<link/i,Hn=/checked\s*(?:[^=]|=\s*.checked.)/i,Br=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Bn(c,g){return u(c,"table")&&u(11!==g.nodeType?g:g.firstChild,"tr")&&_(c).children("tbody")[0]||c}function Zn(c){return c.type=(null!==c.getAttribute("type"))+"/"+c.type,c}function or(c){return"true/"===(c.type||"").slice(0,5)?c.type=c.type.slice(5):c.removeAttribute("type"),c}function Cr(c,g){var b,O,I,Z,vt,_t;if(1===g.nodeType){if(ce.hasData(c)&&(_t=ce.get(c).events))for(I in ce.remove(g,"handle events"),_t)for(b=0,O=_t[I].length;b<O;b++)_.event.add(g,I,_t[I][b]);se.hasData(c)&&(Z=se.access(c),vt=_.extend({},Z),se.set(g,vt))}}function Sr(c,g){var b=g.nodeName.toLowerCase();"input"===b&&jt.test(c.type)?g.checked=c.checked:("input"===b||"textarea"===b)&&(g.defaultValue=c.defaultValue)}function Or(c,g,b,O){g=at(g);var I,L,Z,vt,_t,It,Ut=0,Gt=c.length,Xt=Gt-1,ye=g[0],tn=N(ye);if(tn||Gt>1&&"string"==typeof ye&&!H.checkClone&&Hn.test(ye))return c.each(function(en){var hn=c.eq(en);tn&&(g[0]=ye.call(this,en,hn.html())),Or(hn,g,b,O)});if(Gt&&(L=(I=Oe(g,c[0].ownerDocument,!1,c,O)).firstChild,1===I.childNodes.length&&(I=L),L||O)){for(vt=(Z=_.map(Ze(I,"script"),Zn)).length;Ut<Gt;Ut++)_t=I,Ut!==Xt&&(_t=_.clone(_t,!0,!0),vt&&_.merge(Z,Ze(_t,"script"))),b.call(c[Ut],_t,Ut);if(vt)for(It=Z[Z.length-1].ownerDocument,_.map(Z,or),Ut=0;Ut<vt;Ut++)gt.test((_t=Z[Ut]).type||"")&&!ce.access(_t,"globalEval")&&_.contains(It,_t)&&(_t.src&&"module"!==(_t.type||"").toLowerCase()?_._evalUrl&&!_t.noModule&&_._evalUrl(_t.src,{nonce:_t.nonce||_t.getAttribute("nonce")},It):$(_t.textContent.replace(Br,""),_t,It))}return c}function fr(c,g,b){for(var O,I=g?_.filter(g,c):c,L=0;null!=(O=I[L]);L++)!b&&1===O.nodeType&&_.cleanData(Ze(O)),O.parentNode&&(b&&jn(O)&&tt(Ze(O,"script")),O.parentNode.removeChild(O));return c}_.extend({htmlPrefilter:function(c){return c},clone:function(c,g,b){var O,I,L,Z,vt=c.cloneNode(!0),_t=jn(c);if(!(H.noCloneChecked||1!==c.nodeType&&11!==c.nodeType||_.isXMLDoc(c)))for(Z=Ze(vt),O=0,I=(L=Ze(c)).length;O<I;O++)Sr(L[O],Z[O]);if(g)if(b)for(L=L||Ze(c),Z=Z||Ze(vt),O=0,I=L.length;O<I;O++)Cr(L[O],Z[O]);else Cr(c,vt);return(Z=Ze(vt,"script")).length>0&&tt(Z,!_t&&Ze(c,"script")),vt},cleanData:function(c){for(var g,b,O,I=_.event.special,L=0;void 0!==(b=c[L]);L++)if(mn(b)){if(g=b[ce.expando]){if(g.events)for(O in g.events)I[O]?_.event.remove(b,O):_.removeEvent(b,O,g.handle);b[ce.expando]=void 0}b[se.expando]&&(b[se.expando]=void 0)}}}),_.fn.extend({detach:function(c){return fr(this,c,!0)},remove:function(c){return fr(this,c)},text:function(c){return Ie(this,function(g){return void 0===g?_.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=g)})},null,c,arguments.length)},append:function(){return Or(this,arguments,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Bn(this,c).appendChild(c)})},prepend:function(){return Or(this,arguments,function(c){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var g=Bn(this,c);g.insertBefore(c,g.firstChild)}})},before:function(){return Or(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return Or(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,g=0;null!=(c=this[g]);g++)1===c.nodeType&&(_.cleanData(Ze(c,!1)),c.textContent="");return this},clone:function(c,g){return c=c??!1,g=g??c,this.map(function(){return _.clone(this,c,g)})},html:function(c){return Ie(this,function(g){var b=this[0]||{},O=0,I=this.length;if(void 0===g&&1===b.nodeType)return b.innerHTML;if("string"==typeof g&&!rn.test(g)&&!Ce[(Wt.exec(g)||["",""])[1].toLowerCase()]){g=_.htmlPrefilter(g);try{for(;O<I;O++)1===(b=this[O]||{}).nodeType&&(_.cleanData(Ze(b,!1)),b.innerHTML=g);b=0}catch{}}b&&this.empty().append(g)},null,c,arguments.length)},replaceWith:function(){var c=[];return Or(this,arguments,function(g){var b=this.parentNode;_.inArray(this,c)<0&&(_.cleanData(Ze(this)),b&&b.replaceChild(g,this))},c)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,g){_.fn[c]=function(b){for(var O,I=[],L=_(b),Z=L.length-1,vt=0;vt<=Z;vt++)O=vt===Z?this:this.clone(!0),_(L[vt])[g](O),ct.apply(I,O.get());return this.pushStack(I)}});var Vn=new RegExp("^("+xe+")(?!px)[a-z%]+$","i"),Vr=/^--/,Gn=function(c){var g=c.ownerDocument.defaultView;return(!g||!g.opener)&&(g=k),g.getComputedStyle(c)},Dr=function(c,g,b){var O,I,L={};for(I in g)L[I]=c.style[I],c.style[I]=g[I];for(I in O=b.call(c),g)c.style[I]=L[I];return O},Ir=new RegExp(He.join("|"),"i");function Qr(c,g,b){var O,I,L,Z,vt=Vr.test(g),_t=c.style;return(b=b||Gn(c))&&(Z=b.getPropertyValue(g)||b[g],vt&&Z&&(Z=Z.replace(A,"$1")||void 0),""===Z&&!jn(c)&&(Z=_.style(c,g)),!H.pixelBoxStyles()&&Vn.test(Z)&&Ir.test(g)&&(O=_t.width,I=_t.minWidth,L=_t.maxWidth,_t.minWidth=_t.maxWidth=_t.width=Z,Z=b.width,_t.width=O,_t.minWidth=I,_t.maxWidth=L)),void 0!==Z?Z+"":Z}function kr(c,g){return{get:function(){if(!c())return(this.get=g).apply(this,arguments);delete this.get}}}!function(){function c(){if(It){_t.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",It.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Sn.appendChild(_t).appendChild(It);var Ut=k.getComputedStyle(It);b="1%"!==Ut.top,vt=12===g(Ut.marginLeft),It.style.right="60%",L=36===g(Ut.right),O=36===g(Ut.width),It.style.position="absolute",I=12===g(It.offsetWidth/3),Sn.removeChild(_t),It=null}}function g(Ut){return Math.round(parseFloat(Ut))}var b,O,I,L,Z,vt,_t=ut.createElement("div"),It=ut.createElement("div");It.style&&(It.style.backgroundClip="content-box",It.cloneNode(!0).style.backgroundClip="",H.clearCloneStyle="content-box"===It.style.backgroundClip,_.extend(H,{boxSizingReliable:function(){return c(),O},pixelBoxStyles:function(){return c(),L},pixelPosition:function(){return c(),b},reliableMarginLeft:function(){return c(),vt},scrollboxSize:function(){return c(),I},reliableTrDimensions:function(){var Ut,Gt,Xt,ye;return null==Z&&(Ut=ut.createElement("table"),Gt=ut.createElement("tr"),Xt=ut.createElement("div"),Ut.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Gt.style.cssText="box-sizing:content-box;border:1px solid",Gt.style.height="1px",Xt.style.height="9px",Xt.style.display="block",Sn.appendChild(Ut).appendChild(Gt).appendChild(Xt),ye=k.getComputedStyle(Gt),Z=parseInt(ye.height,10)+parseInt(ye.borderTopWidth,10)+parseInt(ye.borderBottomWidth,10)===Gt.offsetHeight,Sn.removeChild(Ut)),Z}}))}();var uo=["Webkit","Moz","ms"],Io=ut.createElement("div").style,_r={};function Pr(c){return _.cssProps[c]||_r[c]||(c in Io?c:_r[c]=function an(c){for(var g=c[0].toUpperCase()+c.slice(1),b=uo.length;b--;)if((c=uo[b]+g)in Io)return c}(c)||c)}var No=/^(none|table(?!-c[ea]).+)/,So={position:"absolute",visibility:"hidden",display:"block"},cr={letterSpacing:"0",fontWeight:"400"};function To(c,g,b){var O=Se.exec(g);return O?Math.max(0,O[2]-(b||0))+(O[3]||"px"):g}function to(c,g,b,O,I,L){var Z="width"===g?1:0,vt=0,_t=0,It=0;if(b===(O?"border":"content"))return 0;for(;Z<4;Z+=2)"margin"===b&&(It+=_.css(c,b+He[Z],!0,I)),O?("content"===b&&(_t-=_.css(c,"padding"+He[Z],!0,I)),"margin"!==b&&(_t-=_.css(c,"border"+He[Z]+"Width",!0,I))):(_t+=_.css(c,"padding"+He[Z],!0,I),"padding"!==b?_t+=_.css(c,"border"+He[Z]+"Width",!0,I):vt+=_.css(c,"border"+He[Z]+"Width",!0,I));return!O&&L>=0&&(_t+=Math.max(0,Math.ceil(c["offset"+g[0].toUpperCase()+g.slice(1)]-L-_t-vt-.5))||0),_t+It}function di(c,g,b){var O=Gn(c),L=(!H.boxSizingReliable()||b)&&"border-box"===_.css(c,"boxSizing",!1,O),Z=L,vt=Qr(c,g,O),_t="offset"+g[0].toUpperCase()+g.slice(1);if(Vn.test(vt)){if(!b)return vt;vt="auto"}return(!H.boxSizingReliable()&&L||!H.reliableTrDimensions()&&u(c,"tr")||"auto"===vt||!parseFloat(vt)&&"inline"===_.css(c,"display",!1,O))&&c.getClientRects().length&&(L="border-box"===_.css(c,"boxSizing",!1,O),(Z=_t in c)&&(vt=c[_t])),(vt=parseFloat(vt)||0)+to(c,g,b||(L?"border":"content"),Z,O,vt)+"px"}function qe(c,g,b,O,I){return new qe.prototype.init(c,g,b,O,I)}_.extend({cssHooks:{opacity:{get:function(c,g){if(g){var b=Qr(c,"opacity");return""===b?"1":b}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(c,g,b,O){if(c&&3!==c.nodeType&&8!==c.nodeType&&c.style){var I,L,Z,vt=sn(g),_t=Vr.test(g),It=c.style;if(_t||(g=Pr(vt)),Z=_.cssHooks[g]||_.cssHooks[vt],void 0===b)return Z&&"get"in Z&&void 0!==(I=Z.get(c,!1,O))?I:It[g];if("string"==(L=typeof b)&&(I=Se.exec(b))&&I[1]&&(b=At(c,g,I),L="number"),null==b||b!=b)return;"number"===L&&!_t&&(b+=I&&I[3]||(_.cssNumber[vt]?"":"px")),!H.clearCloneStyle&&""===b&&0===g.indexOf("background")&&(It[g]="inherit"),(!Z||!("set"in Z)||void 0!==(b=Z.set(c,b,O)))&&(_t?It.setProperty(g,b):It[g]=b)}},css:function(c,g,b,O){var I,L,Z,vt=sn(g);return Vr.test(g)||(g=Pr(vt)),(Z=_.cssHooks[g]||_.cssHooks[vt])&&"get"in Z&&(I=Z.get(c,!0,b)),void 0===I&&(I=Qr(c,g,O)),"normal"===I&&g in cr&&(I=cr[g]),""===b||b?(L=parseFloat(I),!0===b||isFinite(L)?L||0:I):I}}),_.each(["height","width"],function(c,g){_.cssHooks[g]={get:function(b,O,I){if(O)return!No.test(_.css(b,"display"))||b.getClientRects().length&&b.getBoundingClientRect().width?di(b,g,I):Dr(b,So,function(){return di(b,g,I)})},set:function(b,O,I){var L,Z=Gn(b),vt=!H.scrollboxSize()&&"absolute"===Z.position,It=(vt||I)&&"border-box"===_.css(b,"boxSizing",!1,Z),Ut=I?to(b,g,I,It,Z):0;return It&&vt&&(Ut-=Math.ceil(b["offset"+g[0].toUpperCase()+g.slice(1)]-parseFloat(Z[g])-to(b,g,"border",!1,Z)-.5)),Ut&&(L=Se.exec(O))&&"px"!==(L[3]||"px")&&(b.style[g]=O,O=_.css(b,g)),To(0,O,Ut)}}}),_.cssHooks.marginLeft=kr(H.reliableMarginLeft,function(c,g){if(g)return(parseFloat(Qr(c,"marginLeft"))||c.getBoundingClientRect().left-Dr(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"}),_.each({margin:"",padding:"",border:"Width"},function(c,g){_.cssHooks[c+g]={expand:function(b){for(var O=0,I={},L="string"==typeof b?b.split(" "):[b];O<4;O++)I[c+He[O]+g]=L[O]||L[O-2]||L[0];return I}},"margin"!==c&&(_.cssHooks[c+g].set=To)}),_.fn.extend({css:function(c,g){return Ie(this,function(b,O,I){var L,Z,vt={},_t=0;if(Array.isArray(O)){for(L=Gn(b),Z=O.length;_t<Z;_t++)vt[O[_t]]=_.css(b,O[_t],!1,L);return vt}return void 0!==I?_.style(b,O,I):_.css(b,O)},c,g,arguments.length>1)}}),_.Tween=qe,qe.prototype={constructor:qe,init:function(c,g,b,O,I,L){this.elem=c,this.prop=b,this.easing=I||_.easing._default,this.options=g,this.start=this.now=this.cur(),this.end=O,this.unit=L||(_.cssNumber[b]?"":"px")},cur:function(){var c=qe.propHooks[this.prop];return c&&c.get?c.get(this):qe.propHooks._default.get(this)},run:function(c){var g,b=qe.propHooks[this.prop];return this.pos=g=this.options.duration?_.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):c,this.now=(this.end-this.start)*g+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):qe.propHooks._default.set(this),this}},qe.prototype.init.prototype=qe.prototype,qe.propHooks={_default:{get:function(c){var g;return 1!==c.elem.nodeType||null!=c.elem[c.prop]&&null==c.elem.style[c.prop]?c.elem[c.prop]:(g=_.css(c.elem,c.prop,""))&&"auto"!==g?g:0},set:function(c){_.fx.step[c.prop]?_.fx.step[c.prop](c):1!==c.elem.nodeType||!_.cssHooks[c.prop]&&null==c.elem.style[Pr(c.prop)]?c.elem[c.prop]=c.now:_.style(c.elem,c.prop,c.now+c.unit)}}},qe.propHooks.scrollTop=qe.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}},_.easing={linear:function(c){return c},swing:function(c){return.5-Math.cos(c*Math.PI)/2},_default:"swing"},_.fx=qe.prototype.init,_.fx.step={};var In,Dt,$t=/^(?:toggle|show|hide)$/,je=/queueHooks$/;function fn(){Dt&&(!1===ut.hidden&&k.requestAnimationFrame?k.requestAnimationFrame(fn):k.setTimeout(fn,_.fx.interval),_.fx.tick())}function Tn(){return k.setTimeout(function(){In=void 0}),In=Date.now()}function cn(c,g){var b,O=0,I={height:c};for(g=g?1:0;O<4;O+=2-g)I["margin"+(b=He[O])]=I["padding"+b]=c;return g&&(I.opacity=I.width=c),I}function sr(c,g,b){for(var O,I=(qr.tweeners[g]||[]).concat(qr.tweeners["*"]),L=0,Z=I.length;L<Z;L++)if(O=I[L].call(b,g,c))return O}function qr(c,g,b){var O,I,L=0,Z=qr.prefilters.length,vt=_.Deferred().always(function(){delete _t.elem}),_t=function(){if(I)return!1;for(var Gt=In||Tn(),Xt=Math.max(0,It.startTime+It.duration-Gt),tn=1-(Xt/It.duration||0),en=0,hn=It.tweens.length;en<hn;en++)It.tweens[en].run(tn);return vt.notifyWith(c,[It,tn,Xt]),tn<1&&hn?Xt:(hn||vt.notifyWith(c,[It,1,0]),vt.resolveWith(c,[It]),!1)},It=vt.promise({elem:c,props:_.extend({},g),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},b),originalProperties:g,originalOptions:b,startTime:In||Tn(),duration:b.duration,tweens:[],createTween:function(Gt,Xt){var ye=_.Tween(c,It.opts,Gt,Xt,It.opts.specialEasing[Gt]||It.opts.easing);return It.tweens.push(ye),ye},stop:function(Gt){var Xt=0,ye=Gt?It.tweens.length:0;if(I)return this;for(I=!0;Xt<ye;Xt++)It.tweens[Xt].run(1);return Gt?(vt.notifyWith(c,[It,1,0]),vt.resolveWith(c,[It,Gt])):vt.rejectWith(c,[It,Gt]),this}}),Ut=It.props;for(function go(c,g){var b,O,I,L,Z;for(b in c)if(I=g[O=sn(b)],L=c[b],Array.isArray(L)&&(I=L[1],L=c[b]=L[0]),b!==O&&(c[O]=L,delete c[b]),(Z=_.cssHooks[O])&&"expand"in Z)for(b in L=Z.expand(L),delete c[O],L)b in c||(c[b]=L[b],g[b]=I);else g[O]=I}(Ut,It.opts.specialEasing);L<Z;L++)if(O=qr.prefilters[L].call(It,c,Ut,It.opts))return N(O.stop)&&(_._queueHooks(It.elem,It.opts.queue).stop=O.stop.bind(O)),O;return _.map(Ut,sr,It),N(It.opts.start)&&It.opts.start.call(c,It),It.progress(It.opts.progress).done(It.opts.done,It.opts.complete).fail(It.opts.fail).always(It.opts.always),_.fx.timer(_.extend(_t,{elem:c,anim:It,queue:It.opts.queue})),It}_.Animation=_.extend(qr,{tweeners:{"*":[function(c,g){var b=this.createTween(c,g);return At(b.elem,c,Se.exec(g),b),b}]},tweener:function(c,g){N(c)?(g=c,c=["*"]):c=c.match(Qt);for(var b,O=0,I=c.length;O<I;O++)(qr.tweeners[b=c[O]]=qr.tweeners[b]||[]).unshift(g)},prefilters:[function Wn(c,g,b){var O,I,L,Z,vt,_t,It,Ut,Gt="width"in g||"height"in g,Xt=this,ye={},tn=c.style,en=c.nodeType&&$n(c),hn=ce.get(c,"fxshow");for(O in b.queue||(null==(Z=_._queueHooks(c,"fx")).unqueued&&(Z.unqueued=0,vt=Z.empty.fire,Z.empty.fire=function(){Z.unqueued||vt()}),Z.unqueued++,Xt.always(function(){Xt.always(function(){Z.unqueued--,_.queue(c,"fx").length||Z.empty.fire()})})),g)if($t.test(I=g[O])){if(delete g[O],L=L||"toggle"===I,I===(en?"hide":"show")){if("show"!==I||!hn||void 0===hn[O])continue;en=!0}ye[O]=hn&&hn[O]||_.style(c,O)}if((_t=!_.isEmptyObject(g))||!_.isEmptyObject(ye))for(O in Gt&&1===c.nodeType&&(b.overflow=[tn.overflow,tn.overflowX,tn.overflowY],null==(It=hn&&hn.display)&&(It=ce.get(c,"display")),"none"===(Ut=_.css(c,"display"))&&(It?Ut=It:(kt([c],!0),It=c.style.display||It,Ut=_.css(c,"display"),kt([c]))),("inline"===Ut||"inline-block"===Ut&&null!=It)&&"none"===_.css(c,"float")&&(_t||(Xt.done(function(){tn.display=It}),null==It&&(It="none"===(Ut=tn.display)?"":Ut)),tn.display="inline-block")),b.overflow&&(tn.overflow="hidden",Xt.always(function(){tn.overflow=b.overflow[0],tn.overflowX=b.overflow[1],tn.overflowY=b.overflow[2]})),_t=!1,ye)_t||(hn?"hidden"in hn&&(en=hn.hidden):hn=ce.access(c,"fxshow",{display:It}),L&&(hn.hidden=!en),en&&kt([c],!0),Xt.done(function(){for(O in en||kt([c]),ce.remove(c,"fxshow"),ye)_.style(c,O,ye[O])})),_t=sr(en?hn[O]:0,O,Xt),O in hn||(hn[O]=_t.start,en&&(_t.end=_t.start,_t.start=0))}],prefilter:function(c,g){g?qr.prefilters.unshift(c):qr.prefilters.push(c)}}),_.speed=function(c,g,b){var O=c&&"object"==typeof c?_.extend({},c):{complete:b||!b&&g||N(c)&&c,duration:c,easing:b&&g||g&&!N(g)&&g};return _.fx.off?O.duration=0:"number"!=typeof O.duration&&(O.duration=O.duration in _.fx.speeds?_.fx.speeds[O.duration]:_.fx.speeds._default),(null==O.queue||!0===O.queue)&&(O.queue="fx"),O.old=O.complete,O.complete=function(){N(O.old)&&O.old.call(this),O.queue&&_.dequeue(this,O.queue)},O},_.fn.extend({fadeTo:function(c,g,b,O){return this.filter($n).css("opacity",0).show().end().animate({opacity:g},c,b,O)},animate:function(c,g,b,O){var I=_.isEmptyObject(c),L=_.speed(g,b,O),Z=function(){var vt=qr(this,_.extend({},c),L);(I||ce.get(this,"finish"))&&vt.stop(!0)};return Z.finish=Z,I||!1===L.queue?this.each(Z):this.queue(L.queue,Z)},stop:function(c,g,b){var O=function(I){var L=I.stop;delete I.stop,L(b)};return"string"!=typeof c&&(b=g,g=c,c=void 0),g&&this.queue(c||"fx",[]),this.each(function(){var I=!0,L=null!=c&&c+"queueHooks",Z=_.timers,vt=ce.get(this);if(L)vt[L]&&vt[L].stop&&O(vt[L]);else for(L in vt)vt[L]&&vt[L].stop&&je.test(L)&&O(vt[L]);for(L=Z.length;L--;)Z[L].elem===this&&(null==c||Z[L].queue===c)&&(Z[L].anim.stop(b),I=!1,Z.splice(L,1));(I||!b)&&_.dequeue(this,c)})},finish:function(c){return!1!==c&&(c=c||"fx"),this.each(function(){var g,b=ce.get(this),O=b[c+"queue"],I=b[c+"queueHooks"],L=_.timers,Z=O?O.length:0;for(b.finish=!0,_.queue(this,c,[]),I&&I.stop&&I.stop.call(this,!0),g=L.length;g--;)L[g].elem===this&&L[g].queue===c&&(L[g].anim.stop(!0),L.splice(g,1));for(g=0;g<Z;g++)O[g]&&O[g].finish&&O[g].finish.call(this);delete b.finish})}}),_.each(["toggle","show","hide"],function(c,g){var b=_.fn[g];_.fn[g]=function(O,I,L){return null==O||"boolean"==typeof O?b.apply(this,arguments):this.animate(cn(g,!0),O,I,L)}}),_.each({slideDown:cn("show"),slideUp:cn("hide"),slideToggle:cn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,g){_.fn[c]=function(b,O,I){return this.animate(g,b,O,I)}}),_.timers=[],_.fx.tick=function(){var c,g=0,b=_.timers;for(In=Date.now();g<b.length;g++)!(c=b[g])()&&b[g]===c&&b.splice(g--,1);b.length||_.fx.stop(),In=void 0},_.fx.timer=function(c){_.timers.push(c),_.fx.start()},_.fx.interval=13,_.fx.start=function(){Dt||(Dt=!0,fn())},_.fx.stop=function(){Dt=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(c,g){return c=_.fx&&_.fx.speeds[c]||c,this.queue(g=g||"fx",function(b,O){var I=k.setTimeout(b,c);O.stop=function(){k.clearTimeout(I)}})},function(){var c=ut.createElement("input"),b=ut.createElement("select").appendChild(ut.createElement("option"));c.type="checkbox",H.checkOn=""!==c.value,H.optSelected=b.selected,(c=ut.createElement("input")).value="t",c.type="radio",H.radioValue="t"===c.value}();var zr,Wo=_.expr.attrHandle;_.fn.extend({attr:function(c,g){return Ie(this,_.attr,c,g,arguments.length>1)},removeAttr:function(c){return this.each(function(){_.removeAttr(this,c)})}}),_.extend({attr:function(c,g,b){var O,I,L=c.nodeType;if(3!==L&&8!==L&&2!==L)return typeof c.getAttribute>"u"?_.prop(c,g,b):((1!==L||!_.isXMLDoc(c))&&(I=_.attrHooks[g.toLowerCase()]||(_.expr.match.bool.test(g)?zr:void 0)),void 0!==b?null===b?void _.removeAttr(c,g):I&&"set"in I&&void 0!==(O=I.set(c,b,g))?O:(c.setAttribute(g,b+""),b):I&&"get"in I&&null!==(O=I.get(c,g))?O:(O=_.find.attr(c,g))??void 0)},attrHooks:{type:{set:function(c,g){if(!H.radioValue&&"radio"===g&&u(c,"input")){var b=c.value;return c.setAttribute("type",g),b&&(c.value=b),g}}}},removeAttr:function(c,g){var b,O=0,I=g&&g.match(Qt);if(I&&1===c.nodeType)for(;b=I[O++];)c.removeAttribute(b)}}),zr={set:function(c,g,b){return!1===g?_.removeAttr(c,b):c.setAttribute(b,b),b}},_.each(_.expr.match.bool.source.match(/\w+/g),function(c,g){var b=Wo[g]||_.find.attr;Wo[g]=function(O,I,L){var Z,vt,_t=I.toLowerCase();return L||(vt=Wo[_t],Wo[_t]=Z,Z=null!=b(O,I,L)?_t:null,Wo[_t]=vt),Z}});var Ar=/^(?:input|select|textarea|button)$/i,wo=/^(?:a|area)$/i;function xo(c){return(c.match(Qt)||[]).join(" ")}function eo(c){return c.getAttribute&&c.getAttribute("class")||""}function io(c){return Array.isArray(c)?c:"string"==typeof c&&c.match(Qt)||[]}_.fn.extend({prop:function(c,g){return Ie(this,_.prop,c,g,arguments.length>1)},removeProp:function(c){return this.each(function(){delete this[_.propFix[c]||c]})}}),_.extend({prop:function(c,g,b){var O,I,L=c.nodeType;if(3!==L&&8!==L&&2!==L)return(1!==L||!_.isXMLDoc(c))&&(I=_.propHooks[g=_.propFix[g]||g]),void 0!==b?I&&"set"in I&&void 0!==(O=I.set(c,b,g))?O:c[g]=b:I&&"get"in I&&null!==(O=I.get(c,g))?O:c[g]},propHooks:{tabIndex:{get:function(c){var g=_.find.attr(c,"tabindex");return g?parseInt(g,10):Ar.test(c.nodeName)||wo.test(c.nodeName)&&c.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),H.optSelected||(_.propHooks.selected={get:function(c){return null},set:function(c){}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this}),_.fn.extend({addClass:function(c){var g,b,O,I,L,Z;return N(c)?this.each(function(vt){_(this).addClass(c.call(this,vt,eo(this)))}):(g=io(c)).length?this.each(function(){if(O=eo(this),b=1===this.nodeType&&" "+xo(O)+" "){for(L=0;L<g.length;L++)b.indexOf(" "+(I=g[L])+" ")<0&&(b+=I+" ");Z=xo(b),O!==Z&&this.setAttribute("class",Z)}}):this},removeClass:function(c){var g,b,O,I,L,Z;return N(c)?this.each(function(vt){_(this).removeClass(c.call(this,vt,eo(this)))}):arguments.length?(g=io(c)).length?this.each(function(){if(O=eo(this),b=1===this.nodeType&&" "+xo(O)+" "){for(L=0;L<g.length;L++)for(I=g[L];b.indexOf(" "+I+" ")>-1;)b=b.replace(" "+I+" "," ");Z=xo(b),O!==Z&&this.setAttribute("class",Z)}}):this:this.attr("class","")},toggleClass:function(c,g){var b,O,I,L,Z=typeof c,vt="string"===Z||Array.isArray(c);return N(c)?this.each(function(_t){_(this).toggleClass(c.call(this,_t,eo(this),g),g)}):"boolean"==typeof g&&vt?g?this.addClass(c):this.removeClass(c):(b=io(c),this.each(function(){if(vt)for(L=_(this),I=0;I<b.length;I++)L.hasClass(O=b[I])?L.removeClass(O):L.addClass(O);else(void 0===c||"boolean"===Z)&&((O=eo(this))&&ce.set(this,"__className__",O),this.setAttribute&&this.setAttribute("class",O||!1===c?"":ce.get(this,"__className__")||""))}))},hasClass:function(c){var g,b,O=0;for(g=" "+c+" ";b=this[O++];)if(1===b.nodeType&&(" "+xo(eo(b))+" ").indexOf(g)>-1)return!0;return!1}});var qo=/\r/g;_.fn.extend({val:function(c){var g,b,O,I=this[0];return arguments.length?(O=N(c),this.each(function(L){var Z;1===this.nodeType&&(null==(Z=O?c.call(this,L,_(this).val()):c)?Z="":"number"==typeof Z?Z+="":Array.isArray(Z)&&(Z=_.map(Z,function(vt){return null==vt?"":vt+""})),(!(g=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])||!("set"in g)||void 0===g.set(this,Z,"value"))&&(this.value=Z))})):I?(g=_.valHooks[I.type]||_.valHooks[I.nodeName.toLowerCase()])&&"get"in g&&void 0!==(b=g.get(I,"value"))?b:"string"==typeof(b=I.value)?b.replace(qo,""):b??"":void 0}}),_.extend({valHooks:{option:{get:function(c){return _.find.attr(c,"value")??xo(_.text(c))}},select:{get:function(c){var g,b,O,I=c.options,L=c.selectedIndex,Z="select-one"===c.type,vt=Z?null:[],_t=Z?L+1:I.length;for(O=L<0?_t:Z?L:0;O<_t;O++)if(((b=I[O]).selected||O===L)&&!b.disabled&&(!b.parentNode.disabled||!u(b.parentNode,"optgroup"))){if(g=_(b).val(),Z)return g;vt.push(g)}return vt},set:function(c,g){for(var b,O,I=c.options,L=_.makeArray(g),Z=I.length;Z--;)((O=I[Z]).selected=_.inArray(_.valHooks.option.get(O),L)>-1)&&(b=!0);return b||(c.selectedIndex=-1),L}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(c,g){if(Array.isArray(g))return c.checked=_.inArray(_(c).val(),g)>-1}},H.checkOn||(_.valHooks[this].get=function(c){return null===c.getAttribute("value")?"on":c.value})});var fi=k.location,_i={guid:Date.now()},Ur=/\?/;_.parseXML=function(c){var g,b;if(!c||"string"!=typeof c)return null;try{g=(new k.DOMParser).parseFromString(c,"text/xml")}catch{}return b=g&&g.getElementsByTagName("parsererror")[0],(!g||b)&&_.error("Invalid XML: "+(b?_.map(b.childNodes,function(O){return O.textContent}).join("\n"):c)),g};var Li=/^(?:focusinfocus|focusoutblur)$/,Xo=function(c){c.stopPropagation()};_.extend(_.event,{trigger:function(c,g,b,O){var I,L,Z,vt,_t,It,Ut,Gt,Xt=[b||ut],ye=ht.call(c,"type")?c.type:c,tn=ht.call(c,"namespace")?c.namespace.split("."):[];if(L=Gt=Z=b=b||ut,3!==b.nodeType&&8!==b.nodeType&&!Li.test(ye+_.event.triggered)&&(ye.indexOf(".")>-1&&(tn=ye.split("."),ye=tn.shift(),tn.sort()),_t=ye.indexOf(":")<0&&"on"+ye,(c=c[_.expando]?c:new _.Event(ye,"object"==typeof c&&c)).isTrigger=O?2:3,c.namespace=tn.join("."),c.rnamespace=c.namespace?new RegExp("(^|\\.)"+tn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=b),g=null==g?[c]:_.makeArray(g,[c]),Ut=_.event.special[ye]||{},O||!Ut.trigger||!1!==Ut.trigger.apply(b,g))){if(!O&&!Ut.noBubble&&!X(b)){for(Li.test((vt=Ut.delegateType||ye)+ye)||(L=L.parentNode);L;L=L.parentNode)Xt.push(L),Z=L;Z===(b.ownerDocument||ut)&&Xt.push(Z.defaultView||Z.parentWindow||k)}for(I=0;(L=Xt[I++])&&!c.isPropagationStopped();)Gt=L,c.type=I>1?vt:Ut.bindType||ye,(It=(ce.get(L,"events")||Object.create(null))[c.type]&&ce.get(L,"handle"))&&It.apply(L,g),(It=_t&&L[_t])&&It.apply&&mn(L)&&(c.result=It.apply(L,g),!1===c.result&&c.preventDefault());return c.type=ye,!O&&!c.isDefaultPrevented()&&(!Ut._default||!1===Ut._default.apply(Xt.pop(),g))&&mn(b)&&_t&&N(b[ye])&&!X(b)&&((Z=b[_t])&&(b[_t]=null),_.event.triggered=ye,c.isPropagationStopped()&&Gt.addEventListener(ye,Xo),b[ye](),c.isPropagationStopped()&&Gt.removeEventListener(ye,Xo),_.event.triggered=void 0,Z&&(b[_t]=Z)),c.result}},simulate:function(c,g,b){var O=_.extend(new _.Event,b,{type:c,isSimulated:!0});_.event.trigger(O,null,g)}}),_.fn.extend({trigger:function(c,g){return this.each(function(){_.event.trigger(c,g,this)})},triggerHandler:function(c,g){var b=this[0];if(b)return _.event.trigger(c,g,b,!0)}});var vo=/\[\]$/,fo=/\r?\n/g,Eo=/^(?:submit|button|image|reset|file)$/i,pi=/^(?:input|select|textarea|keygen)/i;function Nr(c,g,b,O){var I;if(Array.isArray(g))_.each(g,function(L,Z){b||vo.test(c)?O(c,Z):Nr(c+"["+("object"==typeof Z&&null!=Z?L:"")+"]",Z,b,O)});else if(b||"object"!==mt(g))O(c,g);else for(I in g)Nr(c+"["+I+"]",g[I],b,O)}_.param=function(c,g){var b,O=[],I=function(L,Z){var vt=N(Z)?Z():Z;O[O.length]=encodeURIComponent(L)+"="+encodeURIComponent(vt??"")};if(null==c)return"";if(Array.isArray(c)||c.jquery&&!_.isPlainObject(c))_.each(c,function(){I(this.name,this.value)});else for(b in c)Nr(b,c[b],g,I);return O.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=_.prop(this,"elements");return c?_.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!_(this).is(":disabled")&&pi.test(this.nodeName)&&!Eo.test(c)&&(this.checked||!jt.test(c))}).map(function(c,g){var b=_(this).val();return null==b?null:Array.isArray(b)?_.map(b,function(O){return{name:g.name,value:O.replace(fo,"\r\n")}}):{name:g.name,value:b.replace(fo,"\r\n")}}).get()}});var mo=/%20/g,ii=/#.*$/,Lo=/([?&])_=[^&]*/,Si=/^(.*?):[ \t]*([^\r\n]*)$/gm,gi=/^(?:GET|HEAD)$/,Ti=/^\/\//,ai={},Zo={},si="*/".concat("*"),Oo=ut.createElement("a");function Kr(c){return function(g,b){"string"!=typeof g&&(b=g,g="*");var O,I=0,L=g.toLowerCase().match(Qt)||[];if(N(b))for(;O=L[I++];)"+"===O[0]?(O=O.slice(1)||"*",(c[O]=c[O]||[]).unshift(b)):(c[O]=c[O]||[]).push(b)}}function yo(c,g,b,O){var I={},L=c===Zo;function Z(vt){var _t;return I[vt]=!0,_.each(c[vt]||[],function(It,Ut){var Gt=Ut(g,b,O);return"string"!=typeof Gt||L||I[Gt]?L?!(_t=Gt):void 0:(g.dataTypes.unshift(Gt),Z(Gt),!1)}),_t}return Z(g.dataTypes[0])||!I["*"]&&Z("*")}function Yr(c,g){var b,O,I=_.ajaxSettings.flatOptions||{};for(b in g)void 0!==g[b]&&((I[b]?c:O||(O={}))[b]=g[b]);return O&&_.extend(!0,c,O),c}Oo.href=fi.href,_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fi.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(fi.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":si,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,g){return g?Yr(Yr(c,_.ajaxSettings),g):Yr(_.ajaxSettings,c)},ajaxPrefilter:Kr(ai),ajaxTransport:Kr(Zo),ajax:function(c,g){"object"==typeof c&&(g=c,c=void 0);var b,O,I,L,Z,vt,_t,It,Ut,Gt,Xt=_.ajaxSetup({},g=g||{}),ye=Xt.context||Xt,tn=Xt.context&&(ye.nodeType||ye.jquery)?_(ye):_.event,en=_.Deferred(),hn=_.Callbacks("once memory"),qn=Xt.statusCode||{},ir={},Re={},pr="canceled",Jn={readyState:0,getResponseHeader:function(Mn){var Pn;if(_t){if(!L)for(L={};Pn=Si.exec(I);)L[Pn[1].toLowerCase()+" "]=(L[Pn[1].toLowerCase()+" "]||[]).concat(Pn[2]);Pn=L[Mn.toLowerCase()+" "]}return null==Pn?null:Pn.join(", ")},getAllResponseHeaders:function(){return _t?I:null},setRequestHeader:function(Mn,Pn){return null==_t&&(Mn=Re[Mn.toLowerCase()]=Re[Mn.toLowerCase()]||Mn,ir[Mn]=Pn),this},overrideMimeType:function(Mn){return null==_t&&(Xt.mimeType=Mn),this},statusCode:function(Mn){var Pn;if(Mn)if(_t)Jn.always(Mn[Jn.status]);else for(Pn in Mn)qn[Pn]=[qn[Pn],Mn[Pn]];return this},abort:function(Mn){var Pn=Mn||pr;return b&&b.abort(Pn),br(0,Pn),this}};if(en.promise(Jn),Xt.url=((c||Xt.url||fi.href)+"").replace(Ti,fi.protocol+"//"),Xt.type=g.method||g.type||Xt.method||Xt.type,Xt.dataTypes=(Xt.dataType||"*").toLowerCase().match(Qt)||[""],null==Xt.crossDomain){vt=ut.createElement("a");try{vt.href=Xt.url,vt.href=vt.href,Xt.crossDomain=Oo.protocol+"//"+Oo.host!=vt.protocol+"//"+vt.host}catch{Xt.crossDomain=!0}}if(Xt.data&&Xt.processData&&"string"!=typeof Xt.data&&(Xt.data=_.param(Xt.data,Xt.traditional)),yo(ai,Xt,g,Jn),_t)return Jn;for(Ut in(It=_.event&&Xt.global)&&0==_.active++&&_.event.trigger("ajaxStart"),Xt.type=Xt.type.toUpperCase(),Xt.hasContent=!gi.test(Xt.type),O=Xt.url.replace(ii,""),Xt.hasContent?Xt.data&&Xt.processData&&0===(Xt.contentType||"").indexOf("application/x-www-form-urlencoded")&&(Xt.data=Xt.data.replace(mo,"+")):(Gt=Xt.url.slice(O.length),Xt.data&&(Xt.processData||"string"==typeof Xt.data)&&(O+=(Ur.test(O)?"&":"?")+Xt.data,delete Xt.data),!1===Xt.cache&&(O=O.replace(Lo,"$1"),Gt=(Ur.test(O)?"&":"?")+"_="+_i.guid+++Gt),Xt.url=O+Gt),Xt.ifModified&&(_.lastModified[O]&&Jn.setRequestHeader("If-Modified-Since",_.lastModified[O]),_.etag[O]&&Jn.setRequestHeader("If-None-Match",_.etag[O])),(Xt.data&&Xt.hasContent&&!1!==Xt.contentType||g.contentType)&&Jn.setRequestHeader("Content-Type",Xt.contentType),Jn.setRequestHeader("Accept",Xt.dataTypes[0]&&Xt.accepts[Xt.dataTypes[0]]?Xt.accepts[Xt.dataTypes[0]]+("*"!==Xt.dataTypes[0]?", "+si+"; q=0.01":""):Xt.accepts["*"]),Xt.headers)Jn.setRequestHeader(Ut,Xt.headers[Ut]);if(Xt.beforeSend&&(!1===Xt.beforeSend.call(ye,Jn,Xt)||_t))return Jn.abort();if(pr="abort",hn.add(Xt.complete),Jn.done(Xt.success),Jn.fail(Xt.error),b=yo(Zo,Xt,g,Jn)){if(Jn.readyState=1,It&&tn.trigger("ajaxSend",[Jn,Xt]),_t)return Jn;Xt.async&&Xt.timeout>0&&(Z=k.setTimeout(function(){Jn.abort("timeout")},Xt.timeout));try{_t=!1,b.send(ir,br)}catch(Mn){if(_t)throw Mn;br(-1,Mn)}}else br(-1,"No Transport");function br(Mn,Pn,Wr,Er){var wr,_o,no,Fo,kn,Lr=Pn;_t||(_t=!0,Z&&k.clearTimeout(Z),b=void 0,I=Er||"",Jn.readyState=Mn>0?4:0,wr=Mn>=200&&Mn<300||304===Mn,Wr&&(Fo=function jo(c,g,b){for(var O,I,L,Z,vt=c.contents,_t=c.dataTypes;"*"===_t[0];)_t.shift(),void 0===O&&(O=c.mimeType||g.getResponseHeader("Content-Type"));if(O)for(I in vt)if(vt[I]&&vt[I].test(O)){_t.unshift(I);break}if(_t[0]in b)L=_t[0];else{for(I in b){if(!_t[0]||c.converters[I+" "+_t[0]]){L=I;break}Z||(Z=I)}L=L||Z}if(L)return L!==_t[0]&&_t.unshift(L),b[L]}(Xt,Jn,Wr)),!wr&&_.inArray("script",Xt.dataTypes)>-1&&_.inArray("json",Xt.dataTypes)<0&&(Xt.converters["text script"]=function(){}),Fo=function bi(c,g,b,O){var I,L,Z,vt,_t,It={},Ut=c.dataTypes.slice();if(Ut[1])for(Z in c.converters)It[Z.toLowerCase()]=c.converters[Z];for(L=Ut.shift();L;)if(c.responseFields[L]&&(b[c.responseFields[L]]=g),!_t&&O&&c.dataFilter&&(g=c.dataFilter(g,c.dataType)),_t=L,L=Ut.shift())if("*"===L)L=_t;else if("*"!==_t&&_t!==L){if(!(Z=It[_t+" "+L]||It["* "+L]))for(I in It)if((vt=I.split(" "))[1]===L&&(Z=It[_t+" "+vt[0]]||It["* "+vt[0]])){!0===Z?Z=It[I]:!0!==It[I]&&(L=vt[0],Ut.unshift(vt[1]));break}if(!0!==Z)if(Z&&c.throws)g=Z(g);else try{g=Z(g)}catch(Gt){return{state:"parsererror",error:Z?Gt:"No conversion from "+_t+" to "+L}}}return{state:"success",data:g}}(Xt,Fo,Jn,wr),wr?(Xt.ifModified&&((kn=Jn.getResponseHeader("Last-Modified"))&&(_.lastModified[O]=kn),(kn=Jn.getResponseHeader("etag"))&&(_.etag[O]=kn)),204===Mn||"HEAD"===Xt.type?Lr="nocontent":304===Mn?Lr="notmodified":(Lr=Fo.state,_o=Fo.data,wr=!(no=Fo.error))):(no=Lr,(Mn||!Lr)&&(Lr="error",Mn<0&&(Mn=0))),Jn.status=Mn,Jn.statusText=(Pn||Lr)+"",wr?en.resolveWith(ye,[_o,Lr,Jn]):en.rejectWith(ye,[Jn,Lr,no]),Jn.statusCode(qn),qn=void 0,It&&tn.trigger(wr?"ajaxSuccess":"ajaxError",[Jn,Xt,wr?_o:no]),hn.fireWith(ye,[Jn,Lr]),It&&(tn.trigger("ajaxComplete",[Jn,Xt]),--_.active||_.event.trigger("ajaxStop")))}return Jn},getJSON:function(c,g,b){return _.get(c,g,b,"json")},getScript:function(c,g){return _.get(c,void 0,g,"script")}}),_.each(["get","post"],function(c,g){_[g]=function(b,O,I,L){return N(O)&&(L=L||I,I=O,O=void 0),_.ajax(_.extend({url:b,type:g,dataType:L,data:O,success:I},_.isPlainObject(b)&&b))}}),_.ajaxPrefilter(function(c){var g;for(g in c.headers)"content-type"===g.toLowerCase()&&(c.contentType=c.headers[g]||"")}),_._evalUrl=function(c,g,b){return _.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(O){_.globalEval(O,g,b)}})},_.fn.extend({wrapAll:function(c){var g;return this[0]&&(N(c)&&(c=c.call(this[0])),g=_(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&g.insertBefore(this[0]),g.map(function(){for(var b=this;b.firstElementChild;)b=b.firstElementChild;return b}).append(this)),this},wrapInner:function(c){return N(c)?this.each(function(g){_(this).wrapInner(c.call(this,g))}):this.each(function(){var g=_(this),b=g.contents();b.length?b.wrapAll(c):g.append(c)})},wrap:function(c){var g=N(c);return this.each(function(b){_(this).wrapAll(g?c.call(this,b):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){_(this).replaceWith(this.childNodes)}),this}}),_.expr.pseudos.hidden=function(c){return!_.expr.pseudos.visible(c)},_.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new k.XMLHttpRequest}catch{}};var Fi={0:200,1223:204},vr=_.ajaxSettings.xhr();H.cors=!!vr&&"withCredentials"in vr,H.ajax=vr=!!vr,_.ajaxTransport(function(c){var g,b;if(H.cors||vr&&!c.crossDomain)return{send:function(O,I){var L,Z=c.xhr();if(Z.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(L in c.xhrFields)Z[L]=c.xhrFields[L];for(L in c.mimeType&&Z.overrideMimeType&&Z.overrideMimeType(c.mimeType),!c.crossDomain&&!O["X-Requested-With"]&&(O["X-Requested-With"]="XMLHttpRequest"),O)Z.setRequestHeader(L,O[L]);g=function(vt){return function(){g&&(g=b=Z.onload=Z.onerror=Z.onabort=Z.ontimeout=Z.onreadystatechange=null,"abort"===vt?Z.abort():"error"===vt?"number"!=typeof Z.status?I(0,"error"):I(Z.status,Z.statusText):I(Fi[Z.status]||Z.status,Z.statusText,"text"!==(Z.responseType||"text")||"string"!=typeof Z.responseText?{binary:Z.response}:{text:Z.responseText},Z.getAllResponseHeaders()))}},Z.onload=g(),b=Z.onerror=Z.ontimeout=g("error"),void 0!==Z.onabort?Z.onabort=b:Z.onreadystatechange=function(){4===Z.readyState&&k.setTimeout(function(){g&&b()})},g=g("abort");try{Z.send(c.hasContent&&c.data||null)}catch(vt){if(g)throw vt}},abort:function(){g&&g()}}}),_.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(c){return _.globalEval(c),c}}}),_.ajaxPrefilter("script",function(c){void 0===c.cache&&(c.cache=!1),c.crossDomain&&(c.type="GET")}),_.ajaxTransport("script",function(c){var g,b;if(c.crossDomain||c.scriptAttrs)return{send:function(O,I){g=_("<script>").attr(c.scriptAttrs||{}).prop({charset:c.scriptCharset,src:c.url}).on("load error",b=function(L){g.remove(),b=null,L&&I("error"===L.type?404:200,L.type)}),ut.head.appendChild(g[0])},abort:function(){b&&b()}}});var c,ie=[],W=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=ie.pop()||_.expando+"_"+_i.guid++;return this[c]=!0,c}}),_.ajaxPrefilter("json jsonp",function(c,g,b){var O,I,L,Z=!1!==c.jsonp&&(W.test(c.url)?"url":"string"==typeof c.data&&0===(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&W.test(c.data)&&"data");if(Z||"jsonp"===c.dataTypes[0])return O=c.jsonpCallback=N(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,Z?c[Z]=c[Z].replace(W,"$1"+O):!1!==c.jsonp&&(c.url+=(Ur.test(c.url)?"&":"?")+c.jsonp+"="+O),c.converters["script json"]=function(){return L||_.error(O+" was not called"),L[0]},c.dataTypes[0]="json",I=k[O],k[O]=function(){L=arguments},b.always(function(){void 0===I?_(k).removeProp(O):k[O]=I,c[O]&&(c.jsonpCallback=g.jsonpCallback,ie.push(O)),L&&N(I)&&I(L[0]),L=I=void 0}),"script"}),H.createHTMLDocument=((c=ut.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===c.childNodes.length),_.parseHTML=function(c,g,b){return"string"!=typeof c?[]:("boolean"==typeof g&&(b=g,g=!1),g||(H.createHTMLDocument?((O=(g=ut.implementation.createHTMLDocument("")).createElement("base")).href=ut.location.href,g.head.appendChild(O)):g=ut),L=!b&&[],(I=Lt.exec(c))?[g.createElement(I[1])]:(I=Oe([c],g,L),L&&L.length&&_(L).remove(),_.merge([],I.childNodes)));var O,I,L},_.fn.load=function(c,g,b){var O,I,L,Z=this,vt=c.indexOf(" ");return vt>-1&&(O=xo(c.slice(vt)),c=c.slice(0,vt)),N(g)?(b=g,g=void 0):g&&"object"==typeof g&&(I="POST"),Z.length>0&&_.ajax({url:c,type:I||"GET",dataType:"html",data:g}).done(function(_t){L=arguments,Z.html(O?_("<div>").append(_.parseHTML(_t)).find(O):_t)}).always(b&&function(_t,It){Z.each(function(){b.apply(this,L||[_t.responseText,It,_t])})}),this},_.expr.pseudos.animated=function(c){return _.grep(_.timers,function(g){return c===g.elem}).length},_.offset={setOffset:function(c,g,b){var O,I,L,Z,vt,_t,Ut=_.css(c,"position"),Gt=_(c),Xt={};"static"===Ut&&(c.style.position="relative"),vt=Gt.offset(),L=_.css(c,"top"),_t=_.css(c,"left"),("absolute"===Ut||"fixed"===Ut)&&(L+_t).indexOf("auto")>-1?(Z=(O=Gt.position()).top,I=O.left):(Z=parseFloat(L)||0,I=parseFloat(_t)||0),N(g)&&(g=g.call(c,b,_.extend({},vt))),null!=g.top&&(Xt.top=g.top-vt.top+Z),null!=g.left&&(Xt.left=g.left-vt.left+I),"using"in g?g.using.call(c,Xt):Gt.css(Xt)}},_.fn.extend({offset:function(c){if(arguments.length)return void 0===c?this:this.each(function(I){_.offset.setOffset(this,c,I)});var g,b,O=this[0];return O?O.getClientRects().length?{top:(g=O.getBoundingClientRect()).top+(b=O.ownerDocument.defaultView).pageYOffset,left:g.left+b.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var c,g,b,O=this[0],I={top:0,left:0};if("fixed"===_.css(O,"position"))g=O.getBoundingClientRect();else{for(g=this.offset(),b=O.ownerDocument,c=O.offsetParent||b.documentElement;c&&(c===b.body||c===b.documentElement)&&"static"===_.css(c,"position");)c=c.parentNode;c&&c!==O&&1===c.nodeType&&((I=_(c).offset()).top+=_.css(c,"borderTopWidth",!0),I.left+=_.css(c,"borderLeftWidth",!0))}return{top:g.top-I.top-_.css(O,"marginTop",!0),left:g.left-I.left-_.css(O,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&"static"===_.css(c,"position");)c=c.offsetParent;return c||Sn})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,g){var b="pageYOffset"===g;_.fn[c]=function(O){return Ie(this,function(I,L,Z){var vt;if(X(I)?vt=I:9===I.nodeType&&(vt=I.defaultView),void 0===Z)return vt?vt[g]:I[L];vt?vt.scrollTo(b?vt.pageXOffset:Z,b?Z:vt.pageYOffset):I[L]=Z},c,O,arguments.length)}}),_.each(["top","left"],function(c,g){_.cssHooks[g]=kr(H.pixelPosition,function(b,O){if(O)return O=Qr(b,g),Vn.test(O)?_(b).position()[g]+"px":O})}),_.each({Height:"height",Width:"width"},function(c,g){_.each({padding:"inner"+c,content:g,"":"outer"+c},function(b,O){_.fn[O]=function(I,L){var Z=arguments.length&&(b||"boolean"!=typeof I),vt=b||(!0===I||!0===L?"margin":"border");return Ie(this,function(_t,It,Ut){var Gt;return X(_t)?0===O.indexOf("outer")?_t["inner"+c]:_t.document.documentElement["client"+c]:9===_t.nodeType?(Gt=_t.documentElement,Math.max(_t.body["scroll"+c],Gt["scroll"+c],_t.body["offset"+c],Gt["offset"+c],Gt["client"+c])):void 0===Ut?_.css(_t,It,vt):_.style(_t,It,Ut,vt)},g,Z?I:void 0,Z)}})}),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(c,g){_.fn[g]=function(b){return this.on(g,b)}}),_.fn.extend({bind:function(c,g,b){return this.on(c,null,g,b)},unbind:function(c,g){return this.off(c,null,g)},delegate:function(c,g,b,O){return this.on(g,c,b,O)},undelegate:function(c,g,b){return 1===arguments.length?this.off(c,"**"):this.off(g,c||"**",b)},hover:function(c,g){return this.on("mouseenter",c).on("mouseleave",g||c)}}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(c,g){_.fn[g]=function(b,O){return arguments.length>0?this.on(g,null,b,O):this.trigger(g)}});var d=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;_.proxy=function(c,g){var b,O,I;if("string"==typeof g&&(b=c[g],g=c,c=b),N(c))return O=R.call(arguments,2),I=function(){return c.apply(g||this,O.concat(R.call(arguments)))},I.guid=c.guid=c.guid||_.guid++,I},_.holdReady=function(c){c?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=u,_.isFunction=N,_.isWindow=X,_.camelCase=sn,_.type=mt,_.now=Date.now,_.isNumeric=function(c){var g=_.type(c);return("number"===g||"string"===g)&&!isNaN(c-parseFloat(c))},_.trim=function(c){return null==c?"":(c+"").replace(d,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var C=k.jQuery,P=k.$;return _.noConflict=function(c){return k.$===_&&(k.$=P),c&&k.jQuery===_&&(k.jQuery=C),_},typeof Ae>"u"&&(k.jQuery=k.$=_),_}),function(k){"use strict";"function"==typeof define&&define.amd?define(["jquery"],k):typeof module<"u"&&module.exports?module.exports=k(require("jquery")):k(jQuery)}(function(k,Ae){"use strict";if(!k.jstree){var Xe=0,wt=!1,R=!1,at=!1,ct=[],nt=k("script:last").attr("src"),pt=window.document,J=window.setImmediate,ht=window.Promise;!J&&ht&&(J=function(u,w){ht.resolve(w).then(u)}),k.jstree={version:"3.3.15",defaults:{plugins:[]},plugins:{},path:nt&&-1!==nt.indexOf("/")?nt.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},k.jstree.create=function(u,w){var m=new k.jstree.core(++Xe),x=w;return w=k.extend(!0,{},k.jstree.defaults,w),x&&x.plugins&&(w.plugins=x.plugins),k.each(w.plugins,function(E,A){"core"!==E&&(m=m.plugin(A,w[A]))}),k(u).data("jstree",m),m.init(u,w),m},k.jstree.destroy=function(){k(".jstree:jstree").jstree("destroy"),k(pt).off(".jstree")},k.jstree.core=function(u){this._id=u,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},k.jstree.reference=function(u){var w=null,m=null;if(!u||!u.id||u.tagName&&u.nodeType||(u=u.id),!m||!m.length)try{m=k(u)}catch{}if(!m||!m.length)try{m=k("#"+u.replace(k.jstree.idregex,"\\$&"))}catch{}return m&&m.length&&(m=m.closest(".jstree")).length&&(m=m.data("jstree"))?w=m:k(".jstree").each(function(){var x=k(this).data("jstree");if(x&&x._model.data[u])return w=x,!1}),w},k.fn.jstree=function(u){var w="string"==typeof u,m=Array.prototype.slice.call(arguments,1),x=null;return!(!0===u&&!this.length)&&(this.each(function(){var E=k.jstree.reference(this),A=w&&E?E[u]:null;if(x=w&&A?A.apply(E,m):null,E||w||u!==Ae&&!k.isPlainObject(u)||k.jstree.create(this,u),null!==(x=E&&!w||!0===u?E||!1:x)&&x!==Ae)return!1}),null!==x&&x!==Ae?x:this)},k.expr.pseudos.jstree=k.expr.createPseudo(function(u){return function(w){return k(w).hasClass("jstree")&&k(w).data("jstree")!==Ae}}),k.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:k.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,compute_elements_positions:!1,keyboard:{"ctrl-space":function(u){u.type="click",k(u.currentTarget).trigger(u)},enter:function(u){u.type="click",k(u.currentTarget).trigger(u)},left:function(w){w.preventDefault(),this.is_open(w.currentTarget)?this.close_node(w.currentTarget):(w=this.get_parent(w.currentTarget))&&w.id!==k.jstree.root&&this.get_node(w,!0).children(".jstree-anchor").trigger("focus")},up:function(w){w.preventDefault(),(w=this.get_prev_dom(w.currentTarget))&&w.length&&w.children(".jstree-anchor").trigger("focus")},right:function(w){w.preventDefault(),this.is_closed(w.currentTarget)?this.open_node(w.currentTarget,function(m){this.get_node(m,!0).children(".jstree-anchor").trigger("focus")}):!this.is_open(w.currentTarget)||(w=this.get_node(w.currentTarget,!0).children(".jstree-children")[0])&&k(this._firstChild(w)).children(".jstree-anchor").trigger("focus")},down:function(w){w.preventDefault(),(w=this.get_next_dom(w.currentTarget))&&w.length&&w.children(".jstree-anchor").trigger("focus")},"*":function(u){this.open_all()},home:function(w){w.preventDefault(),(w=this._firstChild(this.get_container_ul()[0]))&&k(w).children(".jstree-anchor").filter(":visible").trigger("focus")},end:function(u){u.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().trigger("focus")},f2:function(u){u.preventDefault(),this.edit(u.currentTarget)}}},k.jstree.core.prototype={plugin:function(u,w){var m=k.jstree.plugins[u];return m?(this._data[u]={},m.prototype=this,new m(w,this)):this},init:function(u,w){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[k.jstree.root]={id:k.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=k(u).addClass("jstree jstree-"+this._id),this.settings=w,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(k.jstree.root)},destroy:function(u){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch{}u||this.element.empty(),this.teardown()},_create_prototype_node:function(){var w,m,u=pt.createElement("LI");return u.setAttribute("role","none"),(w=pt.createElement("I")).className="jstree-icon jstree-ocl",w.setAttribute("role","presentation"),u.appendChild(w),(w=pt.createElement("A")).className="jstree-anchor",w.setAttribute("href","#"),w.setAttribute("tabindex","-1"),w.setAttribute("role","treeitem"),(m=pt.createElement("I")).className="jstree-icon jstree-themeicon",m.setAttribute("role","presentation"),w.appendChild(m),u.appendChild(w),w=m=null,u},_kbevent_to_func:function(u){var w={8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"},m=[];if(u.ctrlKey&&m.push("ctrl"),u.altKey&&m.push("alt"),u.shiftKey&&m.push("shift"),m.push(w[u.which]?w[u.which].toLowerCase():u.which),"shift-shift"===(m=m.sort().join("-").toLowerCase())||"ctrl-ctrl"===m||"alt-alt"===m)return null;var E,A,x=this.settings.core.keyboard;for(E in x)if(x.hasOwnProperty(E)&&(A="-"!==(A=E)&&"+"!==A?(A=A.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS")).split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase():A)===m)return x[E];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var u="",w=null,m=0;this.element.on("dblclick.jstree",function(x){if(x.target.tagName&&"input"===x.target.tagName.toLowerCase())return!0;if(pt.selection&&pt.selection.empty)pt.selection.empty();else if(window.getSelection){x=window.getSelection();try{x.removeAllRanges(),x.collapse()}catch{}}}).on("mousedown.jstree",function(x){x.target===this.element[0]&&(x.preventDefault(),m=+new Date)}.bind(this)).on("mousedown.jstree",".jstree-ocl",function(x){x.preventDefault()}).on("click.jstree",".jstree-ocl",function(x){this.toggle_node(x.target)}.bind(this)).on("dblclick.jstree",".jstree-anchor",function(x){if(x.target.tagName&&"input"===x.target.tagName.toLowerCase())return!0;this.settings.core.dblclick_toggle&&this.toggle_node(x.target)}.bind(this)).on("click.jstree",".jstree-anchor",function(x){x.preventDefault(),x.currentTarget!==pt.activeElement&&k(x.currentTarget).trigger("focus"),this.activate_node(x.currentTarget,x)}.bind(this)).on("keydown.jstree",".jstree-anchor",function(x){if(x.target.tagName&&"input"===x.target.tagName.toLowerCase())return!0;this._data.core.rtl&&(37===x.which?x.which=39:39===x.which&&(x.which=37));var E=this._kbevent_to_func(x);return!E||!1!==(x=E.call(this,x))&&!0!==x?void 0:x}.bind(this)).on("load_node.jstree",function(x,E){E.status&&(E.node.id!==k.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){for(var A=[],T=0,q=this._data.core.selected.length;T<q;T++)A=A.concat(this._model.data[this._data.core.selected[T]].parents);for(T=0,q=(A=k.vakata.array_unique(A)).length;T<q;T++)this.open_node(A[T],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}}.bind(this),0))}.bind(this)).on("keypress.jstree",function(T){if(T.target.tagName&&"input"===T.target.tagName.toLowerCase())return!0;w&&clearTimeout(w),w=setTimeout(function(){u=""},500);var E=String.fromCharCode(T.which).toLowerCase(),A=this.element.find(".jstree-anchor").filter(":visible"),q=(T=A.index(pt.activeElement)||0,!1);1<(u+=E).length&&(A.slice(T).each(function(M,G){if(0===k(G).text().toLowerCase().indexOf(u))return k(G).trigger("focus"),!(q=!0)}.bind(this)),q||(A.slice(0,T).each(function(M,G){if(0===k(G).text().toLowerCase().indexOf(u))return k(G).trigger("focus"),!(q=!0)}.bind(this)),q))||new RegExp("^"+E.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(u)&&(A.slice(T+1).each(function(M,G){if(k(G).text().toLowerCase().charAt(0)===E)return k(G).trigger("focus"),!(q=!0)}.bind(this)),q||A.slice(0,T+1).each(function(M,G){if(k(G).text().toLowerCase().charAt(0)===E)return k(G).trigger("focus"),!(q=!0)}.bind(this)))}.bind(this)).on("init.jstree",function(){var x=this.settings.core.themes;this._data.core.themes.dots=x.dots,this._data.core.themes.stripes=x.stripes,this._data.core.themes.icons=x.icons,this._data.core.themes.ellipsis=x.ellipsis,this.set_theme(x.name||"default",x.url),this.set_theme_variant(x.variant)}.bind(this)).on("loading.jstree",function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()}.bind(this)).on("blur.jstree",".jstree-anchor",function(x){this._data.core.focused=null,k(x.currentTarget).filter(".jstree-hovered").trigger("mouseleave"),this.element.attr("tabindex","0"),k(x.currentTarget).attr("tabindex","-1")}.bind(this)).on("focus.jstree",".jstree-anchor",function(x){var E=this.get_node(x.currentTarget);E&&(E.id||0===E.id)&&(this._data.core.focused=E.id),this.element.find(".jstree-hovered").not(x.currentTarget).trigger("mouseleave"),k(x.currentTarget).trigger("mouseenter"),this.element.attr("tabindex","-1"),k(x.currentTarget).attr("tabindex","0")}.bind(this)).on("focus.jstree",function(){var x;500<+new Date-m&&!this._data.core.focused&&this.settings.core.restore_focus&&(m=0,(x=this.get_node(this.element.attr("aria-activedescendant"),!0))&&x.find("> .jstree-anchor").trigger("focus"))}.bind(this)).on("mouseenter.jstree",".jstree-anchor",function(x){this.hover_node(x.currentTarget)}.bind(this)).on("mouseleave.jstree",".jstree-anchor",function(x){this.dehover_node(x.currentTarget)}.bind(this))},unbind:function(){this.element.off(".jstree"),k(pt).off(".jstree-"+this._id)},trigger:function(u,w){((w=w||{}).instance=this).element.triggerHandler(u.replace(".jstree","")+".jstree",w)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(u){var w=this.settings.core.strings;return k.vakata.is_function(w)?w.call(this,u):w&&w[u]?w[u]:u},_firstChild:function(u){for(u=u?u.firstChild:null;null!==u&&1!==u.nodeType;)u=u.nextSibling;return u},_nextSibling:function(u){for(u=u?u.nextSibling:null;null!==u&&1!==u.nodeType;)u=u.nextSibling;return u},_previousSibling:function(u){for(u=u?u.previousSibling:null;null!==u&&1!==u.nodeType;)u=u.previousSibling;return u},get_node:function(u,w){var m;(u=u&&(u.id||0===u.id)?u.id:u)instanceof k&&u.length&&u[0].id&&(u=u[0].id);try{if(this._model.data[u])u=this._model.data[u];else if("string"==typeof u&&this._model.data[u.replace(/^#/,"")])u=this._model.data[u.replace(/^#/,"")];else if("string"==typeof u&&(m=k("#"+u.replace(k.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[m.closest(".jstree-node").attr("id")])u=this._model.data[m.closest(".jstree-node").attr("id")];else if((m=this.element.find(u)).length&&this._model.data[m.closest(".jstree-node").attr("id")])u=this._model.data[m.closest(".jstree-node").attr("id")];else{if(!(m=this.element.find(u)).length||!m.hasClass("jstree"))return!1;u=this._model.data[k.jstree.root]}return w?u.id===k.jstree.root?this.element:k("#"+u.id.replace(k.jstree.idregex,"\\$&"),this.element):u}catch{return!1}},get_path:function(u,w,m){if(!(u=u.parents?u:this.get_node(u))||u.id===k.jstree.root||!u.parents)return!1;var x,E,A=[];for(A.push(m?u.id:u.text),x=0,E=u.parents.length;x<E;x++)A.push(m?u.parents[x]:this.get_text(u.parents[x]));return A=A.reverse().slice(1),w?A.join(w):A},get_next_dom:function(u,w){var m;if((u=this.get_node(u,!0))[0]===this.element[0]){for(m=this._firstChild(this.get_container_ul()[0]);m&&0===m.offsetHeight;)m=this._nextSibling(m);return!!m&&k(m)}if(!u||!u.length)return!1;if(w){m=u[0];do{m=this._nextSibling(m)}while(m&&0===m.offsetHeight);return!!m&&k(m)}if(u.hasClass("jstree-open")){for(m=this._firstChild(u.children(".jstree-children")[0]);m&&0===m.offsetHeight;)m=this._nextSibling(m);if(null!==m)return k(m)}m=u[0];do{m=this._nextSibling(m)}while(m&&0===m.offsetHeight);return null!==m?k(m):u.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(u,w){var m;if((u=this.get_node(u,!0))[0]===this.element[0]){for(m=this.get_container_ul()[0].lastChild;m&&0===m.offsetHeight;)m=this._previousSibling(m);return!!m&&k(m)}if(!u||!u.length)return!1;if(w){m=u[0];do{m=this._previousSibling(m)}while(m&&0===m.offsetHeight);return!!m&&k(m)}m=u[0];do{m=this._previousSibling(m)}while(m&&0===m.offsetHeight);if(null===m)return!(!(m=u[0].parentNode.parentNode)||!m.className||-1===m.className.indexOf("jstree-node"))&&k(m);for(u=k(m);u.hasClass("jstree-open");)u=u.children(".jstree-children").first().children(".jstree-node:visible:last");return u},get_parent:function(u){return!(!(u=this.get_node(u))||u.id===k.jstree.root)&&u.parent},get_children_dom:function(u){return(u=this.get_node(u,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!u||!u.length)&&u.children(".jstree-children").children(".jstree-node")},is_parent:function(u){return(u=this.get_node(u))&&(!1===u.state.loaded||0<u.children.length)},is_loaded:function(u){return(u=this.get_node(u))&&u.state.loaded},is_loading:function(u){return(u=this.get_node(u))&&u.state&&u.state.loading},is_open:function(u){return(u=this.get_node(u))&&u.state.opened},is_closed:function(u){return(u=this.get_node(u))&&this.is_parent(u)&&!u.state.opened},is_leaf:function(u){return!this.is_parent(u)},load_node:function(u,w){var x,E,A,T,q,m=this.get_node(u,!0);if(k.vakata.is_array(u))return this._load_nodes(u.slice(),w),!0;if(!(u=this.get_node(u)))return w&&w.call(this,u,!1),!1;if(u.state.loaded){for(u.state.loaded=!1,A=0,T=u.parents.length;A<T;A++)this._model.data[u.parents[A]].children_d=k.vakata.array_filter(this._model.data[u.parents[A]].children_d,function(M){return-1===k.inArray(M,u.children_d)});for(x=0,E=u.children_d.length;x<E;x++)this._model.data[u.children_d[x]].state.selected&&(q=!0),delete this._model.data[u.children_d[x]];q&&(this._data.core.selected=k.vakata.array_filter(this._data.core.selected,function(M){return-1===k.inArray(M,u.children_d)})),u.children=[],u.children_d=[],q&&this.trigger("changed",{action:"load_node",node:u,selected:this._data.core.selected})}return u.state.failed=!1,u.state.loading=!0,(u.id!==k.jstree.root?m.children(".jstree-anchor"):m).attr("aria-busy",!0),m.addClass("jstree-loading"),this._load_node(u,function(M){(u=this._model.data[u.id]).state.loading=!1,u.state.loaded=M,u.state.failed=!u.state.loaded;for(var G=this.get_node(u,!0),U=0,B=this._model.data,ot=!1,Lt=(U=0,u.children.length);U<Lt;U++)if(B[u.children[U]]&&!B[u.children[U]].state.hidden){ot=!0;break}u.state.loaded&&G&&G.length&&(G.removeClass("jstree-closed jstree-open jstree-leaf"),ot?"#"!==u.id&&G.addClass(u.state.opened?"jstree-open":"jstree-closed"):G.addClass("jstree-leaf")),(u.id!==k.jstree.root?G.children(".jstree-anchor"):G).attr("aria-busy",!1),G.removeClass("jstree-loading"),this.trigger("load_node",{node:u,status:M}),w&&w.call(this,u,M)}.bind(this)),!0},_load_nodes:function(u,w,m,x){for(var E=!0,A=function(){this._load_nodes(u,w,!0)},T=this._model.data,q=[],M=0,G=u.length;M<G;M++)T[u[M]]&&(!T[u[M]].state.loaded&&!T[u[M]].state.failed||!m&&x)&&(this.is_loading(u[M])||this.load_node(u[M],A),E=!1);if(E){for(M=0,G=u.length;M<G;M++)T[u[M]]&&T[u[M]].state.loaded&&q.push(u[M]);w&&!w.done&&(w.call(this,q),w.done=!0)}},load_all:function(u,w){if(!(u=this.get_node(u=u||k.jstree.root)))return!1;var A,T,m=[],x=this._model.data,E=x[u.id].children_d;for(u.state&&!u.state.loaded&&m.push(u.id),A=0,T=E.length;A<T;A++)x[E[A]]&&x[E[A]].state&&!x[E[A]].state.loaded&&m.push(E[A]);m.length?this._load_nodes(m,function(){this.load_all(u,w)}):(w&&w.call(this,u),this.trigger("load_all",{node:u}))},_load_node:function(u,w){var x,m=this.settings.core.data,E=function(){return 3!==this.nodeType&&8!==this.nodeType};return m?k.vakata.is_function(m)?m.call(this,u,function(A){!1===A?w.call(this,!1):this["string"==typeof A?"_append_html_data":"_append_json_data"](u,"string"==typeof A?k(k.parseHTML(A)).filter(E):A,function(T){w.call(this,T)})}.bind(this)):"object"==typeof m?m.url?(m=k.extend(!0,{},m),k.vakata.is_function(m.url)&&(m.url=m.url.call(this,u)),k.vakata.is_function(m.data)&&(m.data=m.data.call(this,u)),k.ajax(m).done(function(A,T,q){var M=q.getResponseHeader("Content-Type");return M&&-1!==M.indexOf("json")||"object"==typeof A?this._append_json_data(u,A,function(G){w.call(this,G)}):M&&-1!==M.indexOf("html")||"string"==typeof A?this._append_html_data(u,k(k.parseHTML(A)).filter(E),function(G){w.call(this,G)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:u.id,xhr:q})},this.settings.core.error.call(this,this._data.core.last_error),w.call(this,!1))}.bind(this)).fail(function(A){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:u.id,xhr:A})},w.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)}.bind(this))):(x=k.vakata.is_array(m)?k.extend(!0,[],m):k.isPlainObject(m)?k.extend(!0,{},m):m,u.id===k.jstree.root?this._append_json_data(u,x,function(A){w.call(this,A)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:u.id})},this.settings.core.error.call(this,this._data.core.last_error),w.call(this,!1))):"string"==typeof m?u.id===k.jstree.root?this._append_html_data(u,k(k.parseHTML(m)).filter(E),function(A){w.call(this,A)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:u.id})},this.settings.core.error.call(this,this._data.core.last_error),w.call(this,!1)):w.call(this,!1):u.id===k.jstree.root?this._append_html_data(u,this._data.core.original_container_html.clone(!0),function(A){w.call(this,A)}):w.call(this,!1)},_node_changed:function(u){(u=this.get_node(u))&&-1===k.inArray(u.id,this._model.changed)&&this._model.changed.push(u.id)},_append_html_data:function(G,x,m){(G=this.get_node(G)).children=[],G.children_d=[],x=x.is("ul")?x.children():x;var B,ot,U,E=G.id,A=[],T=[],q=this._model.data,M=q[E];for(G=this._data.core.selected.length,x.each(function(Lt,Mt){(B=this._parse_model_from_html(k(Mt),E,M.parents.concat()))&&(A.push(B),T.push(B),q[B].children_d.length&&(T=T.concat(q[B].children_d)))}.bind(this)),M.children=A,M.children_d=T,ot=0,U=M.parents.length;ot<U;ot++)q[M.parents[ot]].children_d=q[M.parents[ot]].children_d.concat(T);this.trigger("model",{nodes:T,parent:E}),E!==k.jstree.root?(this._node_changed(E),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==G&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),m.call(this,!0)},_append_json_data:function(u,w,m,x){if(null!==this.element){(u=this.get_node(u)).children=[],u.children_d=[],w.d&&"string"==typeof(w=w.d)&&(w=JSON.parse(w)),k.vakata.is_array(w)||(w=[w]);var E=null,A={df:this._model.default_state,dat:w,par:u.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},T=this,q=function(Qt,B){var Ue,me,Ee,We,ot=(Qt=Qt.data?Qt.data:Qt).dat,U=Qt.par,Lt=[],Mt=[],St=[],Pt=Qt.df,Jt=Qt.t_id,de=Qt.t_cnt,zt=Qt.m,he=zt[U],Ke=(Qt=Qt.sel,function(Kt,Ie,ue){ue=ue?ue.concat():[],Ie&&ue.unshift(Ie);var Me,sn,mn,gn,Fe=Kt.id.toString(),ce={id:Fe,text:Kt.text||"",icon:Kt.icon===B||Kt.icon,parent:Ie,parents:ue,children:Kt.children||[],children_d:Kt.children_d||[],data:Kt.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(Me in Pt)Pt.hasOwnProperty(Me)&&(ce.state[Me]=Pt[Me]);if(Kt&&Kt.data&&Kt.data.jstree&&Kt.data.jstree.icon&&(ce.icon=Kt.data.jstree.icon),ce.icon!==B&&null!==ce.icon&&""!==ce.icon||(ce.icon=!0),Kt&&Kt.data&&(ce.data=Kt.data,Kt.data.jstree))for(Me in Kt.data.jstree)Kt.data.jstree.hasOwnProperty(Me)&&(ce.state[Me]=Kt.data.jstree[Me]);if(Kt&&"object"==typeof Kt.state)for(Me in Kt.state)Kt.state.hasOwnProperty(Me)&&(ce.state[Me]=Kt.state[Me]);if(Kt&&"object"==typeof Kt.li_attr)for(Me in Kt.li_attr)Kt.li_attr.hasOwnProperty(Me)&&(ce.li_attr[Me]=Kt.li_attr[Me]);if(ce.li_attr.id||(ce.li_attr.id=Fe),Kt&&"object"==typeof Kt.a_attr)for(Me in Kt.a_attr)Kt.a_attr.hasOwnProperty(Me)&&(ce.a_attr[Me]=Kt.a_attr[Me]);for(Kt&&Kt.children&&!0===Kt.children&&(ce.state.loaded=!1,ce.children=[],ce.children_d=[]),Me=0,sn=(zt[ce.id]=ce).children.length;Me<sn;Me++)mn=Ke(zt[ce.children[Me]],ce.id,ue),gn=zt[mn],ce.children_d.push(mn),gn.children_d.length&&(ce.children_d=ce.children_d.concat(gn.children_d));return delete Kt.data,delete Kt.children,zt[ce.id].original=Kt,ce.state.selected&&St.push(ce.id),ce.id}),le=function(Kt,Ie,ue){ue=ue?ue.concat():[],Ie&&ue.unshift(Ie);var Me,sn,mn,gn,ce,Fe=!1;do{Fe="j"+Jt+"_"+ ++de}while(zt[Fe]);for(Me in ce={id:!1,text:"string"==typeof Kt?Kt:"",icon:"object"!=typeof Kt||Kt.icon===B||Kt.icon,parent:Ie,parents:ue,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},Pt)Pt.hasOwnProperty(Me)&&(ce.state[Me]=Pt[Me]);if(Kt&&(Kt.id||0===Kt.id)&&(ce.id=Kt.id.toString()),Kt&&Kt.text&&(ce.text=Kt.text),Kt&&Kt.data&&Kt.data.jstree&&Kt.data.jstree.icon&&(ce.icon=Kt.data.jstree.icon),ce.icon!==B&&null!==ce.icon&&""!==ce.icon||(ce.icon=!0),Kt&&Kt.data&&(ce.data=Kt.data,Kt.data.jstree))for(Me in Kt.data.jstree)Kt.data.jstree.hasOwnProperty(Me)&&(ce.state[Me]=Kt.data.jstree[Me]);if(Kt&&"object"==typeof Kt.state)for(Me in Kt.state)Kt.state.hasOwnProperty(Me)&&(ce.state[Me]=Kt.state[Me]);if(Kt&&"object"==typeof Kt.li_attr)for(Me in Kt.li_attr)Kt.li_attr.hasOwnProperty(Me)&&(ce.li_attr[Me]=Kt.li_attr[Me]);if(ce.li_attr.id&&!ce.id&&0!==ce.id&&(ce.id=ce.li_attr.id.toString()),ce.id||0===ce.id||(ce.id=Fe),ce.li_attr.id||(ce.li_attr.id=ce.id),Kt&&"object"==typeof Kt.a_attr)for(Me in Kt.a_attr)Kt.a_attr.hasOwnProperty(Me)&&(ce.a_attr[Me]=Kt.a_attr[Me]);if(Kt&&Kt.children&&Kt.children.length){for(Me=0,sn=Kt.children.length;Me<sn;Me++)mn=le(Kt.children[Me],ce.id,ue),gn=zt[mn],ce.children.push(mn),gn.children_d.length&&(ce.children_d=ce.children_d.concat(gn.children_d));ce.children_d=ce.children_d.concat(ce.children)}return Kt&&Kt.children&&!0===Kt.children&&(ce.state.loaded=!1,ce.children=[],ce.children_d=[]),delete Kt.data,delete Kt.children,ce.original=Kt,(zt[ce.id]=ce).state.selected&&St.push(ce.id),ce.id};if(ot.length&&ot[0].id!==B&&ot[0].parent!==B){for(me=0,Ee=ot.length;me<Ee;me++)ot[me].children||(ot[me].children=[]),ot[me].state||(ot[me].state={}),zt[ot[me].id.toString()]=ot[me];for(me=0,Ee=ot.length;me<Ee;me++)zt[ot[me].parent.toString()]?(zt[ot[me].parent.toString()].children.push(ot[me].id.toString()),he.children_d.push(ot[me].id.toString())):void 0!==T&&(T._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:ot[me].id.toString(),parent:ot[me].parent.toString()})},T.settings.core.error.call(T,T._data.core.last_error));for(me=0,Ee=he.children.length;me<Ee;me++)Ue=Ke(zt[he.children[me]],U,he.parents.concat()),Mt.push(Ue),zt[Ue].children_d.length&&(Mt=Mt.concat(zt[Ue].children_d));for(me=0,Ee=he.parents.length;me<Ee;me++)zt[he.parents[me]].children_d=zt[he.parents[me]].children_d.concat(Mt);We={cnt:de,mod:zt,sel:Qt,par:U,dpc:Mt,add:St}}else{for(me=0,Ee=ot.length;me<Ee;me++)(Ue=le(ot[me],U,he.parents.concat()))&&(Lt.push(Ue),Mt.push(Ue),zt[Ue].children_d.length&&(Mt=Mt.concat(zt[Ue].children_d)));for(he.children=Lt,he.children_d=Mt,me=0,Ee=he.parents.length;me<Ee;me++)zt[he.parents[me]].children_d=zt[he.parents[me]].children_d.concat(Mt);We={cnt:de,mod:zt,sel:Qt,par:U,dpc:Mt,add:St}}if(typeof window<"u"&&void 0!==window.document)return We;postMessage(We)},M=function(G,B){if(null!==this.element){var ot;for(ot in this._cnt=G.cnt,U=this._model.data)U.hasOwnProperty(ot)&&U[ot].state&&U[ot].state.loading&&G.mod[ot]&&(G.mod[ot].state.loading=!0);if(this._model.data=G.mod,B){var Lt,Mt=G.add,St=G.sel,Pt=this._data.core.selected.slice(),U=this._model.data;if(St.length!==Pt.length||k.vakata.array_unique(St.concat(Pt)).length!==St.length){for(ot=0,Lt=St.length;ot<Lt;ot++)-1===k.inArray(St[ot],Mt)&&-1===k.inArray(St[ot],Pt)&&(U[St[ot]].state.selected=!1);for(ot=0,Lt=Pt.length;ot<Lt;ot++)-1===k.inArray(Pt[ot],St)&&(U[Pt[ot]].state.selected=!0)}}G.add.length&&(this._data.core.selected=this._data.core.selected.concat(G.add)),this.trigger("model",{nodes:G.dpc,parent:G.par}),G.par!==k.jstree.root?(this._node_changed(G.par),this.redraw()):this.redraw(!0),G.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),!B&&J?J(function(){m.call(T,!0)}):m.call(T,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+q.toString()],{type:"text/javascript"}))),!this._data.core.working||x?(this._data.core.working=!0,(E=new window.Worker(this._wrk)).onmessage=function(G){M.call(this,G.data,!0);try{E.terminate(),E=null}catch{}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}.bind(this),E.onerror=function(G){M.call(this,q(A),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}.bind(this),A.par?E.postMessage(A):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([u,w,m,!0])}catch{M.call(this,q(A),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else M.call(this,q(A),!1)}},_parse_model_from_html:function(u,M,m){m=m?[].concat(m):[],M&&m.unshift(M);var x,E,q,G,A=this._model.data,T={id:!1,text:!1,icon:!0,parent:M,parents:m,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(q in this._model.default_state)this._model.default_state.hasOwnProperty(q)&&(T.state[q]=this._model.default_state[q]);if(M=k.vakata.attributes(u,!0),k.each(M,function(B,ot){return!(ot=k.vakata.trim(ot)).length||(T.li_attr[B]=ot,void("id"===B&&(T.id=ot.toString())))}),(M=u.children("a").first()).length&&(M=k.vakata.attributes(M,!0),k.each(M,function(B,ot){(ot=k.vakata.trim(ot)).length&&(T.a_attr[B]=ot)})),(M=(u.children("a").first().length?u.children("a").first():u).clone()).children("ins, i, ul").remove(),M=M.html(),M=k("<div></div>").html(M),T.text=this.settings.core.force_text?M.text():M.html(),M=u.data(),T.data=M?k.extend(!0,{},M):null,T.state.opened=u.hasClass("jstree-open"),T.state.selected=u.children("a").hasClass("jstree-clicked"),T.state.disabled=u.children("a").hasClass("jstree-disabled"),T.data&&T.data.jstree)for(q in T.data.jstree)T.data.jstree.hasOwnProperty(q)&&(T.state[q]=T.data.jstree[q]);(M=u.children("a").children(".jstree-themeicon")).length&&(T.icon=!M.hasClass("jstree-themeicon-hidden")&&M.attr("rel")),T.state.icon!==Ae&&(T.icon=T.state.icon),T.icon!==Ae&&null!==T.icon&&""!==T.icon||(T.icon=!0),M=u.children("ul").children("li");do{G="j"+this._id+"_"+ ++this._cnt}while(A[G]);return T.id=T.li_attr.id?T.li_attr.id.toString():G,M.length?(M.each(function(B,ot){x=this._parse_model_from_html(k(ot),T.id,m),E=this._model.data[x],T.children.push(x),E.children_d.length&&(T.children_d=T.children_d.concat(E.children_d))}.bind(this)),T.children_d=T.children_d.concat(T.children)):u.hasClass("jstree-closed")&&(T.state.loaded=!1),T.li_attr.class&&(T.li_attr.class=T.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),T.a_attr.class&&(T.a_attr.class=T.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),(A[T.id]=T).state.selected&&this._data.core.selected.push(T.id),T.id},_parse_model_from_flat_json:function(u,w,m){m=m?m.concat():[],w&&m.unshift(w);var T,q,M,G,x=u.id.toString(),E=this._model.data,A=this._model.default_state,B={id:x,text:u.text||"",icon:u.icon===Ae||u.icon,parent:w,parents:m,children:u.children||[],children_d:u.children_d||[],data:u.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(T in A)A.hasOwnProperty(T)&&(B.state[T]=A[T]);if(u&&u.data&&u.data.jstree&&u.data.jstree.icon&&(B.icon=u.data.jstree.icon),B.icon!==Ae&&null!==B.icon&&""!==B.icon||(B.icon=!0),u&&u.data&&(B.data=u.data,u.data.jstree))for(T in u.data.jstree)u.data.jstree.hasOwnProperty(T)&&(B.state[T]=u.data.jstree[T]);if(u&&"object"==typeof u.state)for(T in u.state)u.state.hasOwnProperty(T)&&(B.state[T]=u.state[T]);if(u&&"object"==typeof u.li_attr)for(T in u.li_attr)u.li_attr.hasOwnProperty(T)&&(B.li_attr[T]=u.li_attr[T]);if(B.li_attr.id||(B.li_attr.id=x),u&&"object"==typeof u.a_attr)for(T in u.a_attr)u.a_attr.hasOwnProperty(T)&&(B.a_attr[T]=u.a_attr[T]);for(u&&u.children&&!0===u.children&&(B.state.loaded=!1,B.children=[],B.children_d=[]),T=0,q=(E[B.id]=B).children.length;T<q;T++)G=E[M=this._parse_model_from_flat_json(E[B.children[T]],B.id,m)],B.children_d.push(M),G.children_d.length&&(B.children_d=B.children_d.concat(G.children_d));return delete u.data,delete u.children,E[B.id].original=u,B.state.selected&&this._data.core.selected.push(B.id),B.id},_parse_model_from_json:function(u,w,m){m=m?m.concat():[],w&&m.unshift(w);var E,A,T,q,B,x=!1,M=this._model.data,G=this._model.default_state;do{x="j"+this._id+"_"+ ++this._cnt}while(M[x]);for(E in B={id:!1,text:"string"==typeof u?u:"",icon:"object"!=typeof u||u.icon===Ae||u.icon,parent:w,parents:m,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},G)G.hasOwnProperty(E)&&(B.state[E]=G[E]);if(u&&(u.id||0===u.id)&&(B.id=u.id.toString()),u&&u.text&&(B.text=u.text),u&&u.data&&u.data.jstree&&u.data.jstree.icon&&(B.icon=u.data.jstree.icon),B.icon!==Ae&&null!==B.icon&&""!==B.icon||(B.icon=!0),u&&u.data&&(B.data=u.data,u.data.jstree))for(E in u.data.jstree)u.data.jstree.hasOwnProperty(E)&&(B.state[E]=u.data.jstree[E]);if(u&&"object"==typeof u.state)for(E in u.state)u.state.hasOwnProperty(E)&&(B.state[E]=u.state[E]);if(u&&"object"==typeof u.li_attr)for(E in u.li_attr)u.li_attr.hasOwnProperty(E)&&(B.li_attr[E]=u.li_attr[E]);if(B.li_attr.id&&!B.id&&0!==B.id&&(B.id=B.li_attr.id.toString()),B.id||0===B.id||(B.id=x),B.li_attr.id||(B.li_attr.id=B.id),u&&"object"==typeof u.a_attr)for(E in u.a_attr)u.a_attr.hasOwnProperty(E)&&(B.a_attr[E]=u.a_attr[E]);if(u&&u.children&&u.children.length){for(E=0,A=u.children.length;E<A;E++)q=M[T=this._parse_model_from_json(u.children[E],B.id,m)],B.children.push(T),q.children_d.length&&(B.children_d=B.children_d.concat(q.children_d));B.children_d=B.children.concat(B.children_d)}return u&&u.children&&!0===u.children&&(B.state.loaded=!1,B.children=[],B.children_d=[]),delete u.data,delete u.children,B.original=u,(M[B.id]=B).state.selected&&this._data.core.selected.push(B.id),B.id},_redraw:function(){for(var m,u=(this._model.force_full_redraw?this._model.data[k.jstree.root].children:this._model.changed).concat([]),w=pt.createElement("UL"),x=this._data.core.focused,E=0,A=u.length;E<A;E++)(m=this.redraw_node(u[E],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&w.appendChild(m);this._model.force_full_redraw&&(w.className=this.get_container_ul()[0].className,w.setAttribute("role","presentation"),this.element.empty().append(w)),null!==x&&this.settings.core.restore_focus&&((m=this.get_node(x,!0))&&m.length&&m.children(".jstree-anchor")[0]!==pt.activeElement?m.children(".jstree-anchor").trigger("focus"):this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:u})},redraw:function(u){u&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(u){var w=this.get_node(u),m=!1,x=!1,E=!1,A=pt;if(!w)return!1;if(w.id===k.jstree.root)return this.redraw(!0);if(!(u=this.get_node(u,!0))||!u.length)return!1;if(u.children(".jstree-children").remove(),u=u[0],w.children.length&&w.state.loaded){for((E=A.createElement("UL")).setAttribute("role","group"),E.className="jstree-children",m=0,x=w.children.length;m<x;m++)E.appendChild(this.redraw_node(w.children[m],!0,!0));u.appendChild(E)}},redraw_node:function(u,w,m,x){var E=this.get_node(u),A=!1,T=!1,q=!1,M=!1,G=!1,B=!1,ot="",U=pt,Lt=this._model.data,Mt=!1,Pt=null,Jt=0,de=0,zt=!1,he=!1;if(!E)return!1;if(E.id===k.jstree.root)return this.redraw(!0);if(w=w||0===E.children.length,u=pt.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(E.id[0])?"\\3"+E.id[0]+" "+E.id.substr(1).replace(k.jstree.idregex,"\\$&"):E.id.replace(k.jstree.idregex,"\\$&"))):pt.getElementById(E.id))u=k(u),m||((A=u.parent().parent()[0])===this.element[0]&&(A=null),T=u.index()),(w=!(w||!E.children.length||u.children(".jstree-children").length)||w)||(q=u.children(".jstree-children")[0]),Mt=u.children(".jstree-anchor")[0]===pt.activeElement,u.remove();else if(w=!0,!m){if(!(null===(A=E.parent!==k.jstree.root?k("#"+E.parent.replace(k.jstree.idregex,"\\$&"),this.element)[0]:null)||A&&Lt[E.parent].state.opened))return!1;T=k.inArray(E.id,(null===A?Lt[k.jstree.root]:Lt[E.parent]).children)}for(M in u=this._data.core.node.cloneNode(!0),ot="jstree-node ",E.li_attr)E.li_attr.hasOwnProperty(M)&&"id"!==M&&("class"!==M?u.setAttribute(M,E.li_attr[M]):ot+=E.li_attr[M]);for(E.a_attr.id||(E.a_attr.id=E.id+"_anchor"),u.childNodes[1].setAttribute("aria-selected",!!E.state.selected),u.childNodes[1].setAttribute("aria-level",E.parents.length),this.settings.core.compute_elements_positions&&(u.childNodes[1].setAttribute("aria-setsize",Lt[E.parent].children.length),u.childNodes[1].setAttribute("aria-posinset",Lt[E.parent].children.indexOf(E.id)+1)),E.state.disabled&&u.childNodes[1].setAttribute("aria-disabled",!0),M=0,G=E.children.length;M<G;M++)if(!Lt[E.children[M]].state.hidden){zt=!0;break}if(null!==E.parent&&Lt[E.parent]&&!E.state.hidden&&(M=k.inArray(E.id,Lt[E.parent].children),he=E.id,-1!==M))for(M++,G=Lt[E.parent].children.length;M<G&&(he=Lt[Lt[E.parent].children[M]].state.hidden?he:Lt[E.parent].children[M])===E.id;M++);for(G in E.state.hidden&&(ot+=" jstree-hidden"),E.state.loading&&(ot+=" jstree-loading"),E.state.loaded&&!zt?ot+=" jstree-leaf":(ot+=E.state.opened&&E.state.loaded?" jstree-open":" jstree-closed",u.childNodes[1].setAttribute("aria-expanded",E.state.opened&&E.state.loaded)),he===E.id&&(ot+=" jstree-last"),u.id=E.id,u.className=ot,ot=(E.state.selected?" jstree-clicked":"")+(E.state.disabled?" jstree-disabled":""),E.a_attr)E.a_attr.hasOwnProperty(G)&&("href"===G&&"#"===E.a_attr[G]||("class"!==G?u.childNodes[1].setAttribute(G,E.a_attr[G]):ot+=" "+E.a_attr[G]));if(ot.length&&(u.childNodes[1].className="jstree-anchor "+ot),(E.icon&&!0!==E.icon||!1===E.icon)&&(!1===E.icon?u.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===E.icon.indexOf("/")&&-1===E.icon.indexOf(".")?u.childNodes[1].childNodes[0].className+=" "+E.icon+" jstree-themeicon-custom":(u.childNodes[1].childNodes[0].style.backgroundImage='url("'+E.icon+'")',u.childNodes[1].childNodes[0].style.backgroundPosition="center center",u.childNodes[1].childNodes[0].style.backgroundSize="auto",u.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?u.childNodes[1].appendChild(U.createTextNode(E.text)):u.childNodes[1].innerHTML+=E.text,w&&E.children.length&&(E.state.opened||x)&&E.state.loaded){for((B=U.createElement("UL")).setAttribute("role","group"),B.className="jstree-children",M=0,G=E.children.length;M<G;M++)B.appendChild(this.redraw_node(E.children[M],w,!0));u.appendChild(B)}if(q&&u.appendChild(q),!m){for(M=0,G=(A=A||this.element[0]).childNodes.length;M<G;M++)if(A.childNodes[M]&&A.childNodes[M].className&&-1!==A.childNodes[M].className.indexOf("jstree-children")){Pt=A.childNodes[M];break}Pt||((Pt=U.createElement("UL")).setAttribute("role","group"),Pt.className="jstree-children",A.appendChild(Pt)),T<(A=Pt).childNodes.length?A.insertBefore(u,A.childNodes[T]):A.appendChild(u),Mt&&(Jt=this.element[0].scrollTop,de=this.element[0].scrollLeft,u.childNodes[1].focus(),this.element[0].scrollTop=Jt,this.element[0].scrollLeft=de)}return E.state.opened&&!E.state.loaded&&(E.state.opened=!1,setTimeout(function(){this.open_node(E.id,!1,0)}.bind(this),0)),u},open_node:function(u,w,m){var x,E,A,T;if(k.vakata.is_array(u)){for(x=0,E=(u=u.slice()).length;x<E;x++)this.open_node(u[x],w,m);return!0}return!(!(u=this.get_node(u))||u.id===k.jstree.root)&&(m=m===Ae?this.settings.core.animation:m,this.is_closed(u)?this.is_loaded(u)?(A=this.get_node(u,!0),T=this,A.length&&(m&&A.children(".jstree-children").length&&A.children(".jstree-children").stop(!0,!0),u.children.length&&!this._firstChild(A.children(".jstree-children")[0])&&this.draw_children(u),m?(this.trigger("before_open",{node:u}),A.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").children(".jstree-anchor").attr("aria-expanded",!0).end().children(".jstree-children").stop(!0,!0).slideDown(m,function(){this.style.display="",T.element&&T.trigger("after_open",{node:u})})):(this.trigger("before_open",{node:u}),A[0].className=A[0].className.replace("jstree-closed","jstree-open"),A[0].childNodes[1].setAttribute("aria-expanded",!0))),u.state.opened=!0,w&&w.call(this,u,!0),A.length||this.trigger("before_open",{node:u}),this.trigger("open_node",{node:u}),m&&A.length||this.trigger("after_open",{node:u}),!0):this.is_loading(u)?setTimeout(function(){this.open_node(u,w,m)}.bind(this),500):void this.load_node(u,function(q,M){return M?this.open_node(q,w,m):!!w&&w.call(this,q,!1)}):(w&&w.call(this,u,!1),!1))},_open_to:function(u){if(!(u=this.get_node(u))||u.id===k.jstree.root)return!1;for(var w=u.parents,m=0,x=w.length;m<x;m+=1)m!==k.jstree.root&&this.open_node(w[m],!1,0);return k("#"+u.id.replace(k.jstree.idregex,"\\$&"),this.element)},close_node:function(u,w){var m,x,E,A;if(k.vakata.is_array(u)){for(m=0,x=(u=u.slice()).length;m<x;m++)this.close_node(u[m],w);return!0}return!(!(u=this.get_node(u))||u.id===k.jstree.root)&&!this.is_closed(u)&&(w=w===Ae?this.settings.core.animation:w,A=(E=this).get_node(u,!0),u.state.opened=!1,this.trigger("close_node",{node:u}),void(A.length?w?A.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").children(".jstree-anchor").attr("aria-expanded",!1).end().children(".jstree-children").stop(!0,!0).slideUp(w,function(){this.style.display="",A.children(".jstree-children").remove(),E.element&&E.trigger("after_close",{node:u})}):(A[0].className=A[0].className.replace("jstree-open","jstree-closed"),A.children(".jstree-anchor").attr("aria-expanded",!1),A.children(".jstree-children").remove(),this.trigger("after_close",{node:u})):this.trigger("after_close",{node:u})))},toggle_node:function(u){var w,m;if(k.vakata.is_array(u)){for(w=0,m=(u=u.slice()).length;w<m;w++)this.toggle_node(u[w]);return!0}return this.is_closed(u)?this.open_node(u):this.is_open(u)?this.close_node(u):void 0},open_all:function(u,w,m){if(!(u=this.get_node(u=u||k.jstree.root)))return!1;var E,A,T,x=u.id===k.jstree.root?this.get_container_ul():this.get_node(u,!0);if(!x.length){for(E=0,A=u.children_d.length;E<A;E++)this.is_closed(this._model.data[u.children_d[E]])&&(this._model.data[u.children_d[E]].state.opened=!0);return this.trigger("open_all",{node:u})}m=m||x,(x=(T=this).is_closed(u)?x.find(".jstree-closed").addBack():x.find(".jstree-closed")).each(function(){T.open_node(this,function(q,M){M&&this.is_parent(q)&&this.open_all(q,w,m)},w||0)}),0===m.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(m)})},close_all:function(u,w){if(!(u=this.get_node(u=u||k.jstree.root)))return!1;var E,A,m=u.id===k.jstree.root?this.get_container_ul():this.get_node(u,!0),x=this;for(m.length&&(m=this.is_open(u)?m.find(".jstree-open").addBack():m.find(".jstree-open"),k(m.get().reverse()).each(function(){x.close_node(this,w||0)})),E=0,A=u.children_d.length;E<A;E++)this._model.data[u.children_d[E]].state.opened=!1;this.trigger("close_all",{node:u})},is_disabled:function(u){return(u=this.get_node(u))&&u.state&&u.state.disabled},enable_node:function(u){var w,m;if(k.vakata.is_array(u)){for(w=0,m=(u=u.slice()).length;w<m;w++)this.enable_node(u[w]);return!0}if(!(u=this.get_node(u))||u.id===k.jstree.root)return!1;u.state.disabled=!1,this.get_node(u,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:u})},disable_node:function(u){var w,m;if(k.vakata.is_array(u)){for(w=0,m=(u=u.slice()).length;w<m;w++)this.disable_node(u[w]);return!0}if(!(u=this.get_node(u))||u.id===k.jstree.root)return!1;u.state.disabled=!0,this.get_node(u,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:u})},is_hidden:function(u){return!0===(u=this.get_node(u)).state.hidden},hide_node:function(u,w){var m,x;if(k.vakata.is_array(u)){for(m=0,x=(u=u.slice()).length;m<x;m++)this.hide_node(u[m],!0);return w||this.redraw(),!0}if(!(u=this.get_node(u))||u.id===k.jstree.root)return!1;u.state.hidden||(u.state.hidden=!0,this._node_changed(u.parent),w||this.redraw(),this.trigger("hide_node",{node:u}))},show_node:function(u,w){var m,x;if(k.vakata.is_array(u)){for(m=0,x=(u=u.slice()).length;m<x;m++)this.show_node(u[m],!0);return w||this.redraw(),!0}if(!(u=this.get_node(u))||u.id===k.jstree.root)return!1;u.state.hidden&&(u.state.hidden=!1,this._node_changed(u.parent),w||this.redraw(),this.trigger("show_node",{node:u}))},hide_all:function(u){var w,m=this._model.data,x=[];for(w in m)m.hasOwnProperty(w)&&w!==k.jstree.root&&!m[w].state.hidden&&(m[w].state.hidden=!0,x.push(w));return this._model.force_full_redraw=!0,u||this.redraw(),this.trigger("hide_all",{nodes:x}),x},show_all:function(u){var w,m=this._model.data,x=[];for(w in m)m.hasOwnProperty(w)&&w!==k.jstree.root&&m[w].state.hidden&&(m[w].state.hidden=!1,x.push(w));return this._model.force_full_redraw=!0,u||this.redraw(),this.trigger("show_all",{nodes:x}),x},activate_node:function(u,w){if(this.is_disabled(u))return!1;if(w&&"object"==typeof w||(w={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==Ae?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(w.metaKey||w.ctrlKey||w.shiftKey)&&(!w.shiftKey||this._data.core.last_clicked&&this.get_parent(u)&&this.get_parent(u)===this._data.core.last_clicked.parent))if(w.shiftKey){for(var m=this.get_node(u).id,x=this._data.core.last_clicked.id,E=this.get_node(this._data.core.last_clicked.parent).children,A=!1,T=0,q=E.length;T<q;T+=1)E[T]===m&&(A=!A),E[T]===x&&(A=!A),this.is_disabled(E[T])||!A&&E[T]!==m&&E[T]!==x?w.ctrlKey||this.deselect_node(E[T],!0,w):this.is_hidden(E[T])||this.select_node(E[T],!0,!1,w);this.trigger("changed",{action:"select_node",node:this.get_node(u),selected:this._data.core.selected,event:w})}else this.is_selected(u)?this.deselect_node(u,!1,w):(w.ctrlKey&&(this._data.core.last_clicked=this.get_node(u)),this.select_node(u,!1,!1,w));else!this.settings.core.multiple&&(w.metaKey||w.ctrlKey||w.shiftKey)&&this.is_selected(u)?this.deselect_node(u,!1,w):(this.is_selected(u)&&1===this._data.core.selected.length||(this.deselect_all(!0),this.select_node(u,!1,!1,w)),this._data.core.last_clicked=this.get_node(u));this.trigger("activate_node",{node:this.get_node(u),event:w})},hover_node:function(u){if(!(u=this.get_node(u,!0))||!u.length||u.children(".jstree-hovered").length)return!1;var w=this.element.find(".jstree-hovered"),m=this.element;w&&w.length&&this.dehover_node(w),u.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(u)}),setTimeout(function(){m.attr("aria-activedescendant",u[0].id)},0)},dehover_node:function(u){if(!(u=this.get_node(u,!0))||!u.length||!u.children(".jstree-hovered").length)return!1;u.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(u)})},select_node:function(u,w,m,x){var E,A,T;if(k.vakata.is_array(u)){for(A=0,T=(u=u.slice()).length;A<T;A++)this.select_node(u[A],w,m,x);return!0}if(!(u=this.get_node(u))||u.id===k.jstree.root)return!1;E=this.get_node(u,!0),u.state.selected||(u.state.selected=!0,this._data.core.selected.push(u.id),(E=m?E:this._open_to(u))&&E.length&&E.children(".jstree-anchor").addClass("jstree-clicked").attr("aria-selected",!0),this.trigger("select_node",{node:u,selected:this._data.core.selected,event:x}),w||this.trigger("changed",{action:"select_node",node:u,selected:this._data.core.selected,event:x}))},deselect_node:function(u,w,m){var x,E,A;if(k.vakata.is_array(u)){for(x=0,E=(u=u.slice()).length;x<E;x++)this.deselect_node(u[x],w,m);return!0}if(!(u=this.get_node(u))||u.id===k.jstree.root)return!1;A=this.get_node(u,!0),u.state.selected&&(u.state.selected=!1,this._data.core.selected=k.vakata.array_remove_item(this._data.core.selected,u.id),A.length&&A.children(".jstree-anchor").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_node",{node:u,selected:this._data.core.selected,event:m}),w||this.trigger("changed",{action:"deselect_node",node:u,selected:this._data.core.selected,event:m}))},select_all:function(u){var m,x,w=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[k.jstree.root].children_d.concat(),m=0,x=this._data.core.selected.length;m<x;m++)this._model.data[this._data.core.selected[m]]&&(this._model.data[this._data.core.selected[m]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),u||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:w})},deselect_all:function(u){for(var w=this._data.core.selected.concat([]),m=0,x=this._data.core.selected.length;m<x;m++)this._model.data[this._data.core.selected[m]]&&(this._model.data[this._data.core.selected[m]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:w}),u||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:w})},is_selected:function(u){return!(!(u=this.get_node(u))||u.id===k.jstree.root)&&u.state.selected},get_selected:function(u){return u?k.map(this._data.core.selected,function(w){return this.get_node(w)}.bind(this)):this._data.core.selected.slice()},get_top_selected:function(u){for(var x,E,w=this.get_selected(!0),m={},A=0,T=w.length;A<T;A++)m[w[A].id]=w[A];for(A=0,T=w.length;A<T;A++)for(x=0,E=w[A].children_d.length;x<E;x++)m[w[A].children_d[x]]&&delete m[w[A].children_d[x]];for(A in w=[],m)m.hasOwnProperty(A)&&w.push(A);return u?k.map(w,function(q){return this.get_node(q)}.bind(this)):w},get_bottom_selected:function(u){for(var w=this.get_selected(!0),m=[],x=0,E=w.length;x<E;x++)w[x].children.length||m.push(w[x].id);return u?k.map(m,function(A){return this.get_node(A)}.bind(this)):m},get_state:function(){var w,u={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(w in this._model.data)this._model.data.hasOwnProperty(w)&&w!==k.jstree.root&&(this._model.data[w].state.loaded&&this.settings.core.loaded_state&&u.core.loaded.push(w),this._model.data[w].state.opened&&u.core.open.push(w),this._model.data[w].state.selected&&u.core.selected.push(w));return u},set_state:function(u,w){if(u){if(u.core&&u.core.selected&&u.core.initial_selection===Ae&&(u.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),u.core){var A,T;if(u.core.loaded)return this.settings.core.loaded_state&&k.vakata.is_array(u.core.loaded)&&u.core.loaded.length?this._load_nodes(u.core.loaded,function(q){delete u.core.loaded,this.set_state(u,w)}):(delete u.core.loaded,this.set_state(u,w)),!1;if(u.core.open)return k.vakata.is_array(u.core.open)&&u.core.open.length?this._load_nodes(u.core.open,function(q){this.open_node(q,!1,0),delete u.core.open,this.set_state(u,w)}):(delete u.core.open,this.set_state(u,w)),!1;if(u.core.scroll)return u.core.scroll&&u.core.scroll.left!==Ae&&this.element.scrollLeft(u.core.scroll.left),u.core.scroll&&u.core.scroll.top!==Ae&&this.element.scrollTop(u.core.scroll.top),delete u.core.scroll,this.set_state(u,w),!1;if(u.core.selected)return A=this,u.core.initial_selection!==Ae&&u.core.initial_selection!==this._data.core.selected.concat([]).sort().join(",")||(this.deselect_all(),k.each(u.core.selected,function(q,M){A.select_node(M,!1,!0)})),delete u.core.initial_selection,delete u.core.selected,this.set_state(u,w),!1;for(T in u)u.hasOwnProperty(T)&&"core"!==T&&-1===k.inArray(T,this.settings.plugins)&&delete u[T];if(k.isEmptyObject(u.core))return delete u.core,this.set_state(u,w),!1}return!k.isEmptyObject(u)||(u=null,w&&w.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(u,w){this._data.core.state=!0===w?{}:this.get_state(),w&&k.vakata.is_function(w)&&(this._data.core.state=w.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[k.jstree.root]={id:k.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var m=this.get_container_ul()[0].className;u||(this.element.html("<ul class='"+m+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(k.jstree.root,function(x,E){E&&(this.get_container_ul()[0].className=m,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(k.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(u){if(!(u=this.get_node(u))||u.id===k.jstree.root)return!1;var w=[],m=[],x=this._data.core.selected.concat([]);m.push(u.id),!0===u.state.opened&&w.push(u.id),this.get_node(u,!0).find(".jstree-open").each(function(){m.push(this.id),w.push(this.id)}),this._load_nodes(m,function(E){this.open_node(w,!1,0),this.select_node(x),this.trigger("refresh_node",{node:u,nodes:E})}.bind(this),!1,!0)},set_id:function(u,w){if(!(u=this.get_node(u))||u.id===k.jstree.root)return!1;var m,x,E=this._model.data,A=u.id;for(w=w.toString(),E[u.parent].children[k.inArray(u.id,E[u.parent].children)]=w,m=0,x=u.parents.length;m<x;m++)E[u.parents[m]].children_d[k.inArray(u.id,E[u.parents[m]].children_d)]=w;for(m=0,x=u.children.length;m<x;m++)E[u.children[m]].parent=w;for(m=0,x=u.children_d.length;m<x;m++)E[u.children_d[m]].parents[k.inArray(u.id,E[u.children_d[m]].parents)]=w;return-1!==(m=k.inArray(u.id,this._data.core.selected))&&(this._data.core.selected[m]=w),(m=this.get_node(u.id,!0))&&(m.attr("id",w),this.element.attr("aria-activedescendant")===u.id&&this.element.attr("aria-activedescendant",w)),delete E[u.id],u.id=w,E[u.li_attr.id=w]=u,this.trigger("set_id",{node:u,new:u.id,old:A}),!0},get_text:function(u){return!(!(u=this.get_node(u))||u.id===k.jstree.root)&&u.text},set_text:function(u,w){var m,x;if(k.vakata.is_array(u)){for(m=0,x=(u=u.slice()).length;m<x;m++)this.set_text(u[m],w);return!0}return!(!(u=this.get_node(u))||u.id===k.jstree.root||(u.text=w,this.get_node(u,!0).length&&this.redraw_node(u.id),this.trigger("set_text",{obj:u,text:w}),0))},get_json:function(u,w,m){if(!(u=this.get_node(u||k.jstree.root)))return!1;w&&w.flat&&!m&&(m=[]);var E,A,x={id:u.id,text:u.text,icon:this.get_icon(u),li_attr:k.extend(!0,{},u.li_attr),a_attr:k.extend(!0,{},u.a_attr),state:{},data:(!w||!w.no_data)&&k.extend(!0,k.vakata.is_array(u.data)?[]:{},u.data)};if(w&&w.flat?x.parent=u.parent:x.children=[],w&&w.no_state)delete x.state;else for(E in u.state)u.state.hasOwnProperty(E)&&(x.state[E]=u.state[E]);if(w&&w.no_li_attr&&delete x.li_attr,w&&w.no_a_attr&&delete x.a_attr,w&&w.no_id&&(delete x.id,x.li_attr&&x.li_attr.id&&delete x.li_attr.id,x.a_attr&&x.a_attr.id&&delete x.a_attr.id),w&&w.flat&&u.id!==k.jstree.root&&m.push(x),!w||!w.no_children)for(E=0,A=u.children.length;E<A;E++)w&&w.flat?this.get_json(u.children[E],w,m):x.children.push(this.get_json(u.children[E],w));return w&&w.flat?m:u.id===k.jstree.root?x.children:x},create_node:function(u,w,m,x,E){if(null===u&&(u=k.jstree.root),!(u=this.get_node(u)))return!1;if(!(m=m===Ae?"last":m).toString().match(/^(before|after)$/)&&!E&&!this.is_loaded(u))return this.load_node(u,function(){this.create_node(u,w,m,x,!0)});var A,T,q,M;switch((w="string"==typeof(w=w||{text:this.get_string("New node")})?{text:w}:k.extend(!0,{},w)).text===Ae&&(w.text=this.get_string("New node")),m=u.id===k.jstree.root&&"after"===(m="before"===m?"first":m)?"last":m){case"before":A=this.get_node(u.parent),m=k.inArray(u.id,A.children),u=A;break;case"after":A=this.get_node(u.parent),m=k.inArray(u.id,A.children)+1,u=A;break;case"inside":case"first":m=0;break;case"last":m=u.children.length;break;default:m=m||0}if(m>u.children.length&&(m=u.children.length),w.id===Ae&&(w.id=!0),!this.check("create_node",w,u,m))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===w.id&&delete w.id,!(w=this._parse_model_from_json(w,u.id,u.parents.concat())))return!1;for(A=this.get_node(w),(T=[]).push(w),T=T.concat(A.children_d),this.trigger("model",{nodes:T,parent:u.id}),u.children_d=u.children_d.concat(T),q=0,M=u.parents.length;q<M;q++)this._model.data[u.parents[q]].children_d=this._model.data[u.parents[q]].children_d.concat(T);for(w=A,A=[],q=0,M=u.children.length;q<M;q++)A[m<=q?q+1:q]=u.children[q];return A[m]=w.id,u.children=A,this.redraw_node(u,!0),this.trigger("create_node",{node:this.get_node(w),parent:u.id,position:m}),x&&x.call(this,this.get_node(w)),w.id},rename_node:function(u,w){var m,x,E;if(k.vakata.is_array(u)){for(m=0,x=(u=u.slice()).length;m<x;m++)this.rename_node(u[m],w);return!0}return!(!(u=this.get_node(u))||u.id===k.jstree.root||(E=u.text,this.check("rename_node",u,this.get_parent(u),w)?(this.set_text(u,w),this.trigger("rename_node",{node:u,text:w,old:E}),0):(this.settings.core.error.call(this,this._data.core.last_error),1)))},delete_node:function(u){var w,m,x,E,A,T,q,M,G,B,ot;if(k.vakata.is_array(u)){for(w=0,m=(u=u.slice()).length;w<m;w++)this.delete_node(u[w]);return!0}if(!(u=this.get_node(u))||u.id===k.jstree.root)return!1;if(x=this.get_node(u.parent),ot=k.inArray(u.id,x.children),G=!1,!this.check("delete_node",u,x,ot))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==ot&&(x.children=k.vakata.array_remove(x.children,ot)),(E=u.children_d.concat([])).push(u.id),A=0,T=u.parents.length;A<T;A++)this._model.data[u.parents[A]].children_d=k.vakata.array_filter(this._model.data[u.parents[A]].children_d,function(U){return-1===k.inArray(U,E)});for(q=0,M=E.length;q<M;q++)if(this._model.data[E[q]].state.selected){G=!0;break}for(G&&(this._data.core.selected=k.vakata.array_filter(this._data.core.selected,function(U){return-1===k.inArray(U,E)})),this.trigger("delete_node",{node:u,parent:x.id}),G&&this.trigger("changed",{action:"delete_node",node:u,selected:this._data.core.selected,parent:x.id}),q=0,M=E.length;q<M;q++)delete this._model.data[E[q]];return-1!==k.inArray(this._data.core.focused,E)&&(this._data.core.focused=null,B=this.element[0].scrollTop,ot=this.element[0].scrollLeft,x.id===k.jstree.root?this._model.data[k.jstree.root].children[0]&&this.get_node(this._model.data[k.jstree.root].children[0],!0).children(".jstree-anchor").trigger("focus"):this.get_node(x,!0).children(".jstree-anchor").trigger("focus"),this.element[0].scrollTop=B,this.element[0].scrollLeft=ot),this.redraw_node(x,!0),!0},check:function(u,w,m,x,E){w=w&&w.id?w:this.get_node(w),m=m&&m.id?m:this.get_node(m);var A=u.match(/^(move_node|copy_node|create_node)$/i)?m:w,T=this.settings.core.check_callback;if("move_node"===u||"copy_node"===u){if(!(E&&E.is_multi||"move_node"!==u||k.inArray(w.id,m.children)!==x))return!(this._data.core.last_error={error:"check",plugin:"core",id:"core_08",reason:"Moving node to its current position",data:JSON.stringify({chk:u,pos:x,obj:!(!w||!w.id)&&w.id,par:!(!m||!m.id)&&m.id})});if(!(E&&E.is_multi||w.id!==m.id&&("move_node"!==u||k.inArray(w.id,m.children)!==x)&&-1===k.inArray(m.id,w.children_d)))return!(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:u,pos:x,obj:!(!w||!w.id)&&w.id,par:!(!m||!m.id)&&m.id})})}return(A=A&&A.data?A.data:A)&&A.functions&&(!1===A.functions[u]||!0===A.functions[u])?(!1===A.functions[u]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+u,data:JSON.stringify({chk:u,pos:x,obj:!(!w||!w.id)&&w.id,par:!(!m||!m.id)&&m.id})}),A.functions[u]):!(!1===T||k.vakata.is_function(T)&&!1===T.call(this,u,w,m,x,E)||T&&!1===T[u])||!(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+u,data:JSON.stringify({chk:u,pos:x,obj:!(!w||!w.id)&&w.id,par:!(!m||!m.id)&&m.id})})},last_error:function(){return this._data.core.last_error},move_node:function(u,w,m,x,E,A,T){var q,M,G,B,ot,U,Lt,Mt,St,Pt,Jt,de,zt,he;if(w=this.get_node(w),m=m===Ae?0:m,!w)return!1;if(!m.toString().match(/^(before|after)$/)&&!E&&!this.is_loaded(w))return this.load_node(w,function(){this.move_node(u,w,m,x,!0,!1,T)});if(k.vakata.is_array(u)){if(1!==u.length){for(q=0,M=u.length;q<M;q++)(St=this.move_node(u[q],w,m,x,E,!1,T))&&(w=St,m="after");return this.redraw(),!0}u=u[0]}if(!(u=u&&u.id!==Ae?u:this.get_node(u))||u.id===k.jstree.root)return!1;if(G=(u.parent||k.jstree.root).toString(),ot=m.toString().match(/^(before|after)$/)&&w.id!==k.jstree.root?this.get_node(w.parent):w,Lt=!(U=T||(this._model.data[u.id]?this:k.jstree.reference(u.id)))||!U._id||this._id!==U._id,B=U&&U._id&&G&&U._model.data[G]&&U._model.data[G].children?k.inArray(u.id,U._model.data[G].children):-1,U&&U._id&&(u=U._model.data[u.id]),Lt)return!!(St=this.copy_node(u,w,m,x,E,!1,T))&&(U&&U.delete_node(u),St);switch(m=w.id===k.jstree.root&&"after"===(m="before"===m?"first":m)?"last":m){case"before":m=k.inArray(w.id,ot.children);break;case"after":m=k.inArray(w.id,ot.children)+1;break;case"inside":case"first":m=0;break;case"last":m=ot.children.length;break;default:m=m||0}if(m>ot.children.length&&(m=ot.children.length),!this.check("move_node",u,ot,m,{core:!0,origin:T,is_multi:U&&U._id&&U._id!==this._id,is_foreign:!U||!U._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(u.parent===ot.id){for(Mt=ot.children.concat(),-1!==(St=k.inArray(u.id,Mt))&&(Mt=k.vakata.array_remove(Mt,St),St<m&&m--),St=[],Pt=0,Jt=Mt.length;Pt<Jt;Pt++)St[m<=Pt?Pt+1:Pt]=Mt[Pt];St[m]=u.id,ot.children=St,this._node_changed(ot.id),this.redraw(ot.id===k.jstree.root)}else{for((St=u.children_d.concat()).push(u.id),Pt=0,Jt=u.parents.length;Pt<Jt;Pt++){for(Mt=[],de=0,zt=(he=U._model.data[u.parents[Pt]].children_d).length;de<zt;de++)-1===k.inArray(he[de],St)&&Mt.push(he[de]);U._model.data[u.parents[Pt]].children_d=Mt}for(U._model.data[G].children=k.vakata.array_remove_item(U._model.data[G].children,u.id),Pt=0,Jt=ot.parents.length;Pt<Jt;Pt++)this._model.data[ot.parents[Pt]].children_d=this._model.data[ot.parents[Pt]].children_d.concat(St);for(Mt=[],Pt=0,Jt=ot.children.length;Pt<Jt;Pt++)Mt[m<=Pt?Pt+1:Pt]=ot.children[Pt];for(Mt[m]=u.id,ot.children=Mt,ot.children_d.push(u.id),ot.children_d=ot.children_d.concat(u.children_d),u.parent=ot.id,(St=ot.parents.concat()).unshift(ot.id),he=u.parents.length,St=(u.parents=St).concat(),Pt=0,Jt=u.children_d.length;Pt<Jt;Pt++)this._model.data[u.children_d[Pt]].parents=this._model.data[u.children_d[Pt]].parents.slice(0,-1*he),Array.prototype.push.apply(this._model.data[u.children_d[Pt]].parents,St);G!==k.jstree.root&&ot.id!==k.jstree.root||(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(G),this._node_changed(ot.id)),A||this.redraw()}return x&&x.call(this,u,ot,m),this.trigger("move_node",{node:u,parent:ot.id,position:m,old_parent:G,old_position:B,is_multi:U&&U._id&&U._id!==this._id,is_foreign:!U||!U._id,old_instance:U,new_instance:this}),u.id},copy_node:function(u,w,m,x,E,A,T){var q,M,G,B,ot,U,Lt,Mt,St,Pt;if(w=this.get_node(w),m=m===Ae?0:m,!w)return!1;if(!m.toString().match(/^(before|after)$/)&&!E&&!this.is_loaded(w))return this.load_node(w,function(){this.copy_node(u,w,m,x,!0,!1,T)});if(k.vakata.is_array(u)){if(1!==u.length){for(q=0,M=u.length;q<M;q++)(B=this.copy_node(u[q],w,m,x,E,!0,T))&&(w=B,m="after");return this.redraw(),!0}u=u[0]}if(!(u=u&&u.id!==Ae?u:this.get_node(u))||u.id===k.jstree.root)return!1;switch(Mt=(u.parent||k.jstree.root).toString(),St=m.toString().match(/^(before|after)$/)&&w.id!==k.jstree.root?this.get_node(w.parent):w,(Pt=T||(this._model.data[u.id]?this:k.jstree.reference(u.id)))&&Pt._id&&(u=Pt._model.data[u.id]),m=w.id===k.jstree.root&&"after"===(m="before"===m?"first":m)?"last":m){case"before":m=k.inArray(w.id,St.children);break;case"after":m=k.inArray(w.id,St.children)+1;break;case"inside":case"first":m=0;break;case"last":m=St.children.length;break;default:m=m||0}if(m>St.children.length&&(m=St.children.length),!this.check("copy_node",u,St,m,{core:!0,origin:T,is_multi:Pt&&Pt._id&&Pt._id!==this._id,is_foreign:!Pt||!Pt._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!((Lt=Pt?Pt.get_json(u,{no_id:!0,no_data:!0,no_state:!0}):u)&&(!0===Lt.id&&delete Lt.id,Lt=this._parse_model_from_json(Lt,St.id,St.parents.concat()))))return!1;for(B=this.get_node(Lt),u&&u.state&&!1===u.state.loaded&&(B.state.loaded=!1),(G=[]).push(Lt),G=G.concat(B.children_d),this.trigger("model",{nodes:G,parent:St.id}),ot=0,U=St.parents.length;ot<U;ot++)this._model.data[St.parents[ot]].children_d=this._model.data[St.parents[ot]].children_d.concat(G);for(G=[],ot=0,U=St.children.length;ot<U;ot++)G[m<=ot?ot+1:ot]=St.children[ot];return G[m]=B.id,St.children=G,St.children_d.push(B.id),St.children_d=St.children_d.concat(B.children_d),St.id===k.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(St.id),A||this.redraw(St.id===k.jstree.root),x&&x.call(this,B,St,m),this.trigger("copy_node",{node:B,original:u,parent:St.id,position:m,old_parent:Mt,old_position:Pt&&Pt._id&&Mt&&Pt._model.data[Mt]&&Pt._model.data[Mt].children?k.inArray(u.id,Pt._model.data[Mt].children):-1,is_multi:Pt&&Pt._id&&Pt._id!==this._id,is_foreign:!Pt||!Pt._id,old_instance:Pt,new_instance:this}),B.id},cut:function(u){if(u=u||this._data.core.selected.concat(),!(u=k.vakata.is_array(u)?u:[u]).length)return!1;for(var m,w=[],x=0,E=u.length;x<E;x++)(m=this.get_node(u[x]))&&(m.id||0===m.id)&&m.id!==k.jstree.root&&w.push(m);if(!w.length)return!1;wt=w,R="move_node",(at=this).trigger("cut",{node:u})},copy:function(u){if(u=u||this._data.core.selected.concat(),!(u=k.vakata.is_array(u)?u:[u]).length)return!1;for(var m,w=[],x=0,E=u.length;x<E;x++)(m=this.get_node(u[x]))&&m.id!==Ae&&m.id!==k.jstree.root&&w.push(m);if(!w.length)return!1;wt=w,R="copy_node",(at=this).trigger("copy",{node:u})},get_buffer:function(){return{mode:R,node:wt,inst:at}},can_paste:function(){return!1!==R&&!1!==wt},paste:function(u,w){if(!((u=this.get_node(u))&&R&&R.match(/^(copy_node|move_node)$/)&&wt))return!1;this[R](wt,u,w,!1,!1,!1,at)&&this.trigger("paste",{parent:u.id,node:wt,mode:R}),at=R=wt=!1},clear_buffer:function(){at=R=wt=!1,this.trigger("clear_buffer")},edit:function(u,w,m){var x,E,A,T,q,M,G,B,ot=!1;return!!(u=this.get_node(u))&&(this.check("edit",u,this.get_parent(u))?(B=u,w="string"==typeof w?w:u.text,this.set_text(u,""),u=this._open_to(u),B.text=w,G=this._data.core.rtl,x=this.element.width(),this._data.core.focused=B.id,E=u.children(".jstree-anchor").trigger("focus"),A=k("<span></span>"),T=w,q=k("<div></div>",{css:{position:"absolute",top:"-200px",left:G?"0px":"-1000px",visibility:"hidden"}}).appendTo(pt.body),M=k("<input />",{value:T,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:function(St){St.stopImmediatePropagation(),St.preventDefault();var Mt=A.children(".jstree-rename-input").val();St=this.settings.core.force_text,""===Mt&&(Mt=T),q.remove(),A.replaceWith(E),A.remove(),T=St?T:k("<div></div>").append(k.parseHTML(T)).html(),u=this.get_node(u),this.set_text(u,T),(St=!!this.rename_node(u,St?k("<div></div>").text(Mt).text():k("<div></div>").append(k.parseHTML(Mt)).html()))||this.set_text(u,T),this._data.core.focused=B.id,setTimeout(function(){var Pt=this.get_node(B.id,!0);Pt.length&&(this._data.core.focused=B.id,Pt.children(".jstree-anchor").trigger("focus"))}.bind(this),0),m&&m.call(this,B,St,ot,Mt),M=null}.bind(this),keydown:function(U){var Lt=U.which;27===Lt&&(ot=!0,this.value=T),27!==Lt&&13!==Lt&&37!==Lt&&38!==Lt&&39!==Lt&&40!==Lt&&32!==Lt||U.stopImmediatePropagation(),27!==Lt&&13!==Lt||(U.preventDefault(),this.blur())},click:function(U){U.stopImmediatePropagation()},mousedown:function(U){U.stopImmediatePropagation()},keyup:function(U){M.width(Math.min(q.text("pW"+this.value).width(),x))},keypress:function(U){if(13===U.which)return!1}}),G={fontFamily:E.css("fontFamily")||"",fontSize:E.css("fontSize")||"",fontWeight:E.css("fontWeight")||"",fontStyle:E.css("fontStyle")||"",fontStretch:E.css("fontStretch")||"",fontVariant:E.css("fontVariant")||"",letterSpacing:E.css("letterSpacing")||"",wordSpacing:E.css("wordSpacing")||""},A.attr("class",E.attr("class")).append(E.contents().clone()).append(M),E.replaceWith(A),q.css(G),M.css(G).width(Math.min(q.text("pW"+M[0].value).width(),x))[0].select(),void k(pt).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(U){M&&U.target!==M&&k(M).trigger("blur")})):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(u,w){if(!u)return!1;(w=!0===w?(this.settings.core.themes.dir||k.jstree.path+"/themes")+"/"+u+"/style.css":w)&&-1===k.inArray(w,ct)&&(k("head").append('<link rel="stylesheet" href="'+w+'" type="text/css" />'),ct.push(w)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=u,this.element.addClass("jstree-"+u),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+u+"-responsive"),this.trigger("set_theme",{theme:u})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(u){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),(this._data.core.themes.variant=u)&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(u,w){var m,x,E,A;if(k.vakata.is_array(u)){for(m=0,x=(u=u.slice()).length;m<x;m++)this.set_icon(u[m],w);return!0}return!(!(u=this.get_node(u))||u.id===k.jstree.root||(A=u.icon,u.icon=!0===w||null===w||w===Ae||""===w||w,E=this.get_node(u,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===w?(E.removeClass("jstree-themeicon-custom "+A).css("background","").removeAttr("rel"),this.hide_icon(u)):(!0===w||null===w||w===Ae||""===w?E.removeClass("jstree-themeicon-custom "+A).css("background","").removeAttr("rel"):-1===w.indexOf("/")&&-1===w.indexOf(".")?(E.removeClass(A).css("background",""),E.addClass(w+" jstree-themeicon-custom").attr("rel",w)):(E.removeClass(A).css("background",""),E.addClass("jstree-themeicon-custom").css("background","url('"+w+"') center center no-repeat").attr("rel",w)),!1===A&&this.show_icon(u)),0))},get_icon:function(u){return!(!(u=this.get_node(u))||u.id===k.jstree.root)&&u.icon},hide_icon:function(u){var w,m;if(k.vakata.is_array(u)){for(w=0,m=(u=u.slice()).length;w<m;w++)this.hide_icon(u[w]);return!0}return!(!(u=this.get_node(u))||u===k.jstree.root||(u.icon=!1,this.get_node(u,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),0))},show_icon:function(u){var w,m,x;if(k.vakata.is_array(u)){for(w=0,m=(u=u.slice()).length;w<m;w++)this.show_icon(u[w]);return!0}return!(!(u=this.get_node(u))||u===k.jstree.root||(x=this.get_node(u,!0),u.icon=!x.length||x.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),u.icon||(u.icon=!0),x.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),0))}},k.vakata={},k.vakata.attributes=function(u,w){u=k(u)[0];var m=w?{}:[];return u&&u.attributes&&k.each(u.attributes,function(x,E){-1===k.inArray(E.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==E.value&&""!==k.vakata.trim(E.value)&&(w?m[E.name]=E.value:m.push(E.name))}),m},k.vakata.array_unique=function(u){for(var w=[],x={},E=0,A=u.length;E<A;E++)x[u[E]]===Ae&&(w.push(u[E]),x[u[E]]=!0);return w},k.vakata.array_remove=function(u,w){return u.splice(w,1),u},k.vakata.array_remove_item=function(u,m){return-1!==(m=k.inArray(m,u))?k.vakata.array_remove(u,m):u},k.vakata.array_filter=function(u,w,m,x,E){if(u.filter)return u.filter(w,m);for(E in x=[],u)~~E+""==E+""&&0<=E&&w.call(m,u[E],+E,u)&&x.push(u[E]);return x},k.vakata.trim=function(u){return String.prototype.trim?String.prototype.trim.call(u.toString()):u.toString().replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},k.vakata.is_function=function(u){return"function"==typeof u&&"number"!=typeof u.nodeType},k.vakata.is_array=Array.isArray||function(u){return"[object Array]"===Object.prototype.toString.call(u)},Function.prototype.bind||(Function.prototype.bind=function(){var u=this,w=arguments[0],m=Array.prototype.slice.call(arguments,1);if("function"!=typeof u)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return function(){var x=m.concat(Array.prototype.slice.call(arguments));return u.apply(w,x)}}),k.jstree.plugins.changed=function(u,w){var m=[];this.trigger=function(x,E){if(E=E||{},"changed"===x.replace(".jstree","")){E.changed={selected:[],deselected:[]};for(var q={},A=0,T=m.length;A<T;A++)q[m[A]]=1;for(A=0,T=E.selected.length;A<T;A++)q[E.selected[A]]?q[E.selected[A]]=2:E.changed.selected.push(E.selected[A]);for(A=0,T=m.length;A<T;A++)1===q[m[A]]&&E.changed.deselected.push(m[A]);m=E.selected.slice()}w.trigger.call(this,x,E)},this.refresh=function(x,E){return m=[],w.refresh.apply(this,arguments)}};var F,H,N,X,ut,V,$,mt,rt=pt.createElement("I");rt.className="jstree-icon jstree-checkbox",rt.setAttribute("role","presentation"),k.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},k.jstree.plugins.checkbox=function(u,w){this.bind=function(){w.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")}.bind(this)).on("loading.jstree",function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()}.bind(this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)}.bind(this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",function(m,x){for(var E=this._model.data,T=x.nodes,q=0,M=T.length;q<M;q++)E[T[q]].state.checked=E[T[q]].state.checked||E[T[q]].original&&E[T[q]].original.state&&E[T[q]].original.state.checked,E[T[q]].state.checked&&this._data.checkbox.selected.push(T[q])}.bind(this)),-1===this.settings.checkbox.cascade.indexOf("up")&&-1===this.settings.checkbox.cascade.indexOf("down")||this.element.on("model.jstree",function(m,Mt){var M,G,B,ot,U,Lt,E=this._model.data,A=E[Mt.parent],T=Mt.nodes,q=[],St=this.settings.checkbox.tie_selection;if(-1!==(Mt=this.settings.checkbox.cascade).indexOf("down"))if(A.state[St?"selected":"checked"]){for(G=0,B=T.length;G<B;G++)E[T[G]].state[St?"selected":"checked"]=!0;this._data[St?"core":"checkbox"].selected=this._data[St?"core":"checkbox"].selected.concat(T)}else for(G=0,B=T.length;G<B;G++)if(E[T[G]].state[St?"selected":"checked"]){for(ot=0,U=E[T[G]].children_d.length;ot<U;ot++)E[E[T[G]].children_d[ot]].state[St?"selected":"checked"]=!0;this._data[St?"core":"checkbox"].selected=this._data[St?"core":"checkbox"].selected.concat(E[T[G]].children_d)}if(-1!==Mt.indexOf("up")){for(G=0,B=A.children_d.length;G<B;G++)E[A.children_d[G]].children.length||q.push(E[A.children_d[G]].parent);for(ot=0,U=(q=k.vakata.array_unique(q)).length;ot<U;ot++)for(A=E[q[ot]];A&&A.id!==k.jstree.root;){for(G=M=0,B=A.children.length;G<B;G++)M+=E[A.children[G]].state[St?"selected":"checked"];if(M!==B)break;A.state[St?"selected":"checked"]=!0,this._data[St?"core":"checkbox"].selected.push(A.id),(Lt=this.get_node(A,!0))&&Lt.length&&Lt.children(".jstree-anchor").attr("aria-selected",!0).addClass(St?"jstree-clicked":"jstree-checked"),A=this.get_node(A.parent)}}this._data[St?"core":"checkbox"].selected=k.vakata.array_unique(this._data[St?"core":"checkbox"].selected)}.bind(this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",function(m,U){var B,ot,A=U.node,T=this._model.data,q=this.get_node(A.parent),Lt=(U=this.settings.checkbox.cascade,this.settings.checkbox.tie_selection),Mt={},St=this._data[Lt?"core":"checkbox"].selected;for(M=0,G=St.length;M<G;M++)Mt[St[M]]=!0;if(-1!==U.indexOf("down"))for(var Pt=this._cascade_new_checked_state(A.id,!0),Jt=A.children_d.concat(A.id),M=0,G=Jt.length;M<G;M++)-1<Pt.indexOf(Jt[M])?Mt[Jt[M]]=!0:delete Mt[Jt[M]];if(-1!==U.indexOf("up"))for(;q&&q.id!==k.jstree.root;){for(M=B=0,G=q.children.length;M<G;M++)B+=T[q.children[M]].state[Lt?"selected":"checked"];if(B!==G)break;q.state[Lt?"selected":"checked"]=!0,Mt[q.id]=!0,(ot=this.get_node(q,!0))&&ot.length&&ot.children(".jstree-anchor").attr("aria-selected",!0).addClass(Lt?"jstree-clicked":"jstree-checked"),q=this.get_node(q.parent)}for(M in St=[],Mt)Mt.hasOwnProperty(M)&&St.push(M);this._data[Lt?"core":"checkbox"].selected=St}.bind(this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",function(m,x){for(var T,E=this.get_node(k.jstree.root),A=this._model.data,q=0,M=E.children_d.length;q<M;q++)(T=A[E.children_d[q]])&&T.original&&T.original.state&&T.original.state.undetermined&&(T.original.state.undetermined=!1)}.bind(this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",function(m,Pt){var q,M,G,St,A=Pt.node,B=(this.get_node(A,!0),this.settings.checkbox.cascade),ot=this.settings.checkbox.tie_selection,Mt=(Pt=this._data[ot?"core":"checkbox"].selected,A.children_d.concat(A.id));if(-1!==B.indexOf("down")&&(St=this._cascade_new_checked_state(A.id,!1),Pt=k.vakata.array_filter(Pt,function(Jt){return-1===Mt.indexOf(Jt)||-1<St.indexOf(Jt)})),-1!==B.indexOf("up")&&-1===Pt.indexOf(A.id)){for(q=0,M=A.parents.length;q<M;q++)(G=this._model.data[A.parents[q]]).state[ot?"selected":"checked"]=!1,G&&G.original&&G.original.state&&G.original.state.undetermined&&(G.original.state.undetermined=!1),(G=this.get_node(A.parents[q],!0))&&G.length&&G.children(".jstree-anchor").attr("aria-selected",!1).removeClass(ot?"jstree-clicked":"jstree-checked");Pt=k.vakata.array_filter(Pt,function(Jt){return-1===A.parents.indexOf(Jt)})}this._data[ot?"core":"checkbox"].selected=Pt}.bind(this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",function(m,x){for(var T,q,M,G,E=this.get_node(x.parent),A=this._model.data,B=this.settings.checkbox.tie_selection;E&&E.id!==k.jstree.root&&!E.state[B?"selected":"checked"];){for(T=M=0,q=E.children.length;T<q;T++)M+=A[E.children[T]].state[B?"selected":"checked"];if(!(0<q&&M===q))break;E.state[B?"selected":"checked"]=!0,this._data[B?"core":"checkbox"].selected.push(E.id),(G=this.get_node(E,!0))&&G.length&&G.children(".jstree-anchor").attr("aria-selected",!0).addClass(B?"jstree-clicked":"jstree-checked"),E=this.get_node(E.parent)}}.bind(this)).on("move_node.jstree",function(m,T){var M,G,B,ot,U,E=T.is_multi,A=T.old_parent,q=(T=this.get_node(T.parent),this._model.data),Lt=this.settings.checkbox.tie_selection;if(!E)for(M=this.get_node(A);M&&M.id!==k.jstree.root&&!M.state[Lt?"selected":"checked"];){for(B=G=0,ot=M.children.length;B<ot;B++)G+=q[M.children[B]].state[Lt?"selected":"checked"];if(!(0<ot&&G===ot))break;M.state[Lt?"selected":"checked"]=!0,this._data[Lt?"core":"checkbox"].selected.push(M.id),(U=this.get_node(M,!0))&&U.length&&U.children(".jstree-anchor").attr("aria-selected",!0).addClass(Lt?"jstree-clicked":"jstree-checked"),M=this.get_node(M.parent)}for(M=T;M&&M.id!==k.jstree.root;){for(B=G=0,ot=M.children.length;B<ot;B++)G+=q[M.children[B]].state[Lt?"selected":"checked"];if(G===ot)M.state[Lt?"selected":"checked"]||(M.state[Lt?"selected":"checked"]=!0,this._data[Lt?"core":"checkbox"].selected.push(M.id),(U=this.get_node(M,!0))&&U.length&&U.children(".jstree-anchor").attr("aria-selected",!0).addClass(Lt?"jstree-clicked":"jstree-checked"));else{if(!M.state[Lt?"selected":"checked"])break;M.state[Lt?"selected":"checked"]=!1,this._data[Lt?"core":"checkbox"].selected=k.vakata.array_remove_item(this._data[Lt?"core":"checkbox"].selected,M.id),(U=this.get_node(M,!0))&&U.length&&U.children(".jstree-anchor").attr("aria-selected",!1).removeClass(Lt?"jstree-clicked":"jstree-checked")}M=this.get_node(M.parent)}}.bind(this))},this.get_undetermined=function(m){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];for(var x,E,A={},T=this._model.data,q=this.settings.checkbox.tie_selection,M=this._data[q?"core":"checkbox"].selected,G=[],B=this,ot=[],U=0,Lt=M.length;U<Lt;U++)if(T[M[U]]&&T[M[U]].parents)for(x=0,E=T[M[U]].parents.length;x<E&&A[T[M[U]].parents[x]]===Ae;x++)T[M[U]].parents[x]!==k.jstree.root&&(A[T[M[U]].parents[x]]=!0,G.push(T[M[U]].parents[x]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var St,Mt=B.get_node(this);if(Mt)if(Mt.state.loaded){for(U=0,Lt=Mt.children_d.length;U<Lt;U++)if(!(St=T[Mt.children_d[U]]).state.loaded&&St.original&&St.original.state&&St.original.state.undetermined&&!0===St.original.state.undetermined)for(A[St.id]===Ae&&St.id!==k.jstree.root&&(A[St.id]=!0,G.push(St.id)),x=0,E=St.parents.length;x<E;x++)A[St.parents[x]]===Ae&&St.parents[x]!==k.jstree.root&&(A[St.parents[x]]=!0,G.push(St.parents[x]))}else if(Mt.original&&Mt.original.state&&Mt.original.state.undetermined&&!0===Mt.original.state.undetermined)for(A[Mt.id]===Ae&&Mt.id!==k.jstree.root&&(A[Mt.id]=!0,G.push(Mt.id)),x=0,E=Mt.parents.length;x<E;x++)A[Mt.parents[x]]===Ae&&Mt.parents[x]!==k.jstree.root&&(A[Mt.parents[x]]=!0,G.push(Mt.parents[x]))}),U=0,Lt=G.length;U<Lt;U++)T[G[U]].state[q?"selected":"checked"]||ot.push(m?T[G[U]]:G[U]);return ot},this._undetermined=function(){if(null!==this.element){var x,E,A,m=this.get_undetermined(!1);for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),x=0,E=m.length;x<E;x++)(A=this.get_node(m[x],!0))&&A.length&&A.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(m,x,E,A){if(m=w.redraw_node.apply(this,arguments)){for(var T=null,q=null,M=0,G=m.childNodes.length;M<G;M++)if(m.childNodes[M]&&m.childNodes[M].className&&-1!==m.childNodes[M].className.indexOf("jstree-anchor")){T=m.childNodes[M];break}T&&(!this.settings.checkbox.tie_selection&&this._model.data[m.id].state.checked&&(T.className+=" jstree-checked"),q=rt.cloneNode(!1),this._model.data[m.id].state.checkbox_disabled&&(q.className+=" jstree-checkbox-disabled"),T.insertBefore(q,T.childNodes[0]))}return E||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)),m},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(m){m=this.get_node(m);var E,A,x=this.settings.checkbox.cascade,T=this.settings.checkbox.tie_selection,q=this._data[T?"core":"checkbox"].selected,M=this._model.data;if(!m||!0===m.state[T?"selected":"checked"]||-1===x.indexOf("undetermined")||-1===x.indexOf("down")&&-1===x.indexOf("up"))return!1;if(!m.state.loaded&&!0===m.original.state.undetermined)return!0;for(E=0,A=m.children_d.length;E<A;E++)if(-1!==k.inArray(m.children_d[E],q)||!M[m.children_d[E]].state.loaded&&M[m.children_d[E]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(m){var x,E,A;if(k.vakata.is_array(m)){for(x=0,E=(m=m.slice()).length;x<E;x++)this.disable_checkbox(m[x]);return!0}if(!(m=this.get_node(m))||m.id===k.jstree.root)return!1;A=this.get_node(m,!0),m.state.checkbox_disabled||(m.state.checkbox_disabled=!0,A&&A.length&&A.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:m}))},this.enable_checkbox=function(m){var x,E,A;if(k.vakata.is_array(m)){for(x=0,E=(m=m.slice()).length;x<E;x++)this.enable_checkbox(m[x]);return!0}if(!(m=this.get_node(m))||m.id===k.jstree.root)return!1;A=this.get_node(m,!0),m.state.checkbox_disabled&&(m.state.checkbox_disabled=!1,A&&A.length&&A.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:m}))},this.activate_node=function(m,x){return!k(x.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||k(x.target).hasClass("jstree-checkbox"))&&(x.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!k(x.target).hasClass("jstree-checkbox")?w.activate_node.call(this,m,x):!this.is_disabled(m)&&(this.is_checked(m)?this.uncheck_node(m,x):this.check_node(m,x),void this.trigger("activate_node",{node:this.get_node(m)})))},this.delete_node=function(m){if(this.settings.checkbox.tie_selection||k.vakata.is_array(m))return w.delete_node.call(this,m);var x,E,A,T=!1;if(!(m=this.get_node(m))||m.id===k.jstree.root)return!1;for((x=m.children_d.concat([])).push(m.id),E=0,A=x.length;E<A;E++)if(this._model.data[x[E]].state.checked){T=!0;break}return T&&(this._data.checkbox.selected=k.vakata.array_filter(this._data.checkbox.selected,function(q){return-1===k.inArray(q,x)})),w.delete_node.call(this,m)},this._cascade_new_checked_state=function(m,x){var G,B,A=this.settings.checkbox.tie_selection,T=this._model.data[m],q=[],M=[];if(!this.settings.checkbox.cascade_to_disabled&&T.state.disabled||!this.settings.checkbox.cascade_to_hidden&&T.state.hidden)ot=this.get_checked_descendants(m),T.state[A?"selected":"checked"]&&ot.push(T.id),q=q.concat(ot);else{if(T.children)for(G=0,B=T.children.length;G<B;G++){var U=T.children[G],ot=this._cascade_new_checked_state(U,x);q=q.concat(ot),-1<ot.indexOf(U)&&M.push(U)}var Lt=this.get_node(T,!0);m=0<M.length&&M.length<T.children.length,T.original&&T.original.state&&T.original.state.undetermined&&(T.original.state.undetermined=m),!m&&x&&M.length===T.children.length?(T.state[A?"selected":"checked"]=x,q.push(T.id),Lt.children(".jstree-anchor").attr("aria-selected",!0).addClass(A?"jstree-clicked":"jstree-checked")):(T.state[A?"selected":"checked"]=!1,Lt.children(".jstree-anchor").attr("aria-selected",!1).removeClass(A?"jstree-clicked":"jstree-checked"))}return q},this.get_checked_descendants=function(A){var x=this,E=x.settings.checkbox.tie_selection;return k.vakata.array_filter((A=x._model.data[A]).children_d,function(T){return x._model.data[T].state[E?"selected":"checked"]})},this.check_node=function(m,x){if(this.settings.checkbox.tie_selection)return this.select_node(m,!1,!0,x);var E,A,T;if(k.vakata.is_array(m)){for(A=0,T=(m=m.slice()).length;A<T;A++)this.check_node(m[A],x);return!0}if(!(m=this.get_node(m))||m.id===k.jstree.root)return!1;E=this.get_node(m,!0),m.state.checked||(m.state.checked=!0,this._data.checkbox.selected.push(m.id),E&&E.length&&E.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:m,selected:this._data.checkbox.selected,event:x}))},this.uncheck_node=function(m,x){if(this.settings.checkbox.tie_selection)return this.deselect_node(m,!1,x);var E,A,T;if(k.vakata.is_array(m)){for(E=0,A=(m=m.slice()).length;E<A;E++)this.uncheck_node(m[E],x);return!0}if(!(m=this.get_node(m))||m.id===k.jstree.root)return!1;T=this.get_node(m,!0),m.state.checked&&(m.state.checked=!1,this._data.checkbox.selected=k.vakata.array_remove_item(this._data.checkbox.selected,m.id),T.length&&T.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:m,selected:this._data.checkbox.selected,event:x}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var x,E;for(this._data.checkbox.selected.concat([]),this._data.checkbox.selected=this._model.data[k.jstree.root].children_d.concat(),x=0,E=this._data.checkbox.selected.length;x<E;x++)this._model.data[this._data.checkbox.selected[x]]&&(this._model.data[this._data.checkbox.selected[x]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();for(var m=this._data.checkbox.selected.concat([]),x=0,E=this._data.checkbox.selected.length;x<E;x++)this._model.data[this._data.checkbox.selected[x]]&&(this._model.data[this._data.checkbox.selected[x]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:m})},this.is_checked=function(m){return this.settings.checkbox.tie_selection?this.is_selected(m):!(!(m=this.get_node(m))||m.id===k.jstree.root)&&m.state.checked},this.get_checked=function(m){return this.settings.checkbox.tie_selection?this.get_selected(m):m?k.map(this._data.checkbox.selected,function(x){return this.get_node(x)}.bind(this)):this._data.checkbox.selected.slice()},this.get_top_checked=function(m){if(this.settings.checkbox.tie_selection)return this.get_top_selected(m);for(var A,T,x=this.get_checked(!0),E={},q=0,M=x.length;q<M;q++)E[x[q].id]=x[q];for(q=0,M=x.length;q<M;q++)for(A=0,T=x[q].children_d.length;A<T;A++)E[x[q].children_d[A]]&&delete E[x[q].children_d[A]];for(q in x=[],E)E.hasOwnProperty(q)&&x.push(q);return m?k.map(x,function(G){return this.get_node(G)}.bind(this)):x},this.get_bottom_checked=function(m){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(m);for(var x=this.get_checked(!0),E=[],A=0,T=x.length;A<T;A++)x[A].children.length||E.push(x[A].id);return m?k.map(E,function(q){return this.get_node(q)}.bind(this)):E},this.load_node=function(m,x){var E,A,G;if(!k.vakata.is_array(m)&&!this.settings.checkbox.tie_selection&&(G=this.get_node(m))&&G.state.loaded)for(E=0,A=G.children_d.length;E<A;E++)this._model.data[G.children_d[E]].state.checked&&(this._data.checkbox.selected=k.vakata.array_remove_item(this._data.checkbox.selected,G.children_d[E]));return w.load_node.apply(this,arguments)},this.get_state=function(){var m=w.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection||(m.checkbox=this._data.checkbox.selected.slice()),m},this.set_state=function(m,x){var A,E=w.set_state.apply(this,arguments);return E&&m.checkbox?(this.settings.checkbox.tie_selection||(this.uncheck_all(),A=this,k.each(m.checkbox,function(T,q){A.check_node(q)})),delete m.checkbox,this.set_state(m,x),!1):E},this.refresh=function(m,x){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),w.refresh.apply(this,arguments)}},k.jstree.defaults.conditionalselect=function(){return!0},k.jstree.plugins.conditionalselect=function(u,w){this.activate_node=function(m,x){if(this.settings.conditionalselect.call(this,this.get_node(m),x))return w.activate_node.call(this,m,x)}},k.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(u,w){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(E){var x=k.jstree.reference(E.reference);E=x.get_node(E.reference),x.create_node(E,{},"last",function(A){try{x.edit(A)}catch{setTimeout(function(){x.edit(A)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(E){var x=k.jstree.reference(E.reference);E=x.get_node(E.reference),x.edit(E)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(E){var x=k.jstree.reference(E.reference);E=x.get_node(E.reference),x.is_selected(E)?x.delete_node(x.get_selected()):x.delete_node(E)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(E){var x=k.jstree.reference(E.reference);E=x.get_node(E.reference),x.is_selected(E)?x.cut(x.get_top_selected()):x.cut(E)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(E){var x=k.jstree.reference(E.reference);E=x.get_node(E.reference),x.is_selected(E)?x.copy(x.get_top_selected()):x.copy(E)}},paste:{separator_before:!1,icon:!1,_disabled:function(m){return!k.jstree.reference(m.reference).can_paste()},separator_after:!1,label:"Paste",action:function(E){var x=k.jstree.reference(E.reference);E=x.get_node(E.reference),x.paste(E)}}}}}}},k.jstree.plugins.contextmenu=function(u,w){this.bind=function(){w.bind.call(this);var E,A,m=0,x=null;this.element.on("init.jstree loading.jstree ready.jstree",function(){this.get_container_ul().addClass("jstree-contextmenu")}.bind(this)).on("contextmenu.jstree",".jstree-anchor",function(T,q){"input"!==T.target.tagName.toLowerCase()&&(T.preventDefault(),m=T.ctrlKey?+new Date:0,(q||x)&&(m=+new Date+1e4),x&&clearTimeout(x),this.is_loading(T.currentTarget)||this.show_contextmenu(T.currentTarget,T.pageX,T.pageY,T))}.bind(this)).on("click.jstree",".jstree-anchor",function(T){this._data.contextmenu.visible&&(!m||250<+new Date-m)&&k.vakata.context.hide(),m=0}.bind(this)).on("touchstart.jstree",".jstree-anchor",function(T){T.originalEvent&&T.originalEvent.changedTouches&&T.originalEvent.changedTouches[0]&&(E=T.originalEvent.changedTouches[0].clientX,A=T.originalEvent.changedTouches[0].clientY,x=setTimeout(function(){k(T.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(T){x&&T.originalEvent&&T.originalEvent.changedTouches&&T.originalEvent.changedTouches[0]&&(10<Math.abs(E-T.originalEvent.changedTouches[0].clientX)||10<Math.abs(A-T.originalEvent.changedTouches[0].clientY))&&(clearTimeout(x),k.vakata.context.hide())}).on("touchend.vakata.jstree",function(T){x&&clearTimeout(x)}),k(pt).on("context_hide.vakata.jstree",function(T,q){this._data.contextmenu.visible=!1,k(q.reference).removeClass("jstree-context")}.bind(this))},this.teardown=function(){this._data.contextmenu.visible&&k.vakata.context.hide(),k(pt).off("context_hide.vakata.jstree"),w.teardown.call(this)},this.show_contextmenu=function(m,x,E,A){if(!(m=this.get_node(m))||m.id===k.jstree.root)return!1;var T=this.settings.contextmenu,M=this.get_node(m,!0).children(".jstree-anchor"),G=!1,B=!1;!T.show_at_node&&x!==Ae&&E!==Ae||(G=M.offset(),x=G.left,E=G.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(m)&&this.activate_node(m,A),k.vakata.is_function(B=T.items)&&(B=B.call(this,m,function(ot){this._show_contextmenu(m,x,E,ot)}.bind(this))),k.isPlainObject(B)&&this._show_contextmenu(m,x,E,B)},this._show_contextmenu=function(m,x,E,A){var q=this.get_node(m,!0).children(".jstree-anchor");k(pt).one("context_show.vakata.jstree",function(M,G){var B="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";k(G.element).addClass(B),q.addClass("jstree-context")}.bind(this)),this._data.contextmenu.visible=!0,k.vakata.context.show(q,{x,y:E},A),this.trigger("show_contextmenu",{node:m,x,y:E})}},N={element:H=!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1},(F=k).vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(u){F(pt).triggerHandler("context_"+u+".vakata",{reference:N.reference,element:N.element,position:{x:N.position_x,y:N.position_y}})},_execute:function(u){return!(!(u=N.items[u])||u._disabled&&(!F.vakata.is_function(u._disabled)||u._disabled({item:u,reference:N.reference,element:N.element}))||!u.action)&&u.action.call(null,{item:u,reference:N.reference,element:N.element,position:{x:N.position_x,y:N.position_y}})},_parse:function(u,w){if(!u)return!1;w||(N.html="",N.items=[]);var E,m="",x=!1;return w&&(m+="<ul>"),F.each(u,function(A,T){return!T||(N.items.push(T),!x&&T.separator_before&&(m+="<li class='vakata-context-separator'><a href='#' "+(F.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>"),x=!1,m+="<li class='"+(T._class||"")+(!0===T._disabled||F.vakata.is_function(T._disabled)&&T._disabled({item:T,reference:N.reference,element:N.element})?" vakata-contextmenu-disabled ":"")+"' "+(T.shortcut?" data-shortcut='"+T.shortcut+"' ":"")+">",m+="<a href='#' rel='"+(N.items.length-1)+"' "+(T.title?"title='"+T.title+"'":"")+">",F.vakata.context.settings.icons&&(m+="<i ",T.icon&&(-1!==T.icon.indexOf("/")||-1!==T.icon.indexOf(".")?m+=" style='background:url(\""+T.icon+"\") center center no-repeat' ":m+=" class='"+T.icon+"' "),m+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),m+=(F.vakata.is_function(T.label)?T.label({item:A,reference:N.reference,element:N.element}):T.label)+(T.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+T.shortcut+'">'+(T.shortcut_label||"")+"</span>":"")+"</a>",T.submenu&&(E=F.vakata.context._parse(T.submenu,!0))&&(m+=E),m+="</li>",void(T.separator_after&&(m+="<li class='vakata-context-separator'><a href='#' "+(F.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>",x=!0)))}),m=m.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),w&&(m+="</ul>"),w||(N.html=m,F.vakata.context._trigger("parse")),10<m.length&&m},_show_submenu:function(u){var w,m,x,E,A,T,q,M;(u=F(u)).length&&u.children("ul").length&&(w=u.children("ul"),x=(m=u.offset().left)+u.outerWidth(),E=u.offset().top,A=w.width(),T=w.height(),q=F(window).width()+F(window).scrollLeft(),M=F(window).height()+F(window).scrollTop(),H?u[x-(A+10+u.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):u[q<x+A&&q-x<m?"addClass":"removeClass"]("vakata-context-right"),M<E+T+10&&w.css("bottom","-1px"),u.hasClass("vakata-context-right")?m<A&&w.css("margin-right",m-A):q-x<A&&w.css("margin-left",q-x-A),w.show())},show:function(u,w,B){var x,E,A,T,q,M,G;switch(N.element&&N.element.length&&N.element.width(""),!0){case!w&&!u:return!1;case!!w&&!!u:N.reference=u,N.position_x=w.x,N.position_y=w.y;break;case!w&&!!u:x=(N.reference=u).offset(),N.position_x=x.left+u.outerHeight(),N.position_y=x.top;break;case!!w&&!u:N.position_x=w.x,N.position_y=w.y}u&&!B&&F(u).data("vakata_contextmenu")&&(B=F(u).data("vakata_contextmenu")),F.vakata.context._parse(B)&&N.element.html(N.html),N.items.length&&(N.element.appendTo(pt.body),A=N.position_x,T=N.position_y,q=(E=N.element).width(),M=E.height(),G=F(window).width()+F(window).scrollLeft(),B=F(window).height()+F(window).scrollTop(),H&&(A-=E.outerWidth()-F(u).outerWidth())<F(window).scrollLeft()+20&&(A=F(window).scrollLeft()+20),N.element.css({left:A=G<A+q+20?G-(q+20):A,top:T=B<T+M+20?B-(M+20):T}).show().find("a").first().trigger("focus").parent().addClass("vakata-context-hover"),N.is_visible=!0,F.vakata.context._trigger("show"))},hide:function(){N.is_visible&&(N.element.hide().find("ul").hide().end().find(":focus").trigger("blur").end().detach(),N.is_visible=!1,F.vakata.context._trigger("hide"))}},F(function(){H="rtl"===F(pt.body).css("direction");var u=!1;N.element=F("<ul class='vakata-context'></ul>"),N.element.on("mouseenter","li",function(w){w.stopImmediatePropagation(),F.contains(this,w.relatedTarget)||(u&&clearTimeout(u),N.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),F(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),F.vakata.context._show_submenu(this))}).on("mouseleave","li",function(w){F.contains(this,w.relatedTarget)||F(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(w){F(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),F.vakata.context.settings.hide_onmouseleave&&(u=setTimeout(function(){F.vakata.context.hide()},F.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(w){w.preventDefault(),F(this).trigger("blur").parent().hasClass("vakata-context-disabled")||!1===F.vakata.context._execute(F(this).attr("rel"))||F.vakata.context.hide()}).on("keydown","a",function(w){var m=null;switch(w.which){case 13:case 32:w.type="click",w.preventDefault(),F(w.currentTarget).trigger(w);break;case 37:N.is_visible&&(N.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").trigger("focus"),w.stopImmediatePropagation(),w.preventDefault());break;case 38:N.is_visible&&((m=(m=N.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length?m:N.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()).addClass("vakata-context-hover").children("a").trigger("focus"),w.stopImmediatePropagation(),w.preventDefault());break;case 39:N.is_visible&&(N.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").trigger("focus"),w.stopImmediatePropagation(),w.preventDefault());break;case 40:N.is_visible&&((m=(m=N.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length?m:N.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()).addClass("vakata-context-hover").children("a").trigger("focus"),w.stopImmediatePropagation(),w.preventDefault());break;case 27:F.vakata.context.hide(),w.preventDefault()}}).on("keydown",function(m){m.preventDefault(),(m=N.element.find(".vakata-contextmenu-shortcut-"+m.which).parent()).parent().not(".vakata-context-disabled")&&m.trigger("click")}),F(pt).on("mousedown.vakata.jstree",function(w){N.is_visible&&N.element[0]!==w.target&&!F.contains(N.element[0],w.target)&&F.vakata.context.hide()}).on("context_show.vakata.jstree",function(w,m){N.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),H&&N.element.addClass("vakata-context-rtl").css("direction","rtl"),N.element.find("ul").hide().end()})}),k.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1,blank_space_drop:!1},k.jstree.plugins.dnd=function(u,w){this.init=function(m,x){w.init.call(this,m,x),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in pt.createElement("span")},this.bind=function(){w.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",function(m){if(this.settings.dnd.large_drag_target&&k(m.target).closest(".jstree-node")[0]!==m.currentTarget||"touchstart"===m.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!k(m.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var x=this.get_node(m.target),E=this.is_selected(x)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,A=1<E?E+" "+this.get_string("nodes"):this.get_text(m.currentTarget);if(this.settings.core.force_text&&(A=k.vakata.html.escape(A)),x&&(x.id||0===x.id)&&x.id!==k.jstree.root&&(1===m.which||"touchstart"===m.type||"dragstart"===m.type)&&(!0===this.settings.dnd.is_draggable||k.vakata.is_function(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,1<E?this.get_top_selected(!0):[x],m))){if(X={jstree:!0,origin:this,obj:this.get_node(x,!0),nodes:1<E?this.get_top_selected():[x.id]},ut=m.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),k.vakata.dnd.start(m,X,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+A+'<ins class="jstree-copy">+</ins></div>');k.vakata.dnd._trigger("start",m,{helper:k(),element:ut,data:X})}}.bind(this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(m){return m.preventDefault(),k.vakata.dnd._trigger("move",m,{helper:k(),element:ut,data:X}),!1}).on("drop.jstree",function(m){return m.preventDefault(),k.vakata.dnd._trigger("stop",m,{helper:k(),element:ut,data:X}),!1}.bind(this))},this.redraw_node=function(m,x,E,A){if((m=w.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)m.setAttribute("draggable",!0);else{for(var T=null,q=0,M=m.childNodes.length;q<M;q++)if(m.childNodes[q]&&m.childNodes[q].className&&-1!==m.childNodes[q].className.indexOf("jstree-anchor")){T=m.childNodes[q];break}T&&T.setAttribute("draggable",!0)}return m}},k(function(){var u=!1,w=!1,m=!1,x=!1,E=k('<div id="jstree-marker">&#160;</div>').hide();k(pt).on("dragover.vakata.jstree",function(A){ut&&k.vakata.dnd._trigger("move",A,{helper:k(),element:ut,data:X})}).on("drop.vakata.jstree",function(A){ut&&(k.vakata.dnd._trigger("stop",A,{helper:k(),element:ut,data:X}),X=ut=null)}).on("dnd_start.vakata.jstree",function(A,T){m=u=!1,T&&T.data&&T.data.jstree&&E.appendTo(pt.body)}).on("dnd_move.vakata.jstree",function(A,T){var q=T.event.target!==m.target;if(x&&(T.event&&"dragover"===T.event.type&&!q||clearTimeout(x)),T&&T.data&&T.data.jstree&&(!T.event.target.id||"jstree-marker"!==T.event.target.id)){m=T.event;var Lt,Mt,St,Pt,Jt,de,zt,he,Qt,Ue,me,Ee,We,Ke,le,Kt,Ie,M=k.jstree.reference(T.event.target),G=!1,B=!1,ot=!1;if(M&&M._data&&M._data.dnd)if(E.attr("class","jstree-"+M.get_theme()+(M.settings.core.themes.responsive?" jstree-dnd-responsive":"")),le=T.data.origin&&(T.data.origin.settings.dnd.always_copy||T.data.origin.settings.dnd.copy&&(T.event.metaKey||T.event.ctrlKey)),T.helper.children().attr("class","jstree-"+M.get_theme()+" jstree-"+M.get_theme()+"-"+M.get_theme_variant()+" "+(M.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[le?"show":"hide"](),T.event.target!==M.element[0]&&T.event.target!==M.get_container_ul()[0]||0!==M.get_container_ul().children().length&&!M.settings.dnd.blank_space_drop){if((G=M.settings.dnd.large_drop_target?k(T.event.target).closest(".jstree-node").children(".jstree-anchor"):k(T.event.target).closest(".jstree-anchor"))&&G.length&&G.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(B=G.offset(),ot=(T.event.pageY!==Ae?T.event:T.event.originalEvent).pageY-B.top,St=G.outerHeight(),k.each(de=ot<St/3?["b","i","a"]:St-St/3<ot?["a","i","b"]:St/2<ot?["i","a","b"]:["i","b","a"],function(ue,Fe){switch(Fe){case"b":Lt=B.left-6,Mt=B.top,Pt=M.get_parent(G),Jt=G.parent().index(),Ie="jstree-below";break;case"i":We=M.settings.dnd.inside_pos,Ke=M.get_node(G.parent()),Lt=B.left-2,Mt=B.top+St/2+1,Pt=Ke.id,Jt="first"===We?0:"last"===We?Ke.children.length:Math.min(We,Ke.children.length),Ie="jstree-inside";break;case"a":Lt=B.left-6,Mt=B.top+St,Pt=M.get_parent(G),Jt=G.parent().index()+1,Ie="jstree-above"}for(zt=!0,he=0,Qt=T.data.nodes.length;he<Qt;he++)if(me=Jt,"move_node"==(Ue=T.data.origin&&(T.data.origin.settings.dnd.always_copy||T.data.origin.settings.dnd.copy&&(T.event.metaKey||T.event.ctrlKey))?"copy_node":"move_node")&&"a"===Fe&&T.data.origin&&T.data.origin===M&&Pt===M.get_parent(T.data.nodes[he])&&(Ee=M.get_node(Pt),me>k.inArray(T.data.nodes[he],Ee.children)&&--me),!(zt=zt&&(M&&M.settings&&M.settings.dnd&&!1===M.settings.dnd.check_while_dragging||M.check(Ue,T.data.origin&&T.data.origin!==M?T.data.origin.get_node(T.data.nodes[he]):T.data.nodes[he],Pt,me,{dnd:!0,ref:M.get_node(G.parent()),pos:Fe,origin:T.data.origin,is_multi:T.data.origin&&T.data.origin!==M,is_foreign:!T.data.origin})))){M&&M.last_error&&(w=M.last_error());break}var Me,sn;if("i"===Fe&&G.parent().is(".jstree-closed")&&M.settings.dnd.open_timeout&&(T.event&&"dragover"===T.event.type&&!q||(x&&clearTimeout(x),x=setTimeout((sn=G,function(){Me.open_node(sn)}),(Me=M).settings.dnd.open_timeout))),zt)return(Kt=M.get_node(Pt,!0)).hasClass(".jstree-dnd-parent")||(k(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),Kt.addClass("jstree-dnd-parent")),u={ins:M,par:Pt,pos:"i"!==Fe||"last"!==We||0!==Jt||M.is_loaded(Ke)?Jt:"last"},E.css({left:Lt+"px",top:Mt+"px"}).show(),E.removeClass("jstree-above jstree-inside jstree-below").addClass(Ie),T.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),T.event.originalEvent&&T.event.originalEvent.dataTransfer&&(T.event.originalEvent.dataTransfer.dropEffect=le?"copy":"move"),w={},!(de=!0)}),!0===de))return}else{for(zt=!0,he=0,Qt=T.data.nodes.length;he<Qt&&(zt=zt&&M.check(T.data.origin&&(T.data.origin.settings.dnd.always_copy||T.data.origin.settings.dnd.copy&&(T.event.metaKey||T.event.ctrlKey))?"copy_node":"move_node",T.data.origin&&T.data.origin!==M?T.data.origin.get_node(T.data.nodes[he]):T.data.nodes[he],k.jstree.root,"last",{dnd:!0,ref:M.get_node(k.jstree.root),pos:"i",origin:T.data.origin,is_multi:T.data.origin&&T.data.origin!==M,is_foreign:!T.data.origin}));he++);if(zt)return u={ins:M,par:k.jstree.root,pos:"last"},E.hide(),T.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(T.event.originalEvent&&T.event.originalEvent.dataTransfer&&(T.event.originalEvent.dataTransfer.dropEffect=le?"copy":"move"))}k(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),u=!1,T.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),E.hide()}}).on("dnd_scroll.vakata.jstree",function(A,T){T&&T.data&&T.data.jstree&&(E.hide(),m=u=!1,T.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(A,T){if(k(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),x&&clearTimeout(x),T&&T.data&&T.data.jstree){E.hide().detach();var q,M,G=[];if(u){for(q=0,M=T.data.nodes.length;q<M;q++)G[q]=T.data.origin?T.data.origin.get_node(T.data.nodes[q]):T.data.nodes[q];u.ins[T.data.origin&&(T.data.origin.settings.dnd.always_copy||T.data.origin.settings.dnd.copy&&(T.event.metaKey||T.event.ctrlKey))?"copy_node":"move_node"](G,u.par,u.pos,!1,!1,!1,T.data.origin)}else(q=k(T.event.target).closest(".jstree")).length&&w&&w.error&&"check"===w.error&&(q=q.jstree(!0))&&q.settings.core.error.call(this,w);u=m=!1}}).on("keyup.jstree keydown.jstree",function(A,T){(T=k.vakata.dnd._get())&&T.data&&T.data.jstree&&("keyup"===A.type&&27===A.which?(x&&clearTimeout(x),x=m=w=u=!1,E.hide().detach(),k.vakata.dnd._clean()):(T.helper.find(".jstree-copy").first()[T.data.origin&&(T.data.origin.settings.dnd.always_copy||T.data.origin.settings.dnd.copy&&(A.metaKey||A.ctrlKey))?"show":"hide"](),m&&(m.metaKey=A.metaKey,m.ctrlKey=A.ctrlKey,k.vakata.dnd._trigger("move",m))))})}),$={element:!((V=k).vakata.html={div:V("<div></div>"),escape:function(u){return V.vakata.html.div.text(u).html()},strip:function(u){return V.vakata.html.div.empty().append(V.parseHTML(u)).text()}}),target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},V.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(u,w,m){(m=m===Ae?V.vakata.dnd._get():m).event=w,V(pt).triggerHandler("dnd_"+u+".vakata",m)},_get:function(){return{data:$.data,element:$.element,helper:$.helper}},_clean:function(){$.helper&&$.helper.remove(),$.scroll_i&&(clearInterval($.scroll_i),$.scroll_i=!1),$={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},ut=null,V(pt).off("mousemove.vakata.jstree touchmove.vakata.jstree",V.vakata.dnd.drag),V(pt).off("mouseup.vakata.jstree touchend.vakata.jstree",V.vakata.dnd.stop)},_scroll:function(m){if(!$.scroll_e||!$.scroll_l&&!$.scroll_t)return $.scroll_i&&(clearInterval($.scroll_i),$.scroll_i=!1),!1;if(!$.scroll_i)return $.scroll_i=setInterval(V.vakata.dnd._scroll,100),!1;if(!0===m)return!1;var w=$.scroll_e.scrollTop();m=$.scroll_e.scrollLeft(),$.scroll_e.scrollTop(w+$.scroll_t*V.vakata.dnd.settings.scroll_speed),$.scroll_e.scrollLeft(m+$.scroll_l*V.vakata.dnd.settings.scroll_speed),w===$.scroll_e.scrollTop()&&m===$.scroll_e.scrollLeft()||V.vakata.dnd._trigger("scroll",$.scroll_e)},start:function(u,w,m){"touchstart"===u.type&&u.originalEvent&&u.originalEvent.changedTouches&&u.originalEvent.changedTouches[0]&&(u.pageX=u.originalEvent.changedTouches[0].pageX,u.pageY=u.originalEvent.changedTouches[0].pageY,u.target=pt.elementFromPoint(u.originalEvent.changedTouches[0].pageX-window.pageXOffset,u.originalEvent.changedTouches[0].pageY-window.pageYOffset)),$.is_drag&&V.vakata.dnd.stop({});try{u.currentTarget.unselectable="on",u.currentTarget.onselectstart=function(){return!1},u.currentTarget.style&&(u.currentTarget.style.touchAction="none",u.currentTarget.style.msTouchAction="none",u.currentTarget.style.MozUserSelect="none")}catch{}return $.init_x=u.pageX,$.init_y=u.pageY,$.data=w,$.is_down=!0,$.element=u.currentTarget,$.target=u.target,$.is_touch="touchstart"===u.type,!1!==m&&($.helper=V("<div id='vakata-dnd'></div>").html(m).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),V(pt).on("mousemove.vakata.jstree touchmove.vakata.jstree",V.vakata.dnd.drag),V(pt).on("mouseup.vakata.jstree touchend.vakata.jstree",V.vakata.dnd.stop),!1},drag:function(u){if("touchmove"===u.type&&u.originalEvent&&u.originalEvent.changedTouches&&u.originalEvent.changedTouches[0]&&(u.pageX=u.originalEvent.changedTouches[0].pageX,u.pageY=u.originalEvent.changedTouches[0].pageY,u.target=pt.elementFromPoint(u.originalEvent.changedTouches[0].pageX-window.pageXOffset,u.originalEvent.changedTouches[0].pageY-window.pageYOffset)),$.is_down){if(!$.is_drag){if(!(Math.abs(u.pageX-$.init_x)>($.is_touch?V.vakata.dnd.settings.threshold_touch:V.vakata.dnd.settings.threshold)||Math.abs(u.pageY-$.init_y)>($.is_touch?V.vakata.dnd.settings.threshold_touch:V.vakata.dnd.settings.threshold)))return;$.helper&&($.helper.appendTo(pt.body),$.helper_w=$.helper.outerWidth()),$.is_drag=!0,V($.target).one("click.vakata",!1),V.vakata.dnd._trigger("start",u)}var w=!1,m=!1,x=!1,E=!1,A=!1,T=!1,q=!1,M=!1,G=!1,B=!1;return $.scroll_t=0,$.scroll_l=0,$.scroll_e=!1,V(V(u.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return this.ownerDocument&&/^auto|scroll$/.test(V(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var ot=V(this),U=ot.offset();if(this.scrollHeight>this.offsetHeight&&(U.top+ot.height()-u.pageY<V.vakata.dnd.settings.scroll_proximity&&($.scroll_t=1),u.pageY-U.top<V.vakata.dnd.settings.scroll_proximity&&($.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(U.left+ot.width()-u.pageX<V.vakata.dnd.settings.scroll_proximity&&($.scroll_l=1),u.pageX-U.left<V.vakata.dnd.settings.scroll_proximity&&($.scroll_l=-1)),$.scroll_t||$.scroll_l)return $.scroll_e=V(this),!1}),$.scroll_e||(w=V(pt),m=V(window),x=w.height(),E=m.height(),A=w.width(),T=m.width(),q=w.scrollTop(),M=w.scrollLeft(),E<x&&u.pageY-q<V.vakata.dnd.settings.scroll_proximity&&($.scroll_t=-1),E<x&&E-(u.pageY-q)<V.vakata.dnd.settings.scroll_proximity&&($.scroll_t=1),T<A&&u.pageX-M<V.vakata.dnd.settings.scroll_proximity&&($.scroll_l=-1),T<A&&T-(u.pageX-M)<V.vakata.dnd.settings.scroll_proximity&&($.scroll_l=1),($.scroll_t||$.scroll_l)&&($.scroll_e=w)),$.scroll_e&&V.vakata.dnd._scroll(!0),$.helper&&(G=parseInt(u.pageY+V.vakata.dnd.settings.helper_top,10),B=parseInt(u.pageX+V.vakata.dnd.settings.helper_left,10),A&&B+$.helper_w>A&&(B=A-($.helper_w+2)),$.helper.css({left:B+"px",top:(G=x&&x<G+25?x-50:G)+"px"})),V.vakata.dnd._trigger("move",u),!1}},stop:function(u){var w;return"touchend"===u.type&&u.originalEvent&&u.originalEvent.changedTouches&&u.originalEvent.changedTouches[0]&&(u.pageX=u.originalEvent.changedTouches[0].pageX,u.pageY=u.originalEvent.changedTouches[0].pageY,u.target=pt.elementFromPoint(u.originalEvent.changedTouches[0].pageX-window.pageXOffset,u.originalEvent.changedTouches[0].pageY-window.pageYOffset)),$.is_drag?(u.target!==$.target&&V($.target).off("click.vakata"),V.vakata.dnd._trigger("stop",u)):"touchend"===u.type&&u.target===$.target&&(w=setTimeout(function(){V(u.target).trigger("click")},100),V(u.target).one("click",function(){w&&clearTimeout(w)})),V.vakata.dnd._clean(),!1}},k.jstree.defaults.massload=null,k.jstree.plugins.massload=function(u,w){this.init=function(m,x){this._data.massload={},w.init.call(this,m,x)},this._load_nodes=function(m,x,E,A){var G,B,ot,T=this.settings.massload,q=[],M=this._model.data;if(!E){for(G=0,B=m.length;G<B;G++)M[m[G]]&&(M[m[G]].state.loaded||M[m[G]].state.failed)&&!A||(q.push(m[G]),(ot=this.get_node(m[G],!0))&&ot.length&&ot.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},q.length){if(k.vakata.is_function(T))return T.call(this,q,function(U){var Lt,Mt;if(U)for(Lt in U)U.hasOwnProperty(Lt)&&(this._data.massload[Lt]=U[Lt]);for(Lt=0,Mt=m.length;Lt<Mt;Lt++)(ot=this.get_node(m[Lt],!0))&&ot.length&&ot.removeClass("jstree-loading").attr("aria-busy",!1);w._load_nodes.call(this,m,x,E,A)}.bind(this));if("object"==typeof T&&T&&T.url)return T=k.extend(!0,{},T),k.vakata.is_function(T.url)&&(T.url=T.url.call(this,q)),k.vakata.is_function(T.data)&&(T.data=T.data.call(this,q)),k.ajax(T).done(function(U,Lt,Mt){var St,Pt;if(U)for(St in U)U.hasOwnProperty(St)&&(this._data.massload[St]=U[St]);for(St=0,Pt=m.length;St<Pt;St++)(ot=this.get_node(m[St],!0))&&ot.length&&ot.removeClass("jstree-loading").attr("aria-busy",!1);w._load_nodes.call(this,m,x,E,A)}.bind(this)).fail(function(U){w._load_nodes.call(this,m,x,E,A)}.bind(this))}}return w._load_nodes.call(this,m,x,E,A)},this._load_node=function(m,x){var A,E=null;return(A=this._data.massload[m.id])?(E=this["string"==typeof A?"_append_html_data":"_append_json_data"](m,"string"==typeof A?k(k.parseHTML(A)).filter(function(){return 3!==this.nodeType}):A,function(T){x.call(this,T)}),(A=this.get_node(m.id,!0))&&A.length&&A.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[m.id],E):w._load_node.call(this,m,x)}},k.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},k.jstree.plugins.search=function(u,w){this.bind=function(){w.bind.call(this),this._data.search.str="",this._data.search.dom=k(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",function(m,x){if(this._data.search.som&&x.res.length){for(var T,q,E=this._model.data,A=[],M=0,G=x.res.length;M<G;M++)if(E[x.res[M]]&&!E[x.res[M]].state.hidden&&(A.push(x.res[M]),A=A.concat(E[x.res[M]].parents),this._data.search.smc))for(T=0,q=E[x.res[M]].children_d.length;T<q;T++)E[E[x.res[M]].children_d[T]]&&!E[E[x.res[M]].children_d[T]].state.hidden&&A.push(E[x.res[M]].children_d[T]);A=k.vakata.array_remove_item(k.vakata.array_unique(A),k.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(A,!0),this.redraw(!0)}}.bind(this)).on("clear_search.jstree",function(m,x){this._data.search.som&&x.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))}.bind(this))},this.search=function(m,x,E,A,T,q){if(!1===m||""===k.vakata.trim(m.toString()))return this.clear_search();A=(A=this.get_node(A))&&(A.id||0===A.id)?A.id:null,m=m.toString();var Mt,St,M=this.settings.search,G=M.ajax||!1,B=this._model.data,ot=null,U=[],Lt=[];if(this._data.search.res.length&&!T&&this.clear_search(),E===Ae&&(E=M.show_only_matches),q===Ae&&(q=M.show_only_matches_children),!x&&!1!==G)return k.vakata.is_function(G)?G.call(this,m,function(Pt){Pt&&Pt.d&&(Pt=Pt.d),this._load_nodes(k.vakata.is_array(Pt)?k.vakata.array_unique(Pt):[],function(){this.search(m,!0,E,A,T,q)})}.bind(this),A):((G=k.extend({},G)).data||(G.data={}),G.data.str=m,A&&(G.data.inside=A),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=k.ajax(G).fail(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(G)},this.settings.core.error.call(this,this._data.core.last_error)}.bind(this)).done(function(Pt){Pt&&Pt.d&&(Pt=Pt.d),this._load_nodes(k.vakata.is_array(Pt)?k.vakata.array_unique(Pt):[],function(){this.search(m,!0,E,A,T,q)})}.bind(this)),this._data.search.lastRequest);if(T||(this._data.search.str=m,this._data.search.dom=k(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=E,this._data.search.smc=q),ot=new k.vakata.search(m,!0,{caseSensitive:M.case_sensitive,fuzzy:M.fuzzy}),k.each(B[A||k.jstree.root].children_d,function(Pt,Jt){var de=B[Jt];de.text&&!de.state.hidden&&(!M.search_leaves_only||de.state.loaded&&0===de.children.length)&&(M.search_callback&&M.search_callback.call(this,m,de)||!M.search_callback&&ot.search(de.text).isMatch)&&(U.push(Jt),Lt=Lt.concat(de.parents))}),U.length){for(Mt=0,St=(Lt=k.vakata.array_unique(Lt)).length;Mt<St;Mt++)Lt[Mt]!==k.jstree.root&&B[Lt[Mt]]&&!0===this.open_node(Lt[Mt],null,0)&&this._data.search.opn.push(Lt[Mt]);T?(this._data.search.dom=this._data.search.dom.add(k(this.element[0].querySelectorAll("#"+k.map(U,function(Pt){return-1!=="0123456789".indexOf(Pt[0])?"\\3"+Pt[0]+" "+Pt.substr(1).replace(k.jstree.idregex,"\\$&"):Pt.replace(k.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=k.vakata.array_unique(this._data.search.res.concat(U))):(this._data.search.dom=k(this.element[0].querySelectorAll("#"+k.map(U,function(Pt){return-1!=="0123456789".indexOf(Pt[0])?"\\3"+Pt[0]+" "+Pt.substr(1).replace(k.jstree.idregex,"\\$&"):Pt.replace(k.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=U),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:m,res:this._data.search.res,show_only_matches:E})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=k(this.element[0].querySelectorAll("#"+k.map(this._data.search.res,function(m){return-1!=="0123456789".indexOf(m[0])?"\\3"+m[0]+" "+m.substr(1).replace(k.jstree.idregex,"\\$&"):m.replace(k.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=k()},this.redraw_node=function(m,x,E,A){if((m=w.redraw_node.apply(this,arguments))&&-1!==k.inArray(m.id,this._data.search.res)){for(var T=null,q=0,M=m.childNodes.length;q<M;q++)if(m.childNodes[q]&&m.childNodes[q].className&&-1!==m.childNodes[q].className.indexOf("jstree-anchor")){T=m.childNodes[q];break}T&&(T.className+=" jstree-search")}return m}},(mt=k).vakata.search=function(u,w,m){!1!==(m=mt.extend({},mt.vakata.search.defaults,m=m||{})).fuzzy&&(m.fuzzy=!0),u=m.caseSensitive?u:u.toLowerCase();var q,M,G,B,x=m.location,E=m.distance,A=m.threshold,T=u.length;return 32<T&&(m.fuzzy=!1),m.fuzzy&&(q=1<<T-1,M=function(){var ot={},U=0;for(U=0;U<T;U++)ot[u.charAt(U)]=0;for(U=0;U<T;U++)ot[u.charAt(U)]|=1<<T-U-1;return ot}(),G=function(Lt,Mt){return Lt/=T,Mt=Math.abs(x-Mt),E?Lt+Mt/E:Mt?1:Lt}),B=function(ot){if(ot=m.caseSensitive?ot.toString():ot.toString().toLowerCase(),u===ot||-1!==ot.indexOf(u))return{isMatch:!0,score:0};if(!m.fuzzy)return{isMatch:!1,score:1};var U,Lt,Jt,de,he,Qt,Ue,me,Ee,Mt=ot.length,St=A,Pt=ot.indexOf(u,x),zt=T+Mt,We=1,Ke=[];for(-1!==Pt&&(St=Math.min(G(0,Pt),St),-1!==(Pt=ot.lastIndexOf(u,x+T))&&(St=Math.min(G(0,Pt),St))),Pt=-1,U=0;U<T;U++){for(Jt=0,de=zt;Jt<de;)G(U,x+de)<=St?Jt=de:zt=de,de=Math.floor((zt-Jt)/2+Jt);for(zt=de,Qt=Math.max(1,x-de+1),Ue=Math.min(x+de,Mt)+T,(me=new Array(Ue+2))[Ue+1]=(1<<U)-1,Lt=Ue;Qt<=Lt;Lt--)if(Ee=M[ot.charAt(Lt-1)],me[Lt]=0===U?(me[Lt+1]<<1|1)&Ee:(me[Lt+1]<<1|1)&Ee|(he[Lt+1]|he[Lt])<<1|1|he[Lt+1],me[Lt]&q&&(We=G(U,Lt-1))<=St){if(St=We,Ke.push(Pt=Lt-1),!(x<Pt))break;Qt=Math.max(1,2*x-Pt)}if(G(U+1,x)>St)break;he=me}return{isMatch:0<=Pt,score:We}},!0===w?{search:B}:B(w)},mt.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1},k.jstree.defaults.sort=function(u,w){return this.get_text(u)>this.get_text(w)?1:-1};var K=!(k.jstree.plugins.sort=function(u,w){this.bind=function(){w.bind.call(this),this.element.on("model.jstree",function(m,x){this.sort(x.parent,!0)}.bind(this)).on("rename_node.jstree create_node.jstree",function(m,x){this.sort(x.parent||x.node.parent,!1),this.redraw_node(x.parent||x.node.parent,!0)}.bind(this)).on("move_node.jstree copy_node.jstree",function(m,x){this.sort(x.parent,!1),this.redraw_node(x.parent,!0)}.bind(this))},this.sort=function(m,x){var E,A;if((m=this.get_node(m))&&m.children&&m.children.length&&(m.children.sort(this.settings.sort.bind(this)),x))for(E=0,A=m.children_d.length;E<A;E++)this.sort(m.children_d[E],!1)}});k.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},k.jstree.plugins.state=function(u,w){this.bind=function(){w.bind.call(this);var m=function(){this.element.on(this.settings.state.events,function(){K&&clearTimeout(K),K=setTimeout(function(){this.save_state()}.bind(this),100)}.bind(this)),this.trigger("state_ready")}.bind(this);this.element.on("ready.jstree",function(x,E){this.element.one("restore_state.jstree",m),this.restore_state()||m()}.bind(this))},this.save_state=function(){var m=this.get_state();this.settings.state.preserve_loaded||delete m.core.loaded,m={state:m,ttl:this.settings.state.ttl,sec:+new Date},k.vakata.storage.set(this.settings.state.key,JSON.stringify(m))},this.restore_state=function(){var m=k.vakata.storage.get(this.settings.state.key);if(m)try{m=JSON.parse(m)}catch{return!1}return!(m&&m.ttl&&m.sec&&+new Date-m.sec>m.ttl||!(m=(m=m&&m.state?m.state:m)&&k.vakata.is_function(this.settings.state.filter)?this.settings.state.filter.call(this,m):m)||(this.settings.state.preserve_loaded||delete m.core.loaded,this.element.one("set_state.jstree",function(x,E){E.instance.trigger("restore_state",{state:k.extend(!0,{},m)})}),this.set_state(m),0))},this.clear_state=function(){return k.vakata.storage.del(this.settings.state.key)}},k.vakata.storage={set:function(u,w){return window.localStorage.setItem(u,w)},get:function(u){return window.localStorage.getItem(u)},del:function(u){return window.localStorage.removeItem(u)}},k.jstree.defaults.types={default:{}},k.jstree.defaults.types[k.jstree.root]={},k.jstree.plugins.types=function(u,w){this.init=function(m,x){var E,A;if(x&&x.types&&x.types.default)for(E in x.types)if("default"!==E&&E!==k.jstree.root&&x.types.hasOwnProperty(E))for(A in x.types.default)x.types.default.hasOwnProperty(A)&&x.types[E][A]===Ae&&(x.types[E][A]=x.types.default[A]);w.init.call(this,m,x),this._model.data[k.jstree.root].type=k.jstree.root},this.refresh=function(m,x){w.refresh.call(this,m,x),this._model.data[k.jstree.root].type=k.jstree.root},this.bind=function(){this.element.on("model.jstree",function(m,x){for(var M,E=this._model.data,A=x.nodes,T=this.settings.types,q="default",G=0,B=A.length;G<B;G++){if(q="default",E[A[G]].original&&E[A[G]].original.type&&T[E[A[G]].original.type]&&(q=E[A[G]].original.type),E[A[G]].data&&E[A[G]].data.jstree&&E[A[G]].data.jstree.type&&T[E[A[G]].data.jstree.type]&&(q=E[A[G]].data.jstree.type),E[A[G]].type=q,!0===E[A[G]].icon&&T[q].icon!==Ae&&(E[A[G]].icon=T[q].icon),T[q].li_attr!==Ae&&"object"==typeof T[q].li_attr)for(M in T[q].li_attr)T[q].li_attr.hasOwnProperty(M)&&"id"!==M&&(E[A[G]].li_attr[M]===Ae?E[A[G]].li_attr[M]=T[q].li_attr[M]:"class"===M&&(E[A[G]].li_attr.class=T[q].li_attr.class+" "+E[A[G]].li_attr.class));if(T[q].a_attr!==Ae&&"object"==typeof T[q].a_attr)for(M in T[q].a_attr)T[q].a_attr.hasOwnProperty(M)&&"id"!==M&&(E[A[G]].a_attr[M]===Ae?E[A[G]].a_attr[M]=T[q].a_attr[M]:"href"===M&&"#"===E[A[G]].a_attr[M]?E[A[G]].a_attr.href=T[q].a_attr.href:"class"===M&&(E[A[G]].a_attr.class=T[q].a_attr.class+" "+E[A[G]].a_attr.class))}E[k.jstree.root].type=k.jstree.root}.bind(this)),w.bind.call(this)},this.get_json=function(m,x,E){var A,T,q=this._model.data,M=x?k.extend(!0,{},x,{no_id:!1}):{},G=w.get_json.call(this,m,M,E);if(!1===G)return!1;if(k.vakata.is_array(G))for(A=0,T=G.length;A<T;A++)G[A].type=(G[A].id||0===G[A].id)&&q[G[A].id]&&q[G[A].id].type?q[G[A].id].type:"default",x&&x.no_id&&(delete G[A].id,G[A].li_attr&&G[A].li_attr.id&&delete G[A].li_attr.id,G[A].a_attr&&G[A].a_attr.id&&delete G[A].a_attr.id);else G.type=(G.id||0===G.id)&&q[G.id]&&q[G.id].type?q[G.id].type:"default",x&&x.no_id&&(G=this._delete_ids(G));return G},this._delete_ids=function(m){if(k.vakata.is_array(m)){for(var x=0,E=m.length;x<E;x++)m[x]=this._delete_ids(m[x]);return m}return delete m.id,m.li_attr&&m.li_attr.id&&delete m.li_attr.id,m.a_attr&&m.a_attr.id&&delete m.a_attr.id,m.children&&k.vakata.is_array(m.children)&&(m.children=this._delete_ids(m.children)),m},this.check=function(m,x,E,A,T){if(!1===w.check.call(this,m,x,E,A,T))return!1;x=x&&(x.id||0===x.id)?x:this.get_node(x),E=E&&(E.id||0===E.id)?E:this.get_node(E);var q,M,G,B,ot=(ot=x&&(x.id||0===x.id)?T&&T.origin?T.origin:k.jstree.reference(x.id):null)&&ot._model&&ot._model.data?ot._model.data:null;switch(m){case"create_node":case"move_node":case"copy_node":if("move_node"!==m||-1===k.inArray(x.id,E.children)){if((q=this.get_rules(E)).max_children!==Ae&&-1!==q.max_children&&q.max_children===E.children.length)return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+m,data:JSON.stringify({chk:m,pos:A,obj:!(!x||!x.id&&0!==x.id)&&x.id,par:!(!E||!E.id&&0!==E.id)&&E.id})});if(q.valid_children!==Ae&&-1!==q.valid_children&&-1===k.inArray(x.type||"default",q.valid_children))return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+m,data:JSON.stringify({chk:m,pos:A,obj:!(!x||!x.id&&0!==x.id)&&x.id,par:!(!E||!E.id&&0!==E.id)&&E.id})});if(ot&&x.children_d&&x.parents){for(G=M=0,B=x.children_d.length;G<B;G++)M=Math.max(M,ot[x.children_d[G]].parents.length);M=M-x.parents.length+1}(M<=0||M===Ae)&&(M=1);do{if(q.max_depth!==Ae&&-1!==q.max_depth&&q.max_depth<M)return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+m,data:JSON.stringify({chk:m,pos:A,obj:!(!x||!x.id&&0!==x.id)&&x.id,par:!(!E||!E.id&&0!==E.id)&&E.id})});E=this.get_node(E.parent),q=this.get_rules(E),M++}while(E)}}return!0},this.get_rules=function(x){return!!(x=this.get_node(x))&&((x=this.get_type(x,!0)).max_depth===Ae&&(x.max_depth=-1),x.max_children===Ae&&(x.max_children=-1),x.valid_children===Ae&&(x.valid_children=-1),x)},this.get_type=function(m,x){return!!(m=this.get_node(m))&&(x?k.extend({type:m.type},this.settings.types[m.type]):m.type)},this.set_type=function(m,x){var A,T,q,M,G,B,ot,U,E=this._model.data;if(k.vakata.is_array(m)){for(T=0,q=(m=m.slice()).length;T<q;T++)this.set_type(m[T],x);return!0}if(A=this.settings.types,m=this.get_node(m),!A[x]||!m)return!1;if((ot=this.get_node(m,!0))&&ot.length&&(U=ot.children(".jstree-anchor")),M=m.type,G=this.get_icon(m),m.type=x,!0!==G&&A[M]&&(A[M].icon===Ae||G!==A[M].icon)||this.set_icon(m,A[x].icon===Ae||A[x].icon),A[M]&&A[M].li_attr!==Ae&&"object"==typeof A[M].li_attr)for(B in A[M].li_attr)A[M].li_attr.hasOwnProperty(B)&&"id"!==B&&("class"===B?(E[m.id].li_attr.class=(E[m.id].li_attr.class||"").replace(A[M].li_attr[B],""),ot&&ot.removeClass(A[M].li_attr[B])):E[m.id].li_attr[B]===A[M].li_attr[B]&&(E[m.id].li_attr[B]=null,ot&&ot.removeAttr(B)));if(A[M]&&A[M].a_attr!==Ae&&"object"==typeof A[M].a_attr)for(B in A[M].a_attr)A[M].a_attr.hasOwnProperty(B)&&"id"!==B&&("class"===B?(E[m.id].a_attr.class=(E[m.id].a_attr.class||"").replace(A[M].a_attr[B],""),U&&U.removeClass(A[M].a_attr[B])):E[m.id].a_attr[B]===A[M].a_attr[B]&&("href"===B?(E[m.id].a_attr[B]="#",U&&U.attr("href","#")):(delete E[m.id].a_attr[B],U&&U.removeAttr(B))));if(A[x].li_attr!==Ae&&"object"==typeof A[x].li_attr)for(B in A[x].li_attr)A[x].li_attr.hasOwnProperty(B)&&"id"!==B&&(E[m.id].li_attr[B]===Ae?(E[m.id].li_attr[B]=A[x].li_attr[B],ot&&("class"===B?ot.addClass(A[x].li_attr[B]):ot.attr(B,A[x].li_attr[B]))):"class"===B&&(E[m.id].li_attr.class=A[x].li_attr[B]+" "+E[m.id].li_attr.class,ot&&ot.addClass(A[x].li_attr[B])));if(A[x].a_attr!==Ae&&"object"==typeof A[x].a_attr)for(B in A[x].a_attr)A[x].a_attr.hasOwnProperty(B)&&"id"!==B&&(E[m.id].a_attr[B]===Ae?(E[m.id].a_attr[B]=A[x].a_attr[B],U&&("class"===B?U.addClass(A[x].a_attr[B]):U.attr(B,A[x].a_attr[B]))):"href"===B&&"#"===E[m.id].a_attr[B]?(E[m.id].a_attr.href=A[x].a_attr.href,U&&U.attr("href",A[x].a_attr.href)):"class"===B&&(E[m.id].a_attr.class=A[x].a_attr.class+" "+E[m.id].a_attr.class,U&&U.addClass(A[x].a_attr[B])));return!0}},k.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(u,w){return u+" ("+w+")"}},k.jstree.plugins.unique=function(u,w){this.check=function(m,x,E,A,T){if(!1===w.check.call(this,m,x,E,A,T))return!1;if(x=x&&(x.id||0===x.id)?x:this.get_node(x),!(E=E&&(E.id||0===E.id)?E:this.get_node(E))||!E.children)return!0;for(var U,q="rename_node"===m?A:x.text,M=[],G=this.settings.unique.case_sensitive,B=this.settings.unique.trim_whitespace,ot=this._model.data,Lt=0,Mt=E.children.length;Lt<Mt;Lt++)U=ot[E.children[Lt]].text,G||(U=U.toLowerCase()),B&&(U=U.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),M.push(U);switch(G||(q=q.toLowerCase()),B&&(q=q.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),m){case"delete_node":return!0;case"rename_node":return U=x.text||"",G||(U=U.toLowerCase()),B&&(U=U.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(Lt=-1===k.inArray(q,M)||x.text&&U===q)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+q+" already exists. Preventing: "+m,data:JSON.stringify({chk:m,pos:A,obj:!(!x||!x.id&&0!==x.id)&&x.id,par:!(!E||!E.id&&0!==E.id)&&E.id})}),Lt;case"create_node":return(Lt=-1===k.inArray(q,M))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+q+" already exists. Preventing: "+m,data:JSON.stringify({chk:m,pos:A,obj:!(!x||!x.id&&0!==x.id)&&x.id,par:!(!E||!E.id&&0!==E.id)&&E.id})}),Lt;case"copy_node":return(Lt=-1===k.inArray(q,M))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+q+" already exists. Preventing: "+m,data:JSON.stringify({chk:m,pos:A,obj:!(!x||!x.id&&0!==x.id)&&x.id,par:!(!E||!E.id&&0!==E.id)&&E.id})}),Lt;case"move_node":return(Lt=x.parent===E.id&&(!T||!T.is_multi)||-1===k.inArray(q,M))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+q+" already exists. Preventing: "+m,data:JSON.stringify({chk:m,pos:A,obj:!(!x||!x.id&&0!==x.id)&&x.id,par:!(!E||!E.id&&0!==E.id)&&E.id})}),Lt}return!0},this.create_node=function(m,x,E,A,T){if(!x||"object"==typeof x&&x.text===Ae){if(null===m&&(m=k.jstree.root),!(m=this.get_node(m)))return w.create_node.call(this,m,x,E,A,T);if(!(E=E===Ae?"last":E).toString().match(/^(before|after)$/)&&!T&&!this.is_loaded(m))return w.create_node.call(this,m,x,E,A,T);x=x||{};for(var q,U,M=this._model.data,G=this.settings.unique.case_sensitive,B=this.settings.unique.trim_whitespace,ot=this.settings.unique.duplicate,Lt=q=this.get_string("New node"),Mt=[],St=0,Pt=m.children.length;St<Pt;St++)U=M[m.children[St]].text,G||(U=U.toLowerCase()),B&&(U=U.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),Mt.push(U);for(St=1,U=Lt,G||(U=U.toLowerCase()),B&&(U=U.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==k.inArray(U,Mt);)U=Lt=ot.call(this,q,++St).toString(),G||(U=U.toLowerCase()),B&&(U=U.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));x.text=Lt}return w.create_node.call(this,m,x,E,A,T)}};var et=pt.createElement("DIV");if(et.setAttribute("unselectable","on"),et.setAttribute("role","presentation"),et.className="jstree-wholerow",et.innerHTML="&#160;",k.jstree.plugins.wholerow=function(u,w){this.bind=function(){w.bind.call(this),this.element.on("ready.jstree set_state.jstree",function(){this.hide_dots()}.bind(this)).on("init.jstree loading.jstree ready.jstree",function(){this.get_container_ul().addClass("jstree-wholerow-ul")}.bind(this)).on("deselect_all.jstree",function(m,x){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")}.bind(this)).on("changed.jstree",function(m,x){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");for(var E=!1,A=0,T=x.selected.length;A<T;A++)(E=this.get_node(x.selected[A],!0))&&E.length&&E.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}.bind(this)).on("open_node.jstree",function(m,x){this.get_node(x.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}.bind(this)).on("hover_node.jstree dehover_node.jstree",function(m,x){"hover_node"===m.type&&this.is_disabled(x.node)||this.get_node(x.node,!0).children(".jstree-wholerow")["hover_node"===m.type?"addClass":"removeClass"]("jstree-wholerow-hovered")}.bind(this)).on("contextmenu.jstree",".jstree-wholerow",function(m){var x;this._data.contextmenu&&(m.preventDefault(),x=k.Event("contextmenu",{metaKey:m.metaKey,ctrlKey:m.ctrlKey,altKey:m.altKey,shiftKey:m.shiftKey,pageX:m.pageX,pageY:m.pageY}),k(m.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(x))}.bind(this)).on("click.jstree",".jstree-wholerow",function(m){m.stopImmediatePropagation();var x=k.Event("click",{metaKey:m.metaKey,ctrlKey:m.ctrlKey,altKey:m.altKey,shiftKey:m.shiftKey});k(m.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(x).trigger("focus")}).on("dblclick.jstree",".jstree-wholerow",function(m){m.stopImmediatePropagation();var x=k.Event("dblclick",{metaKey:m.metaKey,ctrlKey:m.ctrlKey,altKey:m.altKey,shiftKey:m.shiftKey});k(m.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(x).trigger("focus")}).on("click.jstree",".jstree-leaf > .jstree-ocl",function(m){m.stopImmediatePropagation();var x=k.Event("click",{metaKey:m.metaKey,ctrlKey:m.ctrlKey,altKey:m.altKey,shiftKey:m.shiftKey});k(m.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(x).trigger("focus")}.bind(this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",function(m){return m.stopImmediatePropagation(),this.is_disabled(m.currentTarget)||this.hover_node(m.currentTarget),!1}.bind(this)).on("mouseleave.jstree",".jstree-node",function(m){this.dehover_node(m.currentTarget)}.bind(this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),w.teardown.call(this)},this.redraw_node=function(m,x,E,A){var T;return(m=w.redraw_node.apply(this,arguments))&&(T=et.cloneNode(!0),-1!==k.inArray(m.id,this._data.core.selected)&&(T.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===m.id&&(T.className+=" jstree-wholerow-hovered"),m.insertBefore(T,m.childNodes[0])),m}},window.customElements&&Object&&Object.create){(nt=Object.create(HTMLElement.prototype)).createdCallback=function(){var m,w={core:{},plugins:[]};for(m in k.jstree.plugins)k.jstree.plugins.hasOwnProperty(m)&&this.attributes[m]&&(w.plugins.push(m),this.getAttribute(m)&&JSON.parse(this.getAttribute(m))&&(w[m]=JSON.parse(this.getAttribute(m))));for(m in k.jstree.defaults.core)k.jstree.defaults.core.hasOwnProperty(m)&&this.attributes[m]&&(w.core[m]=JSON.parse(this.getAttribute(m))||this.getAttribute(m));k(this).jstree(w)};try{window.customElements.define("vakata-jstree",function(){},{prototype:nt})}catch{}}}}),function(k){"use strict";if("function"==typeof define&&define.amd)define(["jquery"],function(Xe){return k(Xe,window,document)});else if("object"==typeof exports){var Ae=require("jquery");if(!(typeof window<"u"))return k(Ae,window,window.document);module.exports=function(Xe,wt){return Xe||(Xe=window),wt||(wt=Ae(Xe)),k(wt,Xe,Xe.document)}}else window.DataTable=k(jQuery,window,document)}(function(k,Ae,Xe,wt){"use strict";var at,ct,nt,pt,R=function(d,C){if(R.factory(d,C))return R;if(this instanceof R)return k(d).DataTable(C);C=d,this.$=function(O,I){return this.api(!0).$(O,I)},this._=function(O,I){return this.api(!0).rows(O,I).data()},this.api=function(O){return new ct(O?$t(this[at.iApiIndex]):this)},this.fnAddData=function(O,I){var L=this.api(!0),Z=Array.isArray(O)&&(Array.isArray(O[0])||k.isPlainObject(O[0]))?L.rows.add(O):L.row.add(O);return(I===wt||I)&&L.draw(),Z.flatten().toArray()},this.fnAdjustColumnSizing=function(O){var I=this.api(!0).columns.adjust(),L=I.settings()[0],Z=L.oScroll;O===wt||O?I.draw(!1):(""!==Z.sX||""!==Z.sY)&&Gn(L)},this.fnClearTable=function(O){var I=this.api(!0).clear();(O===wt||O)&&I.draw()},this.fnClose=function(O){this.api(!0).row(O).child.hide()},this.fnDeleteRow=function(O,I,L){var Z=this.api(!0),vt=Z.rows(O),_t=vt.settings()[0],It=_t.aoData[vt[0][0]];return vt.remove(),I&&I.call(this,_t,It),(L===wt||L)&&Z.draw(),It},this.fnDestroy=function(O){this.api(!0).destroy(O)},this.fnDraw=function(O){this.api(!0).draw(O)},this.fnFilter=function(O,I,L,Z,vt,_t){var It=this.api(!0);null===I||I===wt?It.search(O,L,Z,_t):It.column(I).search(O,L,Z,_t),It.draw()},this.fnGetData=function(O,I){var L=this.api(!0);if(O!==wt){var Z=O.nodeName?O.nodeName.toLowerCase():"";return I!==wt||"td"==Z||"th"==Z?L.cell(O,I).data():L.row(O).data()||null}return L.data().toArray()},this.fnGetNodes=function(O){var I=this.api(!0);return O!==wt?I.row(O).node():I.rows().nodes().flatten().toArray()},this.fnGetPosition=function(O){var I=this.api(!0),L=O.nodeName.toUpperCase();if("TR"==L)return I.row(O).index();if("TD"==L||"TH"==L){var Z=I.cell(O).index();return[Z.row,Z.columnVisible,Z.column]}return null},this.fnIsOpen=function(O){return this.api(!0).row(O).child.isShown()},this.fnOpen=function(O,I,L){return this.api(!0).row(O).child(I,L).show().child()[0]},this.fnPageChange=function(O,I){var L=this.api(!0).page(O);(I===wt||I)&&L.draw(!1)},this.fnSetColumnVis=function(O,I,L){var Z=this.api(!0).column(O).visible(I);(L===wt||L)&&Z.columns.adjust().draw()},this.fnSettings=function(){return $t(this[at.iApiIndex])},this.fnSort=function(O){this.api(!0).order(O).draw()},this.fnSortListener=function(O,I,L){this.api(!0).order.listener(O,I,L)},this.fnUpdate=function(O,I,L,Z,vt){var _t=this.api(!0);return L===wt||null===L?_t.row(I).data(O):_t.cell(I,L).data(O),(vt===wt||vt)&&_t.columns.adjust(),(Z===wt||Z)&&_t.draw(),0},this.fnVersionCheck=at.fnVersionCheck;var P=this,c=C===wt,g=this.length;for(var b in c&&(C={}),this.oApi=this.internal=at.internal,R.ext.internal)b&&(this[b]=W(b));return this.each(function(){var Z,I=g>1?Tn({},C,!0):C,L=0,Gt=this.getAttribute("id"),Xt=!1,ye=R.defaults,tn=k(this);if("table"==this.nodeName.toLowerCase()){B(ye),ot(ye.column),q(ye,ye,!0),q(ye.column,ye.column,!0),q(ye,k.extend(I,tn.data()),!0);var en=R.settings;for(L=0,Z=en.length;L<Z;L++){var hn=en[L];if(hn.nTable==this||hn.nTHead&&hn.nTHead.parentNode==this||hn.nTFoot&&hn.nTFoot.parentNode==this){if(c||(I.bRetrieve!==wt?I.bRetrieve:ye.bRetrieve))return hn.oInstance;if(I.bDestroy!==wt?I.bDestroy:ye.bDestroy){hn.oInstance.fnDestroy();break}return void je(hn,0,"Cannot reinitialise DataTable",3)}if(hn.sTableId==this.id){en.splice(L,1);break}}(null===Gt||""===Gt)&&(Gt="DataTables_Table_"+R.ext._unique++,this.id=Gt);var Re=k.extend(!0,{},R.models.oSettings,{sDestroyWidth:tn[0].style.width,sInstance:Gt,sTableId:Gt});Re.nTable=this,Re.oApi=P.internal,Re.oInit=I,en.push(Re),Re.oInstance=1===P.length?P:tn.dataTable(),B(I),M(I.oLanguage),I.aLengthMenu&&!I.iDisplayLength&&(I.iDisplayLength=Array.isArray(I.aLengthMenu[0])?I.aLengthMenu[0][0]:I.aLengthMenu[0]),I=Tn(k.extend(!0,{},ye),I),fn(Re.oFeatures,I,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),fn(Re,I,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),fn(Re.oScroll,I,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),fn(Re.oLanguage,I,"fnInfoCallback"),sr(Re,"aoDrawCallback",I.fnDrawCallback,"user"),sr(Re,"aoServerParams",I.fnServerParams,"user"),sr(Re,"aoStateSaveParams",I.fnStateSaveParams,"user"),sr(Re,"aoStateLoadParams",I.fnStateLoadParams,"user"),sr(Re,"aoStateLoaded",I.fnStateLoaded,"user"),sr(Re,"aoRowCallback",I.fnRowCallback,"user"),sr(Re,"aoRowCreatedCallback",I.fnCreatedRow,"user"),sr(Re,"aoHeaderCallback",I.fnHeaderCallback,"user"),sr(Re,"aoFooterCallback",I.fnFooterCallback,"user"),sr(Re,"aoInitComplete",I.fnInitComplete,"user"),sr(Re,"aoPreDrawCallback",I.fnPreDrawCallback,"user"),Re.rowIdFn=Me(I.rowId),U(Re);var pr=Re.oClasses;if(k.extend(pr,R.ext.classes,I.oClasses),tn.addClass(pr.sTable),Re.iInitDisplayStart===wt&&(Re.iInitDisplayStart=I.iDisplayStart,Re._iDisplayStart=I.iDisplayStart),null!==I.iDeferLoading){Re.bDeferLoading=!0;var Jn=Array.isArray(I.iDeferLoading);Re._iRecordsDisplay=Jn?I.iDeferLoading[0]:I.iDeferLoading,Re._iRecordsTotal=Jn?I.iDeferLoading[1]:I.iDeferLoading}var br=Re.oLanguage;k.extend(!0,br,I.oLanguage),br.sUrl?(k.ajax({dataType:"json",url:br.sUrl,success:function(kn){q(ye.oLanguage,kn),M(kn),k.extend(!0,br,kn,Re.oInit.oLanguage),Wn(Re,null,"i18n",[Re]),Bn(Re)},error:function(){Bn(Re)}}),Xt=!0):Wn(Re,null,"i18n",[Re]),null===I.asStripeClasses&&(Re.asStripeClasses=[pr.sStripeOdd,pr.sStripeEven]);var Mn=Re.asStripeClasses,Pn=tn.children("tbody").find("tr").eq(0);-1!==k.inArray(!0,k.map(Mn,function(kn,Lr){return Pn.hasClass(kn)}))&&(k("tbody tr",this).removeClass(Mn.join(" ")),Re.asDestroyStripes=Mn.slice());var Er,Wr=[],wr=this.getElementsByTagName("thead");if(0!==wr.length&&(jn(Re.aoHeader,wr[0]),Wr=bn(Re)),null===I.aoColumns)for(Er=[],L=0,Z=Wr.length;L<Z;L++)Er.push(null);else Er=I.aoColumns;for(L=0,Z=Er.length;L<Z;L++)Mt(Re,Wr?Wr[L]:null);if(Ue(Re,I.aoColumnDefs,Er,function(kn,Lr){St(Re,kn,Lr)}),Pn.length){var _o=function(kn,Lr){return null!==kn.getAttribute("data-"+Lr)?Lr:null};k(Pn[0]).children("th, td").each(function(kn,Lr){var Fr=Re.aoColumns[kn];if(Fr||je(Re,0,"Incorrect column count",18),Fr.mData===kn){var $r=_o(Lr,"sort")||_o(Lr,"order"),Mr=_o(Lr,"filter")||_o(Lr,"search");(null!==$r||null!==Mr)&&(Fr.mData={_:kn+".display",sort:null!==$r?kn+".@data-"+$r:wt,type:null!==$r?kn+".@data-"+$r:wt,filter:null!==Mr?kn+".@data-"+Mr:wt},Fr._isArrayHost=!0,St(Re,kn))}})}var no=Re.oFeatures,Fo=function(){if(I.aaSorting===wt){var kn=Re.aaSorting;for(L=0,Z=kn.length;L<Z;L++)kn[L][1]=Re.aoColumns[L].asSorting[0]}to(Re),no.bSort&&sr(Re,"aoDrawCallback",function(){if(Re.bSorted){var Oi=Pr(Re),ao={};k.each(Oi,function(Rr,ft){ao[ft.src]=ft.dir}),Wn(Re,null,"order",[Re,Oi,ao]),So(Re)}}),sr(Re,"aoDrawCallback",function(){(Re.bSorted||"ssp"===zr(Re)||no.bDeferRender)&&to(Re)},"sc");var Lr=tn.children("caption").each(function(){this._captionSide=k(this).css("caption-side")}),Fr=tn.children("thead");0===Fr.length&&(Fr=k("<thead/>").appendTo(tn)),Re.nTHead=Fr[0];var $r=tn.children("tbody");0===$r.length&&($r=k("<tbody/>").insertAfter(Fr)),Re.nTBody=$r[0];var Mr=tn.children("tfoot");if(0===Mr.length&&Lr.length>0&&(""!==Re.oScroll.sX||""!==Re.oScroll.sY)&&(Mr=k("<tfoot/>").appendTo(tn)),0===Mr.length||0===Mr.children().length?tn.addClass(pr.sNoFooter):Mr.length>0&&(Re.nTFoot=Mr[0],jn(Re.aoFooter,Re.nTFoot)),I.aaData)for(L=0;L<I.aaData.length;L++)me(Re,I.aaData[L]);else(Re.bDeferLoading||"dom"==zr(Re))&&Ee(Re,k(Re.nTBody).children("tr"));Re.aiDisplay=Re.aiDisplayMaster.slice(),Re.bInitialised=!0,!1===Xt&&Bn(Re)};sr(Re,"aoDrawCallback",qe,"state_save"),I.bStateSave?(no.bStateSave=!0,In(Re,0,Fo)):Fo()}else je(null,0,"Non-table node initialisation ("+this.nodeName+")",2)}),P=null,this},J={},ht=/[\r\n\u2028]/g,rt=/<.*?>/g,F=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,H=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),N=/['\u00A0,$\xa3\u20ac\xa5%\u2009\u202F\u20BD\u20a9\u20BArfk\u0243\u039e]/gi,X=function(d){return!d||!0===d||"-"===d},ut=function(d){var C=parseInt(d,10);return!isNaN(C)&&isFinite(d)?C:null},V=function(d,C){return J[C]||(J[C]=new RegExp(Oe(C),"g")),"string"==typeof d&&"."!==C?d.replace(/\./g,"").replace(J[C],"."):d},$=function(d,C,P){var c=typeof d,g="string"===c;return!("number"!==c&&"bigint"!==c&&!X(d))||(C&&g&&(d=V(d,C)),P&&g&&(d=d.replace(N,"")),!isNaN(parseFloat(d))&&isFinite(d))},K=function(d,C,P){if(X(d))return!0;var c=function(d){return X(d)||"string"==typeof d}(d);return!(!c||!$(w(d),C,P))||null},st=function(d,C,P){var c=[],g=0,b=d.length;if(P!==wt)for(;g<b;g++)d[g]&&d[g][C]&&c.push(d[g][C][P]);else for(;g<b;g++)d[g]&&c.push(d[g][C]);return c},_=function(d,C,P,c){var g=[],b=0,O=C.length;if(c!==wt)for(;b<O;b++)d[C[b]][P]&&g.push(d[C[b]][P][c]);else for(;b<O;b++)g.push(d[C[b]][P]);return g},et=function(d,C){var c,P=[];C===wt?(C=0,c=d):(c=C,C=d);for(var g=C;g<c;g++)P.push(g);return P},u=function(d){for(var C=[],P=0,c=d.length;P<c;P++)d[P]&&C.push(d[P]);return C},w=function(d){return d.replace(rt,"").replace(/<script/i,"")},x=function(d){if(function(d){if(d.length<2)return!0;for(var C=d.slice().sort(),P=C[0],c=1,g=C.length;c<g;c++){if(C[c]===P)return!1;P=C[c]}return!0}(d))return d.slice();var P,c,b,C=[],g=d.length,O=0;t:for(c=0;c<g;c++){for(P=d[c],b=0;b<O;b++)if(C[b]===P)continue t;C.push(P),O++}return C},E=function(d,C){if(Array.isArray(C))for(var P=0;P<C.length;P++)E(d,C[P]);else d.push(C);return d},A=function(d,C){return C===wt&&(C=0),-1!==this.indexOf(d,C)};function T(d){var P,c,g={};k.each(d,function(b,O){(P=b.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(P[1]+" ")&&(c=b.replace(P[0],P[2].toLowerCase()),g[c]=b,"o"===P[1]&&T(d[b]))}),d._hungarianMap=g}function q(d,C,P){var c;d._hungarianMap||T(d),k.each(C,function(g,b){(c=d._hungarianMap[g])!==wt&&(P||C[c]===wt)&&("o"===c.charAt(0)?(C[c]||(C[c]={}),k.extend(!0,C[c],C[g]),q(d[c],C[c],P)):C[c]=C[g])})}function M(d){var C=R.defaults.oLanguage,P=C.sDecimal;if(P&&si(P),d){var c=d.sZeroRecords;!d.sEmptyTable&&c&&"No data available in table"===C.sEmptyTable&&fn(d,d,"sZeroRecords","sEmptyTable"),!d.sLoadingRecords&&c&&"Loading..."===C.sLoadingRecords&&fn(d,d,"sZeroRecords","sLoadingRecords"),d.sInfoThousands&&(d.sThousands=d.sInfoThousands);var g=d.sDecimal;g&&P!==g&&si(g)}}Array.isArray||(Array.isArray=function(d){return"[object Array]"===Object.prototype.toString.call(d)}),Array.prototype.includes||(Array.prototype.includes=A),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.includes||(String.prototype.includes=A),R.util={throttle:function(d,C){var c,g,P=C!==wt?C:200;return function(){var b=this,O=+new Date,I=arguments;c&&O<c+P?(clearTimeout(g),g=setTimeout(function(){c=wt,d.apply(b,I)},P)):(c=O,d.apply(b,I))}},escapeRegex:function(d){return d.replace(H,"\\$1")},set:function(d){if(k.isPlainObject(d))return R.util.set(d._);if(null===d)return function(){};if("function"==typeof d)return function(P,c,g){d(P,"set",c,g)};if("string"!=typeof d||-1===d.indexOf(".")&&-1===d.indexOf("[")&&-1===d.indexOf("("))return function(P,c){P[d]=c};var C=function(P,c,g){for(var O,L,Z,vt,_t,b=Fe(g),I=b[b.length-1],It=0,Ut=b.length-1;It<Ut;It++){if("__proto__"===b[It]||"constructor"===b[It])throw new Error("Cannot set prototype values");if(L=b[It].match(Ie),Z=b[It].match(ue),L){if(b[It]=b[It].replace(Ie,""),P[b[It]]=[],(O=b.slice()).splice(0,It+1),_t=O.join("."),Array.isArray(c))for(var Gt=0,Xt=c.length;Gt<Xt;Gt++)C(vt={},c[Gt],_t),P[b[It]].push(vt);else P[b[It]]=c;return}Z&&(b[It]=b[It].replace(ue,""),P=P[b[It]](c)),(null===P[b[It]]||P[b[It]]===wt)&&(P[b[It]]={}),P=P[b[It]]}I.match(ue)?P=P[I.replace(ue,"")](c):P[I.replace(Ie,"")]=c};return function(P,c){return C(P,c,d)}},get:function(d){if(k.isPlainObject(d)){var C={};return k.each(d,function(c,g){g&&(C[c]=R.util.get(g))}),function(c,g,b,O){var I=C[g]||C._;return I!==wt?I(c,g,b,O):c}}if(null===d)return function(c){return c};if("function"==typeof d)return function(c,g,b,O){return d(c,g,b,O)};if("string"!=typeof d||-1===d.indexOf(".")&&-1===d.indexOf("[")&&-1===d.indexOf("("))return function(c,g){return c[d]};var P=function(c,g,b){var O,I,L,Z;if(""!==b)for(var vt=Fe(b),_t=0,It=vt.length;_t<It;_t++){if(O=vt[_t].match(Ie),I=vt[_t].match(ue),O){if(vt[_t]=vt[_t].replace(Ie,""),""!==vt[_t]&&(c=c[vt[_t]]),L=[],vt.splice(0,_t+1),Z=vt.join("."),Array.isArray(c))for(var Ut=0,Gt=c.length;Ut<Gt;Ut++)L.push(P(c[Ut],g,Z));var Xt=O[0].substring(1,O[0].length-1);c=""===Xt?L:L.join(Xt);break}if(I)vt[_t]=vt[_t].replace(ue,""),c=c[vt[_t]]();else{if(null===c||null===c[vt[_t]])return null;if(c===wt||c[vt[_t]]===wt)return wt;c=c[vt[_t]]}}return c};return function(c,g){return P(c,g,d)}}};var G=function(d,C,P){d[C]!==wt&&(d[P]=d[C])};function B(d){G(d,"ordering","bSort"),G(d,"orderMulti","bSortMulti"),G(d,"orderClasses","bSortClasses"),G(d,"orderCellsTop","bSortCellsTop"),G(d,"order","aaSorting"),G(d,"orderFixed","aaSortingFixed"),G(d,"paging","bPaginate"),G(d,"pagingType","sPaginationType"),G(d,"pageLength","iDisplayLength"),G(d,"searching","bFilter"),"boolean"==typeof d.sScrollX&&(d.sScrollX=d.sScrollX?"100%":""),"boolean"==typeof d.scrollX&&(d.scrollX=d.scrollX?"100%":"");var C=d.aoSearchCols;if(C)for(var P=0,c=C.length;P<c;P++)C[P]&&q(R.models.oSearch,C[P])}function ot(d){G(d,"orderable","bSortable"),G(d,"orderData","aDataSort"),G(d,"orderSequence","asSorting"),G(d,"orderDataType","sortDataType");var C=d.aDataSort;"number"==typeof C&&!Array.isArray(C)&&(d.aDataSort=[C])}function U(d){if(!R.__browser){var C={};R.__browser=C;var P=k("<div/>").css({position:"fixed",top:0,left:-1*k(Ae).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(k("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(k("<div/>").css({width:"100%",height:10}))).appendTo("body"),c=P.children(),g=c.children();C.barWidth=c[0].offsetWidth-c[0].clientWidth,C.bScrollOversize=100===g[0].offsetWidth&&100!==c[0].clientWidth,C.bScrollbarLeft=1!==Math.round(g.offset().left),C.bBounding=!!P[0].getBoundingClientRect().width,P.remove()}k.extend(d.oBrowser,R.__browser),d.oScroll.iBarWidth=R.__browser.barWidth}function Lt(d,C,P,c,g,b){var I,O=c,L=!1;for(P!==wt&&(I=P,L=!0);O!==g;)d.hasOwnProperty(O)&&(I=L?C(I,d[O],O,d):d[O],L=!0,O+=b);return I}function Mt(d,C){var P=R.defaults.column,c=d.aoColumns.length,g=k.extend({},R.models.oColumn,P,{nTh:C||Xe.createElement("th"),sTitle:P.sTitle?P.sTitle:C?C.innerHTML:"",aDataSort:P.aDataSort?P.aDataSort:[c],mData:P.mData?P.mData:c,idx:c});d.aoColumns.push(g);var b=d.aoPreSearchCols;b[c]=k.extend({},R.models.oSearch,b[c]),St(d,c,k(C).data())}function St(d,C,P){var c=d.aoColumns[C],g=d.oClasses,b=k(c.nTh);if(!c.sWidthOrig){c.sWidthOrig=b.attr("width")||null;var O=(b.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);O&&(c.sWidthOrig=O[1])}if(P!==wt&&null!==P){ot(P),q(R.defaults.column,P,!0),P.mDataProp!==wt&&!P.mData&&(P.mData=P.mDataProp),P.sType&&(c._sManualType=P.sType),P.className&&!P.sClass&&(P.sClass=P.className),P.sClass&&b.addClass(P.sClass);var I=c.sClass;k.extend(c,P),fn(c,P,"sWidth","sWidthOrig"),I!==c.sClass&&(c.sClass=I+" "+c.sClass),P.iDataSort!==wt&&(c.aDataSort=[P.iDataSort]),fn(c,P,"aDataSort")}var L=c.mData,Z=Me(L),vt=c.mRender?Me(c.mRender):null,_t=function(Gt){return"string"==typeof Gt&&-1!==Gt.indexOf("@")};c._bAttrSrc=k.isPlainObject(L)&&(_t(L.sort)||_t(L.type)||_t(L.filter)),c._setter=null,c.fnGetData=function(Gt,Xt,ye){var tn=Z(Gt,Xt,wt,ye);return vt&&Xt?vt(tn,Xt,Gt,ye):tn},c.fnSetData=function(Gt,Xt,ye){return sn(L)(Gt,Xt,ye)},"number"!=typeof L&&!c._isArrayHost&&(d._rowReadObject=!0),d.oFeatures.bSort||(c.bSortable=!1,b.addClass(g.sSortableNone));var It=-1!==k.inArray("asc",c.asSorting),Ut=-1!==k.inArray("desc",c.asSorting);c.bSortable&&(It||Ut)?It&&!Ut?(c.sSortingClass=g.sSortableAsc,c.sSortingClassJUI=g.sSortJUIAscAllowed):!It&&Ut?(c.sSortingClass=g.sSortableDesc,c.sSortingClassJUI=g.sSortJUIDescAllowed):(c.sSortingClass=g.sSortable,c.sSortingClassJUI=g.sSortJUI):(c.sSortingClass=g.sSortableNone,c.sSortingClassJUI="")}function Pt(d){if(!1!==d.oFeatures.bAutoWidth){var C=d.aoColumns;Qr(d);for(var P=0,c=C.length;P<c;P++)C[P].nTh.style.width=C[P].sWidth}var g=d.oScroll;(""!==g.sY||""!==g.sX)&&Gn(d),Wn(d,null,"column-sizing",[d])}function Jt(d,C){var P=he(d,"bVisible");return"number"==typeof P[C]?P[C]:null}function de(d,C){var P=he(d,"bVisible"),c=k.inArray(C,P);return-1!==c?c:null}function zt(d){var C=0;return k.each(d.aoColumns,function(P,c){c.bVisible&&"none"!==k(c.nTh).css("display")&&C++}),C}function he(d,C){var P=[];return k.map(d.aoColumns,function(c,g){c[C]&&P.push(g)}),P}function Qt(d){var g,b,O,I,L,Z,vt,It,Ut,C=d.aoColumns,P=d.aoData,c=R.ext.type.detect;for(g=0,b=C.length;g<b;g++)if(Ut=[],!(vt=C[g]).sType&&vt._sManualType)vt.sType=vt._sManualType;else if(!vt.sType){for(O=0,I=c.length;O<I;O++){for(L=0,Z=P.length;L<Z&&(Ut[L]===wt&&(Ut[L]=le(d,L,g,"type")),((It=c[O](Ut[L],d))||O===c.length-1)&&("html"!==It||X(Ut[L])));L++);if(It){vt.sType=It;break}}vt.sType||(vt.sType="string")}}function Ue(d,C,P,c){var g,b,O,I,L,Z,vt,_t=d.aoColumns;if(C)for(g=C.length-1;g>=0;g--){var It=(vt=C[g]).target!==wt?vt.target:vt.targets!==wt?vt.targets:vt.aTargets;for(Array.isArray(It)||(It=[It]),O=0,I=It.length;O<I;O++)if("number"==typeof It[O]&&It[O]>=0){for(;_t.length<=It[O];)Mt(d);c(It[O],vt)}else if("number"==typeof It[O]&&It[O]<0)c(_t.length+It[O],vt);else if("string"==typeof It[O])for(L=0,Z=_t.length;L<Z;L++)("_all"==It[O]||k(_t[L].nTh).hasClass(It[O]))&&c(L,vt)}if(P)for(g=0,b=P.length;g<b;g++)c(g,P[g])}function me(d,C,P,c){var g=d.aoData.length,b=k.extend(!0,{},R.models.oRow,{src:P?"dom":"data",idx:g});b._aData=C,d.aoData.push(b);for(var L=d.aoColumns,Z=0,vt=L.length;Z<vt;Z++)L[Z].sType=null;d.aiDisplayMaster.push(g);var _t=d.rowIdFn(C);return _t!==wt&&(d.aIds[_t]=b),(P||!d.oFeatures.bDeferRender)&&yt(d,g,P,c),g}function Ee(d,C){var P;return C instanceof k||(C=k(C)),C.map(function(c,g){return P=dt(d,g),me(d,P.data,g,P.cells)})}function le(d,C,P,c){"search"===c?c="filter":"order"===c&&(c="sort");var g=d.iDraw,b=d.aoColumns[P],O=d.aoData[C]._aData,I=b.sDefaultContent,L=b.fnGetData(O,c,{settings:d,row:C,col:P});if(L===wt)return d.iDrawError!=g&&null===I&&(je(d,0,"Requested unknown parameter "+("function"==typeof b.mData?"{function}":"'"+b.mData+"'")+" for row "+C+", column "+P,4),d.iDrawError=g),I;if(L!==O&&null!==L||null===I||c===wt){if("function"==typeof L)return L.call(O)}else L=I;if(null===L&&"display"===c)return"";if("filter"===c){var Z=R.ext.type.search;Z[b.sType]&&(L=Z[b.sType](L))}return L}function Kt(d,C,P,c){d.aoColumns[P].fnSetData(d.aoData[C]._aData,c,{settings:d,row:C,col:P})}var Ie=/\[.*?\]$/,ue=/\(\)$/;function Fe(d){return k.map(d.match(/(\\.|[^\.])+/g)||[""],function(C){return C.replace(/\\\./g,".")})}var Me=R.util.get,sn=R.util.set;function mn(d){return st(d.aoData,"_aData")}function gn(d){d.aoData.length=0,d.aiDisplayMaster.length=0,d.aiDisplay.length=0,d.aIds={}}function ce(d,C,P){for(var c=-1,g=0,b=d.length;g<b;g++)d[g]==C?c=g:d[g]>C&&d[g]--;-1!=c&&P===wt&&d.splice(c,1)}function se(d,C,P,c){var b,O,g=d.aoData[C],I=function(vt,_t){for(;vt.childNodes.length;)vt.removeChild(vt.firstChild);vt.innerHTML=le(d,C,_t,"display")};if("dom"!==P&&(P&&"auto"!==P||"dom"!==g.src)){var L=g.anCells;if(L)if(c!==wt)I(L[c],c);else for(b=0,O=L.length;b<O;b++)I(L[b],b)}else g._aData=dt(d,g,c,c===wt?wt:g._aData).data;g._aSortData=null,g._aFilterData=null;var Z=d.aoColumns;if(c!==wt)Z[c].sType=null;else{for(b=0,O=Z.length;b<O;b++)Z[b].sType=null;Rt(d,g)}}function dt(d,C,P,c){var O,I,vt,g=[],b=C.firstChild,Z=0,_t=d.aoColumns,It=d._rowReadObject;c=c!==wt?c:It?{}:[];var Ut=function(hn,qn){if("string"==typeof hn){var ir=hn.indexOf("@");if(-1!==ir){var Re=hn.substring(ir+1);sn(hn)(c,qn.getAttribute(Re))}}},Gt=function(hn){P!==wt&&P!==Z||(I=_t[Z],vt=hn.innerHTML.trim(),I&&I._bAttrSrc?(sn(I.mData._)(c,vt),Ut(I.mData.sort,hn),Ut(I.mData.type,hn),Ut(I.mData.filter,hn)):It?(I._setter||(I._setter=sn(I.mData)),I._setter(c,vt)):c[Z]=vt),Z++};if(b)for(;b;)("TD"==(O=b.nodeName.toUpperCase())||"TH"==O)&&(Gt(b),g.push(b)),b=b.nextSibling;else for(var Xt=0,ye=(g=C.anCells).length;Xt<ye;Xt++)Gt(g[Xt]);var tn=C.firstChild?C:C.nTr;if(tn){var en=tn.getAttribute("id");en&&sn(d.rowId)(c,en)}return{data:c,cells:g}}function yt(d,C,P,c){var I,L,Z,vt,_t,It,g=d.aoData[C],b=g._aData,O=[];if(null===g.nTr){for(I=P||Xe.createElement("tr"),g.nTr=I,g.anCells=O,I._DT_RowIndex=C,Rt(d,g),vt=0,_t=d.aoColumns.length;vt<_t;vt++)Z=d.aoColumns[vt],(L=(It=!P)?Xe.createElement(Z.sCellType):c[vt])||je(d,0,"Incorrect column count",18),L._DT_CellIndex={row:C,column:vt},O.push(L),(It||(Z.mRender||Z.mData!==vt)&&(!k.isPlainObject(Z.mData)||Z.mData._!==vt+".display"))&&(L.innerHTML=le(d,C,vt,"display")),Z.sClass&&(L.className+=" "+Z.sClass),Z.bVisible&&!P?I.appendChild(L):!Z.bVisible&&P&&L.parentNode.removeChild(L),Z.fnCreatedCell&&Z.fnCreatedCell.call(d.oInstance,L,le(d,C,vt),b,C,vt);Wn(d,"aoRowCreatedCallback",null,[I,b,C,O])}}function Rt(d,C){var P=C.nTr,c=C._aData;if(P){var g=d.rowIdFn(c);if(g&&(P.id=g),c.DT_RowClass){var b=c.DT_RowClass.split(" ");C.__rowc=C.__rowc?x(C.__rowc.concat(b)):b,k(P).removeClass(C.__rowc.join(" ")).addClass(c.DT_RowClass)}c.DT_RowAttr&&k(P).attr(c.DT_RowAttr),c.DT_RowData&&k(P).data(c.DT_RowData)}}function re(d){var C,P,c,g,b,O=d.nTHead,I=d.nTFoot,L=0===k("th, td",O).length,Z=d.oClasses,vt=d.aoColumns;for(L&&(g=k("<tr/>").appendTo(O)),C=0,P=vt.length;C<P;C++)c=k((b=vt[C]).nTh).addClass(b.sClass),L&&c.appendTo(g),d.oFeatures.bSort&&(c.addClass(b.sSortingClass),!1!==b.bSortable&&(c.attr("tabindex",d.iTabIndex).attr("aria-controls",d.sTableId),To(d,b.nTh,C))),b.sTitle!=c[0].innerHTML&&c.html(b.sTitle),qr(d,"header")(d,c,b,Z);if(L&&jn(d.aoHeader,O),k(O).children("tr").children("th, td").addClass(Z.sHeaderTH),k(I).children("tr").children("th, td").addClass(Z.sFooterTH),null!==I){var _t=d.aoFooter[0];for(C=0,P=_t.length;C<P;C++)(b=vt[C])?(b.nTf=_t[C].cell,b.sClass&&k(b.nTf).addClass(b.sClass)):je(d,0,"Incorrect column count",18)}}function xe(d,C,P){var c,g,b,O,I,Z,vt,Gt,Xt,_t=[],It=[],Ut=d.aoColumns.length;if(C){for(P===wt&&(P=!1),c=0,g=C.length;c<g;c++){for(_t[c]=C[c].slice(),_t[c].nTr=C[c].nTr,b=Ut-1;b>=0;b--)!d.aoColumns[b].bVisible&&!P&&_t[c].splice(b,1);It.push([])}for(c=0,g=_t.length;c<g;c++){if(vt=_t[c].nTr)for(;Z=vt.firstChild;)vt.removeChild(Z);for(b=0,O=_t[c].length;b<O;b++)if(Gt=1,Xt=1,It[c][b]===wt){for(vt.appendChild(_t[c][b].cell),It[c][b]=1;_t[c+Gt]!==wt&&_t[c][b].cell==_t[c+Gt][b].cell;)It[c+Gt][b]=1,Gt++;for(;_t[c][b+Xt]!==wt&&_t[c][b].cell==_t[c][b+Xt].cell;){for(I=0;I<Gt;I++)It[c+I][b+Xt]=1;Xt++}k(_t[c][b].cell).attr("rowspan",Gt).attr("colspan",Xt)}}}}function Se(d,C){!function $n(d){var C="ssp"==zr(d),P=d.iInitDisplayStart;P!==wt&&-1!==P&&(d._iDisplayStart=C?P:P>=d.fnRecordsDisplay()?0:P,d.iInitDisplayStart=-1)}(d);var P=Wn(d,"aoPreDrawCallback","preDraw",[d]);if(-1===k.inArray(!1,P)){var c=[],g=0,b=d.asStripeClasses,O=b.length,I=d.oLanguage,L="ssp"==zr(d),Z=d.aiDisplay,vt=d._iDisplayStart,_t=d.fnDisplayEnd();if(d.bDrawing=!0,d.bDeferLoading)d.bDeferLoading=!1,d.iDraw++,Vn(d,!1);else if(L){if(!d.bDestroying&&!C)return void Be(d)}else d.iDraw++;if(0!==Z.length)for(var Ut=L?d.aoData.length:_t,Gt=L?0:vt;Gt<Ut;Gt++){var Xt=Z[Gt],ye=d.aoData[Xt];null===ye.nTr&&yt(d,Xt);var tn=ye.nTr;if(0!==O){var en=b[g%O];ye._sRowStripe!=en&&(k(tn).removeClass(ye._sRowStripe).addClass(en),ye._sRowStripe=en)}Wn(d,"aoRowCallback",null,[tn,ye._aData,g,Gt,Xt]),c.push(tn),g++}else{var hn=I.sZeroRecords;1==d.iDraw&&"ajax"==zr(d)?hn=I.sLoadingRecords:I.sEmptyTable&&0===d.fnRecordsTotal()&&(hn=I.sEmptyTable),c[0]=k("<tr/>",{class:O?b[0]:""}).append(k("<td />",{valign:"top",colSpan:zt(d),class:d.oClasses.sRowEmpty}).html(hn))[0]}Wn(d,"aoHeaderCallback","header",[k(d.nTHead).children("tr")[0],mn(d),vt,_t,Z]),Wn(d,"aoFooterCallback","footer",[k(d.nTFoot).children("tr")[0],mn(d),vt,_t,Z]);var qn=k(d.nTBody);qn.children().detach(),qn.append(k(c)),Wn(d,"aoDrawCallback","draw",[d]),d.bSorted=!1,d.bFiltered=!1,d.bDrawing=!1}else Vn(d,!1)}function He(d,C){var P=d.oFeatures,g=P.bFilter;P.bSort&&No(d),g?gt(d,d.oPreviousSearch):d.aiDisplay=d.aiDisplayMaster.slice(),!0!==C&&(d._iDisplayStart=0),d._drawHold=C,Se(d),d._drawHold=!1}function Sn(d){var C=d.oClasses,P=k(d.nTable),c=k("<div/>").insertBefore(P),g=d.oFeatures,b=k("<div/>",{id:d.sTableId+"_wrapper",class:C.sWrapper+(d.nTFoot?"":" "+C.sNoFooter)});d.nHolding=c[0],d.nTableWrapper=b[0],d.nTableReinsertBefore=d.nTable.nextSibling;for(var I,L,Z,vt,_t,It,O=d.sDom.split(""),Ut=0;Ut<O.length;Ut++){if(I=null,"<"==(L=O[Ut])){if(Z=k("<div/>")[0],"'"==(vt=O[Ut+1])||'"'==vt){for(_t="",It=2;O[Ut+It]!=vt;)_t+=O[Ut+It],It++;if("H"==_t?_t=C.sJUIHeader:"F"==_t&&(_t=C.sJUIFooter),-1!=_t.indexOf(".")){var Gt=_t.split(".");Z.id=Gt[0].substr(1,Gt[0].length-1),Z.className=Gt[1]}else"#"==_t.charAt(0)?Z.id=_t.substr(1,_t.length-1):Z.className=_t;Ut+=It}b.append(Z),b=k(Z)}else if(">"==L)b=b.parent();else if("l"==L&&g.bPaginate&&g.bLengthChange)I=Cr(d);else if("f"==L&&g.bFilter)I=Wt(d);else if("r"==L&&g.bProcessing)I=fr(d);else if("t"==L)I=Vr(d);else if("i"==L&&g.bInfo)I=rn(d);else if("p"==L&&g.bPaginate)I=Sr(d);else if(0!==R.ext.feature.length)for(var Xt=R.ext.feature,ye=0,tn=Xt.length;ye<tn;ye++)if(L==Xt[ye].cFeature){I=Xt[ye].fnInit(d);break}if(I){var en=d.aanFeatures;en[L]||(en[L]=[]),en[L].push(I),b.append(I)}}c.replaceWith(b),d.nHolding=null}function jn(d,C){var c,g,b,O,I,L,vt,It,Ut,Gt,P=k(C).children("tr"),Xt=function(ye,tn,en){for(var hn=ye[tn];hn[en];)en++;return en};for(d.splice(0,d.length),b=0,L=P.length;b<L;b++)d.push([]);for(b=0,L=P.length;b<L;b++)for(g=(c=P[b]).firstChild;g;){if("TD"==g.nodeName.toUpperCase()||"TH"==g.nodeName.toUpperCase())for(It=(It=1*g.getAttribute("colspan"))&&0!==It&&1!==It?It:1,Ut=(Ut=1*g.getAttribute("rowspan"))&&0!==Ut&&1!==Ut?Ut:1,vt=Xt(d,b,0),Gt=1===It,I=0;I<It;I++)for(O=0;O<Ut;O++)d[b+O][vt+I]={cell:g,unique:Gt},d[b+O].nTr=c;g=g.nextSibling}}function bn(d,C,P){var c=[];P||(P=d.aoHeader,C&&jn(P=[],C));for(var g=0,b=P.length;g<b;g++)for(var O=0,I=P[g].length;O<I;O++)P[g][O].unique&&(!c[O]||!d.bSortCellsTop)&&(c[O]=P[g][O].cell);return c}function At(d,C,P){if(Wn(d,"aoServerParams","serverParams",[C]),C&&Array.isArray(C)){var c={},g=/(.*?)\[\]$/;k.each(C,function(_t,It){var Ut=It.name.match(g);if(Ut){var Gt=Ut[0];c[Gt]||(c[Gt]=[]),c[Gt].push(It.value)}else c[It.name]=It.value}),C=c}var b,O=d.ajax,I=d.oInstance,L=function(_t){var It=d.jqXHR?d.jqXHR.status:null;(null===_t||"number"==typeof It&&204==It)&&jt(d,_t={},[]);var Ut=_t.error||_t.sError;Ut&&je(d,0,Ut),d.json=_t,Wn(d,null,"xhr",[d,_t,d.jqXHR]),P(_t)};if(k.isPlainObject(O)&&O.data){var Z="function"==typeof(b=O.data)?b(C,d):b;C="function"==typeof b&&Z?Z:k.extend(!0,C,Z),delete O.data}var vt={data:C,success:L,dataType:"json",cache:!1,type:d.sServerMethod,error:function(_t,It,Ut){var Gt=Wn(d,null,"xhr",[d,null,d.jqXHR]);-1===k.inArray(!0,Gt)&&("parsererror"==It?je(d,0,"Invalid JSON response",1):4===_t.readyState&&je(d,0,"Ajax error",7)),Vn(d,!1)}};d.oAjaxData=C,Wn(d,null,"preXhr",[d,C]),d.fnServerData?d.fnServerData.call(I,d.sAjaxSource,k.map(C,function(_t,It){return{name:It,value:_t}}),L,d):d.sAjaxSource||"string"==typeof O?d.jqXHR=k.ajax(k.extend(vt,{url:O||d.sAjaxSource})):"function"==typeof O?d.jqXHR=O.call(I,C,L,d):(d.jqXHR=k.ajax(k.extend(vt,O)),O.data=b)}function Be(d){d.iDraw++,Vn(d,!0);var C=d._drawHold;At(d,Ct(d),function(P){d._drawHold=C,kt(d,P),d._drawHold=!1})}function Ct(d){var O,L,Z,vt,C=d.aoColumns,P=C.length,c=d.oFeatures,g=d.oPreviousSearch,b=d.aoPreSearchCols,I=[],_t=Pr(d),It=d._iDisplayStart,Ut=!1!==c.bPaginate?d._iDisplayLength:-1,Gt=function(tn,en){I.push({name:tn,value:en})};Gt("sEcho",d.iDraw),Gt("iColumns",P),Gt("sColumns",st(C,"sName").join(",")),Gt("iDisplayStart",It),Gt("iDisplayLength",Ut);var Xt={draw:d.iDraw,columns:[],order:[],start:It,length:Ut,search:{value:g.sSearch,regex:g.bRegex}};for(O=0;O<P;O++)Xt.columns.push({data:L="function"==typeof(Z=C[O]).mData?"function":Z.mData,name:Z.sName,searchable:Z.bSearchable,orderable:Z.bSortable,search:{value:(vt=b[O]).sSearch,regex:vt.bRegex}}),Gt("mDataProp_"+O,L),c.bFilter&&(Gt("sSearch_"+O,vt.sSearch),Gt("bRegex_"+O,vt.bRegex),Gt("bSearchable_"+O,Z.bSearchable)),c.bSort&&Gt("bSortable_"+O,Z.bSortable);c.bFilter&&(Gt("sSearch",g.sSearch),Gt("bRegex",g.bRegex)),c.bSort&&(k.each(_t,function(tn,en){Xt.order.push({column:en.col,dir:en.dir}),Gt("iSortCol_"+tn,en.col),Gt("sSortDir_"+tn,en.dir)}),Gt("iSortingCols",_t.length));var ye=R.ext.legacy.ajax;return null===ye?d.sAjaxSource?I:Xt:ye?I:Xt}function kt(d,C){var P=function(Z,vt){return C[Z]!==wt?C[Z]:C[vt]},c=jt(d,C),g=P("sEcho","draw"),b=P("iTotalRecords","recordsTotal"),O=P("iTotalDisplayRecords","recordsFiltered");if(g!==wt){if(1*g<d.iDraw)return;d.iDraw=1*g}c||(c=[]),gn(d),d._iRecordsTotal=parseInt(b,10),d._iRecordsDisplay=parseInt(O,10);for(var I=0,L=c.length;I<L;I++)me(d,c[I]);d.aiDisplay=d.aiDisplayMaster.slice(),Se(d,!0),d._bInitComplete||Zn(d,C),Vn(d,!1)}function jt(d,C,P){var c=k.isPlainObject(d.ajax)&&d.ajax.dataSrc!==wt?d.ajax.dataSrc:d.sAjaxDataProp;if(!P)return"data"===c?C.aaData||C[c]:""!==c?Me(c)(C):C;sn(c)(C,P)}function Wt(d){var C=d.oClasses,P=d.sTableId,c=d.oLanguage,g=d.oPreviousSearch,b=d.aanFeatures,O='<input type="search" class="'+C.sFilterInput+'"/>',I=c.sSearch;I=I.match(/_INPUT_/)?I.replace("_INPUT_",O):I+O;var L=k("<div/>",{id:b.f?null:P+"_filter",class:C.sFilter}).append(k("<label/>").append(I)),Z=function(It){var Gt=this.value?this.value:"";g.return&&"Enter"!==It.key||Gt!=g.sSearch&&(gt(d,{sSearch:Gt,bRegex:g.bRegex,bSmart:g.bSmart,bCaseInsensitive:g.bCaseInsensitive,return:g.return}),d._iDisplayStart=0,Se(d))},vt=null!==d.searchDelay?d.searchDelay:"ssp"===zr(d)?400:0,_t=k("input",L).val(g.sSearch).attr("placeholder",c.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",vt?kr(Z,vt):Z).on("mouseup.DT",function(It){setTimeout(function(){Z.call(_t[0],It)},10)}).on("keypress.DT",function(It){if(13==It.keyCode)return!1}).attr("aria-controls",P);return k(d.nTable).on("search.dt.DT",function(It,Ut){if(d===Ut)try{_t[0]!==Xe.activeElement&&_t.val(g.sSearch)}catch{}}),L[0]}function gt(d,C,P){var c=d.oPreviousSearch,g=d.aoPreSearchCols,b=function(L){c.sSearch=L.sSearch,c.bRegex=L.bRegex,c.bSmart=L.bSmart,c.bCaseInsensitive=L.bCaseInsensitive,c.return=L.return},O=function(L){return L.bEscapeRegex!==wt?!L.bEscapeRegex:L.bRegex};if(Qt(d),"ssp"!=zr(d)){tt(d,C.sSearch,P,O(C),C.bSmart,C.bCaseInsensitive),b(C);for(var I=0;I<g.length;I++)Ze(d,g[I].sSearch,I,O(g[I]),g[I].bSmart,g[I].bCaseInsensitive);Ce(d)}else b(C);d.bFiltered=!0,Wn(d,null,"search",[d])}function Ce(d){for(var c,g,C=R.ext.search,P=d.aiDisplay,b=0,O=C.length;b<O;b++){for(var I=[],L=0,Z=P.length;L<Z;L++)C[b](d,(c=d.aoData[g=P[L]])._aFilterData,g,c._aData,L)&&I.push(g);P.length=0,k.merge(P,I)}}function Ze(d,C,P,c,g,b){if(""!==C){for(var I=[],L=d.aiDisplay,Z=Te(C,c,g,b),vt=0;vt<L.length;vt++)Z.test(d.aoData[L[vt]]._aFilterData[P])&&I.push(L[vt]);d.aiDisplay=I}}function tt(d,C,P,c,g,b){var Z,vt,_t,O=Te(C,c,g,b),I=d.oPreviousSearch.sSearch,L=d.aiDisplayMaster,It=[];if(0!==R.ext.search.length&&(P=!0),vt=we(d),C.length<=0)d.aiDisplay=L.slice();else{for((vt||P||c||I.length>C.length||0!==C.indexOf(I)||d.bSorted)&&(d.aiDisplay=L.slice()),Z=d.aiDisplay,_t=0;_t<Z.length;_t++)O.test(d.aoData[Z[_t]]._sFilterRow)&&It.push(Z[_t]);d.aiDisplay=It}}function Te(d,C,P,c){if(d=C?d:Oe(d),P){var g=k.map(d.match(/["\u201C][^"\u201D]+["\u201D]|[^ ]+/g)||[""],function(b){if('"'===b.charAt(0)){var O=b.match(/^"(.*)"$/);b=O?O[1]:b}else"\u201c"===b.charAt(0)&&(O=b.match(/^\u201C(.*)\u201D$/),b=O?O[1]:b);return b.replace('"',"")});d="^(?=.*?"+g.join(")(?=.*?")+").*$"}return new RegExp(d,c?"i":"")}var Oe=R.util.escapeRegex,Nt=k("<div>")[0],oe=Nt.textContent!==wt;function we(d){var c,g,b,O,I,L,Z,C=d.aoColumns,vt=!1;for(c=0,b=d.aoData.length;c<b;c++)if(!(Z=d.aoData[c])._aFilterData){for(I=[],g=0,O=C.length;g<O;g++)C[g].bSearchable?(null===(L=le(d,c,g,"filter"))&&(L=""),"string"!=typeof L&&L.toString&&(L=L.toString())):L="",L.indexOf&&-1!==L.indexOf("&")&&(Nt.innerHTML=L,L=oe?Nt.textContent:Nt.innerText),L.replace&&(L=L.replace(/[\r\n\u2028]/g,"")),I.push(L);Z._aFilterData=I,Z._sFilterRow=I.join("  "),vt=!0}return vt}function un(d){return{search:d.sSearch,smart:d.bSmart,regex:d.bRegex,caseInsensitive:d.bCaseInsensitive}}function Qe(d){return{sSearch:d.search,bSmart:d.smart,bRegex:d.regex,bCaseInsensitive:d.caseInsensitive}}function rn(d){var C=d.sTableId,P=d.aanFeatures.i,c=k("<div/>",{class:d.oClasses.sInfo,id:P?null:C+"_info"});return P||(d.aoDrawCallback.push({fn:Hn,sName:"information"}),c.attr("role","status").attr("aria-live","polite"),k(d.nTable).attr("aria-describedby",C+"_info")),c[0]}function Hn(d){var C=d.aanFeatures.i;if(0!==C.length){var P=d.oLanguage,c=d._iDisplayStart+1,g=d.fnDisplayEnd(),b=d.fnRecordsTotal(),O=d.fnRecordsDisplay(),I=O?P.sInfo:P.sInfoEmpty;O!==b&&(I+=" "+P.sInfoFiltered),I=Br(d,I+=P.sInfoPostFix);var L=P.fnInfoCallback;null!==L&&(I=L.call(d.oInstance,d,c,g,b,O,I)),k(C).html(I)}}function Br(d,C){var P=d.fnFormatNumber,c=d._iDisplayStart+1,g=d._iDisplayLength,b=d.fnRecordsDisplay(),O=-1===g;return C.replace(/_START_/g,P.call(d,c)).replace(/_END_/g,P.call(d,d.fnDisplayEnd())).replace(/_MAX_/g,P.call(d,d.fnRecordsTotal())).replace(/_TOTAL_/g,P.call(d,b)).replace(/_PAGE_/g,P.call(d,O?1:Math.ceil(c/g))).replace(/_PAGES_/g,P.call(d,O?1:Math.ceil(b/g)))}function Bn(d){var C,P,b,c=d.iInitDisplayStart,g=d.aoColumns,O=d.oFeatures,I=d.bDeferLoading;if(d.bInitialised){for(Sn(d),re(d),xe(d,d.aoHeader),xe(d,d.aoFooter),Vn(d,!0),O.bAutoWidth&&Qr(d),C=0,P=g.length;C<P;C++)(b=g[C]).sWidth&&(b.nTh.style.width=an(b.sWidth));Wn(d,null,"preInit",[d]),He(d);var L=zr(d);("ssp"!=L||I)&&("ajax"==L?At(d,[],function(Z){var vt=jt(d,Z);for(C=0;C<vt.length;C++)me(d,vt[C]);d.iInitDisplayStart=c,He(d),Vn(d,!1),Zn(d,Z)}):(Vn(d,!1),Zn(d)))}else setTimeout(function(){Bn(d)},200)}function Zn(d,C){d._bInitComplete=!0,(C||d.oInit.aaData)&&Pt(d),Wn(d,null,"plugin-init",[d,C]),Wn(d,"aoInitComplete","init",[d,C])}function or(d,C){var P=parseInt(C,10);d._iDisplayLength=P,go(d),Wn(d,null,"length",[d,P])}function Cr(d){for(var C=d.oClasses,P=d.sTableId,c=d.aLengthMenu,g=Array.isArray(c[0]),b=g?c[0]:c,O=g?c[1]:c,I=k("<select/>",{name:P+"_length","aria-controls":P,class:C.sLengthSelect}),L=0,Z=b.length;L<Z;L++)I[0][L]=new Option("number"==typeof O[L]?d.fnFormatNumber(O[L]):O[L],b[L]);var vt=k("<div><label/></div>").addClass(C.sLength);return d.aanFeatures.l||(vt[0].id=P+"_length"),vt.children().append(d.oLanguage.sLengthMenu.replace("_MENU_",I[0].outerHTML)),k("select",vt).val(d._iDisplayLength).on("change.DT",function(_t){or(d,k(this).val()),Se(d)}),k(d.nTable).on("length.dt.DT",function(_t,It,Ut){d===It&&k("select",vt).val(Ut)}),vt[0]}function Sr(d){var C=d.sPaginationType,P=R.ext.pager[C],c="function"==typeof P,g=function(I){Se(I)},b=k("<div/>").addClass(d.oClasses.sPaging+C)[0],O=d.aanFeatures;return c||P.fnInit(d,b,g),O.p||(b.id=d.sTableId+"_paginate",d.aoDrawCallback.push({fn:function(I){if(c){var Xt,ye,L=I._iDisplayStart,Z=I._iDisplayLength,vt=I.fnRecordsDisplay(),_t=-1===Z,It=_t?0:Math.ceil(L/Z),Ut=_t?1:Math.ceil(vt/Z),Gt=P(It,Ut);for(Xt=0,ye=O.p.length;Xt<ye;Xt++)qr(I,"pageButton")(I,O.p[Xt],Xt,Gt,It,Ut)}else P.fnUpdate(I,g)},sName:"pagination"})),b}function Or(d,C,P){var c=d._iDisplayStart,g=d._iDisplayLength,b=d.fnRecordsDisplay();0===b||-1===g?c=0:"number"==typeof C?(c=C*g)>b&&(c=0):"first"==C?c=0:"previous"==C?(c=g>=0?c-g:0)<0&&(c=0):"next"==C?c+g<b&&(c+=g):"last"==C?c=Math.floor((b-1)/g)*g:je(d,0,"Unknown paging action: "+C,5);var O=d._iDisplayStart!==c;return d._iDisplayStart=c,O?(Wn(d,null,"page",[d]),P&&Se(d)):Wn(d,null,"page-nc",[d]),O}function fr(d){return k("<div/>",{id:d.aanFeatures.r?null:d.sTableId+"_processing",class:d.oClasses.sProcessing,role:"status"}).html(d.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>").insertBefore(d.nTable)[0]}function Vn(d,C){d.oFeatures.bProcessing&&k(d.aanFeatures.r).css("display",C?"block":"none"),Wn(d,null,"processing",[d,C])}function Vr(d){var C=k(d.nTable),P=d.oScroll;if(""===P.sX&&""===P.sY)return d.nTable;var c=P.sX,g=P.sY,b=d.oClasses,O=C.children("caption"),I=O.length?O[0]._captionSide:null,L=k(C[0].cloneNode(!1)),Z=k(C[0].cloneNode(!1)),vt=C.children("tfoot"),_t="<div/>",It=function(en){return en?an(en):null};vt.length||(vt=null);var Ut=k(_t,{class:b.sScrollWrapper}).append(k(_t,{class:b.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:c?It(c):"100%"}).append(k(_t,{class:b.sScrollHeadInner}).css({"box-sizing":"content-box",width:P.sXInner||"100%"}).append(L.removeAttr("id").css("margin-left",0).append("top"===I?O:null).append(C.children("thead"))))).append(k(_t,{class:b.sScrollBody}).css({position:"relative",overflow:"auto",width:It(c)}).append(C));vt&&Ut.append(k(_t,{class:b.sScrollFoot}).css({overflow:"hidden",border:0,width:c?It(c):"100%"}).append(k(_t,{class:b.sScrollFootInner}).append(Z.removeAttr("id").css("margin-left",0).append("bottom"===I?O:null).append(C.children("tfoot")))));var Gt=Ut.children(),Xt=Gt[0],ye=Gt[1],tn=vt?Gt[2]:null;return c&&k(ye).on("scroll.DT",function(en){var hn=this.scrollLeft;Xt.scrollLeft=hn,vt&&(tn.scrollLeft=hn)}),k(ye).css("max-height",g),P.bCollapse||k(ye).css("height",g),d.nScrollHead=Xt,d.nScrollBody=ye,d.nScrollFoot=tn,d.aoDrawCallback.push({fn:Gn,sName:"scrolling"}),Ut[0]}function Gn(d){var br,Mn,Pn,Wr,Er,wr,Lr,Fr,$r,C=d.oScroll,P=C.sX,c=C.sXInner,g=C.sY,b=C.iBarWidth,O=k(d.nScrollHead),I=O[0].style,L=O.children("div"),Z=L[0].style,vt=L.children("table"),_t=d.nScrollBody,It=k(_t),Ut=_t.style,Xt=k(d.nScrollFoot).children("div"),ye=Xt.children("table"),tn=k(d.nTHead),en=k(d.nTable),hn=en[0],qn=hn.style,ir=d.nTFoot?k(d.nTFoot):null,Re=d.oBrowser,pr=Re.bScrollOversize,_o=(st(d.aoColumns,"nTh"),[]),no=[],Fo=[],kn=[],Mr=function(Ot){var qt=Ot.style;qt.paddingTop="0",qt.paddingBottom="0",qt.borderTopWidth="0",qt.borderBottomWidth="0",qt.height=0},Oi=_t.scrollHeight>_t.clientHeight;if(d.scrollBarVis!==Oi&&d.scrollBarVis!==wt)return d.scrollBarVis=Oi,void Pt(d);d.scrollBarVis=Oi,en.children("thead, tfoot").remove(),ir&&(wr=ir.clone().prependTo(en),Mn=ir.find("tr"),Wr=wr.find("tr"),wr.find("[id]").removeAttr("id")),Er=tn.clone().prependTo(en),br=tn.find("tr"),Pn=Er.find("tr"),Er.find("th, td").removeAttr("tabindex"),Er.find("[id]").removeAttr("id"),P||(Ut.width="100%",O[0].style.width="100%"),k.each(bn(d,Er),function(Ot,qt){Lr=Jt(d,Ot),qt.style.width=d.aoColumns[Lr].sWidth}),ir&&Dr(function(Ot){Ot.style.width=""},Wr),$r=en.outerWidth(),""===P?(qn.width="100%",pr&&(en.find("tbody").height()>_t.offsetHeight||"scroll"==It.css("overflow-y"))&&(qn.width=an(en.outerWidth()-b)),$r=en.outerWidth()):""!==c&&(qn.width=an(c),$r=en.outerWidth()),Dr(Mr,Pn),Dr(function(Ot){var qt=Ae.getComputedStyle?Ae.getComputedStyle(Ot).width:an(k(Ot).width());Fo.push(Ot.innerHTML),_o.push(qt)},Pn),Dr(function(Ot,qt){Ot.style.width=_o[qt]},br),k(Pn).css("height",0),ir&&(Dr(Mr,Wr),Dr(function(Ot){kn.push(Ot.innerHTML),no.push(an(k(Ot).css("width")))},Wr),Dr(function(Ot,qt){Ot.style.width=no[qt]},Mn),k(Wr).height(0)),Dr(function(Ot,qt){Ot.innerHTML='<div class="dataTables_sizing">'+Fo[qt]+"</div>",Ot.childNodes[0].style.height="0",Ot.childNodes[0].style.overflow="hidden",Ot.style.width=_o[qt]},Pn),ir&&Dr(function(Ot,qt){Ot.innerHTML='<div class="dataTables_sizing">'+kn[qt]+"</div>",Ot.childNodes[0].style.height="0",Ot.childNodes[0].style.overflow="hidden",Ot.style.width=no[qt]},Wr),Math.round(en.outerWidth())<Math.round($r)?(Fr=_t.scrollHeight>_t.offsetHeight||"scroll"==It.css("overflow-y")?$r+b:$r,pr&&(_t.scrollHeight>_t.offsetHeight||"scroll"==It.css("overflow-y"))&&(qn.width=an(Fr-b)),(""===P||""!==c)&&je(d,1,"Possible column misalignment",6)):Fr="100%",Ut.width=an(Fr),I.width=an(Fr),ir&&(d.nScrollFoot.style.width=an(Fr)),g||pr&&(Ut.height=an(hn.offsetHeight+b));var ao=en.outerWidth();vt[0].style.width=an(ao),Z.width=an(ao);var Rr=en.height()>_t.clientHeight||"scroll"==It.css("overflow-y"),ft="padding"+(Re.bScrollbarLeft?"Left":"Right");Z[ft]=Rr?b+"px":"0px",ir&&(ye[0].style.width=an(ao),Xt[0].style.width=an(ao),Xt[0].style[ft]=Rr?b+"px":"0px"),en.children("colgroup").insertBefore(en.children("thead")),It.trigger("scroll"),(d.bSorted||d.bFiltered)&&!d._drawHold&&(_t.scrollTop=0)}function Dr(d,C,P){for(var O,I,c=0,g=0,b=C.length;g<b;){for(O=C[g].firstChild,I=P?P[g].firstChild:null;O;)1===O.nodeType&&(P?d(O,I,c):d(O,c),c++),O=O.nextSibling,I=P?I.nextSibling:null;g++}}var Ir=/<.*?>/g;function Qr(d){var Ut,Gt,Xt,C=d.nTable,P=d.aoColumns,c=d.oScroll,g=c.sY,b=c.sX,O=c.sXInner,I=P.length,L=he(d,"bVisible"),Z=k("th",d.nTHead),vt=C.getAttribute("width"),_t=C.parentNode,It=!1,en=d.oBrowser,hn=en.bScrollOversize,qn=C.style.width;for(qn&&-1!==qn.indexOf("%")&&(vt=qn),Ut=0;Ut<L.length;Ut++)null!==(Gt=P[L[Ut]]).sWidth&&(Gt.sWidth=uo(Gt.sWidthOrig,_t),It=!0);if(hn||!It&&!b&&!g&&I==zt(d)&&I==Z.length)for(Ut=0;Ut<I;Ut++){var ir=Jt(d,Ut);null!==ir&&(P[ir].sWidth=an(Z.eq(Ut).width()))}else{var Re=k(C).clone().css("visibility","hidden").removeAttr("id");Re.find("tbody tr").remove();var pr=k("<tr/>").appendTo(Re.find("tbody"));for(Re.find("thead, tfoot").remove(),Re.append(k(d.nTHead).clone()).append(k(d.nTFoot).clone()),Re.find("tfoot th, tfoot td").css("width",""),Z=bn(d,Re.find("thead")[0]),Ut=0;Ut<L.length;Ut++)Z[Ut].style.width=null!==(Gt=P[L[Ut]]).sWidthOrig&&""!==Gt.sWidthOrig?an(Gt.sWidthOrig):"",Gt.sWidthOrig&&b&&k(Z[Ut]).append(k("<div/>").css({width:Gt.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(d.aoData.length)for(Ut=0;Ut<L.length;Ut++)Gt=P[Xt=L[Ut]],k(Io(d,Xt)).clone(!1).append(Gt.sContentPadding).appendTo(pr);k("[name]",Re).removeAttr("name");var Jn=k("<div/>").css(b||g?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(Re).appendTo(_t);b&&O?Re.width(O):b?(Re.css("width","auto"),Re.removeAttr("width"),Re.width()<_t.clientWidth&&vt&&Re.width(_t.clientWidth)):g?Re.width(_t.clientWidth):vt&&Re.width(vt);var br=0;for(Ut=0;Ut<L.length;Ut++){var Mn=k(Z[Ut]),Pn=Mn.outerWidth()-Mn.width(),Wr=en.bBounding?Math.ceil(Z[Ut].getBoundingClientRect().width):Mn.outerWidth();br+=Wr,P[L[Ut]].sWidth=an(Wr-Pn)}C.style.width=an(br),Jn.remove()}if(vt&&(C.style.width=an(vt)),(vt||b)&&!d._reszEvt){var Er=function(){k(Ae).on("resize.DT-"+d.sInstance,kr(function(){Pt(d)}))};hn?setTimeout(Er,1e3):Er(),d._reszEvt=!0}}var kr=R.util.throttle;function uo(d,C){if(!d)return 0;var P=k("<div/>").css("width",an(d)).appendTo(C||Xe.body),c=P[0].offsetWidth;return P.remove(),c}function Io(d,C){var P=_r(d,C);if(P<0)return null;var c=d.aoData[P];return c.nTr?c.anCells[C]:k("<td/>").html(le(d,P,C,"display"))[0]}function _r(d,C){for(var P,c=-1,g=-1,b=0,O=d.aoData.length;b<O;b++)(P=(P=(P=le(d,b,C,"display")+"").replace(Ir,"")).replace(/&nbsp;/g," ")).length>c&&(c=P.length,g=b);return g}function an(d){return null===d?"0px":"number"==typeof d?d<0?"0px":d+"px":d.match(/\d$/)?d+"px":d}function Pr(d){var C,c,g,L,Z,vt,_t,b=[],I=d.aoColumns,It=d.aaSortingFixed,Ut=k.isPlainObject(It),Gt=[],Xt=function(ye){ye.length&&!Array.isArray(ye[0])?Gt.push(ye):k.merge(Gt,ye)};for(Array.isArray(It)&&Xt(It),Ut&&It.pre&&Xt(It.pre),Xt(d.aaSorting),Ut&&It.post&&Xt(It.post),C=0;C<Gt.length;C++)for(c=0,g=(L=I[_t=Gt[C][0]].aDataSort).length;c<g;c++)vt=I[Z=L[c]].sType||"string",Gt[C]._idx===wt&&(Gt[C]._idx=k.inArray(Gt[C][1],I[Z].asSorting)),b.push({src:_t,col:Z,dir:Gt[C][1],index:Gt[C]._idx,type:vt,formatter:R.ext.type.order[vt+"-pre"]});return b}function No(d){var C,P,c,qn,Re,vt=[],_t=R.ext.type.order,It=d.aoData,hn=0,ir=d.aiDisplayMaster;for(Qt(d),C=0,P=(Re=Pr(d)).length;C<P;C++)(qn=Re[C]).formatter&&hn++,di(d,qn.col);if("ssp"!=zr(d)&&0!==Re.length){for(C=0,c=ir.length;C<c;C++)vt[ir[C]]=C;ir.sort(hn===Re.length?function(pr,Jn){var br,Mn,Pn,Wr,Er,wr=Re.length,_o=It[pr]._aSortData,no=It[Jn]._aSortData;for(Pn=0;Pn<wr;Pn++)if(0!=(Wr=(br=_o[(Er=Re[Pn]).col])<(Mn=no[Er.col])?-1:br>Mn?1:0))return"asc"===Er.dir?Wr:-Wr;return(br=vt[pr])<(Mn=vt[Jn])?-1:br>Mn?1:0}:function(pr,Jn){var br,Mn,Pn,Er,wr,no=Re.length,Fo=It[pr]._aSortData,kn=It[Jn]._aSortData;for(Pn=0;Pn<no;Pn++)if(0!==(Er=(_t[(wr=Re[Pn]).type+"-"+wr.dir]||_t["string-"+wr.dir])(br=Fo[wr.col],Mn=kn[wr.col])))return Er;return(br=vt[pr])<(Mn=vt[Jn])?-1:br>Mn?1:0})}d.bSorted=!0}function So(d){for(var C,P,c=d.aoColumns,g=Pr(d),b=d.oLanguage.oAria,O=0,I=c.length;O<I;O++){var L=c[O],Z=L.asSorting,vt=L.ariaTitle||L.sTitle.replace(/<.*?>/g,""),_t=L.nTh;_t.removeAttribute("aria-sort"),L.bSortable?(g.length>0&&g[0].col==O?(_t.setAttribute("aria-sort","asc"==g[0].dir?"ascending":"descending"),P=Z[g[0].index+1]||Z[0]):P=Z[0],C=vt+("asc"===P?b.sSortAscending:b.sSortDescending)):C=vt,_t.setAttribute("aria-label",C)}}function cr(d,C,P,c){var I,b=d.aaSorting,O=d.aoColumns[C].asSorting,L=function(vt,_t){var It=vt._idx;return It===wt&&(It=k.inArray(vt[1],O)),It+1<O.length?It+1:_t?null:0};if("number"==typeof b[0]&&(b=d.aaSorting=[b]),P&&d.oFeatures.bSortMulti){var Z=k.inArray(C,st(b,"0"));-1!==Z?(null===(I=L(b[Z],!0))&&1===b.length&&(I=0),null===I?b.splice(Z,1):(b[Z][1]=O[I],b[Z]._idx=I)):(b.push([C,O[0],0]),b[b.length-1]._idx=0)}else b.length&&b[0][0]==C?(I=L(b[0]),b.length=1,b[0][1]=O[I],b[0]._idx=I):(b.length=0,b.push([C,O[0]]),b[0]._idx=0);He(d),"function"==typeof c&&c(d)}function To(d,C,P,c){var g=d.aoColumns[P];cn(C,{},function(b){!1!==g.bSortable&&(d.oFeatures.bProcessing?(Vn(d,!0),setTimeout(function(){cr(d,P,b.shiftKey,c),"ssp"!==zr(d)&&Vn(d,!1)},0)):cr(d,P,b.shiftKey,c))})}function to(d){var b,O,C=d.aLastSort,P=d.oClasses.sSortColumn,c=Pr(d),g=d.oFeatures;if(g.bSort&&g.bSortClasses){for(b=0,O=C.length;b<O;b++)k(st(d.aoData,"anCells",C[b].src)).removeClass(P+(b<2?b+1:3));for(b=0,O=c.length;b<O;b++)k(st(d.aoData,"anCells",c[b].src)).addClass(P+(b<2?b+1:3))}d.aLastSort=c}function di(d,C){var g,P=d.aoColumns[C],c=R.ext.order[P.sSortDataType];c&&(g=c.call(d.oInstance,d,C,de(d,C)));for(var b,O,I=R.ext.type.order[P.sType+"-pre"],L=0,Z=d.aoData.length;L<Z;L++)(b=d.aoData[L])._aSortData||(b._aSortData=[]),(!b._aSortData[C]||c)&&(O=c?g[L]:le(d,L,C,"sort"),b._aSortData[C]=I?I(O):O)}function qe(d){if(!d._bLoadingState){var C={time:+new Date,start:d._iDisplayStart,length:d._iDisplayLength,order:k.extend(!0,[],d.aaSorting),search:un(d.oPreviousSearch),columns:k.map(d.aoColumns,function(P,c){return{visible:P.bVisible,search:un(d.aoPreSearchCols[c])}})};d.oSavedState=C,Wn(d,"aoStateSaveParams","stateSaveParams",[d,C]),d.oFeatures.bStateSave&&!d.bDestroying&&d.fnStateSaveCallback.call(d.oInstance,d,C)}}function In(d,C,P){if(d.oFeatures.bStateSave){var g=d.fnStateLoadCallback.call(d.oInstance,d,function(b){Dt(d,b,P)});return g!==wt&&Dt(d,g,P),!0}P()}function Dt(d,C,P){var c,g,b=d.aoColumns;d._bLoadingState=!0;var O=d._bInitComplete?new R.Api(d):null;if(!C||!C.time)return d._bLoadingState=!1,void P();var I=Wn(d,"aoStateLoadParams","stateLoadParams",[d,C]);if(-1!==k.inArray(!1,I))return d._bLoadingState=!1,void P();var L=d.iStateDuration;if(L>0&&C.time<+new Date-1e3*L)return d._bLoadingState=!1,void P();if(C.columns&&b.length!==C.columns.length)return d._bLoadingState=!1,void P();if(d.oLoadedState=k.extend(!0,{},C),C.length!==wt&&(O?O.page.len(C.length):d._iDisplayLength=C.length),C.start!==wt&&(null===O?(d._iDisplayStart=C.start,d.iInitDisplayStart=C.start):Or(d,C.start/d._iDisplayLength)),C.order!==wt&&(d.aaSorting=[],k.each(C.order,function(vt,_t){d.aaSorting.push(_t[0]>=b.length?[0,_t[1]]:_t)})),C.search!==wt&&k.extend(d.oPreviousSearch,Qe(C.search)),C.columns){for(c=0,g=C.columns.length;c<g;c++){var Z=C.columns[c];Z.visible!==wt&&(O?O.column(c).visible(Z.visible,!1):b[c].bVisible=Z.visible),Z.search!==wt&&k.extend(d.aoPreSearchCols[c],Qe(Z.search))}O&&O.columns.adjust()}d._bLoadingState=!1,Wn(d,"aoStateLoaded","stateLoaded",[d,C]),P()}function $t(d){var C=R.settings,P=k.inArray(d,st(C,"nTable"));return-1!==P?C[P]:null}function je(d,C,P,c){if(P="DataTables warning: "+(d?"table id="+d.sTableId+" - ":"")+P,c&&(P+=". For more information about this error, please see http://datatables.net/tn/"+c),C)Ae.console&&console.log&&console.log(P);else{var g=R.ext,b=g.sErrMode||g.errMode;if(d&&Wn(d,null,"error",[d,c,P]),"alert"==b)alert(P);else{if("throw"==b)throw new Error(P);"function"==typeof b&&b(d,c,P)}}}function fn(d,C,P,c){Array.isArray(P)?k.each(P,function(g,b){Array.isArray(b)?fn(d,C,b[0],b[1]):fn(d,C,b)}):(c===wt&&(c=P),C[P]!==wt&&(d[c]=C[P]))}function Tn(d,C,P){var c;for(var g in C)C.hasOwnProperty(g)&&(k.isPlainObject(c=C[g])?(k.isPlainObject(d[g])||(d[g]={}),k.extend(!0,d[g],c)):d[g]=P&&"data"!==g&&"aaData"!==g&&Array.isArray(c)?c.slice():c);return d}function cn(d,C,P){k(d).on("click.DT",C,function(c){k(d).trigger("blur"),P(c)}).on("keypress.DT",C,function(c){13===c.which&&(c.preventDefault(),P(c))}).on("selectstart.DT",function(){return!1})}function sr(d,C,P,c){P&&d[C].push({fn:P,sName:c})}function Wn(d,C,P,c){var g=[];if(C&&(g=k.map(d[C].slice().reverse(),function(I,L){return I.fn.apply(d.oInstance,c)})),null!==P){var b=k.Event(P+".dt"),O=k(d.nTable);O.trigger(b,c),0===O.parents("body").length&&k("body").trigger(b,c),g.push(b.result)}return g}function go(d){var C=d._iDisplayStart,P=d.fnDisplayEnd(),c=d._iDisplayLength;C>=P&&(C=P-c),C-=C%c,(-1===c||C<0)&&(C=0),d._iDisplayStart=C}function qr(d,C){var P=d.renderer,c=R.ext.renderer[C];return k.isPlainObject(P)&&P[C]?c[P[C]]||c._:"string"==typeof P&&c[P]||c._}function zr(d){return d.oFeatures.bServerSide?"ssp":d.ajax||d.sAjaxSource?"ajax":"dom"}var Wo=[],Ar=Array.prototype;R.Api=ct=function(d,C){if(!(this instanceof ct))return new ct(d,C);var P=[],c=function(O){var I=function(d){var C,P,c=R.settings,g=k.map(c,function(b,O){return b.nTable});return d?d.nTable&&d.oApi?[d]:d.nodeName&&"table"===d.nodeName.toLowerCase()?-1!==(C=k.inArray(d,g))?[c[C]]:null:d&&"function"==typeof d.settings?d.settings().toArray():("string"==typeof d?P=k(d):d instanceof k&&(P=d),P?P.map(function(b){return-1!==(C=k.inArray(this,g))?c[C]:null}).toArray():void 0):[]}(O);I&&P.push.apply(P,I)};if(Array.isArray(d))for(var g=0,b=d.length;g<b;g++)c(d[g]);else c(d);this.context=x(P),C&&k.merge(this,C),this.selector={rows:null,cols:null,opts:null},ct.extend(this,this,Wo)},k.extend(ct.prototype,{any:function(){return 0!==this.count()},concat:Ar.concat,context:[],count:function(){return this.flatten().length},each:function(d){for(var C=0,P=this.length;C<P;C++)d.call(this,this[C],C,this);return this},eq:function(d){var C=this.context;return C.length>d?new ct(C[d],this[d]):null},filter:function(d){var C=[];if(Ar.filter)C=Ar.filter.call(this,d,this);else for(var P=0,c=this.length;P<c;P++)d.call(this,this[P],P,this)&&C.push(this[P]);return new ct(this.context,C)},flatten:function(){var d=[];return new ct(this.context,d.concat.apply(d,this.toArray()))},join:Ar.join,indexOf:Ar.indexOf||function(d,C){for(var P=C||0,c=this.length;P<c;P++)if(this[P]===d)return P;return-1},iterator:function(d,C,P,c){var b,O,I,L,Z,_t,It,Ut,g=[],vt=this.context,Gt=this.selector;for("string"==typeof d&&(c=P,P=C,C=d,d=!1),O=0,I=vt.length;O<I;O++){var Xt=new ct(vt[O]);if("table"===C)(b=P.call(Xt,vt[O],O))!==wt&&g.push(b);else if("columns"===C||"rows"===C)(b=P.call(Xt,vt[O],this[O],O))!==wt&&g.push(b);else if("column"===C||"column-rows"===C||"row"===C||"cell"===C)for(It=this[O],"column-rows"===C&&(_t=_i(vt[O],Gt.opts)),L=0,Z=It.length;L<Z;L++)Ut=It[L],(b="cell"===C?P.call(Xt,vt[O],Ut.row,Ut.column,O,L):P.call(Xt,vt[O],Ut,O,L,_t))!==wt&&g.push(b)}if(g.length||c){var ye=new ct(vt,d?g.concat.apply([],g):g),tn=ye.selector;return tn.rows=Gt.rows,tn.cols=Gt.cols,tn.opts=Gt.opts,ye}return this},lastIndexOf:Ar.lastIndexOf||function(d,C){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(d){var C=[];if(Ar.map)C=Ar.map.call(this,d,this);else for(var P=0,c=this.length;P<c;P++)C.push(d.call(this,this[P],P));return new ct(this.context,C)},pluck:function(d){var C=R.util.get(d);return this.map(function(P){return C(P)})},pop:Ar.pop,push:Ar.push,reduce:Ar.reduce||function(d,C){return Lt(this,d,C,0,this.length,1)},reduceRight:Ar.reduceRight||function(d,C){return Lt(this,d,C,this.length-1,-1,-1)},reverse:Ar.reverse,selector:null,shift:Ar.shift,slice:function(){return new ct(this.context,this)},sort:Ar.sort,splice:Ar.splice,toArray:function(){return Ar.slice.call(this)},to$:function(){return k(this)},toJQuery:function(){return k(this)},unique:function(){return new ct(this.context,x(this))},unshift:Ar.unshift}),ct.extend=function(d,C,P){if(P.length&&C&&(C instanceof ct||C.__dt_wrapper)){var c,g,b,O=function(I,L,Z){return function(){var vt=L.apply(I,arguments);return ct.extend(vt,vt,Z.methodExt),vt}};for(c=0,g=P.length;c<g;c++)C[(b=P[c]).name]="function"===b.type?O(d,b.val,b):"object"===b.type?{}:b.val,C[b.name].__dt_wrapper=!0,ct.extend(d,C[b.name],b.propExt)}},ct.register=nt=function(d,C){if(Array.isArray(d))for(var P=0,c=d.length;P<c;P++)ct.register(d[P],C);else{var g,b,L,Z,O=d.split("."),I=Wo,vt=function(It,Ut){for(var Gt=0,Xt=It.length;Gt<Xt;Gt++)if(It[Gt].name===Ut)return It[Gt];return null};for(g=0,b=O.length;g<b;g++){var _t=vt(I,L=(Z=-1!==O[g].indexOf("()"))?O[g].replace("()",""):O[g]);_t||I.push(_t={name:L,val:{},methodExt:[],propExt:[],type:"object"}),g===b-1?(_t.val=C,_t.type="function"==typeof C?"function":k.isPlainObject(C)?"object":"other"):I=Z?_t.methodExt:_t.propExt}}},ct.registerPlural=pt=function(d,C,P){ct.register(d,P),ct.register(C,function(){var c=P.apply(this,arguments);return c===this?this:c instanceof ct?c.length?Array.isArray(c[0])?new ct(c.context,c[0]):c[0]:wt:c})};var xo=function(d,C){if(Array.isArray(d))return k.map(d,function(c){return xo(c,C)});if("number"==typeof d)return[C[d]];var P=k.map(C,function(c,g){return c.nTable});return k(P).filter(d).map(function(c){var g=k.inArray(this,P);return C[g]}).toArray()};nt("tables()",function(d){return d!==wt&&null!==d?new ct(xo(d,this.context)):this}),nt("table()",function(d){var C=this.tables(d),P=C.context;return P.length?new ct(P[0]):C}),pt("tables().nodes()","table().node()",function(){return this.iterator("table",function(d){return d.nTable},1)}),pt("tables().body()","table().body()",function(){return this.iterator("table",function(d){return d.nTBody},1)}),pt("tables().header()","table().header()",function(){return this.iterator("table",function(d){return d.nTHead},1)}),pt("tables().footer()","table().footer()",function(){return this.iterator("table",function(d){return d.nTFoot},1)}),pt("tables().containers()","table().container()",function(){return this.iterator("table",function(d){return d.nTableWrapper},1)}),nt("draw()",function(d){return this.iterator("table",function(C){"page"===d?Se(C):("string"==typeof d&&(d="full-hold"!==d),He(C,!1===d))})}),nt("page()",function(d){return d===wt?this.page.info().page:this.iterator("table",function(C){Or(C,d)})}),nt("page.info()",function(d){if(0===this.context.length)return wt;var C=this.context[0],P=C._iDisplayStart,c=C.oFeatures.bPaginate?C._iDisplayLength:-1,g=C.fnRecordsDisplay(),b=-1===c;return{page:b?0:Math.floor(P/c),pages:b?1:Math.ceil(g/c),start:P,end:C.fnDisplayEnd(),length:c,recordsTotal:C.fnRecordsTotal(),recordsDisplay:g,serverSide:"ssp"===zr(C)}}),nt("page.len()",function(d){return d===wt?0!==this.context.length?this.context[0]._iDisplayLength:wt:this.iterator("table",function(C){or(C,d)})});var eo=function(d,C,P){if(P){var c=new ct(d);c.one("draw",function(){P(c.ajax.json())})}if("ssp"==zr(d))He(d,C);else{Vn(d,!0);var g=d.jqXHR;g&&4!==g.readyState&&g.abort(),At(d,[],function(b){gn(d);for(var O=jt(d,b),I=0,L=O.length;I<L;I++)me(d,O[I]);He(d,C),Vn(d,!1)})}};nt("ajax.json()",function(){var d=this.context;if(d.length>0)return d[0].json}),nt("ajax.params()",function(){var d=this.context;if(d.length>0)return d[0].oAjaxData}),nt("ajax.reload()",function(d,C){return this.iterator("table",function(P){eo(P,!1===C,d)})}),nt("ajax.url()",function(d){var C=this.context;return d===wt?0===C.length?wt:(C=C[0]).ajax?k.isPlainObject(C.ajax)?C.ajax.url:C.ajax:C.sAjaxSource:this.iterator("table",function(P){k.isPlainObject(P.ajax)?P.ajax.url=d:P.ajax=d})}),nt("ajax.url().load()",function(d,C){return this.iterator("table",function(P){eo(P,!1===C,d)})});var io=function(d,C,P,c,g){var O,I,L,Z,vt,_t,b=[],It=typeof C;for((!C||"string"===It||"function"===It||C.length===wt)&&(C=[C]),L=0,Z=C.length;L<Z;L++)for(vt=0,_t=(I=C[L]&&C[L].split&&!C[L].match(/[\[\(:]/)?C[L].split(","):[C[L]]).length;vt<_t;vt++)(O=P("string"==typeof I[vt]?I[vt].trim():I[vt]))&&O.length&&(b=b.concat(O));var Ut=at.selector[d];if(Ut.length)for(L=0,Z=Ut.length;L<Z;L++)b=Ut[L](c,g,b);return x(b)},qo=function(d){return d||(d={}),d.filter&&d.search===wt&&(d.search=d.filter),k.extend({search:"none",order:"current",page:"all"},d)},fi=function(d){for(var C=0,P=d.length;C<P;C++)if(d[C].length>0)return d[0]=d[C],d[0].length=1,d.length=1,d.context=[d.context[C]],d;return d.length=0,d},_i=function(d,C){var g,b=[],O=d.aiDisplay,I=d.aiDisplayMaster,L=C.search,Z=C.order,vt=C.page;if("ssp"==zr(d))return"removed"===L?[]:et(0,I.length);if("current"==vt)for(P=d._iDisplayStart,c=d.fnDisplayEnd();P<c;P++)b.push(O[P]);else if("current"==Z||"applied"==Z){if("none"==L)b=I.slice();else if("applied"==L)b=O.slice();else if("removed"==L){for(var _t={},P=0,c=O.length;P<c;P++)_t[O[P]]=null;b=k.map(I,function(It){return _t.hasOwnProperty(It)?null:It})}}else if("index"==Z||"original"==Z)for(P=0,c=d.aoData.length;P<c;P++)("none"==L||-1===(g=k.inArray(P,O))&&"removed"==L||g>=0&&"applied"==L)&&b.push(P);return b};nt("rows()",function(d,C){d===wt?d="":k.isPlainObject(d)&&(C=d,d=""),C=qo(C);var P=this.iterator("table",function(c){return function(d,C,P){var c;return io("row",C,function(b){var O=ut(b),Z=d.aoData;if(null!==O&&!P)return[O];if(c||(c=_i(d,P)),null!==O&&-1!==k.inArray(O,c))return[O];if(null===b||b===wt||""===b)return c;if("function"==typeof b)return k.map(c,function(Xt){var ye=Z[Xt];return b(Xt,ye._aData,ye.nTr)?Xt:null});if(b.nodeName){var vt=b._DT_RowIndex,_t=b._DT_CellIndex;if(vt!==wt)return Z[vt]&&Z[vt].nTr===b?[vt]:[];if(_t)return Z[_t.row]&&Z[_t.row].nTr===b.parentNode?[_t.row]:[];var It=k(b).closest("*[data-dt-row]");return It.length?[It.data("dt-row")]:[]}if("string"==typeof b&&"#"===b.charAt(0)){var Ut=d.aIds[b.replace(/^#/,"")];if(Ut!==wt)return[Ut.idx]}var Gt=u(_(d.aoData,c,"nTr"));return k(Gt).filter(b).map(function(){return this._DT_RowIndex}).toArray()},d,P)}(c,d,C)},1);return P.selector.rows=d,P.selector.opts=C,P}),nt("rows().nodes()",function(){return this.iterator("row",function(d,C){return d.aoData[C].nTr||wt},1)}),nt("rows().data()",function(){return this.iterator(!0,"rows",function(d,C){return _(d.aoData,C,"_aData")},1)}),pt("rows().cache()","row().cache()",function(d){return this.iterator("row",function(C,P){var c=C.aoData[P];return"search"===d?c._aFilterData:c._aSortData},1)}),pt("rows().invalidate()","row().invalidate()",function(d){return this.iterator("row",function(C,P){se(C,P,d)})}),pt("rows().indexes()","row().index()",function(){return this.iterator("row",function(d,C){return C},1)}),pt("rows().ids()","row().id()",function(d){for(var C=[],P=this.context,c=0,g=P.length;c<g;c++)for(var b=0,O=this[c].length;b<O;b++){var I=P[c].rowIdFn(P[c].aoData[this[c][b]]._aData);C.push((!0===d?"#":"")+I)}return new ct(P,C)}),pt("rows().remove()","row().remove()",function(){var d=this;return this.iterator("row",function(C,P,c){var O,I,L,Z,vt,_t,g=C.aoData,b=g[P];for(g.splice(P,1),O=0,I=g.length;O<I;O++)if(_t=(vt=g[O]).anCells,null!==vt.nTr&&(vt.nTr._DT_RowIndex=O),null!==_t)for(L=0,Z=_t.length;L<Z;L++)_t[L]._DT_CellIndex.row=O;ce(C.aiDisplayMaster,P),ce(C.aiDisplay,P),ce(d[c],P,!1),C._iRecordsDisplay>0&&C._iRecordsDisplay--,go(C);var It=C.rowIdFn(b._aData);It!==wt&&delete C.aIds[It]}),this.iterator("table",function(C){for(var P=0,c=C.aoData.length;P<c;P++)C.aoData[P].idx=P}),this}),nt("rows.add()",function(d){var C=this.iterator("table",function(c){var g,b,O,I=[];for(b=0,O=d.length;b<O;b++)(g=d[b]).nodeName&&"TR"===g.nodeName.toUpperCase()?I.push(Ee(c,g)[0]):I.push(me(c,g));return I},1),P=this.rows(-1);return P.pop(),k.merge(P,C),P}),nt("row()",function(d,C){return fi(this.rows(d,C))}),nt("row().data()",function(d){var C=this.context;if(d===wt)return C.length&&this.length?C[0].aoData[this[0]]._aData:wt;var P=C[0].aoData[this[0]];return P._aData=d,Array.isArray(d)&&P.nTr&&P.nTr.id&&sn(C[0].rowId)(d,P.nTr.id),se(C[0],this[0],"data"),this}),nt("row().node()",function(){var d=this.context;return d.length&&this.length&&d[0].aoData[this[0]].nTr||null}),nt("row.add()",function(d){d instanceof k&&d.length&&(d=d[0]);var C=this.iterator("table",function(P){return d.nodeName&&"TR"===d.nodeName.toUpperCase()?Ee(P,d)[0]:me(P,d)});return this.row(C[0])}),k(Xe).on("plugin-init.dt",function(d,C){var P=new ct(C),c="on-plugin-init",g="stateSaveParams."+c,b="destroy. "+c;P.on(g,function(I,L,Z){for(var vt=L.rowIdFn,_t=L.aoData,It=[],Ut=0;Ut<_t.length;Ut++)_t[Ut]._detailsShow&&It.push("#"+vt(_t[Ut]._aData));Z.childRows=It}),P.on(b,function(){P.off(g+" "+b)});var O=P.state.loaded();O&&O.childRows&&P.rows(k.map(O.childRows,function(I){return I.replace(/:/g,"\\:")})).every(function(){Wn(C,null,"requestChild",[this])})});var Xo=R.util.throttle(function(d){qe(d[0])},500),vo=function(d,C){var P=d.context;if(P.length){var c=P[0].aoData[C!==wt?C:d[0]];c&&c._details&&(c._details.remove(),c._detailsShow=wt,c._details=wt,k(c.nTr).removeClass("dt-hasChild"),Xo(P))}},fo=function(d,C){var P=d.context;if(P.length&&d.length){var c=P[0].aoData[d[0]];c._details&&(c._detailsShow=C,C?(c._details.insertAfter(c.nTr),k(c.nTr).addClass("dt-hasChild")):(c._details.detach(),k(c.nTr).removeClass("dt-hasChild")),Wn(P[0],null,"childRow",[C,d.row(d[0])]),Eo(P[0]),Xo(P))}},Eo=function(d){var C=new ct(d),P=".dt.DT_details",c="draw"+P,g="column-sizing"+P,b="destroy"+P,O=d.aoData;C.off(c+" "+g+" "+b),st(O,"_details").length>0&&(C.on(c,function(I,L){d===L&&C.rows({page:"current"}).eq(0).each(function(Z){var vt=O[Z];vt._detailsShow&&vt._details.insertAfter(vt.nTr)})}),C.on(g,function(I,L,Z,vt){if(d===L)for(var _t,It=zt(L),Ut=0,Gt=O.length;Ut<Gt;Ut++)(_t=O[Ut])._details&&_t._details.children("td[colspan]").attr("colspan",It)}),C.on(b,function(I,L){if(d===L)for(var Z=0,vt=O.length;Z<vt;Z++)O[Z]._details&&vo(C,Z)}))},Nr="row().child",mo=Nr+"()";nt(mo,function(d,C){var P=this.context;return d===wt?P.length&&this.length?P[0].aoData[this[0]]._details:wt:(!0===d?this.child.show():!1===d?vo(this):P.length&&this.length&&function(d,C,P,c){var g=[],b=function(O,I){if(Array.isArray(O)||O instanceof k)for(var L=0,Z=O.length;L<Z;L++)b(O[L],I);else if(O.nodeName&&"tr"===O.nodeName.toLowerCase())g.push(O);else{var vt=k("<tr><td></td></tr>").addClass(I);k("td",vt).addClass(I).html(O)[0].colSpan=zt(d),g.push(vt[0])}};b(P,c),C._details&&C._details.detach(),C._details=k(g),C._detailsShow&&C._details.insertAfter(C.nTr)}(P[0],P[0].aoData[this[0]],d,C),this)}),nt([Nr+".show()",mo+".show()"],function(d){return fo(this,!0),this}),nt([Nr+".hide()",mo+".hide()"],function(){return fo(this,!1),this}),nt([Nr+".remove()",mo+".remove()"],function(){return vo(this),this}),nt(Nr+".isShown()",function(){var d=this.context;return d.length&&this.length&&d[0].aoData[this[0]]._detailsShow||!1});var ii=/^([^:]+):(name|visIdx|visible)$/,Lo=function(d,C,P,c,g){for(var b=[],O=0,I=g.length;O<I;O++)b.push(le(d,g[O],C));return b};nt("columns()",function(d,C){d===wt?d="":k.isPlainObject(d)&&(C=d,d=""),C=qo(C);var P=this.iterator("table",function(c){return function(d,C,P){var c=d.aoColumns,g=st(c,"sName"),b=st(c,"nTh");return io("column",C,function(I){var L=ut(I);if(""===I)return et(c.length);if(null!==L)return[L>=0?L:c.length+L];if("function"==typeof I){var Z=_i(d,P);return k.map(c,function(Xt,ye){return I(ye,Lo(d,ye,0,0,Z),b[ye])?ye:null})}var vt="string"==typeof I?I.match(ii):"";if(vt)switch(vt[2]){case"visIdx":case"visible":var _t=parseInt(vt[1],10);if(_t<0){var It=k.map(c,function(Xt,ye){return Xt.bVisible?ye:null});return[It[It.length+_t]]}return[Jt(d,_t)];case"name":return k.map(g,function(Xt,ye){return Xt===vt[1]?ye:null});default:return[]}if(I.nodeName&&I._DT_CellIndex)return[I._DT_CellIndex.column];var Ut=k(b).filter(I).map(function(){return k.inArray(this,b)}).toArray();if(Ut.length||!I.nodeName)return Ut;var Gt=k(I).closest("*[data-dt-column]");return Gt.length?[Gt.data("dt-column")]:[]},d,P)}(c,d,C)},1);return P.selector.cols=d,P.selector.opts=C,P}),pt("columns().header()","column().header()",function(d,C){return this.iterator("column",function(P,c){return P.aoColumns[c].nTh},1)}),pt("columns().footer()","column().footer()",function(d,C){return this.iterator("column",function(P,c){return P.aoColumns[c].nTf},1)}),pt("columns().data()","column().data()",function(){return this.iterator("column-rows",Lo,1)}),pt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(d,C){return d.aoColumns[C].mData},1)}),pt("columns().cache()","column().cache()",function(d){return this.iterator("column-rows",function(C,P,c,g,b){return _(C.aoData,b,"search"===d?"_aFilterData":"_aSortData",P)},1)}),pt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(d,C,P,c,g){return _(d.aoData,g,"anCells",C)},1)}),pt("columns().visible()","column().visible()",function(d,C){var P=this,c=this.iterator("column",function(g,b){if(d===wt)return g.aoColumns[b].bVisible;!function(d,C,P){var I,L,Z,vt,c=d.aoColumns,g=c[C],b=d.aoData;if(P===wt)return g.bVisible;if(g.bVisible!==P){if(P){var _t=k.inArray(!0,st(c,"bVisible"),C+1);for(L=0,Z=b.length;L<Z;L++)I=b[L].anCells,(vt=b[L].nTr)&&vt.insertBefore(I[C],I[_t]||null)}else k(st(d.aoData,"anCells",C)).detach();g.bVisible=P}}(g,b,d)});return d!==wt&&this.iterator("table",function(g){xe(g,g.aoHeader),xe(g,g.aoFooter),g.aiDisplay.length||k(g.nTBody).find("td[colspan]").attr("colspan",zt(g)),qe(g),P.iterator("column",function(b,O){Wn(b,null,"column-visibility",[b,O,d,C])}),(C===wt||C)&&P.columns.adjust()}),c}),pt("columns().indexes()","column().index()",function(d){return this.iterator("column",function(C,P){return"visible"===d?de(C,P):P},1)}),nt("columns.adjust()",function(){return this.iterator("table",function(d){Pt(d)},1)}),nt("column.index()",function(d,C){if(0!==this.context.length){var P=this.context[0];if("fromVisible"===d||"toData"===d)return Jt(P,C);if("fromData"===d||"toVisible"===d)return de(P,C)}}),nt("column()",function(d,C){return fi(this.columns(d,C))}),nt("cells()",function(d,C,P){if(k.isPlainObject(d)&&(d.row===wt?(P=d,d=null):(P=C,C=null)),k.isPlainObject(C)&&(P=C,C=null),null===C||C===wt)return this.iterator("table",function(It){return function(d,C,P){var I,Z,vt,_t,It,Ut,Gt,c=d.aoData,g=_i(d,P),b=u(_(c,g,"anCells")),O=k(E([],b)),L=d.aoColumns.length;return io("cell",C,function(ye){var tn="function"==typeof ye;if(null===ye||ye===wt||tn){for(Z=[],vt=0,_t=g.length;vt<_t;vt++)for(I=g[vt],It=0;It<L;It++)Ut={row:I,column:It},tn?(Gt=c[I],ye(Ut,le(d,I,It),Gt.anCells?Gt.anCells[It]:null)&&Z.push(Ut)):Z.push(Ut);return Z}if(k.isPlainObject(ye))return ye.column!==wt&&ye.row!==wt&&-1!==k.inArray(ye.row,g)?[ye]:[];var en=O.filter(ye).map(function(hn,qn){return{row:qn._DT_CellIndex.row,column:qn._DT_CellIndex.column}}).toArray();return en.length||!ye.nodeName?en:(Gt=k(ye).closest("*[data-dt-row]")).length?[{row:Gt.data("dt-row"),column:Gt.data("dt-column")}]:[]},d,P)}(It,d,qo(P))});var O,I,L,Z,c=P?{page:P.page,order:P.order,search:P.search}:{},g=this.columns(C,c),b=this.rows(d,c),vt=this.iterator("table",function(It,Ut){var Gt=[];for(O=0,I=b[Ut].length;O<I;O++)for(L=0,Z=g[Ut].length;L<Z;L++)Gt.push({row:b[Ut][O],column:g[Ut][L]});return Gt},1),_t=P&&P.selected?this.cells(vt,P):vt;return k.extend(_t.selector,{cols:C,rows:d,opts:P}),_t}),pt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(d,C,P){var c=d.aoData[C];return c&&c.anCells?c.anCells[P]:wt},1)}),nt("cells().data()",function(){return this.iterator("cell",function(d,C,P){return le(d,C,P)},1)}),pt("cells().cache()","cell().cache()",function(d){return d="search"===d?"_aFilterData":"_aSortData",this.iterator("cell",function(C,P,c){return C.aoData[P][d][c]},1)}),pt("cells().render()","cell().render()",function(d){return this.iterator("cell",function(C,P,c){return le(C,P,c,d)},1)}),pt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(d,C,P){return{row:C,column:P,columnVisible:de(d,P)}},1)}),pt("cells().invalidate()","cell().invalidate()",function(d){return this.iterator("cell",function(C,P,c){se(C,P,d,c)})}),nt("cell()",function(d,C,P){return fi(this.cells(d,C,P))}),nt("cell().data()",function(d){var C=this.context,P=this[0];return d===wt?C.length&&P.length?le(C[0],P[0].row,P[0].column):wt:(Kt(C[0],P[0].row,P[0].column,d),se(C[0],P[0].row,"data",P[0].column),this)}),nt("order()",function(d,C){var P=this.context;return d===wt?0!==P.length?P[0].aaSorting:wt:("number"==typeof d?d=[[d,C]]:d.length&&!Array.isArray(d[0])&&(d=Array.prototype.slice.call(arguments)),this.iterator("table",function(c){c.aaSorting=d.slice()}))}),nt("order.listener()",function(d,C,P){return this.iterator("table",function(c){To(c,d,C,P)})}),nt("order.fixed()",function(d){if(!d){var C=this.context,P=C.length?C[0].aaSortingFixed:wt;return Array.isArray(P)?{pre:P}:P}return this.iterator("table",function(c){c.aaSortingFixed=k.extend(!0,{},d)})}),nt(["columns().order()","column().order()"],function(d){var C=this;return this.iterator("table",function(P,c){var g=[];k.each(C[c],function(b,O){g.push([O,d])}),P.aaSorting=g})}),nt("search()",function(d,C,P,c){var g=this.context;return d===wt?0!==g.length?g[0].oPreviousSearch.sSearch:wt:this.iterator("table",function(b){b.oFeatures.bFilter&&gt(b,k.extend({},b.oPreviousSearch,{sSearch:d+"",bRegex:null!==C&&C,bSmart:null===P||P,bCaseInsensitive:null===c||c}),1)})}),pt("columns().search()","column().search()",function(d,C,P,c){return this.iterator("column",function(g,b){var O=g.aoPreSearchCols;if(d===wt)return O[b].sSearch;g.oFeatures.bFilter&&(k.extend(O[b],{sSearch:d+"",bRegex:null!==C&&C,bSmart:null===P||P,bCaseInsensitive:null===c||c}),gt(g,g.oPreviousSearch,1))})}),nt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),nt("state.clear()",function(){return this.iterator("table",function(d){d.fnStateSaveCallback.call(d.oInstance,d,{})})}),nt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),nt("state.save()",function(){return this.iterator("table",function(d){qe(d)})}),R.use=function(d,C){"lib"===C||d.fn?k=d:"win"==C||d.document?(Ae=d,Xe=d.document):("datetime"===C||"DateTime"===d.type)&&(R.DateTime=d)},R.factory=function(d,C){var P=!1;return d&&d.document&&(Ae=d,Xe=d.document),C&&C.fn&&C.fn.jquery&&(k=C,P=!0),P},R.versionCheck=R.fnVersionCheck=function(d){for(var c,g,C=R.version.split("."),P=d.split("."),b=0,O=P.length;b<O;b++)if((c=parseInt(C[b],10)||0)!==(g=parseInt(P[b],10)||0))return c>g;return!0},R.isDataTable=R.fnIsDataTable=function(d){var C=k(d).get(0),P=!1;return d instanceof R.Api||(k.each(R.settings,function(c,g){var b=g.nScrollHead?k("table",g.nScrollHead)[0]:null,O=g.nScrollFoot?k("table",g.nScrollFoot)[0]:null;(g.nTable===C||b===C||O===C)&&(P=!0)}),P)},R.tables=R.fnTables=function(d){var C=!1;k.isPlainObject(d)&&(C=d.api,d=d.visible);var P=k.map(R.settings,function(c){if(!d||d&&k(c.nTable).is(":visible"))return c.nTable});return C?new ct(P):P},R.camelToHungarian=q,nt("$()",function(d,C){var P=this.rows(C).nodes(),c=k(P);return k([].concat(c.filter(d).toArray(),c.find(d).toArray()))}),k.each(["on","one","off"],function(d,C){nt(C+"()",function(){var P=Array.prototype.slice.call(arguments);P[0]=k.map(P[0].split(/\s/),function(g){return g.match(/\.dt\b/)?g:g+".dt"}).join(" ");var c=k(this.tables().nodes());return c[C].apply(c,P),this})}),nt("clear()",function(){return this.iterator("table",function(d){gn(d)})}),nt("settings()",function(){return new ct(this.context,this.context)}),nt("init()",function(){var d=this.context;return d.length?d[0].oInit:null}),nt("data()",function(){return this.iterator("table",function(d){return st(d.aoData,"_aData")}).flatten()}),nt("destroy()",function(d){return d=d||!1,this.iterator("table",function(C){var It,P=C.oClasses,c=C.nTable,g=C.nTBody,b=C.nTHead,O=C.nTFoot,I=k(c),L=k(g),Z=k(C.nTableWrapper),vt=k.map(C.aoData,function(ye){return ye.nTr});C.bDestroying=!0,Wn(C,"aoDestroyCallback","destroy",[C]),d||new ct(C).columns().visible(!0),Z.off(".DT").find(":not(tbody *)").off(".DT"),k(Ae).off(".DT-"+C.sInstance),c!=b.parentNode&&(I.children("thead").detach(),I.append(b)),O&&c!=O.parentNode&&(I.children("tfoot").detach(),I.append(O)),C.aaSorting=[],C.aaSortingFixed=[],to(C),k(vt).removeClass(C.asStripeClasses.join(" ")),k("th, td",b).removeClass(P.sSortable+" "+P.sSortableAsc+" "+P.sSortableDesc+" "+P.sSortableNone),L.children().detach(),L.append(vt);var Ut=C.nTableWrapper.parentNode,Gt=d?"remove":"detach";I[Gt](),Z[Gt](),!d&&Ut&&(Ut.insertBefore(c,C.nTableReinsertBefore),I.css("width",C.sDestroyWidth).removeClass(P.sTable),(It=C.asDestroyStripes.length)&&L.children().each(function(ye){k(this).addClass(C.asDestroyStripes[ye%It])}));var Xt=k.inArray(C,R.settings);-1!==Xt&&R.settings.splice(Xt,1)})}),k.each(["column","row","cell"],function(d,C){nt(C+"s().every()",function(P){var c=this.selector.opts,g=this;return this.iterator(C,function(b,O,I,L,Z){P.call(g[C](O,"cell"===C?I:c,"cell"===C?c:wt),O,I,L,Z)})})}),nt("i18n()",function(d,C,P){var c=this.context[0],g=Me(d)(c.oLanguage);return g===wt&&(g=C),P!==wt&&k.isPlainObject(g)&&(g=g[P]!==wt?g[P]:g._),"string"==typeof g?g.replace("%d",P):g}),R.version="1.13.5",R.settings=[],R.models={},R.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1},R.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},R.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},R.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(d){return d.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(d){try{return JSON.parse((-1===d.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+d.sInstance+"_"+location.pathname))}catch{return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(d,C){try{(-1===d.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+d.sInstance+"_"+location.pathname,JSON.stringify(C))}catch{}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:k.extend({},R.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},T(R.defaults),R.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},T(R.defaults.column),R.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:wt,oAjaxData:wt,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==zr(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==zr(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var d=this._iDisplayLength,C=this._iDisplayStart,P=C+d,c=this.aiDisplay.length,g=this.oFeatures,b=g.bPaginate;return g.bServerSide?!1===b||-1===d?C+c:Math.min(C+d,this._iRecordsDisplay):!b||P>c||-1===d?c:P},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},R.ext=at={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:R.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:R.version},k.extend(at,{afnFiltering:at.search,aTypes:at.type.detect,ofnSearch:at.type.search,oSort:at.type.order,afnSortData:at.order,aoFeatures:at.feature,oApi:at.internal,oStdClasses:at.classes,oPagination:at.pager}),k.extend(R.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Ti=R.ext.pager;function ai(d,C){var P=[],c=Ti.numbers_length,g=Math.floor(c/2);return C<=c?P=et(0,C):d<=g?((P=et(0,c-2)).push("ellipsis"),P.push(C-1)):d>=C-1-g?((P=et(C-(c-2),C)).splice(0,0,"ellipsis"),P.splice(0,0,0)):((P=et(d-g+2,d+g-1)).push("ellipsis"),P.push(C-1),P.splice(0,0,"ellipsis"),P.splice(0,0,0)),P.DT_el="span",P}k.extend(Ti,{simple:function(d,C){return["previous","next"]},full:function(d,C){return["first","previous","next","last"]},numbers:function(d,C){return[ai(d,C)]},simple_numbers:function(d,C){return["previous",ai(d,C),"next"]},full_numbers:function(d,C){return["first","previous",ai(d,C),"next","last"]},first_last_numbers:function(d,C){return["first",ai(d,C),"last"]},_numbers:ai,numbers_length:7}),k.extend(!0,R.ext.renderer,{pageButton:{_:function(d,C,P,c,g,b){var Z,vt,It,O=d.oClasses,I=d.oLanguage.oPaginate,L=d.oLanguage.oAria.paginate||{},_t=function(Ut,Gt){var Xt,ye,en,hn,qn=O.sPageButtonDisabled,ir=function(br){Or(d,br.data.action,!0)};for(Xt=0,ye=Gt.length;Xt<ye;Xt++)if(en=Gt[Xt],Array.isArray(en)){var Re=k("<"+(en.DT_el||"div")+"/>").appendTo(Ut);_t(Re,en)}else{switch(Z=null,vt=en,hn=d.iTabIndex,en){case"ellipsis":Ut.append('<span class="ellipsis">&#x2026;</span>');break;case"first":Z=I.sFirst,0===g&&(hn=-1,vt+=" "+qn);break;case"previous":Z=I.sPrevious,0===g&&(hn=-1,vt+=" "+qn);break;case"next":Z=I.sNext,(0===b||g===b-1)&&(hn=-1,vt+=" "+qn);break;case"last":Z=I.sLast,(0===b||g===b-1)&&(hn=-1,vt+=" "+qn);break;default:Z=d.fnFormatNumber(en+1),vt=g===en?O.sPageButtonActive:""}if(null!==Z){var pr=d.oInit.pagingTag||"a",Jn=-1!==vt.indexOf(qn);cn(k("<"+pr+">",{class:O.sPageButton+" "+vt,"aria-controls":d.sTableId,"aria-disabled":Jn?"true":null,"aria-label":L[en],role:"link","aria-current":vt===O.sPageButtonActive?"page":null,"data-dt-idx":en,tabindex:hn,id:0===P&&"string"==typeof en?d.sTableId+"_"+en:null}).html(Z).appendTo(Ut),{action:en},ir)}}};try{It=k(C).find(Xe.activeElement).data("dt-idx")}catch{}_t(k(C).empty(),c),It!==wt&&k(C).find("[data-dt-idx="+It+"]").trigger("focus")}}}),k.extend(R.ext.type.detect,[function(d,C){var P=C.oLanguage.sDecimal;return $(d,P)?"num"+P:null},function(d,C){if(d&&!(d instanceof Date)&&!F.test(d))return null;var P=Date.parse(d);return null!==P&&!isNaN(P)||X(d)?"date":null},function(d,C){var P=C.oLanguage.sDecimal;return $(d,P,!0)?"num-fmt"+P:null},function(d,C){var P=C.oLanguage.sDecimal;return K(d,P)?"html-num"+P:null},function(d,C){var P=C.oLanguage.sDecimal;return K(d,P,!0)?"html-num-fmt"+P:null},function(d,C){return X(d)||"string"==typeof d&&-1!==d.indexOf("<")?"html":null}]),k.extend(R.ext.type.search,{html:function(d){return X(d)?d:"string"==typeof d?d.replace(ht," ").replace(rt,""):""},string:function(d){return X(d)?d:"string"==typeof d?d.replace(ht," "):d}});var Zo=function(d,C,P,c){if(0!==d&&(!d||"-"===d))return-1/0;var g=typeof d;return"number"===g||"bigint"===g?d:(C&&(d=V(d,C)),d.replace&&(P&&(d=d.replace(P,"")),c&&(d=d.replace(c,""))),1*d)};function si(d){k.each({num:function(C){return Zo(C,d)},"num-fmt":function(C){return Zo(C,d,N)},"html-num":function(C){return Zo(C,d,rt)},"html-num-fmt":function(C){return Zo(C,d,rt,N)}},function(C,P){at.type.order[C+d+"-pre"]=P,C.match(/^html\-/)&&(at.type.search[C+d]=at.type.search.html)})}k.extend(at.type.order,{"date-pre":function(d){var C=Date.parse(d);return isNaN(C)?-1/0:C},"html-pre":function(d){return X(d)?"":d.replace?d.replace(/<.*?>/g,"").toLowerCase():d+""},"string-pre":function(d){return X(d)?"":"string"==typeof d?d.toLowerCase():d.toString?d.toString():""},"string-asc":function(d,C){return d<C?-1:d>C?1:0},"string-desc":function(d,C){return d<C?1:d>C?-1:0}}),si(""),k.extend(!0,R.ext.renderer,{header:{_:function(d,C,P,c){k(d.nTable).on("order.dt.DT",function(g,b,O,I){if(d===b){var L=P.idx;C.removeClass(c.sSortAsc+" "+c.sSortDesc).addClass("asc"==I[L]?c.sSortAsc:"desc"==I[L]?c.sSortDesc:P.sSortingClass)}})},jqueryui:function(d,C,P,c){k("<div/>").addClass(c.sSortJUIWrapper).append(C.contents()).append(k("<span/>").addClass(c.sSortIcon+" "+P.sSortingClassJUI)).appendTo(C),k(d.nTable).on("order.dt.DT",function(g,b,O,I){if(d===b){var L=P.idx;C.removeClass(c.sSortAsc+" "+c.sSortDesc).addClass("asc"==I[L]?c.sSortAsc:"desc"==I[L]?c.sSortDesc:P.sSortingClass),C.find("span."+c.sSortIcon).removeClass(c.sSortJUIAsc+" "+c.sSortJUIDesc+" "+c.sSortJUI+" "+c.sSortJUIAscAllowed+" "+c.sSortJUIDescAllowed).addClass("asc"==I[L]?c.sSortJUIAsc:"desc"==I[L]?c.sSortJUIDesc:P.sSortingClassJUI)}})}}});var Oo=function(d){return Array.isArray(d)&&(d=d.join(",")),"string"==typeof d?d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):d};function Kr(d,C,P,c,g){return Ae.moment?d[C](g):Ae.luxon?d[P](g):c?d[c](g):d}var yo=!1;function Yr(d,C,P){var c;if(Ae.moment){if(!(c=Ae.moment.utc(d,C,P,!0)).isValid())return null}else if(Ae.luxon){if(!(c=C&&"string"==typeof d?Ae.luxon.DateTime.fromFormat(d,C):Ae.luxon.DateTime.fromISO(d)).isValid)return null;c.setLocale(P)}else C?(yo||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),yo=!0):c=new Date(d);return c}function jo(d){return function(C,P,c,g){0===arguments.length?(c="en",P=null,C=null):1===arguments.length?(c="en",P=C,C=null):2===arguments.length&&(c=P,P=C,C=null);var b="datetime-"+P;return R.ext.type.order[b]||(R.ext.type.detect.unshift(function(O){return O===b&&b}),R.ext.type.order[b+"-asc"]=function(O,I){var L=O.valueOf(),Z=I.valueOf();return L===Z?0:L<Z?-1:1},R.ext.type.order[b+"-desc"]=function(O,I){var L=O.valueOf(),Z=I.valueOf();return L===Z?0:L>Z?-1:1}),function(O,I){if(null===O||O===wt)if("--now"===g){var L=new Date;O=new Date(Date.UTC(L.getFullYear(),L.getMonth(),L.getDate(),L.getHours(),L.getMinutes(),L.getSeconds()))}else O="";if("type"===I)return b;if(""===O)return"sort"!==I?"":Yr("0000-01-01 00:00:00",null,c);if(null!==P&&C===P&&"sort"!==I&&"type"!==I&&!(O instanceof Date))return O;var Z=Yr(O,C,c);if(null===Z)return O;if("sort"===I)return Z;var vt=null===P?Kr(Z,"toDate","toJSDate","")[d]():Kr(Z,"format","toFormat","toISOString",P);return"display"===I?Oo(vt):vt}}}var bi=",",Fi=".";if(Ae.Intl!==wt)try{for(var vr=(new Intl.NumberFormat).formatToParts(100000.1),ie=0;ie<vr.length;ie++)"group"===vr[ie].type?bi=vr[ie].value:"decimal"===vr[ie].type&&(Fi=vr[ie].value)}catch{}function W(d){return function(){var C=[$t(this[R.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return R.ext.internal[d].apply(this,C)}}return R.datetime=function(d,C){var P="datetime-detect-"+d;C||(C="en"),R.ext.type.order[P]||(R.ext.type.detect.unshift(function(c){var g=Yr(c,d,C);return!(""!==c&&!g)&&P}),R.ext.type.order[P+"-pre"]=function(c){return Yr(c,d,C)||0})},R.render={date:jo("toLocaleDateString"),datetime:jo("toLocaleString"),time:jo("toLocaleTimeString"),number:function(d,C,P,c,g){return(null===d||d===wt)&&(d=bi),(null===C||C===wt)&&(C=Fi),{display:function(b){if("number"!=typeof b&&"string"!=typeof b||""===b||null===b)return b;var O=b<0?"-":"",I=parseFloat(b);if(isNaN(I))return Oo(b);I=I.toFixed(P),b=Math.abs(I);var L=parseInt(b,10),Z=P?C+(b-L).toFixed(P).substring(2):"";return 0===L&&0===parseFloat(Z)&&(O=""),O+(c||"")+L.toString().replace(/\B(?=(\d{3})+(?!\d))/g,d)+Z+(g||"")}}},text:function(){return{display:Oo,filter:Oo}}},k.extend(R.ext.internal,{_fnExternApiFunc:W,_fnBuildAjax:At,_fnAjaxUpdate:Be,_fnAjaxParameters:Ct,_fnAjaxUpdateDraw:kt,_fnAjaxDataSrc:jt,_fnAddColumn:Mt,_fnColumnOptions:St,_fnAdjustColumnSizing:Pt,_fnVisibleToColumnIndex:Jt,_fnColumnIndexToVisible:de,_fnVisbleColumns:zt,_fnGetColumns:he,_fnColumnTypes:Qt,_fnApplyColumnDefs:Ue,_fnHungarianMap:T,_fnCamelToHungarian:q,_fnLanguageCompat:M,_fnBrowserDetect:U,_fnAddData:me,_fnAddTr:Ee,_fnNodeToDataIndex:function We(d,C){return C._DT_RowIndex!==wt?C._DT_RowIndex:null},_fnNodeToColumnIndex:function Ke(d,C,P){return k.inArray(P,d.aoData[C].anCells)},_fnGetCellData:le,_fnSetCellData:Kt,_fnSplitObjNotation:Fe,_fnGetObjectDataFn:Me,_fnSetObjectDataFn:sn,_fnGetDataMaster:mn,_fnClearTable:gn,_fnDeleteIndex:ce,_fnInvalidate:se,_fnGetRowElements:dt,_fnCreateTr:yt,_fnBuildHead:re,_fnDrawHead:xe,_fnDraw:Se,_fnReDraw:He,_fnAddOptionsHtml:Sn,_fnDetectHeader:jn,_fnGetUniqueThs:bn,_fnFeatureHtmlFilter:Wt,_fnFilterComplete:gt,_fnFilterCustom:Ce,_fnFilterColumn:Ze,_fnFilter:tt,_fnFilterCreateSearch:Te,_fnEscapeRegex:Oe,_fnFilterData:we,_fnFeatureHtmlInfo:rn,_fnUpdateInfo:Hn,_fnInfoMacros:Br,_fnInitialise:Bn,_fnInitComplete:Zn,_fnLengthChange:or,_fnFeatureHtmlLength:Cr,_fnFeatureHtmlPaginate:Sr,_fnPageChange:Or,_fnFeatureHtmlProcessing:fr,_fnProcessingDisplay:Vn,_fnFeatureHtmlTable:Vr,_fnScrollDraw:Gn,_fnApplyToChildren:Dr,_fnCalculateColumnWidths:Qr,_fnThrottle:kr,_fnConvertToWidth:uo,_fnGetWidestNode:Io,_fnGetMaxLenString:_r,_fnStringToCss:an,_fnSortFlatten:Pr,_fnSort:No,_fnSortAria:So,_fnSortListener:cr,_fnSortAttachListener:To,_fnSortingClasses:to,_fnSortData:di,_fnSaveState:qe,_fnLoadState:In,_fnImplementState:Dt,_fnSettingsFromNode:$t,_fnLog:je,_fnMap:fn,_fnBindAction:cn,_fnCallbackReg:sr,_fnCallbackFire:Wn,_fnLengthOverflow:go,_fnRenderer:qr,_fnDataSource:zr,_fnRowAttributes:Rt,_fnExtend:Tn,_fnCalculateEnd:function(){}}),k.fn.dataTable=R,R.$=k,k.fn.dataTableSettings=R.settings,k.fn.dataTableExt=R.ext,k.fn.DataTable=function(d){return k(this).dataTable(d).api()},k.each(R,function(d,C){k.fn.DataTable[d]=C}),R}),function(k){"object"==typeof exports&&typeof module<"u"?module.exports=k():"function"==typeof define&&define.amd?define([],k):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=k()}(function(){return function wt(R,at,ct){function nt(ht,rt){if(!at[ht]){if(!R[ht]){var F="function"==typeof require&&require;if(!rt&&F)return F(ht,!0);if(pt)return pt(ht,!0);var H=new Error("Cannot find module '"+ht+"'");throw H.code="MODULE_NOT_FOUND",H}var N=at[ht]={exports:{}};R[ht][0].call(N.exports,function(X){return nt(R[ht][1][X]||X)},N,N.exports,wt,R,at,ct)}return at[ht].exports}for(var pt="function"==typeof require&&require,J=0;J<ct.length;J++)nt(ct[J]);return nt}({1:[function(wt,R,at){"use strict";var ct=wt("./utils"),nt=wt("./support"),pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";at.encode=function(J){for(var rt,F,H,X,ut,V,ht=[],$=0,mt=J.length,K=mt,st="string"!==ct.getTypeOf(J);$<J.length;)K=mt-$,st?(rt=J[$++],F=$<mt?J[$++]:0,H=$<mt?J[$++]:0):(rt=J.charCodeAt($++),F=$<mt?J.charCodeAt($++):0,H=$<mt?J.charCodeAt($++):0),X=(3&rt)<<4|F>>4,ut=K>1?(15&F)<<2|H>>6:64,V=K>2?63&H:64,ht.push(pt.charAt(rt>>2)+pt.charAt(X)+pt.charAt(ut)+pt.charAt(V));return ht.join("")},at.decode=function(J){var rt,F,H,N,X,ut,V=0,$=0;if("data:"===J.substr(0,5))throw new Error("Invalid base64 input, it looks like a data url.");var st,K=3*(J=J.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(J.charAt(J.length-1)===pt.charAt(64)&&K--,J.charAt(J.length-2)===pt.charAt(64)&&K--,K%1!=0)throw new Error("Invalid base64 input, bad content length.");for(st=nt.uint8array?new Uint8Array(0|K):new Array(0|K);V<J.length;)H=pt.indexOf(J.charAt(V++)),rt=(15&(N=pt.indexOf(J.charAt(V++))))<<4|(X=pt.indexOf(J.charAt(V++)))>>2,F=(3&X)<<6|(ut=pt.indexOf(J.charAt(V++))),st[$++]=H<<2|N>>4,64!==X&&(st[$++]=rt),64!==ut&&(st[$++]=F);return st}},{"./support":30,"./utils":32}],2:[function(wt,R,at){"use strict";var ct=wt("./external"),nt=wt("./stream/DataWorker"),pt=wt("./stream/Crc32Probe"),J=wt("./stream/DataLengthProbe");function ht(rt,F,H,N,X){this.compressedSize=rt,this.uncompressedSize=F,this.crc32=H,this.compression=N,this.compressedContent=X}ht.prototype={getContentWorker:function(){var rt=new nt(ct.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new J("data_length")),F=this;return rt.on("end",function(){if(this.streamInfo.data_length!==F.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),rt},getCompressedWorker:function(){return new nt(ct.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},ht.createWorkerFrom=function(rt,F,H){return rt.pipe(new pt).pipe(new J("uncompressedSize")).pipe(F.compressWorker(H)).pipe(new J("compressedSize")).withStreamInfo("compression",F)},R.exports=ht},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(wt,R,at){"use strict";var ct=wt("./stream/GenericWorker");at.STORE={magic:"\0\0",compressWorker:function(){return new ct("STORE compression")},uncompressWorker:function(){return new ct("STORE decompression")}},at.DEFLATE=wt("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(wt,R,at){"use strict";var ct=wt("./utils"),pt=function nt(){for(var rt,F=[],H=0;H<256;H++){rt=H;for(var N=0;N<8;N++)rt=1&rt?3988292384^rt>>>1:rt>>>1;F[H]=rt}return F}();R.exports=function(F,H){return typeof F>"u"||!F.length?0:"string"!==ct.getTypeOf(F)?function J(rt,F,H,N){var X=pt,ut=N+H;rt^=-1;for(var V=N;V<ut;V++)rt=rt>>>8^X[255&(rt^F[V])];return-1^rt}(0|H,F,F.length,0):function ht(rt,F,H,N){var X=pt,ut=N+H;rt^=-1;for(var V=N;V<ut;V++)rt=rt>>>8^X[255&(rt^F.charCodeAt(V))];return-1^rt}(0|H,F,F.length,0)}},{"./utils":32}],5:[function(wt,R,at){"use strict";at.base64=!1,at.binary=!1,at.dir=!1,at.createFolders=!0,at.date=null,at.compression=null,at.compressionOptions=null,at.comment=null,at.unixPermissions=null,at.dosPermissions=null},{}],6:[function(wt,R,at){"use strict";var ct;ct=typeof Promise<"u"?Promise:wt("lie"),R.exports={Promise:ct}},{lie:37}],7:[function(wt,R,at){"use strict";var ct=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",nt=wt("pako"),pt=wt("./utils"),J=wt("./stream/GenericWorker"),ht=ct?"uint8array":"array";function rt(F,H){J.call(this,"FlateWorker/"+F),this._pako=null,this._pakoAction=F,this._pakoOptions=H,this.meta={}}at.magic="\b\0",pt.inherits(rt,J),rt.prototype.processChunk=function(F){this.meta=F.meta,null===this._pako&&this._createPako(),this._pako.push(pt.transformTo(ht,F.data),!1)},rt.prototype.flush=function(){J.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},rt.prototype.cleanUp=function(){J.prototype.cleanUp.call(this),this._pako=null},rt.prototype._createPako=function(){this._pako=new nt[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var F=this;this._pako.onData=function(H){F.push({data:H,meta:F.meta})}},at.compressWorker=function(F){return new rt("Deflate",F)},at.uncompressWorker=function(){return new rt("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(wt,R,at){"use strict";var ct=wt("../utils"),nt=wt("../stream/GenericWorker"),pt=wt("../utf8"),J=wt("../crc32"),ht=wt("../signature"),rt=function($,mt){var st,K="";for(st=0;st<mt;st++)K+=String.fromCharCode(255&$),$>>>=8;return K},N=function($,mt,K,st,_,et){var B,ot,u=$.file,w=$.compression,m=et!==pt.utf8encode,x=ct.transformTo("string",et(u.name)),E=ct.transformTo("string",pt.utf8encode(u.name)),A=u.comment,T=ct.transformTo("string",et(A)),q=ct.transformTo("string",pt.utf8encode(A)),M=E.length!==u.name.length,G=q.length!==A.length,U="",Lt="",Mt="",St=u.dir,Pt=u.date,Jt={crc32:0,compressedSize:0,uncompressedSize:0};(!mt||K)&&(Jt.crc32=$.crc32,Jt.compressedSize=$.compressedSize,Jt.uncompressedSize=$.uncompressedSize);var de=0;mt&&(de|=8),!m&&(M||G)&&(de|=2048);var zt=0,he=0;St&&(zt|=16),"UNIX"===_?(he=798,zt|=function($,mt){var K=$;return $||(K=mt?16893:33204),(65535&K)<<16}(u.unixPermissions,St)):(he=20,zt|=function($){return 63&($||0)}(u.dosPermissions)),B=Pt.getUTCHours(),B<<=6,B|=Pt.getUTCMinutes(),B<<=5,B|=Pt.getUTCSeconds()/2,ot=Pt.getUTCFullYear()-1980,ot<<=4,ot|=Pt.getUTCMonth()+1,ot<<=5,ot|=Pt.getUTCDate(),M&&(Lt=rt(1,1)+rt(J(x),4)+E,U+="up"+rt(Lt.length,2)+Lt),G&&(Mt=rt(1,1)+rt(J(T),4)+q,U+="uc"+rt(Mt.length,2)+Mt);var Qt="";return Qt+="\n\0",Qt+=rt(de,2),Qt+=w.magic,Qt+=rt(B,2),Qt+=rt(ot,2),Qt+=rt(Jt.crc32,4),Qt+=rt(Jt.compressedSize,4),Qt+=rt(Jt.uncompressedSize,4),Qt+=rt(x.length,2),Qt+=rt(U.length,2),{fileRecord:ht.LOCAL_FILE_HEADER+Qt+x+U,dirRecord:ht.CENTRAL_FILE_HEADER+rt(he,2)+Qt+rt(T.length,2)+"\0\0\0\0"+rt(zt,4)+rt(st,4)+x+U+T}},ut=function($){return ht.DATA_DESCRIPTOR+rt($.crc32,4)+rt($.compressedSize,4)+rt($.uncompressedSize,4)};function V($,mt,K,st){nt.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=mt,this.zipPlatform=K,this.encodeFileName=st,this.streamFiles=$,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}ct.inherits(V,nt),V.prototype.push=function($){var mt=$.meta.percent||0,K=this.entriesCount,st=this._sources.length;this.accumulate?this.contentBuffer.push($):(this.bytesWritten+=$.data.length,nt.prototype.push.call(this,{data:$.data,meta:{currentFile:this.currentFile,percent:K?(mt+100*(K-st-1))/K:100}}))},V.prototype.openedSource=function($){this.currentSourceOffset=this.bytesWritten,this.currentFile=$.file.name;var mt=this.streamFiles&&!$.file.dir;if(mt){var K=N($,mt,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:K.fileRecord,meta:{percent:0}})}else this.accumulate=!0},V.prototype.closedSource=function($){this.accumulate=!1;var mt=this.streamFiles&&!$.file.dir,K=N($,mt,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(K.dirRecord),mt)this.push({data:ut($),meta:{percent:100}});else for(this.push({data:K.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},V.prototype.flush=function(){for(var $=this.bytesWritten,mt=0;mt<this.dirRecords.length;mt++)this.push({data:this.dirRecords[mt],meta:{percent:100}});var st=function($,mt,K,st,_){var u=ct.transformTo("string",_(st));return ht.CENTRAL_DIRECTORY_END+"\0\0\0\0"+rt($,2)+rt($,2)+rt(mt,4)+rt(K,4)+rt(u.length,2)+u}(this.dirRecords.length,this.bytesWritten-$,$,this.zipComment,this.encodeFileName);this.push({data:st,meta:{percent:100}})},V.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},V.prototype.registerPrevious=function($){this._sources.push($);var mt=this;return $.on("data",function(K){mt.processChunk(K)}),$.on("end",function(){mt.closedSource(mt.previous.streamInfo),mt._sources.length?mt.prepareNextSource():mt.end()}),$.on("error",function(K){mt.error(K)}),this},V.prototype.resume=function(){return!!nt.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},V.prototype.error=function($){var mt=this._sources;if(!nt.prototype.error.call(this,$))return!1;for(var K=0;K<mt.length;K++)try{mt[K].error($)}catch{}return!0},V.prototype.lock=function(){nt.prototype.lock.call(this);for(var $=this._sources,mt=0;mt<$.length;mt++)$[mt].lock()},R.exports=V},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(wt,R,at){"use strict";var ct=wt("../compressions"),nt=wt("./ZipFileWorker");at.generateWorker=function(J,ht,rt){var F=new nt(ht.streamFiles,rt,ht.platform,ht.encodeFileName),H=0;try{J.forEach(function(N,X){H++;var ut=function(J,ht){var rt=J||ht,F=ct[rt];if(!F)throw new Error(rt+" is not a valid compression method !");return F}(X.options.compression,ht.compression),$=X.dir,mt=X.date;X._compressWorker(ut,X.options.compressionOptions||ht.compressionOptions||{}).withStreamInfo("file",{name:N,dir:$,date:mt,comment:X.comment||"",unixPermissions:X.unixPermissions,dosPermissions:X.dosPermissions}).pipe(F)}),F.entriesCount=H}catch(N){F.error(N)}return F}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(wt,R,at){"use strict";function ct(){if(!(this instanceof ct))return new ct;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var nt=new ct;for(var pt in this)"function"!=typeof this[pt]&&(nt[pt]=this[pt]);return nt}}(ct.prototype=wt("./object")).loadAsync=wt("./load"),ct.support=wt("./support"),ct.defaults=wt("./defaults"),ct.version="3.10.1",ct.loadAsync=function(nt,pt){return(new ct).loadAsync(nt,pt)},ct.external=wt("./external"),R.exports=ct},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(wt,R,at){"use strict";var ct=wt("./utils"),nt=wt("./external"),pt=wt("./utf8"),J=wt("./zipEntries"),ht=wt("./stream/Crc32Probe"),rt=wt("./nodejsUtils");function F(H){return new nt.Promise(function(N,X){var ut=H.decompressed.getContentWorker().pipe(new ht);ut.on("error",function(V){X(V)}).on("end",function(){ut.streamInfo.crc32!==H.decompressed.crc32?X(new Error("Corrupted zip : CRC32 mismatch")):N()}).resume()})}R.exports=function(H,N){var X=this;return N=ct.extend(N||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:pt.utf8decode}),rt.isNode&&rt.isStream(H)?nt.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):ct.prepareContent("the loaded zip file",H,!0,N.optimizedBinaryString,N.base64).then(function(ut){var V=new J(N);return V.load(ut),V}).then(function(V){var $=[nt.Promise.resolve(V)],mt=V.files;if(N.checkCRC32)for(var K=0;K<mt.length;K++)$.push(F(mt[K]));return nt.Promise.all($)}).then(function(V){for(var $=V.shift(),mt=$.files,K=0;K<mt.length;K++){var st=mt[K],_=st.fileNameStr,et=ct.resolve(st.fileNameStr);X.file(et,st.decompressed,{binary:!0,optimizedBinaryString:!0,date:st.date,dir:st.dir,comment:st.fileCommentStr.length?st.fileCommentStr:null,unixPermissions:st.unixPermissions,dosPermissions:st.dosPermissions,createFolders:N.createFolders}),st.dir||(X.file(et).unsafeOriginalName=_)}return $.zipComment.length&&(X.comment=$.zipComment),X})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(wt,R,at){"use strict";var ct=wt("../utils"),nt=wt("../stream/GenericWorker");function pt(J,ht){nt.call(this,"Nodejs stream input adapter for "+J),this._upstreamEnded=!1,this._bindStream(ht)}ct.inherits(pt,nt),pt.prototype._bindStream=function(J){var ht=this;this._stream=J,J.pause(),J.on("data",function(rt){ht.push({data:rt,meta:{percent:0}})}).on("error",function(rt){ht.isPaused?this.generatedError=rt:ht.error(rt)}).on("end",function(){ht.isPaused?ht._upstreamEnded=!0:ht.end()})},pt.prototype.pause=function(){return!!nt.prototype.pause.call(this)&&(this._stream.pause(),!0)},pt.prototype.resume=function(){return!!nt.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},R.exports=pt},{"../stream/GenericWorker":28,"../utils":32}],13:[function(wt,R,at){"use strict";var ct=wt("readable-stream").Readable;function pt(J,ht,rt){ct.call(this,ht),this._helper=J;var F=this;J.on("data",function(H,N){F.push(H)||F._helper.pause(),rt&&rt(N)}).on("error",function(H){F.emit("error",H)}).on("end",function(){F.push(null)})}wt("../utils").inherits(pt,ct),pt.prototype._read=function(){this._helper.resume()},R.exports=pt},{"../utils":32,"readable-stream":16}],14:[function(wt,R,at){"use strict";R.exports={isNode:typeof Buffer<"u",newBufferFrom:function(ct,nt){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(ct,nt);if("number"==typeof ct)throw new Error('The "data" argument must not be a number');return new Buffer(ct,nt)},allocBuffer:function(ct){if(Buffer.alloc)return Buffer.alloc(ct);var nt=new Buffer(ct);return nt.fill(0),nt},isBuffer:function(ct){return Buffer.isBuffer(ct)},isStream:function(ct){return ct&&"function"==typeof ct.on&&"function"==typeof ct.pause&&"function"==typeof ct.resume}}},{}],15:[function(wt,R,at){"use strict";var ct=wt("./utf8"),nt=wt("./utils"),pt=wt("./stream/GenericWorker"),J=wt("./stream/StreamHelper"),ht=wt("./defaults"),rt=wt("./compressedObject"),F=wt("./zipObject"),H=wt("./generate"),N=wt("./nodejsUtils"),X=wt("./nodejs/NodejsStreamInputAdapter"),ut=function(_,et,u){var m,w=nt.getTypeOf(et),x=nt.extend(u||{},ht);x.date=x.date||new Date,null!==x.compression&&(x.compression=x.compression.toUpperCase()),"string"==typeof x.unixPermissions&&(x.unixPermissions=parseInt(x.unixPermissions,8)),x.unixPermissions&&16384&x.unixPermissions&&(x.dir=!0),x.dosPermissions&&16&x.dosPermissions&&(x.dir=!0),x.dir&&(_=$(_)),x.createFolders&&(m=V(_))&&mt.call(this,m,!0),(!u||typeof u.binary>"u")&&(x.binary=!("string"===w&&!1===x.binary&&!1===x.base64)),(et instanceof rt&&0===et.uncompressedSize||x.dir||!et||0===et.length)&&(x.base64=!1,x.binary=!0,et="",x.compression="STORE",w="string");var T;T=et instanceof rt||et instanceof pt?et:N.isNode&&N.isStream(et)?new X(_,et):nt.prepareContent(_,et,x.binary,x.optimizedBinaryString,x.base64);var q=new F(_,T,x);this.files[_]=q},V=function(_){"/"===_.slice(-1)&&(_=_.substring(0,_.length-1));var et=_.lastIndexOf("/");return et>0?_.substring(0,et):""},$=function(_){return"/"!==_.slice(-1)&&(_+="/"),_},mt=function(_,et){return et=typeof et<"u"?et:ht.createFolders,_=$(_),this.files[_]||ut.call(this,_,null,{dir:!0,createFolders:et}),this.files[_]};function K(_){return"[object RegExp]"===Object.prototype.toString.call(_)}var st={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var et,u,w;for(et in this.files)w=this.files[et],(u=et.slice(this.root.length,et.length))&&et.slice(0,this.root.length)===this.root&&_(u,w)},filter:function(_){var et=[];return this.forEach(function(u,w){_(u,w)&&et.push(w)}),et},file:function(_,et,u){if(1===arguments.length){if(K(_)){var w=_;return this.filter(function(x,E){return!E.dir&&w.test(x)})}var m=this.files[this.root+_];return m&&!m.dir?m:null}return ut.call(this,_=this.root+_,et,u),this},folder:function(_){if(!_)return this;if(K(_))return this.filter(function(m,x){return x.dir&&_.test(m)});var u=mt.call(this,this.root+_),w=this.clone();return w.root=u.name,w},remove:function(_){var et=this.files[_=this.root+_];if(et||("/"!==_.slice(-1)&&(_+="/"),et=this.files[_]),et&&!et.dir)delete this.files[_];else for(var u=this.filter(function(m,x){return x.name.slice(0,_.length)===_}),w=0;w<u.length;w++)delete this.files[u[w].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var et,u={};try{if((u=nt.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:ct.utf8encode})).type=u.type.toLowerCase(),u.compression=u.compression.toUpperCase(),"binarystring"===u.type&&(u.type="string"),!u.type)throw new Error("No output type specified.");nt.checkSupport(u.type),("darwin"===u.platform||"freebsd"===u.platform||"linux"===u.platform||"sunos"===u.platform)&&(u.platform="UNIX"),"win32"===u.platform&&(u.platform="DOS"),et=H.generateWorker(this,u,u.comment||this.comment||"")}catch(m){(et=new pt("error")).error(m)}return new J(et,u.type||"string",u.mimeType)},generateAsync:function(_,et){return this.generateInternalStream(_).accumulate(et)},generateNodeStream:function(_,et){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(et)}};R.exports=st},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(wt,R,at){"use strict";R.exports=wt("stream")},{stream:void 0}],17:[function(wt,R,at){"use strict";var ct=wt("./DataReader");function pt(J){ct.call(this,J);for(var ht=0;ht<this.data.length;ht++)J[ht]=255&J[ht]}wt("../utils").inherits(pt,ct),pt.prototype.byteAt=function(J){return this.data[this.zero+J]},pt.prototype.lastIndexOfSignature=function(J){for(var ht=J.charCodeAt(0),rt=J.charCodeAt(1),F=J.charCodeAt(2),H=J.charCodeAt(3),N=this.length-4;N>=0;--N)if(this.data[N]===ht&&this.data[N+1]===rt&&this.data[N+2]===F&&this.data[N+3]===H)return N-this.zero;return-1},pt.prototype.readAndCheckSignature=function(J){var ht=J.charCodeAt(0),rt=J.charCodeAt(1),F=J.charCodeAt(2),H=J.charCodeAt(3),N=this.readData(4);return ht===N[0]&&rt===N[1]&&F===N[2]&&H===N[3]},pt.prototype.readData=function(J){if(this.checkOffset(J),0===J)return[];var ht=this.data.slice(this.zero+this.index,this.zero+this.index+J);return this.index+=J,ht},R.exports=pt},{"../utils":32,"./DataReader":18}],18:[function(wt,R,at){"use strict";var ct=wt("../utils");function nt(pt){this.data=pt,this.length=pt.length,this.index=0,this.zero=0}nt.prototype={checkOffset:function(pt){this.checkIndex(this.index+pt)},checkIndex:function(pt){if(this.length<this.zero+pt||pt<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+pt+"). Corrupted zip ?")},setIndex:function(pt){this.checkIndex(pt),this.index=pt},skip:function(pt){this.setIndex(this.index+pt)},byteAt:function(){},readInt:function(pt){var ht,J=0;for(this.checkOffset(pt),ht=this.index+pt-1;ht>=this.index;ht--)J=(J<<8)+this.byteAt(ht);return this.index+=pt,J},readString:function(pt){return ct.transformTo("string",this.readData(pt))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var pt=this.readInt(4);return new Date(Date.UTC(1980+(pt>>25&127),(pt>>21&15)-1,pt>>16&31,pt>>11&31,pt>>5&63,(31&pt)<<1))}},R.exports=nt},{"../utils":32}],19:[function(wt,R,at){"use strict";var ct=wt("./Uint8ArrayReader");function pt(J){ct.call(this,J)}wt("../utils").inherits(pt,ct),pt.prototype.readData=function(J){this.checkOffset(J);var ht=this.data.slice(this.zero+this.index,this.zero+this.index+J);return this.index+=J,ht},R.exports=pt},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(wt,R,at){"use strict";var ct=wt("./DataReader");function pt(J){ct.call(this,J)}wt("../utils").inherits(pt,ct),pt.prototype.byteAt=function(J){return this.data.charCodeAt(this.zero+J)},pt.prototype.lastIndexOfSignature=function(J){return this.data.lastIndexOf(J)-this.zero},pt.prototype.readAndCheckSignature=function(J){return J===this.readData(4)},pt.prototype.readData=function(J){this.checkOffset(J);var ht=this.data.slice(this.zero+this.index,this.zero+this.index+J);return this.index+=J,ht},R.exports=pt},{"../utils":32,"./DataReader":18}],21:[function(wt,R,at){"use strict";var ct=wt("./ArrayReader");function pt(J){ct.call(this,J)}wt("../utils").inherits(pt,ct),pt.prototype.readData=function(J){if(this.checkOffset(J),0===J)return new Uint8Array(0);var ht=this.data.subarray(this.zero+this.index,this.zero+this.index+J);return this.index+=J,ht},R.exports=pt},{"../utils":32,"./ArrayReader":17}],22:[function(wt,R,at){"use strict";var ct=wt("../utils"),nt=wt("../support"),pt=wt("./ArrayReader"),J=wt("./StringReader"),ht=wt("./NodeBufferReader"),rt=wt("./Uint8ArrayReader");R.exports=function(F){var H=ct.getTypeOf(F);return ct.checkSupport(H),"string"!==H||nt.uint8array?"nodebuffer"===H?new ht(F):nt.uint8array?new rt(ct.transformTo("uint8array",F)):new pt(ct.transformTo("array",F)):new J(F)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(wt,R,at){"use strict";at.LOCAL_FILE_HEADER="PK\x03\x04",at.CENTRAL_FILE_HEADER="PK\x01\x02",at.CENTRAL_DIRECTORY_END="PK\x05\x06",at.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",at.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",at.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(wt,R,at){"use strict";var ct=wt("./GenericWorker"),nt=wt("../utils");function pt(J){ct.call(this,"ConvertWorker to "+J),this.destType=J}nt.inherits(pt,ct),pt.prototype.processChunk=function(J){this.push({data:nt.transformTo(this.destType,J.data),meta:J.meta})},R.exports=pt},{"../utils":32,"./GenericWorker":28}],25:[function(wt,R,at){"use strict";var ct=wt("./GenericWorker"),nt=wt("../crc32");function J(){ct.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}wt("../utils").inherits(J,ct),J.prototype.processChunk=function(ht){this.streamInfo.crc32=nt(ht.data,this.streamInfo.crc32||0),this.push(ht)},R.exports=J},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(wt,R,at){"use strict";var ct=wt("../utils"),nt=wt("./GenericWorker");function pt(J){nt.call(this,"DataLengthProbe for "+J),this.propName=J,this.withStreamInfo(J,0)}ct.inherits(pt,nt),pt.prototype.processChunk=function(J){J&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+J.data.length),nt.prototype.processChunk.call(this,J)},R.exports=pt},{"../utils":32,"./GenericWorker":28}],27:[function(wt,R,at){"use strict";var ct=wt("../utils"),nt=wt("./GenericWorker");function J(ht){nt.call(this,"DataWorker");var rt=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,ht.then(function(F){rt.dataIsReady=!0,rt.data=F,rt.max=F&&F.length||0,rt.type=ct.getTypeOf(F),rt.isPaused||rt._tickAndRepeat()},function(F){rt.error(F)})}ct.inherits(J,nt),J.prototype.cleanUp=function(){nt.prototype.cleanUp.call(this),this.data=null},J.prototype.resume=function(){return!!nt.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,ct.delay(this._tickAndRepeat,[],this)),!0)},J.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!this.isPaused&&!this.isFinished&&(this._tick(),this.isFinished||(ct.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},J.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var rt=null,F=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":rt=this.data.substring(this.index,F);break;case"uint8array":rt=this.data.subarray(this.index,F);break;case"array":case"nodebuffer":rt=this.data.slice(this.index,F)}return this.index=F,this.push({data:rt,meta:{percent:this.max?this.index/this.max*100:0}})},R.exports=J},{"../utils":32,"./GenericWorker":28}],28:[function(wt,R,at){"use strict";function ct(nt){this.name=nt||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}ct.prototype={push:function(nt){this.emit("data",nt)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(nt){this.emit("error",nt)}return!0},error:function(nt){return!this.isFinished&&(this.isPaused?this.generatedError=nt:(this.isFinished=!0,this.emit("error",nt),this.previous&&this.previous.error(nt),this.cleanUp()),!0)},on:function(nt,pt){return this._listeners[nt].push(pt),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(nt,pt){if(this._listeners[nt])for(var J=0;J<this._listeners[nt].length;J++)this._listeners[nt][J].call(this,pt)},pipe:function(nt){return nt.registerPrevious(this)},registerPrevious:function(nt){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=nt.streamInfo,this.mergeStreamInfo(),this.previous=nt;var pt=this;return nt.on("data",function(J){pt.processChunk(J)}),nt.on("end",function(){pt.end()}),nt.on("error",function(J){pt.error(J)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var nt=!1;return this.generatedError&&(this.error(this.generatedError),nt=!0),this.previous&&this.previous.resume(),!nt},flush:function(){},processChunk:function(nt){this.push(nt)},withStreamInfo:function(nt,pt){return this.extraStreamInfo[nt]=pt,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var nt in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,nt)&&(this.streamInfo[nt]=this.extraStreamInfo[nt])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var nt="Worker "+this.name;return this.previous?this.previous+" -> "+nt:nt}},R.exports=ct},{}],29:[function(wt,R,at){"use strict";var ct=wt("../utils"),nt=wt("./ConvertWorker"),pt=wt("./GenericWorker"),J=wt("../base64"),ht=wt("../support"),rt=wt("../external"),F=null;if(ht.nodestream)try{F=wt("../nodejs/NodejsStreamOutputAdapter")}catch{}function ut(V,$,mt){var K=$;switch($){case"blob":case"arraybuffer":K="uint8array";break;case"base64":K="string"}try{this._internalType=K,this._outputType=$,this._mimeType=mt,ct.checkSupport(K),this._worker=V.pipe(new nt(K)),V.lock()}catch(st){this._worker=new pt("error"),this._worker.error(st)}}ut.prototype={accumulate:function(V){return function X(V,$){return new rt.Promise(function(mt,K){var st=[],_=V._internalType,et=V._outputType,u=V._mimeType;V.on("data",function(w,m){st.push(w),$&&$(m)}).on("error",function(w){st=[],K(w)}).on("end",function(){try{var w=function H(V,$,mt){switch(V){case"blob":return ct.newBlob(ct.transformTo("arraybuffer",$),mt);case"base64":return J.encode($);default:return ct.transformTo(V,$)}}(et,function N(V,$){var mt,K=0,st=null,_=0;for(mt=0;mt<$.length;mt++)_+=$[mt].length;switch(V){case"string":return $.join("");case"array":return Array.prototype.concat.apply([],$);case"uint8array":for(st=new Uint8Array(_),mt=0;mt<$.length;mt++)st.set($[mt],K),K+=$[mt].length;return st;case"nodebuffer":return Buffer.concat($);default:throw new Error("concat : unsupported type '"+V+"'")}}(_,st),u);mt(w)}catch(m){K(m)}st=[]}).resume()})}(this,V)},on:function(V,$){var mt=this;return this._worker.on(V,"data"===V?function(K){$.call(mt,K.data,K.meta)}:function(){ct.delay($,arguments,mt)}),this},resume:function(){return ct.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(V){if(ct.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new F(this,{objectMode:"nodebuffer"!==this._outputType},V)}},R.exports=ut},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(wt,R,at){"use strict";if(at.base64=!0,at.array=!0,at.string=!0,at.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",at.nodebuffer=typeof Buffer<"u",at.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")at.blob=!1;else{var ct=new ArrayBuffer(0);try{at.blob=0===new Blob([ct],{type:"application/zip"}).size}catch{try{var pt=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);pt.append(ct),at.blob=0===pt.getBlob("application/zip").size}catch{at.blob=!1}}}try{at.nodestream=!!wt("readable-stream").Readable}catch{at.nodestream=!1}},{"readable-stream":16}],31:[function(wt,R,at){"use strict";for(var ct=wt("./utils"),nt=wt("./support"),pt=wt("./nodejsUtils"),J=wt("./stream/GenericWorker"),ht=new Array(256),rt=0;rt<256;rt++)ht[rt]=rt>=252?6:rt>=248?5:rt>=240?4:rt>=224?3:rt>=192?2:1;function X(){J.call(this,"utf-8 decode"),this.leftOver=null}function ut(){J.call(this,"utf-8 encode")}ht[254]=ht[254]=1,at.utf8encode=function($){return nt.nodebuffer?pt.newBufferFrom($,"utf-8"):function(V){var $,mt,K,st,_,et=V.length,u=0;for(st=0;st<et;st++)55296==(64512&(mt=V.charCodeAt(st)))&&st+1<et&&56320==(64512&(K=V.charCodeAt(st+1)))&&(mt=65536+(mt-55296<<10)+(K-56320),st++),u+=mt<128?1:mt<2048?2:mt<65536?3:4;for($=nt.uint8array?new Uint8Array(u):new Array(u),_=0,st=0;_<u;st++)55296==(64512&(mt=V.charCodeAt(st)))&&st+1<et&&56320==(64512&(K=V.charCodeAt(st+1)))&&(mt=65536+(mt-55296<<10)+(K-56320),st++),mt<128?$[_++]=mt:mt<2048?($[_++]=192|mt>>>6,$[_++]=128|63&mt):mt<65536?($[_++]=224|mt>>>12,$[_++]=128|mt>>>6&63,$[_++]=128|63&mt):($[_++]=240|mt>>>18,$[_++]=128|mt>>>12&63,$[_++]=128|mt>>>6&63,$[_++]=128|63&mt);return $}($)},at.utf8decode=function($){return nt.nodebuffer?ct.transformTo("nodebuffer",$).toString("utf-8"):function(V){var $,mt,K,st,_=V.length,et=new Array(2*_);for(mt=0,$=0;$<_;)if((K=V[$++])<128)et[mt++]=K;else if((st=ht[K])>4)et[mt++]=65533,$+=st-1;else{for(K&=2===st?31:3===st?15:7;st>1&&$<_;)K=K<<6|63&V[$++],st--;st>1?et[mt++]=65533:K<65536?et[mt++]=K:(et[mt++]=55296|(K-=65536)>>10&1023,et[mt++]=56320|1023&K)}return et.length!==mt&&(et.subarray?et=et.subarray(0,mt):et.length=mt),ct.applyFromCharCode(et)}($=ct.transformTo(nt.uint8array?"uint8array":"array",$))},ct.inherits(X,J),X.prototype.processChunk=function(V){var $=ct.transformTo(nt.uint8array?"uint8array":"array",V.data);if(this.leftOver&&this.leftOver.length){if(nt.uint8array){var mt=$;($=new Uint8Array(mt.length+this.leftOver.length)).set(this.leftOver,0),$.set(mt,this.leftOver.length)}else $=this.leftOver.concat($);this.leftOver=null}var K=function(V,$){var mt;for(($=$||V.length)>V.length&&($=V.length),mt=$-1;mt>=0&&128==(192&V[mt]);)mt--;return mt<0||0===mt?$:mt+ht[V[mt]]>$?mt:$}($),st=$;K!==$.length&&(nt.uint8array?(st=$.subarray(0,K),this.leftOver=$.subarray(K,$.length)):(st=$.slice(0,K),this.leftOver=$.slice(K,$.length))),this.push({data:at.utf8decode(st),meta:V.meta})},X.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:at.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},at.Utf8DecodeWorker=X,ct.inherits(ut,J),ut.prototype.processChunk=function(V){this.push({data:at.utf8encode(V.data),meta:V.meta})},at.Utf8EncodeWorker=ut},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(wt,R,at){"use strict";var ct=wt("./support"),nt=wt("./base64"),pt=wt("./nodejsUtils"),J=wt("./external");function rt(V){return V}function F(V,$){for(var mt=0;mt<V.length;++mt)$[mt]=255&V.charCodeAt(mt);return $}wt("setimmediate"),at.newBlob=function(V,$){at.checkSupport("blob");try{return new Blob([V],{type:$})}catch{try{var K=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return K.append(V),K.getBlob($)}catch{throw new Error("Bug : can't construct the Blob.")}}};var H={stringifyByChunk:function(V,$,mt){var K=[],st=0,_=V.length;if(_<=mt)return String.fromCharCode.apply(null,V);for(;st<_;)K.push(String.fromCharCode.apply(null,"array"===$||"nodebuffer"===$?V.slice(st,Math.min(st+mt,_)):V.subarray(st,Math.min(st+mt,_)))),st+=mt;return K.join("")},stringifyByChar:function(V){for(var $="",mt=0;mt<V.length;mt++)$+=String.fromCharCode(V[mt]);return $},applyCanBeUsed:{uint8array:function(){try{return ct.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{return!1}}(),nodebuffer:function(){try{return ct.nodebuffer&&1===String.fromCharCode.apply(null,pt.allocBuffer(1)).length}catch{return!1}}()}};function N(V){var $=65536,mt=at.getTypeOf(V),K=!0;if("uint8array"===mt?K=H.applyCanBeUsed.uint8array:"nodebuffer"===mt&&(K=H.applyCanBeUsed.nodebuffer),K)for(;$>1;)try{return H.stringifyByChunk(V,mt,$)}catch{$=Math.floor($/2)}return H.stringifyByChar(V)}function X(V,$){for(var mt=0;mt<V.length;mt++)$[mt]=V[mt];return $}at.applyFromCharCode=N;var ut={};ut.string={string:rt,array:function(V){return F(V,new Array(V.length))},arraybuffer:function(V){return ut.string.uint8array(V).buffer},uint8array:function(V){return F(V,new Uint8Array(V.length))},nodebuffer:function(V){return F(V,pt.allocBuffer(V.length))}},ut.array={string:N,array:rt,arraybuffer:function(V){return new Uint8Array(V).buffer},uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return pt.newBufferFrom(V)}},ut.arraybuffer={string:function(V){return N(new Uint8Array(V))},array:function(V){return X(new Uint8Array(V),new Array(V.byteLength))},arraybuffer:rt,uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return pt.newBufferFrom(new Uint8Array(V))}},ut.uint8array={string:N,array:function(V){return X(V,new Array(V.length))},arraybuffer:function(V){return V.buffer},uint8array:rt,nodebuffer:function(V){return pt.newBufferFrom(V)}},ut.nodebuffer={string:N,array:function(V){return X(V,new Array(V.length))},arraybuffer:function(V){return ut.nodebuffer.uint8array(V).buffer},uint8array:function(V){return X(V,new Uint8Array(V.length))},nodebuffer:rt},at.transformTo=function(V,$){if($||($=""),!V)return $;at.checkSupport(V);var mt=at.getTypeOf($);return ut[mt][V]($)},at.resolve=function(V){for(var $=V.split("/"),mt=[],K=0;K<$.length;K++){var st=$[K];"."===st||""===st&&0!==K&&K!==$.length-1||(".."===st?mt.pop():mt.push(st))}return mt.join("/")},at.getTypeOf=function(V){return"string"==typeof V?"string":"[object Array]"===Object.prototype.toString.call(V)?"array":ct.nodebuffer&&pt.isBuffer(V)?"nodebuffer":ct.uint8array&&V instanceof Uint8Array?"uint8array":ct.arraybuffer&&V instanceof ArrayBuffer?"arraybuffer":void 0},at.checkSupport=function(V){if(!ct[V.toLowerCase()])throw new Error(V+" is not supported by this platform")},at.MAX_VALUE_16BITS=65535,at.MAX_VALUE_32BITS=-1,at.pretty=function(V){var mt,K,$="";for(K=0;K<(V||"").length;K++)$+="\\x"+((mt=V.charCodeAt(K))<16?"0":"")+mt.toString(16).toUpperCase();return $},at.delay=function(V,$,mt){setImmediate(function(){V.apply(mt||null,$||[])})},at.inherits=function(V,$){var mt=function(){};mt.prototype=$.prototype,V.prototype=new mt},at.extend=function(){var $,mt,V={};for($=0;$<arguments.length;$++)for(mt in arguments[$])Object.prototype.hasOwnProperty.call(arguments[$],mt)&&typeof V[mt]>"u"&&(V[mt]=arguments[$][mt]);return V},at.prepareContent=function(V,$,mt,K,st){return J.Promise.resolve($).then(function(et){return ct.blob&&(et instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(et)))&&typeof FileReader<"u"?new J.Promise(function(w,m){var x=new FileReader;x.onload=function(E){w(E.target.result)},x.onerror=function(E){m(E.target.error)},x.readAsArrayBuffer(et)}):et}).then(function(et){var u=at.getTypeOf(et);return u?("arraybuffer"===u?et=at.transformTo("uint8array",et):"string"===u&&(st?et=nt.decode(et):mt&&!0!==K&&(et=function ht(V){return F(V,ct.uint8array?new Uint8Array(V.length):new Array(V.length))}(et))),et):J.Promise.reject(new Error("Can't read the data of '"+V+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(wt,R,at){"use strict";var ct=wt("./reader/readerFor"),nt=wt("./utils"),pt=wt("./signature"),J=wt("./zipEntry"),ht=wt("./support");function rt(F){this.files=[],this.loadOptions=F}rt.prototype={checkSignature:function(F){if(!this.reader.readAndCheckSignature(F)){this.reader.index-=4;var H=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+nt.pretty(H)+", expected "+nt.pretty(F)+")")}},isSignature:function(F,H){var N=this.reader.index;this.reader.setIndex(F);var ut=this.reader.readString(4)===H;return this.reader.setIndex(N),ut},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var F=this.reader.readData(this.zipCommentLength),N=nt.transformTo(ht.uint8array?"uint8array":"array",F);this.zipComment=this.loadOptions.decodeFileName(N)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var N,X,ut,F=this.zip64EndOfCentralSize-44;0<F;)N=this.reader.readInt(2),X=this.reader.readInt(4),ut=this.reader.readData(X),this.zip64ExtensibleData[N]={id:N,length:X,value:ut}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var F,H;for(F=0;F<this.files.length;F++)this.reader.setIndex((H=this.files[F]).localHeaderOffset),this.checkSignature(pt.LOCAL_FILE_HEADER),H.readLocalPart(this.reader),H.handleUTF8(),H.processAttributes()},readCentralDir:function(){var F;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(pt.CENTRAL_FILE_HEADER);)(F=new J({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(F);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var F=this.reader.lastIndexOfSignature(pt.CENTRAL_DIRECTORY_END);if(F<0)throw this.isSignature(0,pt.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(F);var N=F;if(this.checkSignature(pt.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===nt.MAX_VALUE_16BITS||this.diskWithCentralDirStart===nt.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===nt.MAX_VALUE_16BITS||this.centralDirRecords===nt.MAX_VALUE_16BITS||this.centralDirSize===nt.MAX_VALUE_32BITS||this.centralDirOffset===nt.MAX_VALUE_32BITS){if(this.zip64=!0,(F=this.reader.lastIndexOfSignature(pt.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(F),this.checkSignature(pt.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,pt.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(pt.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(pt.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var X=this.centralDirOffset+this.centralDirSize;this.zip64&&(X+=20,X+=12+this.zip64EndOfCentralSize);var ut=N-X;if(ut>0)this.isSignature(N,pt.CENTRAL_FILE_HEADER)||(this.reader.zero=ut);else if(ut<0)throw new Error("Corrupted zip: missing "+Math.abs(ut)+" bytes.")},prepareReader:function(F){this.reader=ct(F)},load:function(F){this.prepareReader(F),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},R.exports=rt},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(wt,R,at){"use strict";var ct=wt("./reader/readerFor"),nt=wt("./utils"),pt=wt("./compressedObject"),J=wt("./crc32"),ht=wt("./utf8"),rt=wt("./compressions"),F=wt("./support");function ut(V,$){this.options=V,this.loadOptions=$}ut.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(V){var $,mt;if(V.skip(22),this.fileNameLength=V.readInt(2),mt=V.readInt(2),this.fileName=V.readData(this.fileNameLength),V.skip(mt),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if($=function(V){for(var $ in rt)if(Object.prototype.hasOwnProperty.call(rt,$)&&rt[$].magic===V)return rt[$];return null}(this.compressionMethod),null===$)throw new Error("Corrupted zip : compression "+nt.pretty(this.compressionMethod)+" unknown (inner file : "+nt.transformTo("string",this.fileName)+")");this.decompressed=new pt(this.compressedSize,this.uncompressedSize,this.crc32,$,V.readData(this.compressedSize))},readCentralPart:function(V){this.versionMadeBy=V.readInt(2),V.skip(2),this.bitFlag=V.readInt(2),this.compressionMethod=V.readString(2),this.date=V.readDate(),this.crc32=V.readInt(4),this.compressedSize=V.readInt(4),this.uncompressedSize=V.readInt(4);var $=V.readInt(2);if(this.extraFieldsLength=V.readInt(2),this.fileCommentLength=V.readInt(2),this.diskNumberStart=V.readInt(2),this.internalFileAttributes=V.readInt(2),this.externalFileAttributes=V.readInt(4),this.localHeaderOffset=V.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");V.skip($),this.readExtraFields(V),this.parseZIP64ExtraField(V),this.fileComment=V.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var V=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===V&&(this.dosPermissions=63&this.externalFileAttributes),3===V&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&"/"===this.fileNameStr.slice(-1)&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var V=ct(this.extraFields[1].value);this.uncompressedSize===nt.MAX_VALUE_32BITS&&(this.uncompressedSize=V.readInt(8)),this.compressedSize===nt.MAX_VALUE_32BITS&&(this.compressedSize=V.readInt(8)),this.localHeaderOffset===nt.MAX_VALUE_32BITS&&(this.localHeaderOffset=V.readInt(8)),this.diskNumberStart===nt.MAX_VALUE_32BITS&&(this.diskNumberStart=V.readInt(4))}},readExtraFields:function(V){var mt,K,st,$=V.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});V.index+4<$;)mt=V.readInt(2),K=V.readInt(2),st=V.readData(K),this.extraFields[mt]={id:mt,length:K,value:st};V.setIndex($)},handleUTF8:function(){var V=F.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=ht.utf8decode(this.fileName),this.fileCommentStr=ht.utf8decode(this.fileComment);else{var $=this.findExtraFieldUnicodePath();if(null!==$)this.fileNameStr=$;else{var mt=nt.transformTo(V,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(mt)}var K=this.findExtraFieldUnicodeComment();if(null!==K)this.fileCommentStr=K;else{var st=nt.transformTo(V,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(st)}}},findExtraFieldUnicodePath:function(){var V=this.extraFields[28789];if(V){var $=ct(V.value);return 1!==$.readInt(1)||J(this.fileName)!==$.readInt(4)?null:ht.utf8decode($.readData(V.length-5))}return null},findExtraFieldUnicodeComment:function(){var V=this.extraFields[25461];if(V){var $=ct(V.value);return 1!==$.readInt(1)||J(this.fileComment)!==$.readInt(4)?null:ht.utf8decode($.readData(V.length-5))}return null}},R.exports=ut},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(wt,R,at){"use strict";var ct=wt("./stream/StreamHelper"),nt=wt("./stream/DataWorker"),pt=wt("./utf8"),J=wt("./compressedObject"),ht=wt("./stream/GenericWorker"),rt=function(X,ut,V){this.name=X,this.dir=V.dir,this.date=V.date,this.comment=V.comment,this.unixPermissions=V.unixPermissions,this.dosPermissions=V.dosPermissions,this._data=ut,this._dataBinary=V.binary,this.options={compression:V.compression,compressionOptions:V.compressionOptions}};rt.prototype={internalStream:function(X){var ut=null,V="string";try{if(!X)throw new Error("No output type specified.");var $="string"===(V=X.toLowerCase())||"text"===V;("binarystring"===V||"text"===V)&&(V="string"),ut=this._decompressWorker();var mt=!this._dataBinary;mt&&!$&&(ut=ut.pipe(new pt.Utf8EncodeWorker)),!mt&&$&&(ut=ut.pipe(new pt.Utf8DecodeWorker))}catch(K){(ut=new ht("error")).error(K)}return new ct(ut,V,"")},async:function(X,ut){return this.internalStream(X).accumulate(ut)},nodeStream:function(X,ut){return this.internalStream(X||"nodebuffer").toNodejsStream(ut)},_compressWorker:function(X,ut){if(this._data instanceof J&&this._data.compression.magic===X.magic)return this._data.getCompressedWorker();var V=this._decompressWorker();return this._dataBinary||(V=V.pipe(new pt.Utf8EncodeWorker)),J.createWorkerFrom(V,X,ut)},_decompressWorker:function(){return this._data instanceof J?this._data.getContentWorker():this._data instanceof ht?this._data:new nt(this._data)}};for(var F=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],H=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},N=0;N<F.length;N++)rt.prototype[F[N]]=H;R.exports=rt},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(wt,R,at){(function(ct){"use strict";var pt,nt=ct.MutationObserver||ct.WebKitMutationObserver;if(nt){var J=0,ht=new nt(X),rt=ct.document.createTextNode("");ht.observe(rt,{characterData:!0}),pt=function(){rt.data=J=++J%2}}else if(!ct.setImmediate&&typeof ct.MessageChannel<"u"){var F=new ct.MessageChannel;F.port1.onmessage=X,pt=function(){F.port2.postMessage(0)}}else pt="document"in ct&&"onreadystatechange"in ct.document.createElement("script")?function(){var V=ct.document.createElement("script");V.onreadystatechange=function(){X(),V.onreadystatechange=null,V.parentNode.removeChild(V),V=null},ct.document.documentElement.appendChild(V)}:function(){setTimeout(X,0)};var H,N=[];function X(){H=!0;for(var V,$,mt=N.length;mt;){for($=N,N=[],V=-1;++V<mt;)$[V]();mt=N.length}H=!1}R.exports=function ut(V){1===N.push(V)&&!H&&pt()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(wt,R,at){"use strict";var ct=wt("immediate");function nt(){}var pt={},J=["REJECTED"],ht=["FULFILLED"],rt=["PENDING"];function F(_){if("function"!=typeof _)throw new TypeError("resolver must be a function");this.state=rt,this.queue=[],this.outcome=void 0,_!==nt&&ut(this,_)}function H(_,et,u){this.promise=_,"function"==typeof et&&(this.onFulfilled=et,this.callFulfilled=this.otherCallFulfilled),"function"==typeof u&&(this.onRejected=u,this.callRejected=this.otherCallRejected)}function N(_,et,u){ct(function(){var w;try{w=et(u)}catch(m){return pt.reject(_,m)}w===_?pt.reject(_,new TypeError("Cannot resolve promise with itself")):pt.resolve(_,w)})}function X(_){var et=_&&_.then;if(_&&("object"==typeof _||"function"==typeof _)&&"function"==typeof et)return function(){et.apply(_,arguments)}}function ut(_,et){var u=!1;function w(A){u||(u=!0,pt.reject(_,A))}function m(A){u||(u=!0,pt.resolve(_,A))}var E=V(function x(){et(m,w)});"error"===E.status&&w(E.value)}function V(_,et){var u={};try{u.value=_(et),u.status="success"}catch(w){u.status="error",u.value=w}return u}R.exports=F,F.prototype.finally=function(_){if("function"!=typeof _)return this;var et=this.constructor;return this.then(function u(m){return et.resolve(_()).then(function x(){return m})},function w(m){return et.resolve(_()).then(function x(){throw m})})},F.prototype.catch=function(_){return this.then(null,_)},F.prototype.then=function(_,et){if("function"!=typeof _&&this.state===ht||"function"!=typeof et&&this.state===J)return this;var u=new this.constructor(nt);return this.state!==rt?N(u,this.state===ht?_:et,this.outcome):this.queue.push(new H(u,_,et)),u},H.prototype.callFulfilled=function(_){pt.resolve(this.promise,_)},H.prototype.otherCallFulfilled=function(_){N(this.promise,this.onFulfilled,_)},H.prototype.callRejected=function(_){pt.reject(this.promise,_)},H.prototype.otherCallRejected=function(_){N(this.promise,this.onRejected,_)},pt.resolve=function(_,et){var u=V(X,et);if("error"===u.status)return pt.reject(_,u.value);var w=u.value;if(w)ut(_,w);else{_.state=ht,_.outcome=et;for(var m=-1,x=_.queue.length;++m<x;)_.queue[m].callFulfilled(et)}return _},pt.reject=function(_,et){_.state=J,_.outcome=et;for(var u=-1,w=_.queue.length;++u<w;)_.queue[u].callRejected(et);return _},F.resolve=function $(_){return _ instanceof this?_:pt.resolve(new this(nt),_)},F.reject=function mt(_){var et=new this(nt);return pt.reject(et,_)},F.all=function K(_){var et=this;if("[object Array]"!==Object.prototype.toString.call(_))return this.reject(new TypeError("must be an array"));var u=_.length,w=!1;if(!u)return this.resolve([]);for(var m=new Array(u),x=0,E=-1,A=new this(nt);++E<u;)T(_[E],E);return A;function T(q,M){et.resolve(q).then(function G(B){m[M]=B,++x===u&&!w&&(w=!0,pt.resolve(A,m))},function(B){w||(w=!0,pt.reject(A,B))})}},F.race=function st(_){if("[object Array]"!==Object.prototype.toString.call(_))return this.reject(new TypeError("must be an array"));var u=_.length,w=!1;if(!u)return this.resolve([]);for(var m=-1,x=new this(nt);++m<u;)this.resolve(_[m]).then(function(T){w||(w=!0,pt.resolve(x,T))},function(T){w||(w=!0,pt.reject(x,T))});return x}},{immediate:36}],38:[function(wt,R,at){"use strict";var ht={};(0,wt("./lib/utils/common").assign)(ht,wt("./lib/deflate"),wt("./lib/inflate"),wt("./lib/zlib/constants")),R.exports=ht},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(wt,R,at){"use strict";var ct=wt("./zlib/deflate"),nt=wt("./utils/common"),pt=wt("./utils/strings"),J=wt("./zlib/messages"),ht=wt("./zlib/zstream"),rt=Object.prototype.toString,N=0,V=-1,$=0,mt=8;function K(u){if(!(this instanceof K))return new K(u);this.options=nt.assign({level:V,method:mt,chunkSize:16384,windowBits:15,memLevel:8,strategy:$,to:""},u||{});var w=this.options;w.raw&&w.windowBits>0?w.windowBits=-w.windowBits:w.gzip&&w.windowBits>0&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ht,this.strm.avail_out=0;var m=ct.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(m!==N)throw new Error(J[m]);if(w.header&&ct.deflateSetHeader(this.strm,w.header),w.dictionary){var x;if(x="string"==typeof w.dictionary?pt.string2buf(w.dictionary):"[object ArrayBuffer]"===rt.call(w.dictionary)?new Uint8Array(w.dictionary):w.dictionary,(m=ct.deflateSetDictionary(this.strm,x))!==N)throw new Error(J[m]);this._dict_set=!0}}function st(u,w){var m=new K(w);if(m.push(u,!0),m.err)throw m.msg||J[m.err];return m.result}K.prototype.push=function(u,w){var E,A,m=this.strm,x=this.options.chunkSize;if(this.ended)return!1;A=w===~~w?w:!0===w?4:0,m.input="string"==typeof u?pt.string2buf(u):"[object ArrayBuffer]"===rt.call(u)?new Uint8Array(u):u,m.next_in=0,m.avail_in=m.input.length;do{if(0===m.avail_out&&(m.output=new nt.Buf8(x),m.next_out=0,m.avail_out=x),1!==(E=ct.deflate(m,A))&&E!==N)return this.onEnd(E),this.ended=!0,!1;(0===m.avail_out||0===m.avail_in&&(4===A||2===A))&&this.onData("string"===this.options.to?pt.buf2binstring(nt.shrinkBuf(m.output,m.next_out)):nt.shrinkBuf(m.output,m.next_out))}while((m.avail_in>0||0===m.avail_out)&&1!==E);return 4===A?(E=ct.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===N):(2===A&&(this.onEnd(N),m.avail_out=0),!0)},K.prototype.onData=function(u){this.chunks.push(u)},K.prototype.onEnd=function(u){u===N&&(this.result="string"===this.options.to?this.chunks.join(""):nt.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},at.Deflate=K,at.deflate=st,at.deflateRaw=function _(u,w){return(w=w||{}).raw=!0,st(u,w)},at.gzip=function et(u,w){return(w=w||{}).gzip=!0,st(u,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(wt,R,at){"use strict";var ct=wt("./zlib/inflate"),nt=wt("./utils/common"),pt=wt("./utils/strings"),J=wt("./zlib/constants"),ht=wt("./zlib/messages"),rt=wt("./zlib/zstream"),F=wt("./zlib/gzheader"),H=Object.prototype.toString;function N(V){if(!(this instanceof N))return new N(V);this.options=nt.assign({chunkSize:16384,windowBits:0,to:""},V||{});var $=this.options;$.raw&&$.windowBits>=0&&$.windowBits<16&&($.windowBits=-$.windowBits,0===$.windowBits&&($.windowBits=-15)),$.windowBits>=0&&$.windowBits<16&&!(V&&V.windowBits)&&($.windowBits+=32),$.windowBits>15&&$.windowBits<48&&(15&$.windowBits||($.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rt,this.strm.avail_out=0;var mt=ct.inflateInit2(this.strm,$.windowBits);if(mt!==J.Z_OK)throw new Error(ht[mt]);this.header=new F,ct.inflateGetHeader(this.strm,this.header)}function X(V,$){var mt=new N($);if(mt.push(V,!0),mt.err)throw mt.msg||ht[mt.err];return mt.result}N.prototype.push=function(V,$){var _,et,u,w,m,x,mt=this.strm,K=this.options.chunkSize,st=this.options.dictionary,E=!1;if(this.ended)return!1;et=$===~~$?$:!0===$?J.Z_FINISH:J.Z_NO_FLUSH,mt.input="string"==typeof V?pt.binstring2buf(V):"[object ArrayBuffer]"===H.call(V)?new Uint8Array(V):V,mt.next_in=0,mt.avail_in=mt.input.length;do{if(0===mt.avail_out&&(mt.output=new nt.Buf8(K),mt.next_out=0,mt.avail_out=K),(_=ct.inflate(mt,J.Z_NO_FLUSH))===J.Z_NEED_DICT&&st&&(x="string"==typeof st?pt.string2buf(st):"[object ArrayBuffer]"===H.call(st)?new Uint8Array(st):st,_=ct.inflateSetDictionary(this.strm,x)),_===J.Z_BUF_ERROR&&!0===E&&(_=J.Z_OK,E=!1),_!==J.Z_STREAM_END&&_!==J.Z_OK)return this.onEnd(_),this.ended=!0,!1;mt.next_out&&(0===mt.avail_out||_===J.Z_STREAM_END||0===mt.avail_in&&(et===J.Z_FINISH||et===J.Z_SYNC_FLUSH))&&("string"===this.options.to?(u=pt.utf8border(mt.output,mt.next_out),w=mt.next_out-u,m=pt.buf2string(mt.output,u),mt.next_out=w,mt.avail_out=K-w,w&&nt.arraySet(mt.output,mt.output,u,w,0),this.onData(m)):this.onData(nt.shrinkBuf(mt.output,mt.next_out))),0===mt.avail_in&&0===mt.avail_out&&(E=!0)}while((mt.avail_in>0||0===mt.avail_out)&&_!==J.Z_STREAM_END);return _===J.Z_STREAM_END&&(et=J.Z_FINISH),et===J.Z_FINISH?(_=ct.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===J.Z_OK):(et===J.Z_SYNC_FLUSH&&(this.onEnd(J.Z_OK),mt.avail_out=0),!0)},N.prototype.onData=function(V){this.chunks.push(V)},N.prototype.onEnd=function(V){V===J.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):nt.flattenChunks(this.chunks)),this.chunks=[],this.err=V,this.msg=this.strm.msg},at.Inflate=N,at.inflate=X,at.inflateRaw=function ut(V,$){return($=$||{}).raw=!0,X(V,$)},at.ungzip=X},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(wt,R,at){"use strict";var ct=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";at.assign=function(J){for(var ht=Array.prototype.slice.call(arguments,1);ht.length;){var rt=ht.shift();if(rt){if("object"!=typeof rt)throw new TypeError(rt+"must be non-object");for(var F in rt)rt.hasOwnProperty(F)&&(J[F]=rt[F])}}return J},at.shrinkBuf=function(J,ht){return J.length===ht?J:J.subarray?J.subarray(0,ht):(J.length=ht,J)};var nt={arraySet:function(J,ht,rt,F,H){if(ht.subarray&&J.subarray)J.set(ht.subarray(rt,rt+F),H);else for(var N=0;N<F;N++)J[H+N]=ht[rt+N]},flattenChunks:function(J){var ht,rt,F,H,N,X;for(F=0,ht=0,rt=J.length;ht<rt;ht++)F+=J[ht].length;for(X=new Uint8Array(F),H=0,ht=0,rt=J.length;ht<rt;ht++)X.set(N=J[ht],H),H+=N.length;return X}},pt={arraySet:function(J,ht,rt,F,H){for(var N=0;N<F;N++)J[H+N]=ht[rt+N]},flattenChunks:function(J){return[].concat.apply([],J)}};at.setTyped=function(J){J?(at.Buf8=Uint8Array,at.Buf16=Uint16Array,at.Buf32=Int32Array,at.assign(at,nt)):(at.Buf8=Array,at.Buf16=Array,at.Buf32=Array,at.assign(at,pt))},at.setTyped(ct)},{}],42:[function(wt,R,at){"use strict";var ct=wt("./common"),nt=!0,pt=!0;try{String.fromCharCode.apply(null,[0])}catch{nt=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pt=!1}for(var J=new ct.Buf8(256),ht=0;ht<256;ht++)J[ht]=ht>=252?6:ht>=248?5:ht>=240?4:ht>=224?3:ht>=192?2:1;function rt(F,H){if(H<65537&&(F.subarray&&pt||!F.subarray&&nt))return String.fromCharCode.apply(null,ct.shrinkBuf(F,H));for(var N="",X=0;X<H;X++)N+=String.fromCharCode(F[X]);return N}J[254]=J[254]=1,at.string2buf=function(F){var H,N,X,ut,V,$=F.length,mt=0;for(ut=0;ut<$;ut++)55296==(64512&(N=F.charCodeAt(ut)))&&ut+1<$&&56320==(64512&(X=F.charCodeAt(ut+1)))&&(N=65536+(N-55296<<10)+(X-56320),ut++),mt+=N<128?1:N<2048?2:N<65536?3:4;for(H=new ct.Buf8(mt),V=0,ut=0;V<mt;ut++)55296==(64512&(N=F.charCodeAt(ut)))&&ut+1<$&&56320==(64512&(X=F.charCodeAt(ut+1)))&&(N=65536+(N-55296<<10)+(X-56320),ut++),N<128?H[V++]=N:N<2048?(H[V++]=192|N>>>6,H[V++]=128|63&N):N<65536?(H[V++]=224|N>>>12,H[V++]=128|N>>>6&63,H[V++]=128|63&N):(H[V++]=240|N>>>18,H[V++]=128|N>>>12&63,H[V++]=128|N>>>6&63,H[V++]=128|63&N);return H},at.buf2binstring=function(F){return rt(F,F.length)},at.binstring2buf=function(F){for(var H=new ct.Buf8(F.length),N=0,X=H.length;N<X;N++)H[N]=F.charCodeAt(N);return H},at.buf2string=function(F,H){var N,X,ut,V,$=H||F.length,mt=new Array(2*$);for(X=0,N=0;N<$;)if((ut=F[N++])<128)mt[X++]=ut;else if((V=J[ut])>4)mt[X++]=65533,N+=V-1;else{for(ut&=2===V?31:3===V?15:7;V>1&&N<$;)ut=ut<<6|63&F[N++],V--;V>1?mt[X++]=65533:ut<65536?mt[X++]=ut:(mt[X++]=55296|(ut-=65536)>>10&1023,mt[X++]=56320|1023&ut)}return rt(mt,X)},at.utf8border=function(F,H){var N;for((H=H||F.length)>F.length&&(H=F.length),N=H-1;N>=0&&128==(192&F[N]);)N--;return N<0||0===N?H:N+J[F[N]]>H?N:H}},{"./common":41}],43:[function(wt,R,at){"use strict";R.exports=function ct(nt,pt,J,ht){for(var rt=65535&nt|0,F=nt>>>16&65535|0,H=0;0!==J;){J-=H=J>2e3?2e3:J;do{F=F+(rt=rt+pt[ht++]|0)|0}while(--H);rt%=65521,F%=65521}return rt|F<<16|0}},{}],44:[function(wt,R,at){"use strict";R.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(wt,R,at){"use strict";var nt=function ct(){for(var J,ht=[],rt=0;rt<256;rt++){J=rt;for(var F=0;F<8;F++)J=1&J?3988292384^J>>>1:J>>>1;ht[rt]=J}return ht}();R.exports=function pt(J,ht,rt,F){var H=nt,N=F+rt;J^=-1;for(var X=F;X<N;X++)J=J>>>8^H[255&(J^ht[X])];return-1^J}},{}],46:[function(wt,R,at){"use strict";var bn,ct=wt("../utils/common"),nt=wt("./trees"),pt=wt("./adler32"),J=wt("./crc32"),ht=wt("./messages"),rt=0,ut=0,$=-2,x=2,E=8,B=286,ot=30,U=19,Lt=2*B+1,Mt=15,St=3,Pt=258,Jt=Pt+St+1,zt=42,Ee=113;function Fe(tt,Te){return tt.msg=ht[Te],Te}function Me(tt){return(tt<<1)-(tt>4?9:0)}function sn(tt){for(var Te=tt.length;--Te>=0;)tt[Te]=0}function mn(tt){var Te=tt.state,Oe=Te.pending;Oe>tt.avail_out&&(Oe=tt.avail_out),0!==Oe&&(ct.arraySet(tt.output,Te.pending_buf,Te.pending_out,Oe,tt.next_out),tt.next_out+=Oe,Te.pending_out+=Oe,tt.total_out+=Oe,tt.avail_out-=Oe,Te.pending-=Oe,0===Te.pending&&(Te.pending_out=0))}function gn(tt,Te){nt._tr_flush_block(tt,tt.block_start>=0?tt.block_start:-1,tt.strstart-tt.block_start,Te),tt.block_start=tt.strstart,mn(tt.strm)}function ce(tt,Te){tt.pending_buf[tt.pending++]=Te}function se(tt,Te){tt.pending_buf[tt.pending++]=Te>>>8&255,tt.pending_buf[tt.pending++]=255&Te}function dt(tt,Te,Oe,Nt){var oe=tt.avail_in;return oe>Nt&&(oe=Nt),0===oe?0:(tt.avail_in-=oe,ct.arraySet(Te,tt.input,tt.next_in,oe,Oe),1===tt.state.wrap?tt.adler=pt(tt.adler,Te,oe,Oe):2===tt.state.wrap&&(tt.adler=J(tt.adler,Te,oe,Oe)),tt.next_in+=oe,tt.total_in+=oe,oe)}function yt(tt,Te){var oe,we,Oe=tt.max_chain_length,Nt=tt.strstart,un=tt.prev_length,Qe=tt.nice_match,rn=tt.strstart>tt.w_size-Jt?tt.strstart-(tt.w_size-Jt):0,Hn=tt.window,Br=tt.w_mask,Bn=tt.prev,Zn=tt.strstart+Pt,or=Hn[Nt+un-1],Cr=Hn[Nt+un];tt.prev_length>=tt.good_match&&(Oe>>=2),Qe>tt.lookahead&&(Qe=tt.lookahead);do{if(Hn[(oe=Te)+un]===Cr&&Hn[oe+un-1]===or&&Hn[oe]===Hn[Nt]&&Hn[++oe]===Hn[Nt+1]){Nt+=2,oe++;do{}while(Hn[++Nt]===Hn[++oe]&&Hn[++Nt]===Hn[++oe]&&Hn[++Nt]===Hn[++oe]&&Hn[++Nt]===Hn[++oe]&&Hn[++Nt]===Hn[++oe]&&Hn[++Nt]===Hn[++oe]&&Hn[++Nt]===Hn[++oe]&&Hn[++Nt]===Hn[++oe]&&Nt<Zn);if(we=Pt-(Zn-Nt),Nt=Zn-Pt,we>un){if(tt.match_start=Te,un=we,we>=Qe)break;or=Hn[Nt+un-1],Cr=Hn[Nt+un]}}}while((Te=Bn[Te&Br])>rn&&0!=--Oe);return un<=tt.lookahead?un:tt.lookahead}function Rt(tt){var Oe,Nt,oe,we,un,Te=tt.w_size;do{if(we=tt.window_size-tt.lookahead-tt.strstart,tt.strstart>=Te+(Te-Jt)){ct.arraySet(tt.window,tt.window,Te,Te,0),tt.match_start-=Te,tt.strstart-=Te,tt.block_start-=Te,Oe=Nt=tt.hash_size;do{oe=tt.head[--Oe],tt.head[Oe]=oe>=Te?oe-Te:0}while(--Nt);Oe=Nt=Te;do{oe=tt.prev[--Oe],tt.prev[Oe]=oe>=Te?oe-Te:0}while(--Nt);we+=Te}if(0===tt.strm.avail_in)break;if(Nt=dt(tt.strm,tt.window,tt.strstart+tt.lookahead,we),tt.lookahead+=Nt,tt.lookahead+tt.insert>=St)for(tt.ins_h=tt.window[un=tt.strstart-tt.insert],tt.ins_h=(tt.ins_h<<tt.hash_shift^tt.window[un+1])&tt.hash_mask;tt.insert&&(tt.ins_h=(tt.ins_h<<tt.hash_shift^tt.window[un+St-1])&tt.hash_mask,tt.prev[un&tt.w_mask]=tt.head[tt.ins_h],tt.head[tt.ins_h]=un,un++,tt.insert--,!(tt.lookahead+tt.insert<St)););}while(tt.lookahead<Jt&&0!==tt.strm.avail_in)}function xe(tt,Te){for(var Oe,Nt;;){if(tt.lookahead<Jt){if(Rt(tt),tt.lookahead<Jt&&Te===rt)return 1;if(0===tt.lookahead)break}if(Oe=0,tt.lookahead>=St&&(tt.ins_h=(tt.ins_h<<tt.hash_shift^tt.window[tt.strstart+St-1])&tt.hash_mask,Oe=tt.prev[tt.strstart&tt.w_mask]=tt.head[tt.ins_h],tt.head[tt.ins_h]=tt.strstart),0!==Oe&&tt.strstart-Oe<=tt.w_size-Jt&&(tt.match_length=yt(tt,Oe)),tt.match_length>=St)if(Nt=nt._tr_tally(tt,tt.strstart-tt.match_start,tt.match_length-St),tt.lookahead-=tt.match_length,tt.match_length<=tt.max_lazy_match&&tt.lookahead>=St){tt.match_length--;do{tt.strstart++,tt.ins_h=(tt.ins_h<<tt.hash_shift^tt.window[tt.strstart+St-1])&tt.hash_mask,Oe=tt.prev[tt.strstart&tt.w_mask]=tt.head[tt.ins_h],tt.head[tt.ins_h]=tt.strstart}while(0!=--tt.match_length);tt.strstart++}else tt.strstart+=tt.match_length,tt.match_length=0,tt.ins_h=tt.window[tt.strstart],tt.ins_h=(tt.ins_h<<tt.hash_shift^tt.window[tt.strstart+1])&tt.hash_mask;else Nt=nt._tr_tally(tt,0,tt.window[tt.strstart]),tt.lookahead--,tt.strstart++;if(Nt&&(gn(tt,!1),0===tt.strm.avail_out))return 1}return tt.insert=tt.strstart<St-1?tt.strstart:St-1,4===Te?(gn(tt,!0),0===tt.strm.avail_out?3:4):tt.last_lit&&(gn(tt,!1),0===tt.strm.avail_out)?1:2}function Se(tt,Te){for(var Oe,Nt,oe;;){if(tt.lookahead<Jt){if(Rt(tt),tt.lookahead<Jt&&Te===rt)return 1;if(0===tt.lookahead)break}if(Oe=0,tt.lookahead>=St&&(tt.ins_h=(tt.ins_h<<tt.hash_shift^tt.window[tt.strstart+St-1])&tt.hash_mask,Oe=tt.prev[tt.strstart&tt.w_mask]=tt.head[tt.ins_h],tt.head[tt.ins_h]=tt.strstart),tt.prev_length=tt.match_length,tt.prev_match=tt.match_start,tt.match_length=St-1,0!==Oe&&tt.prev_length<tt.max_lazy_match&&tt.strstart-Oe<=tt.w_size-Jt&&(tt.match_length=yt(tt,Oe),tt.match_length<=5&&(1===tt.strategy||tt.match_length===St&&tt.strstart-tt.match_start>4096)&&(tt.match_length=St-1)),tt.prev_length>=St&&tt.match_length<=tt.prev_length){oe=tt.strstart+tt.lookahead-St,Nt=nt._tr_tally(tt,tt.strstart-1-tt.prev_match,tt.prev_length-St),tt.lookahead-=tt.prev_length-1,tt.prev_length-=2;do{++tt.strstart<=oe&&(tt.ins_h=(tt.ins_h<<tt.hash_shift^tt.window[tt.strstart+St-1])&tt.hash_mask,Oe=tt.prev[tt.strstart&tt.w_mask]=tt.head[tt.ins_h],tt.head[tt.ins_h]=tt.strstart)}while(0!=--tt.prev_length);if(tt.match_available=0,tt.match_length=St-1,tt.strstart++,Nt&&(gn(tt,!1),0===tt.strm.avail_out))return 1}else if(tt.match_available){if((Nt=nt._tr_tally(tt,0,tt.window[tt.strstart-1]))&&gn(tt,!1),tt.strstart++,tt.lookahead--,0===tt.strm.avail_out)return 1}else tt.match_available=1,tt.strstart++,tt.lookahead--}return tt.match_available&&(Nt=nt._tr_tally(tt,0,tt.window[tt.strstart-1]),tt.match_available=0),tt.insert=tt.strstart<St-1?tt.strstart:St-1,4===Te?(gn(tt,!0),0===tt.strm.avail_out?3:4):tt.last_lit&&(gn(tt,!1),0===tt.strm.avail_out)?1:2}function jn(tt,Te,Oe,Nt,oe){this.good_length=tt,this.max_lazy=Te,this.nice_length=Oe,this.max_chain=Nt,this.func=oe}function At(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ct.Buf16(2*Lt),this.dyn_dtree=new ct.Buf16(2*(2*ot+1)),this.bl_tree=new ct.Buf16(2*(2*U+1)),sn(this.dyn_ltree),sn(this.dyn_dtree),sn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ct.Buf16(Mt+1),this.heap=new ct.Buf16(2*B+1),sn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ct.Buf16(2*B+1),sn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Be(tt){var Te;return tt&&tt.state?(tt.total_in=tt.total_out=0,tt.data_type=x,(Te=tt.state).pending=0,Te.pending_out=0,Te.wrap<0&&(Te.wrap=-Te.wrap),Te.status=Te.wrap?zt:Ee,tt.adler=2===Te.wrap?0:1,Te.last_flush=rt,nt._tr_init(Te),ut):Fe(tt,$)}function Ct(tt){var Te=Be(tt);return Te===ut&&function $n(tt){tt.window_size=2*tt.w_size,sn(tt.head),tt.max_lazy_match=bn[tt.level].max_lazy,tt.good_match=bn[tt.level].good_length,tt.nice_match=bn[tt.level].nice_length,tt.max_chain_length=bn[tt.level].max_chain,tt.strstart=0,tt.block_start=0,tt.lookahead=0,tt.insert=0,tt.match_length=tt.prev_length=St-1,tt.match_available=0,tt.ins_h=0}(tt.state),Te}function jt(tt,Te,Oe,Nt,oe,we){if(!tt)return $;var un=1;if(-1===Te&&(Te=6),Nt<0?(un=0,Nt=-Nt):Nt>15&&(un=2,Nt-=16),oe<1||oe>9||Oe!==E||Nt<8||Nt>15||Te<0||Te>9||we<0||we>4)return Fe(tt,$);8===Nt&&(Nt=9);var Qe=new At;return tt.state=Qe,Qe.strm=tt,Qe.wrap=un,Qe.gzhead=null,Qe.w_bits=Nt,Qe.w_size=1<<Qe.w_bits,Qe.w_mask=Qe.w_size-1,Qe.hash_bits=oe+7,Qe.hash_size=1<<Qe.hash_bits,Qe.hash_mask=Qe.hash_size-1,Qe.hash_shift=~~((Qe.hash_bits+St-1)/St),Qe.window=new ct.Buf8(2*Qe.w_size),Qe.head=new ct.Buf16(Qe.hash_size),Qe.prev=new ct.Buf16(Qe.w_size),Qe.lit_bufsize=1<<oe+6,Qe.pending_buf_size=4*Qe.lit_bufsize,Qe.pending_buf=new ct.Buf8(Qe.pending_buf_size),Qe.d_buf=1*Qe.lit_bufsize,Qe.l_buf=3*Qe.lit_bufsize,Qe.level=Te,Qe.strategy=we,Qe.method=Oe,Ct(tt)}bn=[new jn(0,0,0,0,function re(tt,Te){var Oe=65535;for(Oe>tt.pending_buf_size-5&&(Oe=tt.pending_buf_size-5);;){if(tt.lookahead<=1){if(Rt(tt),0===tt.lookahead&&Te===rt)return 1;if(0===tt.lookahead)break}tt.strstart+=tt.lookahead,tt.lookahead=0;var Nt=tt.block_start+Oe;if((0===tt.strstart||tt.strstart>=Nt)&&(tt.lookahead=tt.strstart-Nt,tt.strstart=Nt,gn(tt,!1),0===tt.strm.avail_out)||tt.strstart-tt.block_start>=tt.w_size-Jt&&(gn(tt,!1),0===tt.strm.avail_out))return 1}return tt.insert=0,4===Te?(gn(tt,!0),0===tt.strm.avail_out?3:4):(tt.strstart>tt.block_start&&gn(tt,!1),1)}),new jn(4,4,8,4,xe),new jn(4,5,16,8,xe),new jn(4,6,32,32,xe),new jn(4,4,16,16,Se),new jn(8,16,32,32,Se),new jn(8,16,128,128,Se),new jn(8,32,128,256,Se),new jn(32,128,258,1024,Se),new jn(32,258,258,4096,Se)],at.deflateInit=function Wt(tt,Te){return jt(tt,Te,E,15,8,0)},at.deflateInit2=jt,at.deflateReset=Ct,at.deflateResetKeep=Be,at.deflateSetHeader=function kt(tt,Te){return tt&&tt.state&&2===tt.state.wrap?(tt.state.gzhead=Te,ut):$},at.deflate=function gt(tt,Te){var Oe,Nt,oe,we;if(!tt||!tt.state||Te>5||Te<0)return tt?Fe(tt,$):$;if(Nt=tt.state,!tt.output||!tt.input&&0!==tt.avail_in||666===Nt.status&&4!==Te)return Fe(tt,0===tt.avail_out?-5:$);if(Nt.strm=tt,Oe=Nt.last_flush,Nt.last_flush=Te,Nt.status===zt)if(2===Nt.wrap)tt.adler=0,ce(Nt,31),ce(Nt,139),ce(Nt,8),Nt.gzhead?(ce(Nt,(Nt.gzhead.text?1:0)+(Nt.gzhead.hcrc?2:0)+(Nt.gzhead.extra?4:0)+(Nt.gzhead.name?8:0)+(Nt.gzhead.comment?16:0)),ce(Nt,255&Nt.gzhead.time),ce(Nt,Nt.gzhead.time>>8&255),ce(Nt,Nt.gzhead.time>>16&255),ce(Nt,Nt.gzhead.time>>24&255),ce(Nt,9===Nt.level?2:Nt.strategy>=2||Nt.level<2?4:0),ce(Nt,255&Nt.gzhead.os),Nt.gzhead.extra&&Nt.gzhead.extra.length&&(ce(Nt,255&Nt.gzhead.extra.length),ce(Nt,Nt.gzhead.extra.length>>8&255)),Nt.gzhead.hcrc&&(tt.adler=J(tt.adler,Nt.pending_buf,Nt.pending,0)),Nt.gzindex=0,Nt.status=69):(ce(Nt,0),ce(Nt,0),ce(Nt,0),ce(Nt,0),ce(Nt,0),ce(Nt,9===Nt.level?2:Nt.strategy>=2||Nt.level<2?4:0),ce(Nt,3),Nt.status=Ee);else{var un=E+(Nt.w_bits-8<<4)<<8;un|=(Nt.strategy>=2||Nt.level<2?0:Nt.level<6?1:6===Nt.level?2:3)<<6,0!==Nt.strstart&&(un|=32),un+=31-un%31,Nt.status=Ee,se(Nt,un),0!==Nt.strstart&&(se(Nt,tt.adler>>>16),se(Nt,65535&tt.adler)),tt.adler=1}if(69===Nt.status)if(Nt.gzhead.extra){for(oe=Nt.pending;Nt.gzindex<(65535&Nt.gzhead.extra.length)&&(Nt.pending!==Nt.pending_buf_size||(Nt.gzhead.hcrc&&Nt.pending>oe&&(tt.adler=J(tt.adler,Nt.pending_buf,Nt.pending-oe,oe)),mn(tt),oe=Nt.pending,Nt.pending!==Nt.pending_buf_size));)ce(Nt,255&Nt.gzhead.extra[Nt.gzindex]),Nt.gzindex++;Nt.gzhead.hcrc&&Nt.pending>oe&&(tt.adler=J(tt.adler,Nt.pending_buf,Nt.pending-oe,oe)),Nt.gzindex===Nt.gzhead.extra.length&&(Nt.gzindex=0,Nt.status=73)}else Nt.status=73;if(73===Nt.status)if(Nt.gzhead.name){oe=Nt.pending;do{if(Nt.pending===Nt.pending_buf_size&&(Nt.gzhead.hcrc&&Nt.pending>oe&&(tt.adler=J(tt.adler,Nt.pending_buf,Nt.pending-oe,oe)),mn(tt),oe=Nt.pending,Nt.pending===Nt.pending_buf_size)){we=1;break}we=Nt.gzindex<Nt.gzhead.name.length?255&Nt.gzhead.name.charCodeAt(Nt.gzindex++):0,ce(Nt,we)}while(0!==we);Nt.gzhead.hcrc&&Nt.pending>oe&&(tt.adler=J(tt.adler,Nt.pending_buf,Nt.pending-oe,oe)),0===we&&(Nt.gzindex=0,Nt.status=91)}else Nt.status=91;if(91===Nt.status)if(Nt.gzhead.comment){oe=Nt.pending;do{if(Nt.pending===Nt.pending_buf_size&&(Nt.gzhead.hcrc&&Nt.pending>oe&&(tt.adler=J(tt.adler,Nt.pending_buf,Nt.pending-oe,oe)),mn(tt),oe=Nt.pending,Nt.pending===Nt.pending_buf_size)){we=1;break}we=Nt.gzindex<Nt.gzhead.comment.length?255&Nt.gzhead.comment.charCodeAt(Nt.gzindex++):0,ce(Nt,we)}while(0!==we);Nt.gzhead.hcrc&&Nt.pending>oe&&(tt.adler=J(tt.adler,Nt.pending_buf,Nt.pending-oe,oe)),0===we&&(Nt.status=103)}else Nt.status=103;if(103===Nt.status&&(Nt.gzhead.hcrc?(Nt.pending+2>Nt.pending_buf_size&&mn(tt),Nt.pending+2<=Nt.pending_buf_size&&(ce(Nt,255&tt.adler),ce(Nt,tt.adler>>8&255),tt.adler=0,Nt.status=Ee)):Nt.status=Ee),0!==Nt.pending){if(mn(tt),0===tt.avail_out)return Nt.last_flush=-1,ut}else if(0===tt.avail_in&&Me(Te)<=Me(Oe)&&4!==Te)return Fe(tt,-5);if(666===Nt.status&&0!==tt.avail_in)return Fe(tt,-5);if(0!==tt.avail_in||0!==Nt.lookahead||Te!==rt&&666!==Nt.status){var rn=2===Nt.strategy?function Sn(tt,Te){for(var Oe;;){if(0===tt.lookahead&&(Rt(tt),0===tt.lookahead)){if(Te===rt)return 1;break}if(tt.match_length=0,Oe=nt._tr_tally(tt,0,tt.window[tt.strstart]),tt.lookahead--,tt.strstart++,Oe&&(gn(tt,!1),0===tt.strm.avail_out))return 1}return tt.insert=0,4===Te?(gn(tt,!0),0===tt.strm.avail_out?3:4):tt.last_lit&&(gn(tt,!1),0===tt.strm.avail_out)?1:2}(Nt,Te):3===Nt.strategy?function He(tt,Te){for(var Oe,Nt,oe,we,un=tt.window;;){if(tt.lookahead<=Pt){if(Rt(tt),tt.lookahead<=Pt&&Te===rt)return 1;if(0===tt.lookahead)break}if(tt.match_length=0,tt.lookahead>=St&&tt.strstart>0&&(Nt=un[oe=tt.strstart-1])===un[++oe]&&Nt===un[++oe]&&Nt===un[++oe]){we=tt.strstart+Pt;do{}while(Nt===un[++oe]&&Nt===un[++oe]&&Nt===un[++oe]&&Nt===un[++oe]&&Nt===un[++oe]&&Nt===un[++oe]&&Nt===un[++oe]&&Nt===un[++oe]&&oe<we);tt.match_length=Pt-(we-oe),tt.match_length>tt.lookahead&&(tt.match_length=tt.lookahead)}if(tt.match_length>=St?(Oe=nt._tr_tally(tt,1,tt.match_length-St),tt.lookahead-=tt.match_length,tt.strstart+=tt.match_length,tt.match_length=0):(Oe=nt._tr_tally(tt,0,tt.window[tt.strstart]),tt.lookahead--,tt.strstart++),Oe&&(gn(tt,!1),0===tt.strm.avail_out))return 1}return tt.insert=0,4===Te?(gn(tt,!0),0===tt.strm.avail_out?3:4):tt.last_lit&&(gn(tt,!1),0===tt.strm.avail_out)?1:2}(Nt,Te):bn[Nt.level].func(Nt,Te);if((3===rn||4===rn)&&(Nt.status=666),1===rn||3===rn)return 0===tt.avail_out&&(Nt.last_flush=-1),ut;if(2===rn&&(1===Te?nt._tr_align(Nt):5!==Te&&(nt._tr_stored_block(Nt,0,0,!1),3===Te&&(sn(Nt.head),0===Nt.lookahead&&(Nt.strstart=0,Nt.block_start=0,Nt.insert=0))),mn(tt),0===tt.avail_out))return Nt.last_flush=-1,ut}return 4!==Te?ut:Nt.wrap<=0?1:(2===Nt.wrap?(ce(Nt,255&tt.adler),ce(Nt,tt.adler>>8&255),ce(Nt,tt.adler>>16&255),ce(Nt,tt.adler>>24&255),ce(Nt,255&tt.total_in),ce(Nt,tt.total_in>>8&255),ce(Nt,tt.total_in>>16&255),ce(Nt,tt.total_in>>24&255)):(se(Nt,tt.adler>>>16),se(Nt,65535&tt.adler)),mn(tt),Nt.wrap>0&&(Nt.wrap=-Nt.wrap),0!==Nt.pending?ut:1)},at.deflateEnd=function Ce(tt){var Te;return tt&&tt.state?(Te=tt.state.status)!==zt&&69!==Te&&73!==Te&&91!==Te&&103!==Te&&Te!==Ee&&666!==Te?Fe(tt,$):(tt.state=null,Te===Ee?Fe(tt,-3):ut):$},at.deflateSetDictionary=function Ze(tt,Te){var Nt,oe,we,un,Qe,rn,Hn,Br,Oe=Te.length;if(!tt||!tt.state||2===(un=(Nt=tt.state).wrap)||1===un&&Nt.status!==zt||Nt.lookahead)return $;for(1===un&&(tt.adler=pt(tt.adler,Te,Oe,0)),Nt.wrap=0,Oe>=Nt.w_size&&(0===un&&(sn(Nt.head),Nt.strstart=0,Nt.block_start=0,Nt.insert=0),Br=new ct.Buf8(Nt.w_size),ct.arraySet(Br,Te,Oe-Nt.w_size,Nt.w_size,0),Te=Br,Oe=Nt.w_size),Qe=tt.avail_in,rn=tt.next_in,Hn=tt.input,tt.avail_in=Oe,tt.next_in=0,tt.input=Te,Rt(Nt);Nt.lookahead>=St;){oe=Nt.strstart,we=Nt.lookahead-(St-1);do{Nt.ins_h=(Nt.ins_h<<Nt.hash_shift^Nt.window[oe+St-1])&Nt.hash_mask,Nt.prev[oe&Nt.w_mask]=Nt.head[Nt.ins_h],Nt.head[Nt.ins_h]=oe,oe++}while(--we);Nt.strstart=oe,Nt.lookahead=St-1,Rt(Nt)}return Nt.strstart+=Nt.lookahead,Nt.block_start=Nt.strstart,Nt.insert=Nt.lookahead,Nt.lookahead=0,Nt.match_length=Nt.prev_length=St-1,Nt.match_available=0,tt.next_in=rn,tt.input=Hn,tt.avail_in=Qe,Nt.wrap=un,ut},at.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(wt,R,at){"use strict";R.exports=function ct(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(wt,R,at){"use strict";R.exports=function(J,ht){var rt,F,H,N,X,ut,V,$,mt,K,st,_,et,u,w,m,x,E,A,T,q,M,G,B,ot;B=J.input,H=(F=J.next_in)+(J.avail_in-5),ot=J.output,X=(N=J.next_out)-(ht-J.avail_out),ut=N+(J.avail_out-257),V=(rt=J.state).dmax,$=rt.wsize,mt=rt.whave,K=rt.wnext,st=rt.window,_=rt.hold,et=rt.bits,u=rt.lencode,w=rt.distcode,m=(1<<rt.lenbits)-1,x=(1<<rt.distbits)-1;t:do{et<15&&(_+=B[F++]<<et,_+=B[F++]<<(et+=8),et+=8),E=u[_&m];e:for(;;){if(_>>>=A=E>>>24,et-=A,0==(A=E>>>16&255))ot[N++]=65535&E;else{if(!(16&A)){if(64&A){if(32&A){rt.mode=12;break t}J.msg="invalid literal/length code",rt.mode=30;break t}E=u[(65535&E)+(_&(1<<A)-1)];continue e}for(T=65535&E,(A&=15)&&(et<A&&(_+=B[F++]<<et,et+=8),T+=_&(1<<A)-1,_>>>=A,et-=A),et<15&&(_+=B[F++]<<et,_+=B[F++]<<(et+=8),et+=8),E=w[_&x];;){if(_>>>=A=E>>>24,et-=A,16&(A=E>>>16&255)){if(q=65535&E,et<(A&=15)&&(_+=B[F++]<<et,(et+=8)<A&&(_+=B[F++]<<et,et+=8)),(q+=_&(1<<A)-1)>V){J.msg="invalid distance too far back",rt.mode=30;break t}if(_>>>=A,et-=A,q>(A=N-X)){if((A=q-A)>mt&&rt.sane){J.msg="invalid distance too far back",rt.mode=30;break t}if(M=0,G=st,0===K){if(M+=$-A,A<T){T-=A;do{ot[N++]=st[M++]}while(--A);M=N-q,G=ot}}else if(K<A){if(M+=$+K-A,(A-=K)<T){T-=A;do{ot[N++]=st[M++]}while(--A);if(M=0,K<T){T-=A=K;do{ot[N++]=st[M++]}while(--A);M=N-q,G=ot}}}else if(M+=K-A,A<T){T-=A;do{ot[N++]=st[M++]}while(--A);M=N-q,G=ot}for(;T>2;)ot[N++]=G[M++],ot[N++]=G[M++],ot[N++]=G[M++],T-=3;T&&(ot[N++]=G[M++],T>1&&(ot[N++]=G[M++]))}else{M=N-q;do{ot[N++]=ot[M++],ot[N++]=ot[M++],ot[N++]=ot[M++],T-=3}while(T>2);T&&(ot[N++]=ot[M++],T>1&&(ot[N++]=ot[M++]))}break}if(64&A){J.msg="invalid distance code",rt.mode=30;break t}E=w[(65535&E)+(_&(1<<A)-1)]}}break}}while(F<H&&N<ut);_&=(1<<(et-=(T=et>>3)<<3))-1,J.next_in=F-=T,J.next_out=N,J.avail_in=F<H?H-F+5:5-(F-H),J.avail_out=N<ut?ut-N+257:257-(N-ut),rt.hold=_,rt.bits=et}},{}],49:[function(wt,R,at){"use strict";var ct=wt("../utils/common"),nt=wt("./adler32"),pt=wt("./crc32"),J=wt("./inffast"),ht=wt("./inftrees"),V=0,K=-2,w=1,U=12,sn=852,mn=592;function se(jt){return(jt>>>24&255)+(jt>>>8&65280)+((65280&jt)<<8)+((255&jt)<<24)}function dt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new ct.Buf16(320),this.work=new ct.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function yt(jt){var Wt;return jt&&jt.state?(jt.total_in=jt.total_out=(Wt=jt.state).total=0,jt.msg="",Wt.wrap&&(jt.adler=1&Wt.wrap),Wt.mode=w,Wt.last=0,Wt.havedict=0,Wt.dmax=32768,Wt.head=null,Wt.hold=0,Wt.bits=0,Wt.lencode=Wt.lendyn=new ct.Buf32(sn),Wt.distcode=Wt.distdyn=new ct.Buf32(mn),Wt.sane=1,Wt.back=-1,V):K}function Rt(jt){var Wt;return jt&&jt.state?((Wt=jt.state).wsize=0,Wt.whave=0,Wt.wnext=0,yt(jt)):K}function re(jt,Wt){var gt,Ce;return!jt||!jt.state||(Ce=jt.state,Wt<0?(gt=0,Wt=-Wt):(gt=1+(Wt>>4),Wt<48&&(Wt&=15)),Wt&&(Wt<8||Wt>15))?K:(null!==Ce.window&&Ce.wbits!==Wt&&(Ce.window=null),Ce.wrap=gt,Ce.wbits=Wt,Rt(jt))}function xe(jt,Wt){var gt,Ce;return jt?(Ce=new dt,jt.state=Ce,Ce.window=null,(gt=re(jt,Wt))!==V&&(jt.state=null),gt):K}var Sn,jn,He=!0;function bn(jt){if(He){var Wt;for(Sn=new ct.Buf32(512),jn=new ct.Buf32(32),Wt=0;Wt<144;)jt.lens[Wt++]=8;for(;Wt<256;)jt.lens[Wt++]=9;for(;Wt<280;)jt.lens[Wt++]=7;for(;Wt<288;)jt.lens[Wt++]=8;for(ht(1,jt.lens,0,288,Sn,0,jt.work,{bits:9}),Wt=0;Wt<32;)jt.lens[Wt++]=5;ht(2,jt.lens,0,32,jn,0,jt.work,{bits:5}),He=!1}jt.lencode=Sn,jt.lenbits=9,jt.distcode=jn,jt.distbits=5}function $n(jt,Wt,gt,Ce){var Ze,tt=jt.state;return null===tt.window&&(tt.wsize=1<<tt.wbits,tt.wnext=0,tt.whave=0,tt.window=new ct.Buf8(tt.wsize)),Ce>=tt.wsize?(ct.arraySet(tt.window,Wt,gt-tt.wsize,tt.wsize,0),tt.wnext=0,tt.whave=tt.wsize):((Ze=tt.wsize-tt.wnext)>Ce&&(Ze=Ce),ct.arraySet(tt.window,Wt,gt-Ce,Ze,tt.wnext),(Ce-=Ze)?(ct.arraySet(tt.window,Wt,gt-Ce,Ce,0),tt.wnext=Ce,tt.whave=tt.wsize):(tt.wnext+=Ze,tt.wnext===tt.wsize&&(tt.wnext=0),tt.whave<tt.wsize&&(tt.whave+=Ze))),0}at.inflateReset=Rt,at.inflateReset2=re,at.inflateResetKeep=yt,at.inflateInit=function Se(jt){return xe(jt,15)},at.inflateInit2=xe,at.inflate=function At(jt,Wt){var gt,Ce,Ze,tt,Te,Oe,Nt,oe,we,un,Qe,rn,Hn,Br,Zn,or,Cr,Sr,Or,fr,Vn,Vr,Dr,Ir,Bn=0,Gn=new ct.Buf8(4),Qr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!jt||!jt.state||!jt.output||!jt.input&&0!==jt.avail_in)return K;(gt=jt.state).mode===U&&(gt.mode=13),Te=jt.next_out,Ze=jt.output,tt=jt.next_in,Ce=jt.input,oe=gt.hold,we=gt.bits,un=Oe=jt.avail_in,Qe=Nt=jt.avail_out,Vr=V;t:for(;;)switch(gt.mode){case w:if(0===gt.wrap){gt.mode=13;break}for(;we<16;){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}if(2&gt.wrap&&35615===oe){gt.check=0,Gn[0]=255&oe,Gn[1]=oe>>>8&255,gt.check=pt(gt.check,Gn,2,0),oe=0,we=0,gt.mode=2;break}if(gt.flags=0,gt.head&&(gt.head.done=!1),!(1&gt.wrap)||(((255&oe)<<8)+(oe>>8))%31){jt.msg="incorrect header check",gt.mode=30;break}if(8!=(15&oe)){jt.msg="unknown compression method",gt.mode=30;break}if(we-=4,Vn=8+(15&(oe>>>=4)),0===gt.wbits)gt.wbits=Vn;else if(Vn>gt.wbits){jt.msg="invalid window size",gt.mode=30;break}gt.dmax=1<<Vn,jt.adler=gt.check=1,gt.mode=512&oe?10:U,oe=0,we=0;break;case 2:for(;we<16;){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}if(gt.flags=oe,8!=(255&gt.flags)){jt.msg="unknown compression method",gt.mode=30;break}if(57344&gt.flags){jt.msg="unknown header flags set",gt.mode=30;break}gt.head&&(gt.head.text=oe>>8&1),512&gt.flags&&(Gn[0]=255&oe,Gn[1]=oe>>>8&255,gt.check=pt(gt.check,Gn,2,0)),oe=0,we=0,gt.mode=3;case 3:for(;we<32;){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}gt.head&&(gt.head.time=oe),512&gt.flags&&(Gn[0]=255&oe,Gn[1]=oe>>>8&255,Gn[2]=oe>>>16&255,Gn[3]=oe>>>24&255,gt.check=pt(gt.check,Gn,4,0)),oe=0,we=0,gt.mode=4;case 4:for(;we<16;){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}gt.head&&(gt.head.xflags=255&oe,gt.head.os=oe>>8),512&gt.flags&&(Gn[0]=255&oe,Gn[1]=oe>>>8&255,gt.check=pt(gt.check,Gn,2,0)),oe=0,we=0,gt.mode=5;case 5:if(1024&gt.flags){for(;we<16;){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}gt.length=oe,gt.head&&(gt.head.extra_len=oe),512&gt.flags&&(Gn[0]=255&oe,Gn[1]=oe>>>8&255,gt.check=pt(gt.check,Gn,2,0)),oe=0,we=0}else gt.head&&(gt.head.extra=null);gt.mode=6;case 6:if(1024&gt.flags&&((rn=gt.length)>Oe&&(rn=Oe),rn&&(gt.head&&(Vn=gt.head.extra_len-gt.length,gt.head.extra||(gt.head.extra=new Array(gt.head.extra_len)),ct.arraySet(gt.head.extra,Ce,tt,rn,Vn)),512&gt.flags&&(gt.check=pt(gt.check,Ce,rn,tt)),Oe-=rn,tt+=rn,gt.length-=rn),gt.length))break t;gt.length=0,gt.mode=7;case 7:if(2048&gt.flags){if(0===Oe)break t;rn=0;do{Vn=Ce[tt+rn++],gt.head&&Vn&&gt.length<65536&&(gt.head.name+=String.fromCharCode(Vn))}while(Vn&&rn<Oe);if(512&gt.flags&&(gt.check=pt(gt.check,Ce,rn,tt)),Oe-=rn,tt+=rn,Vn)break t}else gt.head&&(gt.head.name=null);gt.length=0,gt.mode=8;case 8:if(4096&gt.flags){if(0===Oe)break t;rn=0;do{Vn=Ce[tt+rn++],gt.head&&Vn&&gt.length<65536&&(gt.head.comment+=String.fromCharCode(Vn))}while(Vn&&rn<Oe);if(512&gt.flags&&(gt.check=pt(gt.check,Ce,rn,tt)),Oe-=rn,tt+=rn,Vn)break t}else gt.head&&(gt.head.comment=null);gt.mode=9;case 9:if(512&gt.flags){for(;we<16;){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}if(oe!==(65535&gt.check)){jt.msg="header crc mismatch",gt.mode=30;break}oe=0,we=0}gt.head&&(gt.head.hcrc=gt.flags>>9&1,gt.head.done=!0),jt.adler=gt.check=0,gt.mode=U;break;case 10:for(;we<32;){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}jt.adler=gt.check=se(oe),oe=0,we=0,gt.mode=11;case 11:if(0===gt.havedict)return jt.next_out=Te,jt.avail_out=Nt,jt.next_in=tt,jt.avail_in=Oe,gt.hold=oe,gt.bits=we,2;jt.adler=gt.check=1,gt.mode=U;case U:if(5===Wt||6===Wt)break t;case 13:if(gt.last){oe>>>=7&we,we-=7&we,gt.mode=27;break}for(;we<3;){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}switch(gt.last=1&oe,we-=1,3&(oe>>>=1)){case 0:gt.mode=14;break;case 1:if(bn(gt),gt.mode=20,6===Wt){oe>>>=2,we-=2;break t}break;case 2:gt.mode=17;break;case 3:jt.msg="invalid block type",gt.mode=30}oe>>>=2,we-=2;break;case 14:for(oe>>>=7&we,we-=7&we;we<32;){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}if((65535&oe)!=(oe>>>16^65535)){jt.msg="invalid stored block lengths",gt.mode=30;break}if(gt.length=65535&oe,oe=0,we=0,gt.mode=15,6===Wt)break t;case 15:gt.mode=16;case 16:if(rn=gt.length){if(rn>Oe&&(rn=Oe),rn>Nt&&(rn=Nt),0===rn)break t;ct.arraySet(Ze,Ce,tt,rn,Te),Oe-=rn,tt+=rn,Nt-=rn,Te+=rn,gt.length-=rn;break}gt.mode=U;break;case 17:for(;we<14;){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}if(gt.nlen=257+(31&oe),we-=5,gt.ndist=1+(31&(oe>>>=5)),we-=5,gt.ncode=4+(15&(oe>>>=5)),oe>>>=4,we-=4,gt.nlen>286||gt.ndist>30){jt.msg="too many length or distance symbols",gt.mode=30;break}gt.have=0,gt.mode=18;case 18:for(;gt.have<gt.ncode;){for(;we<3;){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}gt.lens[Qr[gt.have++]]=7&oe,oe>>>=3,we-=3}for(;gt.have<19;)gt.lens[Qr[gt.have++]]=0;if(gt.lencode=gt.lendyn,gt.lenbits=7,Vr=ht(0,gt.lens,0,19,gt.lencode,0,gt.work,Dr={bits:gt.lenbits}),gt.lenbits=Dr.bits,Vr){jt.msg="invalid code lengths set",gt.mode=30;break}gt.have=0,gt.mode=19;case 19:for(;gt.have<gt.nlen+gt.ndist;){for(;or=(Bn=gt.lencode[oe&(1<<gt.lenbits)-1])>>>16&255,Cr=65535&Bn,!((Zn=Bn>>>24)<=we);){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}if(Cr<16)oe>>>=Zn,we-=Zn,gt.lens[gt.have++]=Cr;else{if(16===Cr){for(Ir=Zn+2;we<Ir;){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}if(oe>>>=Zn,we-=Zn,0===gt.have){jt.msg="invalid bit length repeat",gt.mode=30;break}Vn=gt.lens[gt.have-1],rn=3+(3&oe),oe>>>=2,we-=2}else if(17===Cr){for(Ir=Zn+3;we<Ir;){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}we-=Zn,Vn=0,rn=3+(7&(oe>>>=Zn)),oe>>>=3,we-=3}else{for(Ir=Zn+7;we<Ir;){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}we-=Zn,Vn=0,rn=11+(127&(oe>>>=Zn)),oe>>>=7,we-=7}if(gt.have+rn>gt.nlen+gt.ndist){jt.msg="invalid bit length repeat",gt.mode=30;break}for(;rn--;)gt.lens[gt.have++]=Vn}}if(30===gt.mode)break;if(0===gt.lens[256]){jt.msg="invalid code -- missing end-of-block",gt.mode=30;break}if(gt.lenbits=9,Vr=ht(1,gt.lens,0,gt.nlen,gt.lencode,0,gt.work,Dr={bits:gt.lenbits}),gt.lenbits=Dr.bits,Vr){jt.msg="invalid literal/lengths set",gt.mode=30;break}if(gt.distbits=6,gt.distcode=gt.distdyn,Vr=ht(2,gt.lens,gt.nlen,gt.ndist,gt.distcode,0,gt.work,Dr={bits:gt.distbits}),gt.distbits=Dr.bits,Vr){jt.msg="invalid distances set",gt.mode=30;break}if(gt.mode=20,6===Wt)break t;case 20:gt.mode=21;case 21:if(Oe>=6&&Nt>=258){jt.next_out=Te,jt.avail_out=Nt,jt.next_in=tt,jt.avail_in=Oe,gt.hold=oe,gt.bits=we,J(jt,Qe),Te=jt.next_out,Ze=jt.output,Nt=jt.avail_out,tt=jt.next_in,Ce=jt.input,Oe=jt.avail_in,oe=gt.hold,we=gt.bits,gt.mode===U&&(gt.back=-1);break}for(gt.back=0;or=(Bn=gt.lencode[oe&(1<<gt.lenbits)-1])>>>16&255,Cr=65535&Bn,!((Zn=Bn>>>24)<=we);){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}if(or&&!(240&or)){for(Sr=Zn,Or=or,fr=Cr;or=(Bn=gt.lencode[fr+((oe&(1<<Sr+Or)-1)>>Sr)])>>>16&255,Cr=65535&Bn,!(Sr+(Zn=Bn>>>24)<=we);){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}oe>>>=Sr,we-=Sr,gt.back+=Sr}if(oe>>>=Zn,we-=Zn,gt.back+=Zn,gt.length=Cr,0===or){gt.mode=26;break}if(32&or){gt.back=-1,gt.mode=U;break}if(64&or){jt.msg="invalid literal/length code",gt.mode=30;break}gt.extra=15&or,gt.mode=22;case 22:if(gt.extra){for(Ir=gt.extra;we<Ir;){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}gt.length+=oe&(1<<gt.extra)-1,oe>>>=gt.extra,we-=gt.extra,gt.back+=gt.extra}gt.was=gt.length,gt.mode=23;case 23:for(;or=(Bn=gt.distcode[oe&(1<<gt.distbits)-1])>>>16&255,Cr=65535&Bn,!((Zn=Bn>>>24)<=we);){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}if(!(240&or)){for(Sr=Zn,Or=or,fr=Cr;or=(Bn=gt.distcode[fr+((oe&(1<<Sr+Or)-1)>>Sr)])>>>16&255,Cr=65535&Bn,!(Sr+(Zn=Bn>>>24)<=we);){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}oe>>>=Sr,we-=Sr,gt.back+=Sr}if(oe>>>=Zn,we-=Zn,gt.back+=Zn,64&or){jt.msg="invalid distance code",gt.mode=30;break}gt.offset=Cr,gt.extra=15&or,gt.mode=24;case 24:if(gt.extra){for(Ir=gt.extra;we<Ir;){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}gt.offset+=oe&(1<<gt.extra)-1,oe>>>=gt.extra,we-=gt.extra,gt.back+=gt.extra}if(gt.offset>gt.dmax){jt.msg="invalid distance too far back",gt.mode=30;break}gt.mode=25;case 25:if(0===Nt)break t;if(gt.offset>(rn=Qe-Nt)){if((rn=gt.offset-rn)>gt.whave&&gt.sane){jt.msg="invalid distance too far back",gt.mode=30;break}Hn=rn>gt.wnext?gt.wsize-(rn-=gt.wnext):gt.wnext-rn,rn>gt.length&&(rn=gt.length),Br=gt.window}else Br=Ze,Hn=Te-gt.offset,rn=gt.length;rn>Nt&&(rn=Nt),Nt-=rn,gt.length-=rn;do{Ze[Te++]=Br[Hn++]}while(--rn);0===gt.length&&(gt.mode=21);break;case 26:if(0===Nt)break t;Ze[Te++]=gt.length,Nt--,gt.mode=21;break;case 27:if(gt.wrap){for(;we<32;){if(0===Oe)break t;Oe--,oe|=Ce[tt++]<<we,we+=8}if(jt.total_out+=Qe-=Nt,gt.total+=Qe,Qe&&(jt.adler=gt.check=gt.flags?pt(gt.check,Ze,Qe,Te-Qe):nt(gt.check,Ze,Qe,Te-Qe)),Qe=Nt,(gt.flags?oe:se(oe))!==gt.check){jt.msg="incorrect data check",gt.mode=30;break}oe=0,we=0}gt.mode=28;case 28:if(gt.wrap&&gt.flags){for(;we<32;){if(0===Oe)break t;Oe--,oe+=Ce[tt++]<<we,we+=8}if(oe!==(4294967295&gt.total)){jt.msg="incorrect length check",gt.mode=30;break}oe=0,we=0}gt.mode=29;case 29:Vr=1;break t;case 30:Vr=-3;break t;case 31:return-4;default:return K}return jt.next_out=Te,jt.avail_out=Nt,jt.next_in=tt,jt.avail_in=Oe,gt.hold=oe,gt.bits=we,(gt.wsize||Qe!==jt.avail_out&&gt.mode<30&&(gt.mode<27||4!==Wt))&&$n(jt,jt.output,jt.next_out,Qe-jt.avail_out)?(gt.mode=31,-4):(Qe-=jt.avail_out,jt.total_in+=un-=jt.avail_in,jt.total_out+=Qe,gt.total+=Qe,gt.wrap&&Qe&&(jt.adler=gt.check=gt.flags?pt(gt.check,Ze,Qe,jt.next_out-Qe):nt(gt.check,Ze,Qe,jt.next_out-Qe)),jt.data_type=gt.bits+(gt.last?64:0)+(gt.mode===U?128:0)+(20===gt.mode||15===gt.mode?256:0),(0===un&&0===Qe||4===Wt)&&Vr===V&&(Vr=-5),Vr)},at.inflateEnd=function Be(jt){if(!jt||!jt.state)return K;var Wt=jt.state;return Wt.window&&(Wt.window=null),jt.state=null,V},at.inflateGetHeader=function Ct(jt,Wt){var gt;return jt&&jt.state&&2&(gt=jt.state).wrap?(gt.head=Wt,Wt.done=!1,V):K},at.inflateSetDictionary=function kt(jt,Wt){var Ce,gt=Wt.length;return jt&&jt.state&&(0===(Ce=jt.state).wrap||11===Ce.mode)?11===Ce.mode&&nt(1,Wt,gt,0)!==Ce.check?-3:$n(jt,Wt,gt,gt)?(Ce.mode=31,-4):(Ce.havedict=1,V):K},at.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(wt,R,at){"use strict";var ct=wt("../utils/common"),H=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],N=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],X=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ut=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];R.exports=function($,mt,K,st,_,et,u,w){var Lt,Mt,St,Pt,Jt,he,We,Ke,le,m=w.bits,x=0,E=0,A=0,T=0,q=0,M=0,G=0,B=0,ot=0,U=0,de=null,zt=0,Qt=new ct.Buf16(16),Ue=new ct.Buf16(16),me=null,Ee=0;for(x=0;x<=15;x++)Qt[x]=0;for(E=0;E<st;E++)Qt[mt[K+E]]++;for(q=m,T=15;T>=1&&0===Qt[T];T--);if(q>T&&(q=T),0===T)return _[et++]=20971520,_[et++]=20971520,w.bits=1,0;for(A=1;A<T&&0===Qt[A];A++);for(q<A&&(q=A),B=1,x=1;x<=15;x++)if(B<<=1,(B-=Qt[x])<0)return-1;if(B>0&&(0===$||1!==T))return-1;for(Ue[1]=0,x=1;x<15;x++)Ue[x+1]=Ue[x]+Qt[x];for(E=0;E<st;E++)0!==mt[K+E]&&(u[Ue[mt[K+E]]++]=E);if(0===$?(de=me=u,he=19):1===$?(de=H,zt-=257,me=N,Ee-=257,he=256):(de=X,me=ut,he=-1),U=0,E=0,x=A,Jt=et,M=q,G=0,St=-1,Pt=(ot=1<<q)-1,1===$&&ot>852||2===$&&ot>592)return 1;for(;;){We=x-G,u[E]<he?(Ke=0,le=u[E]):u[E]>he?(Ke=me[Ee+u[E]],le=de[zt+u[E]]):(Ke=96,le=0),Lt=1<<x-G,A=Mt=1<<M;do{_[Jt+(U>>G)+(Mt-=Lt)]=We<<24|Ke<<16|le|0}while(0!==Mt);for(Lt=1<<x-1;U&Lt;)Lt>>=1;if(0!==Lt?(U&=Lt-1,U+=Lt):U=0,E++,0==--Qt[x]){if(x===T)break;x=mt[K+u[E]]}if(x>q&&(U&Pt)!==St){for(0===G&&(G=q),Jt+=A,B=1<<(M=x-G);M+G<T&&!((B-=Qt[M+G])<=0);)M++,B<<=1;if(ot+=1<<M,1===$&&ot>852||2===$&&ot>592)return 1;_[St=U&Pt]=q<<24|M<<16|Jt-et|0}}return 0!==U&&(_[Jt+U]=x-G<<24|64<<16|0),w.bits=q,0}},{"../utils/common":41}],51:[function(wt,R,at){"use strict";R.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(wt,R,at){"use strict";var ct=wt("../utils/common");function rt(At){for(var Be=At.length;--Be>=0;)At[Be]=0}var $=256,K=30,et=15,u=16,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ot=new Array(576);rt(ot);var U=new Array(60);rt(U);var Lt=new Array(512);rt(Lt);var Mt=new Array(256);rt(Mt);var St=new Array(29);rt(St);var de,zt,he,Pt=new Array(K);function Jt(At,Be,Ct,kt,jt){this.static_tree=At,this.extra_bits=Be,this.extra_base=Ct,this.elems=kt,this.max_length=jt,this.has_stree=At&&At.length}function Qt(At,Be){this.dyn_tree=At,this.max_code=0,this.stat_desc=Be}function Ue(At){return At<256?Lt[At]:Lt[256+(At>>>7)]}function me(At,Be){At.pending_buf[At.pending++]=255&Be,At.pending_buf[At.pending++]=Be>>>8&255}function Ee(At,Be,Ct){At.bi_valid>u-Ct?(At.bi_buf|=Be<<At.bi_valid&65535,me(At,At.bi_buf),At.bi_buf=Be>>u-At.bi_valid,At.bi_valid+=Ct-u):(At.bi_buf|=Be<<At.bi_valid&65535,At.bi_valid+=Ct)}function We(At,Be,Ct){Ee(At,Ct[2*Be],Ct[2*Be+1])}function Ke(At,Be){var Ct=0;do{Ct|=1&At,At>>>=1,Ct<<=1}while(--Be>0);return Ct>>>1}function Ie(At,Be,Ct){var Wt,gt,kt=new Array(et+1),jt=0;for(Wt=1;Wt<=et;Wt++)kt[Wt]=jt=jt+Ct[Wt-1]<<1;for(gt=0;gt<=Be;gt++){var Ce=At[2*gt+1];0!==Ce&&(At[2*gt]=Ke(kt[Ce]++,Ce))}}function Fe(At){var Be;for(Be=0;Be<286;Be++)At.dyn_ltree[2*Be]=0;for(Be=0;Be<K;Be++)At.dyn_dtree[2*Be]=0;for(Be=0;Be<19;Be++)At.bl_tree[2*Be]=0;At.dyn_ltree[512]=1,At.opt_len=At.static_len=0,At.last_lit=At.matches=0}function Me(At){At.bi_valid>8?me(At,At.bi_buf):At.bi_valid>0&&(At.pending_buf[At.pending++]=At.bi_buf),At.bi_buf=0,At.bi_valid=0}function mn(At,Be,Ct,kt){var jt=2*Be,Wt=2*Ct;return At[jt]<At[Wt]||At[jt]===At[Wt]&&kt[Be]<=kt[Ct]}function gn(At,Be,Ct){for(var kt=At.heap[Ct],jt=Ct<<1;jt<=At.heap_len&&(jt<At.heap_len&&mn(Be,At.heap[jt+1],At.heap[jt],At.depth)&&jt++,!mn(Be,kt,At.heap[jt],At.depth));)At.heap[Ct]=At.heap[jt],Ct=jt,jt<<=1;At.heap[Ct]=kt}function ce(At,Be,Ct){var kt,jt,gt,Ce,Wt=0;if(0!==At.last_lit)do{kt=At.pending_buf[At.d_buf+2*Wt]<<8|At.pending_buf[At.d_buf+2*Wt+1],jt=At.pending_buf[At.l_buf+Wt],Wt++,0===kt?We(At,jt,Be):(We(At,(gt=Mt[jt])+$+1,Be),0!==(Ce=T[gt])&&Ee(At,jt-=St[gt],Ce),We(At,gt=Ue(--kt),Ct),0!==(Ce=q[gt])&&Ee(At,kt-=Pt[gt],Ce))}while(Wt<At.last_lit);We(At,256,Be)}function se(At,Be){var gt,Ce,tt,Ct=Be.dyn_tree,kt=Be.stat_desc.static_tree,jt=Be.stat_desc.has_stree,Wt=Be.stat_desc.elems,Ze=-1;for(At.heap_len=0,At.heap_max=573,gt=0;gt<Wt;gt++)0!==Ct[2*gt]?(At.heap[++At.heap_len]=Ze=gt,At.depth[gt]=0):Ct[2*gt+1]=0;for(;At.heap_len<2;)Ct[2*(tt=At.heap[++At.heap_len]=Ze<2?++Ze:0)]=1,At.depth[tt]=0,At.opt_len--,jt&&(At.static_len-=kt[2*tt+1]);for(Be.max_code=Ze,gt=At.heap_len>>1;gt>=1;gt--)gn(At,Ct,gt);tt=Wt;do{gt=At.heap[1],At.heap[1]=At.heap[At.heap_len--],gn(At,Ct,1),Ce=At.heap[1],At.heap[--At.heap_max]=gt,At.heap[--At.heap_max]=Ce,Ct[2*tt]=Ct[2*gt]+Ct[2*Ce],At.depth[tt]=(At.depth[gt]>=At.depth[Ce]?At.depth[gt]:At.depth[Ce])+1,Ct[2*gt+1]=Ct[2*Ce+1]=tt,At.heap[1]=tt++,gn(At,Ct,1)}while(At.heap_len>=2);At.heap[--At.heap_max]=At.heap[1],function Kt(At,Be){var tt,Te,Oe,Nt,oe,we,Ct=Be.dyn_tree,kt=Be.max_code,jt=Be.stat_desc.static_tree,Wt=Be.stat_desc.has_stree,gt=Be.stat_desc.extra_bits,Ce=Be.stat_desc.extra_base,Ze=Be.stat_desc.max_length,un=0;for(Nt=0;Nt<=et;Nt++)At.bl_count[Nt]=0;for(Ct[2*At.heap[At.heap_max]+1]=0,tt=At.heap_max+1;tt<573;tt++)(Nt=Ct[2*Ct[2*(Te=At.heap[tt])+1]+1]+1)>Ze&&(Nt=Ze,un++),Ct[2*Te+1]=Nt,!(Te>kt)&&(At.bl_count[Nt]++,oe=0,Te>=Ce&&(oe=gt[Te-Ce]),At.opt_len+=(we=Ct[2*Te])*(Nt+oe),Wt&&(At.static_len+=we*(jt[2*Te+1]+oe)));if(0!==un){do{for(Nt=Ze-1;0===At.bl_count[Nt];)Nt--;At.bl_count[Nt]--,At.bl_count[Nt+1]+=2,At.bl_count[Ze]--,un-=2}while(un>0);for(Nt=Ze;0!==Nt;Nt--)for(Te=At.bl_count[Nt];0!==Te;)!((Oe=At.heap[--tt])>kt)&&(Ct[2*Oe+1]!==Nt&&(At.opt_len+=(Nt-Ct[2*Oe+1])*Ct[2*Oe],Ct[2*Oe+1]=Nt),Te--)}}(At,Be),Ie(Ct,Ze,At.bl_count)}function dt(At,Be,Ct){var kt,Wt,jt=-1,gt=Be[1],Ce=0,Ze=7,tt=4;for(0===gt&&(Ze=138,tt=3),Be[2*(Ct+1)+1]=65535,kt=0;kt<=Ct;kt++)Wt=gt,gt=Be[2*(kt+1)+1],!(++Ce<Ze&&Wt===gt)&&(Ce<tt?At.bl_tree[2*Wt]+=Ce:0!==Wt?(Wt!==jt&&At.bl_tree[2*Wt]++,At.bl_tree[32]++):Ce<=10?At.bl_tree[34]++:At.bl_tree[36]++,Ce=0,jt=Wt,0===gt?(Ze=138,tt=3):Wt===gt?(Ze=6,tt=3):(Ze=7,tt=4))}function yt(At,Be,Ct){var kt,Wt,jt=-1,gt=Be[1],Ce=0,Ze=7,tt=4;for(0===gt&&(Ze=138,tt=3),kt=0;kt<=Ct;kt++)if(Wt=gt,gt=Be[2*(kt+1)+1],!(++Ce<Ze&&Wt===gt)){if(Ce<tt)do{We(At,Wt,At.bl_tree)}while(0!=--Ce);else 0!==Wt?(Wt!==jt&&(We(At,Wt,At.bl_tree),Ce--),We(At,16,At.bl_tree),Ee(At,Ce-3,2)):Ce<=10?(We(At,17,At.bl_tree),Ee(At,Ce-3,3)):(We(At,18,At.bl_tree),Ee(At,Ce-11,7));Ce=0,jt=Wt,0===gt?(Ze=138,tt=3):Wt===gt?(Ze=6,tt=3):(Ze=7,tt=4)}}rt(Pt);var Se=!1;function Sn(At,Be,Ct,kt){Ee(At,0+(kt?1:0),3),function sn(At,Be,Ct,kt){Me(At),kt&&(me(At,Ct),me(At,~Ct)),ct.arraySet(At.pending_buf,At.window,Be,Ct,At.pending),At.pending+=Ct}(At,Be,Ct,!0)}at._tr_init=function He(At){Se||(function ue(){var At,Be,Ct,kt,jt,Wt=new Array(et+1);for(Ct=0,kt=0;kt<28;kt++)for(St[kt]=Ct,At=0;At<1<<T[kt];At++)Mt[Ct++]=kt;for(Mt[Ct-1]=kt,jt=0,kt=0;kt<16;kt++)for(Pt[kt]=jt,At=0;At<1<<q[kt];At++)Lt[jt++]=kt;for(jt>>=7;kt<K;kt++)for(Pt[kt]=jt<<7,At=0;At<1<<q[kt]-7;At++)Lt[256+jt++]=kt;for(Be=0;Be<=et;Be++)Wt[Be]=0;for(At=0;At<=143;)ot[2*At+1]=8,At++,Wt[8]++;for(;At<=255;)ot[2*At+1]=9,At++,Wt[9]++;for(;At<=279;)ot[2*At+1]=7,At++,Wt[7]++;for(;At<=287;)ot[2*At+1]=8,At++,Wt[8]++;for(Ie(ot,287,Wt),At=0;At<K;At++)U[2*At+1]=5,U[2*At]=Ke(At,5);de=new Jt(ot,T,257,286,et),zt=new Jt(U,q,0,K,et),he=new Jt(new Array(0),M,0,19,7)}(),Se=!0),At.l_desc=new Qt(At.dyn_ltree,de),At.d_desc=new Qt(At.dyn_dtree,zt),At.bl_desc=new Qt(At.bl_tree,he),At.bi_buf=0,At.bi_valid=0,Fe(At)},at._tr_stored_block=Sn,at._tr_flush_block=function bn(At,Be,Ct,kt){var jt,Wt,gt=0;At.level>0?(2===At.strm.data_type&&(At.strm.data_type=function xe(At){var Ct,Be=4093624447;for(Ct=0;Ct<=31;Ct++,Be>>>=1)if(1&Be&&0!==At.dyn_ltree[2*Ct])return 0;if(0!==At.dyn_ltree[18]||0!==At.dyn_ltree[20]||0!==At.dyn_ltree[26])return 1;for(Ct=32;Ct<$;Ct++)if(0!==At.dyn_ltree[2*Ct])return 1;return 0}(At)),se(At,At.l_desc),se(At,At.d_desc),gt=function Rt(At){var Be;for(dt(At,At.dyn_ltree,At.l_desc.max_code),dt(At,At.dyn_dtree,At.d_desc.max_code),se(At,At.bl_desc),Be=18;Be>=3&&0===At.bl_tree[2*G[Be]+1];Be--);return At.opt_len+=3*(Be+1)+5+5+4,Be}(At),(Wt=At.static_len+3+7>>>3)<=(jt=At.opt_len+3+7>>>3)&&(jt=Wt)):jt=Wt=Ct+5,Ct+4<=jt&&-1!==Be?Sn(At,Be,Ct,kt):4===At.strategy||Wt===jt?(Ee(At,2+(kt?1:0),3),ce(At,ot,U)):(Ee(At,4+(kt?1:0),3),function re(At,Be,Ct,kt){var jt;for(Ee(At,Be-257,5),Ee(At,Ct-1,5),Ee(At,kt-4,4),jt=0;jt<kt;jt++)Ee(At,At.bl_tree[2*G[jt]+1],3);yt(At,At.dyn_ltree,Be-1),yt(At,At.dyn_dtree,Ct-1)}(At,At.l_desc.max_code+1,At.d_desc.max_code+1,gt+1),ce(At,At.dyn_ltree,At.dyn_dtree)),Fe(At),kt&&Me(At)},at._tr_tally=function $n(At,Be,Ct){return At.pending_buf[At.d_buf+2*At.last_lit]=Be>>>8&255,At.pending_buf[At.d_buf+2*At.last_lit+1]=255&Be,At.pending_buf[At.l_buf+At.last_lit]=255&Ct,At.last_lit++,0===Be?At.dyn_ltree[2*Ct]++:(At.matches++,Be--,At.dyn_ltree[2*(Mt[Ct]+$+1)]++,At.dyn_dtree[2*Ue(Be)]++),At.last_lit===At.lit_bufsize-1},at._tr_align=function jn(At){Ee(At,2,3),We(At,256,ot),function le(At){16===At.bi_valid?(me(At,At.bi_buf),At.bi_buf=0,At.bi_valid=0):At.bi_valid>=8&&(At.pending_buf[At.pending++]=255&At.bi_buf,At.bi_buf>>=8,At.bi_valid-=8)}(At)}},{"../utils/common":41}],53:[function(wt,R,at){"use strict";R.exports=function ct(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(wt,R,at){(function(ct){!function(nt,pt){"use strict";if(!nt.setImmediate){var H,J=1,ht={},rt=!1,F=nt.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(nt);u=u&&u.setTimeout?u:nt,"[object process]"==={}.toString.call(nt.process)?function $(){H=function(w){process.nextTick(function(){V(w)})}}():function mt(){if(nt.postMessage&&!nt.importScripts){var w=!0,m=nt.onmessage;return nt.onmessage=function(){w=!1},nt.postMessage("","*"),nt.onmessage=m,w}}()?function K(){var w="setImmediate$"+Math.random()+"$",m=function(x){x.source===nt&&"string"==typeof x.data&&0===x.data.indexOf(w)&&V(+x.data.slice(w.length))};nt.addEventListener?nt.addEventListener("message",m,!1):nt.attachEvent("onmessage",m),H=function(x){nt.postMessage(w+x,"*")}}():nt.MessageChannel?function st(){var w=new MessageChannel;w.port1.onmessage=function(m){V(m.data)},H=function(m){w.port2.postMessage(m)}}():F&&"onreadystatechange"in F.createElement("script")?function _(){var w=F.documentElement;H=function(m){var x=F.createElement("script");x.onreadystatechange=function(){V(m),x.onreadystatechange=null,w.removeChild(x),x=null},w.appendChild(x)}}():function et(){H=function(w){setTimeout(V,0,w)}}(),u.setImmediate=function N(w){"function"!=typeof w&&(w=new Function(""+w));for(var m=new Array(arguments.length-1),x=0;x<m.length;x++)m[x]=arguments[x+1];return ht[J]={callback:w,args:m},H(J),J++},u.clearImmediate=X}function X(w){delete ht[w]}function V(w){if(rt)setTimeout(V,0,w);else{var m=ht[w];if(m){rt=!0;try{!function ut(w){var m=w.callback,x=w.args;switch(x.length){case 0:m();break;case 1:m(x[0]);break;case 2:m(x[0],x[1]);break;case 3:m(x[0],x[1],x[2]);break;default:m.apply(undefined,x)}}(m)}finally{X(w),rt=!1}}}}}(typeof self>"u"?typeof ct>"u"?this:ct:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}),function(k){if("function"==typeof define&&define.amd)define(["jquery","datatables.net"],function(wt){return k(wt,window,document)});else if("object"==typeof exports){var Ae=require("jquery"),Xe=function(wt,R){R.fn.dataTable||require("datatables.net")(wt,R)};typeof window>"u"?module.exports=function(wt,R){return wt||(wt=window),R||(R=Ae(wt)),Xe(wt,R),k(R,wt,wt.document)}:(Xe(window,Ae),module.exports=k(Ae,window,window.document))}else k(jQuery,window,document)}(function(k,Ae,Xe,wt){"use strict";var R=k.fn.dataTable,at=0,ct=0,nt=R.ext.buttons,pt=null;function J(K,st,_){k.fn.animate?K.stop().fadeIn(st,_):(K.css("display","block"),_&&_.call(K))}function ht(K,st,_){k.fn.animate?K.stop().fadeOut(st,_):(K.css("display","none"),_&&_.call(K))}var F,rt=function(K,st){if(!(this instanceof rt))return function(_){return new rt(_,K).container()};typeof st>"u"&&(st={}),!0===st&&(st={}),Array.isArray(st)&&(st={buttons:st}),this.c=k.extend(!0,{},rt.defaults,st),st.buttons&&(this.c.buttons=st.buttons),this.s={dt:new R.Api(K),buttons:[],listenKeys:"",namespace:"dtb"+at++},this.dom={container:k("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()};k.extend(rt.prototype,{action:function(K,st){var _=this._nodeToButton(K);return st===wt?_.conf.action:(_.conf.action=st,this)},active:function(K,st){var _=this._nodeToButton(K),et=this.c.dom.button.active,u=k(_.node);return _.inCollection&&this.c.dom.collection.button&&this.c.dom.collection.button.active!==wt&&(et=this.c.dom.collection.button.active),st===wt?u.hasClass(et):(u.toggleClass(et,st===wt||st),this)},add:function(K,st,_){var et=this.s.buttons;if("string"==typeof st){for(var u=st.split("-"),w=this.s,m=0,x=u.length-1;m<x;m++)w=w.buttons[1*u[m]];et=w.buttons,st=1*u[u.length-1]}return this._expandButton(et,K,K!==wt?K.split:wt,(K===wt||K.split===wt||0===K.split.length)&&w!==wt,!1,st),(_===wt||!0===_)&&this._draw(),this},collectionRebuild:function(K,st){var _=this._nodeToButton(K);if(st!==wt){var et;for(et=_.buttons.length-1;et>=0;et--)this.remove(_.buttons[et].node);for(_.conf.prefixButtons&&st.unshift.apply(st,_.conf.prefixButtons),_.conf.postfixButtons&&st.push.apply(st,_.conf.postfixButtons),et=0;et<st.length;et++){var u=st[et];this._expandButton(_.buttons,u,u!==wt&&u.config!==wt&&u.config.split!==wt,!0,u.parentConf!==wt&&u.parentConf.split!==wt,null,u.parentConf)}}this._draw(_.collection,_.buttons)},container:function(){return this.dom.container},disable:function(K){var st=this._nodeToButton(K);return k(st.node).addClass(this.c.dom.button.disabled).prop("disabled",!0),this},destroy:function(){k("body").off("keyup."+this.s.namespace);var st,_,K=this.s.buttons.slice();for(st=0,_=K.length;st<_;st++)this.remove(K[st].node);this.dom.container.remove();var et=this.s.dt.settings()[0];for(st=0,_=et.length;st<_;st++)if(et.inst===this){et.splice(st,1);break}return this},enable:function(K,st){if(!1===st)return this.disable(K);var _=this._nodeToButton(K);return k(_.node).removeClass(this.c.dom.button.disabled).prop("disabled",!1),this},index:function(K,st,_){st||(st="",_=this.s.buttons);for(var et=0,u=_.length;et<u;et++){var w=_[et].buttons;if(_[et].node===K)return st+et;if(w&&w.length){var m=this.index(K,et+"-",w);if(null!==m)return m}}return null},name:function(){return this.c.name},node:function(K){if(!K)return this.dom.container;var st=this._nodeToButton(K);return k(st.node)},processing:function(K,st){var _=this.s.dt,et=this._nodeToButton(K);return st===wt?k(et.node).hasClass("processing"):(k(et.node).toggleClass("processing",st),k(_.table().node()).triggerHandler("buttons-processing.dt",[st,_.button(K),_,k(K),et.conf]),this)},remove:function(K){var st=this._nodeToButton(K),_=this._nodeToHost(K),et=this.s.dt;if(st.buttons.length)for(var u=st.buttons.length-1;u>=0;u--)this.remove(st.buttons[u].node);st.conf.destroying=!0,st.conf.destroy&&st.conf.destroy.call(et.button(K),et,k(K),st.conf),this._removeKey(st.conf),k(st.node).remove();var w=k.inArray(st,_);return _.splice(w,1),this},text:function(K,st){var _=this._nodeToButton(K),et=_.textNode,u=this.s.dt,w=k(_.node),m=function(x){return"function"==typeof x?x(u,w,_.conf):x};return st===wt?m(_.conf.text):(_.conf.text=st,et.html(m(st)),this)},_constructor:function(){var K=this,st=this.s.dt,_=st.settings()[0],et=this.c.buttons;_._buttons||(_._buttons=[]),_._buttons.push({inst:this,name:this.c.name});for(var u=0,w=et.length;u<w;u++)this.add(et[u]);st.on("destroy",function(m,x){x===_&&K.destroy()}),k("body").on("keyup."+this.s.namespace,function(m){if(!Xe.activeElement||Xe.activeElement===Xe.body){var x=String.fromCharCode(m.keyCode).toLowerCase();-1!==K.s.listenKeys.toLowerCase().indexOf(x)&&K._keypress(x,m)}})},_addKey:function(K){K.key&&(this.s.listenKeys+=k.isPlainObject(K.key)?K.key.key:K.key)},_draw:function(K,st){K||(K=this.dom.container,st=this.s.buttons),K.children().detach();for(var _=0,et=st.length;_<et;_++)K.append(st[_].inserter),K.append(" "),st[_].buttons&&st[_].buttons.length&&this._draw(st[_].collection,st[_].buttons)},_expandButton:function(K,st,_,et,u,w,m){var x=this.s.dt,E=!1,A=this.c.dom.collection,T=Array.isArray(st)?st:[st];st===wt&&(T=Array.isArray(_)?_:[_]);for(var q=0,M=T.length;q<M;q++){var G=this._resolveExtends(T[q]);if(G){if(E=!(!G.config||!G.config.split),Array.isArray(G)){this._expandButton(K,G,B!==wt&&B.conf!==wt?B.conf.split:wt,et,m!==wt&&m.split!==wt,w,m);continue}var B=this._buildButton(G,et,G.split!==wt||G.config!==wt&&G.config.split!==wt,u);if(B){if(w!==wt&&null!==w?(K.splice(w,0,B),w++):K.push(B),B.conf.buttons&&(B.collection=k("<"+A.container.content.tag+"/>"),B.conf._collection=B.collection,k(B.node).append(A.action.dropHtml),this._expandButton(B.buttons,B.conf.buttons,B.conf.split,!E,E,w,B.conf)),B.conf.split){B.collection=k("<"+A.container.tag+"/>"),B.conf._collection=B.collection;for(var ot=0;ot<B.conf.split.length;ot++){var U=B.conf.split[ot];"object"==typeof U&&(U.parent=m,U.collectionLayout===wt&&(U.collectionLayout=B.conf.collectionLayout),U.dropup===wt&&(U.dropup=B.conf.dropup),U.fade===wt&&(U.fade=B.conf.fade))}this._expandButton(B.buttons,B.conf.buttons,B.conf.split,!E,E,w,B.conf)}B.conf.parent=m,G.init&&G.init.call(x.button(B.node),x,k(B.node),G)}}}},_buildButton:function(K,st,_,et){var w,T,u=this.c.dom,m=this.s.dt,x=function(zt){return"function"==typeof zt?zt(m,T,K):zt},E=k.extend(!0,{},u.button);if(st&&_&&u.collection.split?k.extend(!0,E,u.collection.split.action):et||st?k.extend(!0,E,u.collection.button):_&&k.extend(!0,E,u.split.button),K.spacer){var A=k("<"+E.spacer.tag+"/>").addClass("dt-button-spacer "+K.style+" "+E.spacer.className).html(x(K.text));return{conf:K,node:A,inserter:A,buttons:[],inCollection:st,isSplit:_,collection:null,textNode:A}}if(K.available&&!K.available(m,K)&&!K.hasOwnProperty("html"))return!1;if(K.hasOwnProperty("html"))T=k(K.html);else{var q=function(zt,he,Qt,Ue){Ue.action.call(he.button(Qt),zt,he,Qt,Ue),k(he.table().node()).triggerHandler("buttons-action.dt",[he.button(Qt),he,Qt,Ue])},M=K.tag||E.tag,G=K.clickBlurs===wt||K.clickBlurs;if(T=k("<"+M+"/>").addClass(E.className).attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(zt){zt.preventDefault(),!T.hasClass(E.disabled)&&K.action&&q(zt,m,T,K),G&&T.trigger("blur")}).on("keypress.dtb",function(zt){13===zt.keyCode&&(zt.preventDefault(),!T.hasClass(E.disabled)&&K.action&&q(zt,m,T,K))}),"a"===M.toLowerCase()&&T.attr("href","#"),"button"===M.toLowerCase()&&T.attr("type","button"),E.liner.tag){var B=k("<"+E.liner.tag+"/>").html(x(K.text)).addClass(E.liner.className);"a"===E.liner.tag.toLowerCase()&&B.attr("href","#"),T.append(B),w=B}else T.html(x(K.text)),w=T;!1===K.enabled&&T.addClass(E.disabled),K.className&&T.addClass(K.className),K.titleAttr&&T.attr("title",x(K.titleAttr)),K.attr&&T.attr(K.attr),K.namespace||(K.namespace=".dt-button-"+ct++),K.config!==wt&&K.config.split&&(K.split=K.config.split)}var U,Lt,ot=this.c.dom.buttonContainer;if(U=ot&&ot.tag?k("<"+ot.tag+"/>").addClass(ot.className).append(T):T,this._addKey(K),this.c.buttonCreated&&(U=this.c.buttonCreated(K,U)),_){var Mt=st?k.extend(!0,this.c.dom.split,this.c.dom.collection.split):this.c.dom.split,St=Mt.wrapper;Lt=k("<"+St.tag+"/>").addClass(St.className).append(T);var Pt=k.extend(K,{align:Mt.dropdown.align,attr:{"aria-haspopup":"dialog","aria-expanded":!1},className:Mt.dropdown.className,closeButton:!1,splitAlignClass:Mt.dropdown.splitAlignClass,text:Mt.dropdown.text});this._addKey(Pt);var Jt=function(zt,he,Qt,Ue){nt.split.action.call(he.button(Lt),zt,he,Qt,Ue),k(he.table().node()).triggerHandler("buttons-action.dt",[he.button(Qt),he,Qt,Ue]),Qt.attr("aria-expanded",!0)},de=k('<button class="'+Mt.dropdown.className+' dt-button"></button>').html(Mt.dropdown.dropHtml).on("click.dtb",function(zt){zt.preventDefault(),zt.stopPropagation(),de.hasClass(E.disabled)||Jt(zt,m,de,Pt),G&&de.trigger("blur")}).on("keypress.dtb",function(zt){13===zt.keyCode&&(zt.preventDefault(),de.hasClass(E.disabled)||Jt(zt,m,de,Pt))});0===K.split.length&&de.addClass("dtb-hide-drop"),Lt.append(de).attr(Pt.attr)}return{conf:K,node:_?Lt.get(0):T.get(0),inserter:_?Lt:U,buttons:[],inCollection:st,isSplit:_,inSplit:et,collection:null,textNode:w}},_nodeToButton:function(K,st){st||(st=this.s.buttons);for(var _=0,et=st.length;_<et;_++){if(st[_].node===K)return st[_];if(st[_].buttons.length){var u=this._nodeToButton(K,st[_].buttons);if(u)return u}}},_nodeToHost:function(K,st){st||(st=this.s.buttons);for(var _=0,et=st.length;_<et;_++){if(st[_].node===K)return st;if(st[_].buttons.length){var u=this._nodeToHost(K,st[_].buttons);if(u)return u}}},_keypress:function(K,st){if(!st._buttonsHandled){var _=function(u,w){if(u.key)if(u.key===K)st._buttonsHandled=!0,k(w).click();else if(k.isPlainObject(u.key)){if(u.key.key!==K||u.key.shiftKey&&!st.shiftKey||u.key.altKey&&!st.altKey||u.key.ctrlKey&&!st.ctrlKey||u.key.metaKey&&!st.metaKey)return;st._buttonsHandled=!0,k(w).click()}},et=function(u){for(var w=0,m=u.length;w<m;w++)_(u[w].conf,u[w].node),u[w].buttons.length&&et(u[w].buttons)};et(this.s.buttons)}},_removeKey:function(K){if(K.key){var st=k.isPlainObject(K.key)?K.key.key:K.key,_=this.s.listenKeys.split(""),et=k.inArray(st,_);_.splice(et,1),this.s.listenKeys=_.join("")}},_resolveExtends:function(K){var et,u,st=this,_=this.s.dt,w=function(T){for(var q=0;!k.isPlainObject(T)&&!Array.isArray(T);){if(T===wt)return;if("function"==typeof T){if(!(T=T.call(st,_,K)))return!1}else if("string"==typeof T){if(!nt[T])return{html:T};T=nt[T]}if(++q>30)throw"Buttons: Too many iterations"}return Array.isArray(T)?T:k.extend({},T)};for(K=w(K);K&&K.extend;){if(!nt[K.extend])throw"Cannot extend unknown button type: "+K.extend;var m=w(nt[K.extend]);if(Array.isArray(m))return m;if(!m)return!1;var x=m.className;K.config!==wt&&m.config!==wt&&(K.config=k.extend({},m.config,K.config)),K=k.extend({},m,K),x&&K.className!==x&&(K.className=x+" "+K.className),K.extend=m.extend}var E=K.postfixButtons;if(E)for(K.buttons||(K.buttons=[]),et=0,u=E.length;et<u;et++)K.buttons.push(E[et]);var A=K.prefixButtons;if(A)for(K.buttons||(K.buttons=[]),et=0,u=A.length;et<u;et++)K.buttons.splice(et,0,A[et]);return K},_popover:function(K,st,_,et){var u=st,w=this.c,m=!1,x=k.extend({align:"button-left",autoClose:!1,background:!0,backgroundClassName:"dt-button-background",closeButton:!0,containerClassName:w.dom.collection.container.className,contentClassName:w.dom.collection.container.content.className,collectionLayout:"",collectionTitle:"",dropup:!1,fade:400,popoverTitle:"",rightAlignClassName:"dt-button-right",tag:w.dom.collection.container.tag},_),E=x.tag+"."+x.containerClassName.replace(/ /g,"."),A=st.node(),T=function(){m=!0,ht(k(E),x.fade,function(){k(this).detach()}),k(u.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes()).attr("aria-expanded","false"),k("div.dt-button-background").off("click.dtb-collection"),rt.background(!1,x.backgroundClassName,x.fade,A),k(Ae).off("resize.resize.dtb-collection"),k("body").off(".dtb-collection"),u.off("buttons-action.b-internal"),u.off("destroy")};if(!1!==K){var q=k(u.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes());q.length&&(A.closest(E).length&&(A=q.eq(0)),T());var M=k(".dt-button",K).length,G="";3===M?G="dtb-b3":2===M?G="dtb-b2":1===M&&(G="dtb-b1");var B=k("<"+x.tag+"/>").addClass(x.containerClassName).addClass(x.collectionLayout).addClass(x.splitAlignClass).addClass(G).css("display","none").attr({"aria-modal":!0,role:"dialog"});K=k(K).addClass(x.contentClassName).attr("role","menu").appendTo(B),A.attr("aria-expanded","true"),A.parents("body")[0]!==Xe.body&&(A=Xe.body.lastChild),x.popoverTitle?B.prepend('<div class="dt-button-collection-title">'+x.popoverTitle+"</div>"):x.collectionTitle&&B.prepend('<div class="dt-button-collection-title">'+x.collectionTitle+"</div>"),x.closeButton&&B.prepend('<div class="dtb-popover-close">&times;</div>').addClass("dtb-collection-closeable"),J(B.insertAfter(A),x.fade);var ot=k(st.table().container()),U=B.css("position");if(("container"===x.span||"dt-container"===x.align)&&(A=A.parent(),B.css("width",ot.width())),"absolute"===U){var Lt=k(A[0].offsetParent),Mt=A.position(),St=A.offset(),Pt=Lt.offset(),Jt=Lt.position(),de=Ae.getComputedStyle(Lt[0]);Pt.height=Lt.outerHeight(),Pt.width=Lt.width()+parseFloat(de.paddingLeft),Pt.right=Pt.left+Pt.width,Pt.bottom=Pt.top+Pt.height;var zt=Mt.top+A.outerHeight(),he=Mt.left;B.css({top:zt,left:he}),de=Ae.getComputedStyle(B[0]);var Qt=B.offset();Qt.height=B.outerHeight(),Qt.width=B.outerWidth(),Qt.right=Qt.left+Qt.width,Qt.bottom=Qt.top+Qt.height,Qt.marginTop=parseFloat(de.marginTop),Qt.marginBottom=parseFloat(de.marginBottom),x.dropup&&(zt=Mt.top-Qt.height-Qt.marginTop-Qt.marginBottom),("button-right"===x.align||B.hasClass(x.rightAlignClassName))&&(he=Mt.left-Qt.width+A.outerWidth()),("dt-container"===x.align||"container"===x.align)&&(he<Mt.left&&(he=-Mt.left),he+Qt.width>Pt.width&&(he=Pt.width-Qt.width)),Jt.left+he+Qt.width>k(Ae).width()&&(he=k(Ae).width()-Qt.width-Jt.left),St.left+he<0&&(he=-St.left),Jt.top+zt+Qt.height>k(Ae).height()+k(Ae).scrollTop()&&(zt=Mt.top-Qt.height-Qt.marginTop-Qt.marginBottom),Jt.top+zt<k(Ae).scrollTop()&&(zt=Mt.top+A.outerHeight()),B.css({top:zt,left:he})}else(U=function(){var me=k(Ae).height()/2,Ee=B.height()/2;Ee>me&&(Ee=me),B.css("marginTop",-1*Ee)})(),k(Ae).on("resize.dtb-collection",function(){U()});x.background&&rt.background(!0,x.backgroundClassName,x.fade,x.backgroundHost||A),k("div.dt-button-background").on("click.dtb-collection",function(){}),x.autoClose&&setTimeout(function(){u.on("buttons-action.b-internal",function(Ue,me,Ee,We){We[0]!==A[0]&&T()})},0),k(B).trigger("buttons-popover.dt"),u.on("destroy",T),setTimeout(function(){m=!1,k("body").on("click.dtb-collection",function(Ue){if(!m){var me=k.fn.addBack?"addBack":"andSelf",Ee=k(Ue.target).parent()[0];(!k(Ue.target).parents()[me]().filter(K).length&&!k(Ee).hasClass("dt-buttons")||k(Ue.target).hasClass("dt-button-background"))&&T()}}).on("keyup.dtb-collection",function(Ue){27===Ue.keyCode&&T()}).on("keydown.dtb-collection",function(Ue){var me=k("a, button",K),Ee=Xe.activeElement;9===Ue.keyCode&&(-1===me.index(Ee)?(me.first().focus(),Ue.preventDefault()):Ue.shiftKey?Ee===me[0]&&(me.last().focus(),Ue.preventDefault()):Ee===me.last()[0]&&(me.first().focus(),Ue.preventDefault()))})},0)}else T()}}),rt.background=function(K,st,_,et){_===wt&&(_=400),et||(et=Xe.body),K?J(k("<div/>").addClass(st).css("display","none").insertAfter(et),_):ht(k("div."+st),_,function(){k(this).removeClass(st).remove()})},rt.instanceSelector=function(K,st){if(K===wt||null===K)return k.map(st,function(w){return w.inst});var _=[],et=k.map(st,function(w){return w.name}),u=function(w){if(Array.isArray(w))for(var m=0,x=w.length;m<x;m++)u(w[m]);else if("string"==typeof w)if(-1!==w.indexOf(","))u(w.split(","));else{var E=k.inArray(w.trim(),et);-1!==E&&_.push(st[E].inst)}else"number"==typeof w?_.push(st[w].inst):"object"==typeof w&&_.push(w)};return u(K),_},rt.buttonSelector=function(K,st){for(var _=[],et=function(E,A,T){for(var q,M,G=0,B=A.length;G<B;G++)(q=A[G])&&(E.push({node:q.node,name:q.conf.name,idx:M=T!==wt?T+G:G+""}),q.buttons&&et(E,q.buttons,M+"-"))},u=function(E,A){var T,q,M=[];et(M,A.s.buttons);var G=k.map(M,function(Mt){return Mt.node});if(Array.isArray(E)||E instanceof k)for(T=0,q=E.length;T<q;T++)u(E[T],A);else if(null===E||E===wt||"*"===E)for(T=0,q=M.length;T<q;T++)_.push({inst:A,node:M[T].node});else if("number"==typeof E)A.s.buttons[E]&&_.push({inst:A,node:A.s.buttons[E].node});else if("string"==typeof E)if(-1!==E.indexOf(",")){var B=E.split(",");for(T=0,q=B.length;T<q;T++)u(B[T].trim(),A)}else if(E.match(/^\d+(\-\d+)*$/)){var ot=k.map(M,function(Mt){return Mt.idx});_.push({inst:A,node:M[k.inArray(E,ot)].node})}else if(-1!==E.indexOf(":name")){var U=E.replace(":name","");for(T=0,q=M.length;T<q;T++)M[T].name===U&&_.push({inst:A,node:M[T].node})}else k(G).filter(E).each(function(){_.push({inst:A,node:this})});else if("object"==typeof E&&E.nodeName){var Lt=k.inArray(E,G);-1!==Lt&&_.push({inst:A,node:G[Lt]})}},w=0,m=K.length;w<m;w++)u(st,K[w]);return _},rt.stripData=function(K,st){return"string"!=typeof K||(K=(K=K.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")).replace(/<!\-\-.*?\-\->/g,""),(!st||st.stripHtml)&&(K=K.replace(/<[^>]*>/g,"")),(!st||st.trim)&&(K=K.replace(/^\s+|\s+$/g,"")),(!st||st.stripNewlines)&&(K=K.replace(/\n/g," ")),(!st||st.decodeEntities)&&(pt?K=pt(K):(V.innerHTML=K,K=V.value))),K},rt.entityDecoder=function(K){pt=K},rt.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{action:{dropHtml:'<span class="dt-button-down-arrow">&#x25BC;</span>'},container:{className:"dt-button-collection",content:{className:"",tag:"div"},tag:"div"}},button:{tag:"button",className:"dt-button",active:"dt-button-active",disabled:"disabled",spacer:{className:"dt-button-spacer",tag:"span"},liner:{tag:"span",className:""}},split:{action:{className:"dt-button-split-drop-button dt-button",tag:"button"},dropdown:{align:"split-right",className:"dt-button-split-drop",dropHtml:'<span class="dt-button-down-arrow">&#x25BC;</span>',splitAlignClass:"dt-button-split-left",tag:"button"},wrapper:{className:"dt-button-split",tag:"div"}}}},rt.version="2.4.2",k.extend(nt,{collection:{text:function(K){return K.i18n("buttons.collection","Collection")},className:"buttons-collection",closeButton:!1,init:function(K,st,_){st.attr("aria-expanded",!1)},action:function(K,st,_,et){et._collection.parents("body").length?this.popover(!1,et):this.popover(et._collection,et),"keypress"===K.type&&k("a, button",et._collection).eq(0).focus()},attr:{"aria-haspopup":"dialog"}},split:{text:function(K){return K.i18n("buttons.split","Split")},className:"buttons-split",closeButton:!1,init:function(K,st,_){return st.attr("aria-expanded",!1)},action:function(K,st,_,et){this.popover(et._collection,et)},attr:{"aria-haspopup":"dialog"}},copy:function(K,st){if(nt.copyHtml5)return"copyHtml5"},csv:function(K,st){if(nt.csvHtml5&&nt.csvHtml5.available(K,st))return"csvHtml5"},excel:function(K,st){if(nt.excelHtml5&&nt.excelHtml5.available(K,st))return"excelHtml5"},pdf:function(K,st){if(nt.pdfHtml5&&nt.pdfHtml5.available(K,st))return"pdfHtml5"},pageLength:function(K){var st=K.settings()[0].aLengthMenu,_=[],et=[];if(Array.isArray(st[0]))_=st[0],et=st[1];else for(var w=0;w<st.length;w++){var m=st[w];k.isPlainObject(m)?(_.push(m.value),et.push(m.label)):(_.push(m),et.push(m))}return{extend:"collection",text:function(x){return x.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},x.page.len())},className:"buttons-page-length",autoClose:!0,buttons:k.map(_,function(x,E){return{text:et[E],className:"button-page-length",action:function(A,T){T.page.len(x).draw()},init:function(A,T,q){var M=this,G=function(){M.active(A.page.len()===x)};A.on("length.dt"+q.namespace,G),G()},destroy:function(A,T,q){A.off("length.dt"+q.namespace)}}}),init:function(x,E,A){var T=this;x.on("length.dt"+A.namespace,function(){T.text(A.text)})},destroy:function(x,E,A){x.off("length.dt"+A.namespace)}}},spacer:{style:"empty",spacer:!0,text:function(K){return K.i18n("buttons.spacer","")}}}),R.Api.register("buttons()",function(K,st){st===wt&&(st=K,K=wt),this.selector.buttonGroup=K;var _=this.iterator(!0,"table",function(et){if(et._buttons)return rt.buttonSelector(rt.instanceSelector(K,et._buttons),st)},!0);return _._groupSelector=K,_}),R.Api.register("button()",function(K,st){var _=this.buttons(K,st);return _.length>1&&_.splice(1,_.length),_}),R.Api.registerPlural("buttons().active()","button().active()",function(K){return K===wt?this.map(function(st){return st.inst.active(st.node)}):this.each(function(st){st.inst.active(st.node,K)})}),R.Api.registerPlural("buttons().action()","button().action()",function(K){return K===wt?this.map(function(st){return st.inst.action(st.node)}):this.each(function(st){st.inst.action(st.node,K)})}),R.Api.registerPlural("buttons().collectionRebuild()","button().collectionRebuild()",function(K){return this.each(function(st){for(var _=0;_<K.length;_++)"object"==typeof K[_]&&(K[_].parentConf=st);st.inst.collectionRebuild(st.node,K)})}),R.Api.register(["buttons().enable()","button().enable()"],function(K){return this.each(function(st){st.inst.enable(st.node,K)})}),R.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(K){K.inst.disable(K.node)})}),R.Api.register("button().index()",function(){var K=null;return this.each(function(st){var _=st.inst.index(st.node);null!==_&&(K=_)}),K}),R.Api.registerPlural("buttons().nodes()","button().node()",function(){var K=k();return k(this.each(function(st){K=K.add(st.inst.node(st.node))})),K}),R.Api.registerPlural("buttons().processing()","button().processing()",function(K){return K===wt?this.map(function(st){return st.inst.processing(st.node)}):this.each(function(st){st.inst.processing(st.node,K)})}),R.Api.registerPlural("buttons().text()","button().text()",function(K){return K===wt?this.map(function(st){return st.inst.text(st.node)}):this.each(function(st){st.inst.text(st.node,K)})}),R.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(K){K.inst.node(K.node).trigger("click")})}),R.Api.register("button().popover()",function(K,st){return this.map(function(_){return _.inst._popover(K,this.button(this[0].node),st)})}),R.Api.register("buttons().containers()",function(){var K=k(),st=this._groupSelector;return this.iterator(!0,"table",function(_){if(_._buttons)for(var et=rt.instanceSelector(st,_._buttons),u=0,w=et.length;u<w;u++)K=K.add(et[u].container())}),K}),R.Api.register("buttons().container()",function(){return this.containers().eq(0)}),R.Api.register("button().add()",function(K,st,_){var et=this.context;if(et.length){var u=rt.instanceSelector(this._groupSelector,et[0]._buttons);u.length&&u[0].add(st,K,_)}return this.button(this._groupSelector,K)}),R.Api.register("buttons().destroy()",function(){return this.pluck("inst").unique().each(function(K){K.destroy()}),this}),R.Api.registerPlural("buttons().remove()","buttons().remove()",function(){return this.each(function(K){K.inst.remove(K.node)}),this}),R.Api.register("buttons.info()",function(K,st,_){var et=this;return!1===K?(this.off("destroy.btn-info"),ht(k("#datatables_buttons_info"),400,function(){k(this).remove()}),clearTimeout(F),F=null,this):(F&&clearTimeout(F),k("#datatables_buttons_info").length&&k("#datatables_buttons_info").remove(),K=K?"<h2>"+K+"</h2>":"",J(k('<div id="datatables_buttons_info" class="dt-button-info"/>').html(K).append(k("<div/>")["string"==typeof st?"html":"append"](st)).css("display","none").appendTo("body")),_!==wt&&0!==_&&(F=setTimeout(function(){et.buttons.info(!1)},_)),this.on("destroy.btn-info",function(){et.buttons.info(!1)}),this)}),R.Api.register("buttons.exportData()",function(K){if(this.context.length)return $(new R.Api(this.context[0]),K)}),R.Api.register("buttons.exportInfo()",function(K){return K||(K={}),{filename:H(K),title:X(K),messageTop:ut(this,K.message||K.messageTop,"top"),messageBottom:ut(this,K.messageBottom,"bottom")}});var H=function(K){var st="*"===K.filename&&"*"!==K.title&&K.title!==wt&&null!==K.title&&""!==K.title?K.title:K.filename;if("function"==typeof st&&(st=st()),st===wt||null===st)return null;-1!==st.indexOf("*")&&(st=st.replace("*",k("head > title").text()).trim()),st=st.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,"");var _=N(K.extension);return _||(_=""),st+_},N=function(K){return null===K||K===wt?null:"function"==typeof K?K():K},X=function(K){var st=N(K.title);return null===st?null:-1!==st.indexOf("*")?st.replace("*",k("head > title").text()||"Exported data"):st},ut=function(K,st,_){var et=N(st);if(null===et)return null;var u=k("caption",K.table().container()).eq(0);return"*"===et?u.css("caption-side")!==_?null:u.length?u.text():"":et},V=k("<textarea/>")[0],$=function(K,st){var _=k.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(St){return rt.stripData(St,_)},footer:function(St){return rt.stripData(St,_)},body:function(St){return rt.stripData(St,_)}},customizeData:null},st),et=K.columns(_.columns).indexes().map(function(St){var Pt=K.column(St).header();return _.format.header(Pt.innerHTML,St,Pt)}).toArray(),u=K.table().footer()?K.columns(_.columns).indexes().map(function(St){var Pt=K.column(St).footer();return _.format.footer(Pt?Pt.innerHTML:"",St,Pt)}).toArray():null,w=k.extend({},_.modifier);K.select&&"function"==typeof K.select.info&&w.selected===wt&&K.rows(_.rows,k.extend({selected:!0},w)).any()&&k.extend(w,{selected:!0});for(var m=K.rows(_.rows,w).indexes().toArray(),x=K.cells(m,_.columns),E=x.render(_.orthogonal).toArray(),A=x.nodes().toArray(),T=et.length,M=[],G=0,B=0,ot=T>0?E.length/T:0;B<ot;B++){for(var U=[T],Lt=0;Lt<T;Lt++)U[Lt]=_.format.body(E[G],B,Lt,A[G]),G++;M[B]=U}var Mt={header:et,footer:u,body:M};return _.customizeData&&_.customizeData(Mt),Mt};function mt(K,st){var _=new R.Api(K),et=st||_.init().buttons||R.defaults.buttons;return new rt(_,et).container()}return k.fn.dataTable.Buttons=rt,k.fn.DataTable.Buttons=rt,k(Xe).on("init.dt plugin-init.dt",function(K,st){if("dt"===K.namespace){var _=st.oInit.buttons||R.defaults.buttons;_&&!st._buttons&&new rt(st,_).container()}}),R.ext.feature.push({fnInit:mt,cFeature:"B"}),R.ext.features&&R.ext.features.register("buttons",mt),R}),function(k){if("function"==typeof define&&define.amd)define(["jquery","datatables.net","datatables.net-buttons"],function(wt){return k(wt,window,document)});else if("object"==typeof exports){var Ae=require("jquery"),Xe=function(wt,R){R.fn.dataTable||require("datatables.net")(wt,R),R.fn.dataTable.Buttons||require("datatables.net-buttons")(wt,R)};typeof window>"u"?module.exports=function(wt,R){return wt||(wt=window),R||(R=Ae(wt)),Xe(wt,R),k(R)}:(Xe(window,Ae),module.exports=k(Ae,window,window))}else k(jQuery,window,document)}(function(k,Ae,Xe,wt){"use strict";var R=k.fn.dataTable;return k.extend(R.ext.buttons,{colvis:function(at,ct){var nt=null,pt={extend:"collection",init:function(J,ht){nt=ht},text:function(J){return J.i18n("buttons.colvis","Column visibility")},className:"buttons-colvis",closeButton:!1,buttons:[{extend:"columnsToggle",columns:ct.columns,columnText:ct.columnText}]};return at.on("column-reorder.dt"+ct.namespace,function(J,ht,rt){at.button(null,at.button(null,nt).node()).collectionRebuild([{extend:"columnsToggle",columns:ct.columns,columnText:ct.columnText}])}),pt},columnsToggle:function(at,ct){return at.columns(ct.columns).indexes().map(function(pt){return{extend:"columnToggle",columns:pt,columnText:ct.columnText}}).toArray()},columnToggle:function(at,ct){return{extend:"columnVisibility",columns:ct.columns,columnText:ct.columnText}},columnsVisibility:function(at,ct){return at.columns(ct.columns).indexes().map(function(pt){return{extend:"columnVisibility",columns:pt,visibility:ct.visibility,columnText:ct.columnText}}).toArray()},columnVisibility:{columns:wt,text:function(at,ct,nt){return nt._columnText(at,nt)},className:"buttons-columnVisibility",action:function(at,ct,nt,pt){var J=ct.columns(pt.columns),ht=J.visible();J.visible(pt.visibility!==wt?pt.visibility:!(ht.length&&ht[0]))},init:function(at,ct,nt){var pt=this;ct.attr("data-cv-idx",nt.columns),at.on("column-visibility.dt"+nt.namespace,function(J,ht){!ht.bDestroying&&ht.nTable==at.settings()[0].nTable&&pt.active(at.column(nt.columns).visible())}).on("column-reorder.dt"+nt.namespace,function(J,ht,rt){nt.destroying||1===at.columns(nt.columns).count()&&(pt.text(nt._columnText(at,nt)),pt.active(at.column(nt.columns).visible()))}),this.active(at.column(nt.columns).visible())},destroy:function(at,ct,nt){at.off("column-visibility.dt"+nt.namespace).off("column-reorder.dt"+nt.namespace)},_columnText:function(at,ct){var nt=at.column(ct.columns).index(),pt=at.settings()[0].aoColumns[nt].sTitle;return pt||(pt=at.column(nt).header().innerHTML),pt=pt.replace(/\n/g," ").replace(/<br\s*\/?>/gi," ").replace(/<select(.*?)<\/select>/g,"").replace(/<!\-\-.*?\-\->/g,"").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,""),ct.columnText?ct.columnText(at,nt,pt):pt}},colvisRestore:{className:"buttons-colvisRestore",text:function(at){return at.i18n("buttons.colvisRestore","Restore visibility")},init:function(at,ct,nt){nt._visOriginal=at.columns().indexes().map(function(pt){return at.column(pt).visible()}).toArray()},action:function(at,ct,nt,pt){ct.columns().every(function(J){var ht=ct.colReorder&&ct.colReorder.transpose?ct.colReorder.transpose(J,"toOriginal"):J;this.visible(pt._visOriginal[ht])})}},colvisGroup:{className:"buttons-colvisGroup",action:function(at,ct,nt,pt){ct.columns(pt.show).visible(!0,!1),ct.columns(pt.hide).visible(!1,!1),ct.columns.adjust()},show:[],hide:[]}}),R}),function(k){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(Ae){return k(Ae,window,document)}):"object"==typeof exports?module.exports=function(Ae,Xe){return Ae||(Ae=window),(!Xe||!Xe.fn.dataTable)&&(Xe=require("datatables.net")(Ae,Xe).$),Xe.fn.dataTable.Buttons||require("datatables.net-buttons")(Ae,Xe),k(Xe,Ae,Ae.document)}:k(jQuery,window,document)}(function(k,Ae,Xe,wt){"use strict";var R=k.fn.dataTable,at={version:"1.0.4-TableTools2",clients:{},moviePath:"",nextId:1,$:function(_){return"string"==typeof _&&(_=Xe.getElementById(_)),_.addClass||(_.hide=function(){this.style.display="none"},_.show=function(){this.style.display=""},_.addClass=function(et){this.removeClass(et),this.className+=" "+et},_.removeClass=function(et){this.className=this.className.replace(new RegExp("\\s*"+et+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,"")},_.hasClass=function(et){return!!this.className.match(new RegExp("\\s*"+et+"\\s*"))}),_},setMoviePath:function(_){this.moviePath=_},dispatch:function(_,et,u){var w=this.clients[_];w&&w.receiveEvent(et,u)},log:function(_){console.log("Flash: "+_)},register:function(_,et){this.clients[_]=et},getDOMObjectPosition:function(_){var et={left:0,top:0,width:_.width?_.width:_.offsetWidth,height:_.height?_.height:_.offsetHeight};for(""!==_.style.width&&(et.width=_.style.width.replace("px","")),""!==_.style.height&&(et.height=_.style.height.replace("px",""));_;)et.left+=_.offsetLeft,et.top+=_.offsetTop,_=_.offsetParent;return et},Client:function(_){this.handlers={},this.id=at.nextId++,this.movieId="ZeroClipboard_TableToolsMovie_"+this.id,at.register(this.id,this),_&&this.glue(_)}};at.Client.prototype={id:0,ready:!1,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:!0,cssEffects:!0,handlers:null,sized:!1,sheetName:"",glue:function(_,et){this.domElement=at.$(_);var u=99;this.domElement.style.zIndex&&(u=parseInt(this.domElement.style.zIndex,10)+1);var w=at.getDOMObjectPosition(this.domElement);this.div=Xe.createElement("div");var m=this.div.style;m.position="absolute",m.left="0px",m.top="0px",m.width=w.width+"px",m.height=w.height+"px",m.zIndex=u,typeof et<"u"&&""!==et&&(this.div.title=et),0!==w.width&&0!==w.height&&(this.sized=!0),this.domElement&&(this.domElement.appendChild(this.div),this.div.innerHTML=this.getHTML(w.width,w.height).replace(/&/g,"&amp;"))},positionElement:function(){var _=at.getDOMObjectPosition(this.domElement),et=this.div.style;if(et.position="absolute",et.width=_.width+"px",et.height=_.height+"px",0!==_.width&&0!==_.height){this.sized=!0;var u=this.div.childNodes[0];u.width=_.width,u.height=_.height}},getHTML:function(_,et){var u="",w="id="+this.id+"&width="+_+"&height="+et;return navigator.userAgent.match(/MSIE/)?u+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+(location.href.match(/^https/i)?"https://":"http://")+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="'+_+'" height="'+et+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+at.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+w+'"/><param name="wmode" value="transparent"/></object>':u+='<embed id="'+this.movieId+'" src="'+at.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+_+'" height="'+et+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+w+'" wmode="transparent" />',u},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){var _=this;this.domElement&&this.div&&(k(this.div).remove(),this.domElement=null,this.div=null,k.each(at.clients,function(et,u){u===_&&delete at.clients[et]}))},reposition:function(_){if(_&&(this.domElement=at.$(_),this.domElement||this.hide()),this.domElement&&this.div){var et=at.getDOMObjectPosition(this.domElement),u=this.div.style;u.left=et.left+"px",u.top=et.top+"px"}},clearText:function(){this.clipText="",this.ready&&this.movie.clearText()},appendText:function(_){this.clipText+=_,this.ready&&this.movie.appendText(_)},setText:function(_){this.clipText=_,this.ready&&this.movie.setText(_)},setFileName:function(_){this.fileName=_,this.ready&&this.movie.setFileName(_)},setSheetData:function(_){this.ready&&this.movie.setSheetData(JSON.stringify(_))},setAction:function(_){this.action=_,this.ready&&this.movie.setAction(_)},addEventListener:function(_,et){_=_.toString().toLowerCase().replace(/^on/,""),this.handlers[_]||(this.handlers[_]=[]),this.handlers[_].push(et)},setHandCursor:function(_){this.handCursorEnabled=_,this.ready&&this.movie.setHandCursor(_)},setCSSEffects:function(_){this.cssEffects=!!_},receiveEvent:function(_,et){var u;switch(_=_.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=Xe.getElementById(this.movieId),!this.movie)return u=this,void setTimeout(function(){u.receiveEvent("load",null)},1);if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/))return u=this,setTimeout(function(){u.receiveEvent("load",null)},100),void(this.ready=!0);this.ready=!0,this.movie.clearText(),this.movie.appendText(this.clipText),this.movie.setFileName(this.fileName),this.movie.setAction(this.action),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&this.recoverActive&&this.domElement.addClass("active");break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[_])for(var w=0,m=this.handlers[_].length;w<m;w++){var x=this.handlers[_][w];"function"==typeof x?x(this,et):"object"==typeof x&&2==x.length?x[0][x[1]](this,et):"string"==typeof x&&Ae[x](this,et)}}},at.hasFlash=function(){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return!0}catch{if(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]!==wt&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return!0}return!1},Ae.ZeroClipboard_TableTools=at;var ct=function(_,et){et.attr("id"),et.parents("html").length?_.glue(et[0],""):setTimeout(function(){ct(_,et)},500)},nt=function(_,et){var u="*"===_.filename&&"*"!==_.title&&_.title!==wt?_.title:_.filename;return"function"==typeof u&&(u=u()),-1!==u.indexOf("*")&&(u=k.trim(u.replace("*",k("title").text()))),u=u.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""),et===wt||!0===et?u+_.extension:u},ht=function(_,et){var u=et.match(/[\s\S]{1,8192}/g)||[];_.clearText();for(var w=0,m=u.length;w<m;w++)_.appendText(u[w])},F=function(_,et){for(var u=function(_){return _.newline?_.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"}(et),w=_.buttons.exportData(et.exportOptions),m=et.fieldBoundary,x=et.fieldSeparator,E=new RegExp(m,"g"),A=et.escapeChar!==wt?et.escapeChar:"\\",T=function(U){for(var Lt="",Mt=0,St=U.length;Mt<St;Mt++)Mt>0&&(Lt+=x),Lt+=m?m+(""+U[Mt]).replace(E,A+m)+m:U[Mt];return Lt},q=et.header?T(w.header)+u:"",M=et.footer&&w.footer?u+T(w.footer):"",G=[],B=0,ot=w.body.length;B<ot;B++)G.push(T(w.body[B]));return{str:q+G.join(u)+M,rows:G.length}},H={available:function(){return at.hasFlash()},init:function(_,et,u){at.moviePath=R.Buttons.swfPath;var w=new at.Client;w.setHandCursor(!0),w.addEventListener("mouseDown",function(m){u._fromFlash=!0,_.button(et[0]).trigger(),u._fromFlash=!1}),ct(w,et),u._flash=w},destroy:function(_,et,u){u._flash.destroy()},fieldSeparator:",",fieldBoundary:'"',exportOptions:{},title:"*",filename:"*",extension:".csv",header:!0,footer:!1};function N(_){for(var et="A".charCodeAt(0),w="Z".charCodeAt(0)-et+1,m="";_>=0;)m=String.fromCharCode(_%w+et)+m,_=Math.floor(_/w)-1;return m}function X(_,et,u){var w=_.createElement(et);return u&&(u.attr&&k(w).attr(u.attr),u.children&&k.each(u.children,function(m,x){w.appendChild(x)}),u.text&&w.appendChild(_.createTextNode(u.text))),w}function ut(_,et){var w,m,x,u=_.header[et].length;_.footer&&_.footer[et].length>u&&(u=_.footer[et].length);for(var E=0,A=_.body.length;E<A;E++){var T=_.body[E][et];if(-1!==(x=null!==T&&T!==wt?T.toString():"").indexOf("\n")?((m=x.split("\n")).sort(function(q,M){return M.length-q.length}),w=m[0].length):w=x.length,w>u&&(u=w),u>40)return 52}return(u*=1.3)>6?u:6}var $,V="";function mt(_){$===wt&&($=-1===V.serializeToString(k.parseXML(K["xl/worksheets/sheet1.xml"])).indexOf("xmlns:r")),k.each(_,function(et,u){if(k.isPlainObject(u))mt(u);else{if($){var m,x,w=u.childNodes[0],E=[];for(m=w.attributes.length-1;m>=0;m--){var A=w.attributes[m].nodeName,T=w.attributes[m].nodeValue;-1!==A.indexOf(":")&&(E.push({name:A,value:T}),w.removeAttribute(A))}for(m=0,x=E.length;m<x;m++){var q=u.createAttribute(E[m].name.replace(":","_dt_b_namespace_token_"));q.value=E[m].value,w.setAttributeNode(q)}}var M=V.serializeToString(u);$&&(-1===M.indexOf("<?xml")&&(M='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+M),M=M.replace(/_dt_b_namespace_token_/g,":")),M=M.replace(/<([^<>]*?) xmlns=""([^<>]*?)>/g,"<$1 $2>"),_[et]=M}})}V=typeof Ae.XMLSerializer>"u"?new function(){this.serializeToString=function(_){return _.xml}}:new XMLSerializer;var K={"_rels/.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',"xl/_rels/workbook.xml.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/></Relationships>',"[Content_Types].xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="jpeg" ContentType="image/jpeg" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /></Types>',"xl/workbook.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="24816"/><workbookPr showInkAnnotation="0" autoCompressPictures="0"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="25600" windowHeight="19020" tabRatio="500"/></bookViews><sheets><sheet name="" sheetId="1" r:id="rId1"/></sheets></workbook>',"xl/worksheets/sheet1.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><sheetData/></worksheet>',"xl/styles.xml":'<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="6"><numFmt numFmtId="164" formatCode="#,##0.00_- [$$-45C]"/><numFmt numFmtId="165" formatCode="&quot;\xa3&quot;#,##0.00"/><numFmt numFmtId="166" formatCode="[$\u20ac-2] #,##0.00"/><numFmt numFmtId="167" formatCode="0.0%"/><numFmt numFmtId="168" formatCode="#,##0;(#,##0)"/><numFmt numFmtId="169" formatCode="#,##0.00;(#,##0.00)"/></numFmts><fonts count="5" x14ac:knownFonts="1"><font><sz val="11" /><name val="Calibri" /></font><font><sz val="11" /><name val="Calibri" /><color rgb="FFFFFFFF" /></font><font><sz val="11" /><name val="Calibri" /><b /></font><font><sz val="11" /><name val="Calibri" /><i /></font><font><sz val="11" /><name val="Calibri" /><u /></font></fonts><fills count="6"><fill><patternFill patternType="none" /></fill><fill/><fill><patternFill patternType="solid"><fgColor rgb="FFD9D9D9" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD99795" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6efce" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6cfef" /><bgColor indexed="64" /></patternFill></fill></fills><borders count="2"><border><left /><right /><top /><bottom /><diagonal /></border><border diagonalUp="false" diagonalDown="false"><left style="thin"><color auto="1" /></left><right style="thin"><color auto="1" /></right><top style="thin"><color auto="1" /></top><bottom style="thin"><color auto="1" /></bottom><diagonal /></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" /></cellStyleXfs><cellXfs count="61"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="left"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="center"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="right"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="fill"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment textRotation="90"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment wrapText="1"/></xf><xf numFmtId="9"   fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="164" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="169" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="3" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="4" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0" /></cellStyles><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4" /></styleSheet>'},st=[{match:/^\-?\d+\.\d%$/,style:60,fmt:function(_){return _/100}},{match:/^\-?\d+\.?\d*%$/,style:56,fmt:function(_){return _/100}},{match:/^\-?\$[\d,]+.?\d*$/,style:57},{match:/^\-?\xa3[\d,]+.?\d*$/,style:58},{match:/^\-?\u20ac[\d,]+.?\d*$/,style:59},{match:/^\([\d,]+\)$/,style:61,fmt:function(_){return-1*_.replace(/[\(\)]/g,"")}},{match:/^\([\d,]+\.\d{2}\)$/,style:62,fmt:function(_){return-1*_.replace(/[\(\)]/g,"")}},{match:/^[\d,]+$/,style:63},{match:/^[\d,]+\.\d{2}$/,style:64}];return R.Buttons.swfPath="//cdn.datatables.net/buttons/1.2.4/swf/flashExport.swf",R.Api.register("buttons.resize()",function(){k.each(at.clients,function(_,et){et.domElement!==wt&&et.domElement.parentNode&&et.positionElement()})}),R.ext.buttons.copyFlash=k.extend({},H,{className:"buttons-copy buttons-flash",text:function(_){return _.i18n("buttons.copy","Copy")},action:function(_,et,u,w){if(w._fromFlash){this.processing(!0);var m=w._flash,x=F(et,w),E=w.customize?w.customize(x.str,w):x.str;m.setAction("copy"),ht(m,E),this.processing(!1),et.buttons.info(et.i18n("buttons.copyTitle","Copy to clipboard"),et.i18n("buttons.copySuccess",{_:"Copied %d rows to clipboard",1:"Copied 1 row to clipboard"},x.rows),3e3)}},fieldSeparator:"\t",fieldBoundary:""}),R.ext.buttons.csvFlash=k.extend({},H,{className:"buttons-csv buttons-flash",text:function(_){return _.i18n("buttons.csv","CSV")},action:function(_,et,u,w){var m=w._flash,x=F(et,w),E=w.customize?w.customize(x.str,w):x.str;m.setAction("csv"),m.setFileName(nt(w)),ht(m,E)},escapeChar:'"'}),R.ext.buttons.excelFlash=k.extend({},H,{className:"buttons-excel buttons-flash",text:function(_){return _.i18n("buttons.excel","Excel")},action:function(_,et,u,w){this.processing(!0);var M,G,m=w._flash,x=0,E=k.parseXML(K["xl/worksheets/sheet1.xml"]),A=E.getElementsByTagName("sheetData")[0],T={_rels:{".rels":k.parseXML(K["_rels/.rels"])},xl:{_rels:{"workbook.xml.rels":k.parseXML(K["xl/_rels/workbook.xml.rels"])},"workbook.xml":k.parseXML(K["xl/workbook.xml"]),"styles.xml":k.parseXML(K["xl/styles.xml"]),worksheets:{"sheet1.xml":E}},"[Content_Types].xml":k.parseXML(K["[Content_Types].xml"])},q=et.buttons.exportData(w.exportOptions),B=function(Pt){G=X(E,"row",{attr:{r:M=x+1}});for(var Jt=0,de=Pt.length;Jt<de;Jt++){var zt=N(Jt)+""+M,he=null;if(null!==Pt[Jt]&&Pt[Jt]!==wt&&""!==Pt[Jt]){Pt[Jt]=k.trim(Pt[Jt]);for(var Qt=0,Ue=st.length;Qt<Ue;Qt++){var me=st[Qt];if(Pt[Jt].match&&!Pt[Jt].match(/^0\d+/)&&Pt[Jt].match(me.match)){var Ee=Pt[Jt].replace(/[^\d\.\-]/g,"");me.fmt&&(Ee=me.fmt(Ee)),he=X(E,"c",{attr:{r:zt,s:me.style},children:[X(E,"v",{text:Ee})]});break}}if(!he)if("number"==typeof Pt[Jt]||Pt[Jt].match&&Pt[Jt].match(/^-?\d+(\.\d+)?$/)&&!Pt[Jt].match(/^0\d+/))he=X(E,"c",{attr:{t:"n",r:zt},children:[X(E,"v",{text:Pt[Jt]})]});else{var We=Pt[Jt].replace?Pt[Jt].replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,""):Pt[Jt];he=X(E,"c",{attr:{t:"inlineStr",r:zt},children:{row:X(E,"is",{children:{row:X(E,"t",{text:We})}})}})}G.appendChild(he)}}A.appendChild(G),x++};k("sheets sheet",T.xl["workbook.xml"]).attr("name",function(_){var et="Sheet1";return _.sheetName&&(et=_.sheetName.replace(/[\[\]\*\/\\\?\:]/g,"")),et}(w)),w.customizeData&&w.customizeData(q),w.header&&(B(q.header),k("row c",E).attr("s","2"));for(var ot=0,U=q.body.length;ot<U;ot++)B(q.body[ot]);w.footer&&q.footer&&(B(q.footer),k("row:last c",E).attr("s","2"));var Lt=X(E,"cols");k("worksheet",E).prepend(Lt);for(var Mt=0,St=q.header.length;Mt<St;Mt++)Lt.appendChild(X(E,"col",{attr:{min:Mt+1,max:Mt+1,width:ut(q,Mt),customWidth:1}}));w.customize&&w.customize(T),mt(T),m.setAction("excel"),m.setFileName(nt(w)),m.setSheetData(T),ht(m,""),this.processing(!1)},extension:".xlsx"}),R.ext.buttons.pdfFlash=k.extend({},H,{className:"buttons-pdf buttons-flash",text:function(_){return _.i18n("buttons.pdf","PDF")},action:function(_,et,u,w){this.processing(!0);var m=w._flash,x=et.buttons.exportData(w.exportOptions),E=et.table().node().offsetWidth,A=et.columns(w.columns).indexes().map(function(T){return et.column(T).header().offsetWidth/E});m.setAction("pdf"),m.setFileName(nt(w)),ht(m,JSON.stringify({title:nt(w,!1),message:"function"==typeof w.message?w.message(et,u,w):w.message,colWidth:A.toArray(),orientation:w.orientation,size:w.pageSize,header:w.header?x.header:null,footer:w.footer?x.footer:null,body:x.body})),this.processing(!1)},extension:".pdf",orientation:"portrait",pageSize:"A4",message:"",newline:"\n"}),R.Buttons}),function(k){if("function"==typeof define&&define.amd)define(["jquery","datatables.net","datatables.net-buttons"],function(wt){return k(wt,window,document)});else if("object"==typeof exports){var Ae=require("jquery"),Xe=function(wt,R){R.fn.dataTable||require("datatables.net")(wt,R),R.fn.dataTable.Buttons||require("datatables.net-buttons")(wt,R)};typeof window>"u"?module.exports=function(wt,R,at,ct){return wt||(wt=window),R||(R=Ae(wt)),Xe(wt,R),k(R,wt,wt.document)}:(Xe(window,Ae),module.exports=k(Ae,window,window.document))}else k(jQuery,window,document)}(function(k,Ae,Xe,wt,R,at){"use strict";var nt,pt,ct=k.fn.dataTable;function J(){return nt||Ae.JSZip}function ht(){return pt||Ae.pdfMake}ct.Buttons.pdfMake=function(u){if(!u)return ht();pt=u},ct.Buttons.jszip=function(u){if(!u)return J();nt=u};var rt=function(u){if(!(typeof u>"u"||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent))){var m=function(){return u.URL||u.webkitURL||u},x=u.document.createElementNS("http://www.w3.org/1999/xhtml","a"),E="download"in x,T=/constructor/i.test(u.HTMLElement)||u.safari,q=/CriOS\/[\d]+/.test(navigator.userAgent),M=function(Jt){(u.setImmediate||u.setTimeout)(function(){throw Jt},0)},ot=function(Jt){setTimeout(function(){"string"==typeof Jt?m().revokeObjectURL(Jt):Jt.remove()},4e4)},Lt=function(Jt){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Jt.type)?new Blob([String.fromCharCode(65279),Jt],{type:Jt.type}):Jt},Mt=function(Jt,de,zt){zt||(Jt=Lt(Jt));var me,he=this,Ue="application/octet-stream"===Jt.type,Ee=function(){!function(Jt,de,zt){for(var he=(de=[].concat(de)).length;he--;){var Qt=Jt["on"+de[he]];if("function"==typeof Qt)try{Qt.call(Jt,Jt)}catch(Ue){M(Ue)}}}(he,"writestart progress write writeend".split(" "))};if(he.readyState=he.INIT,E)return me=m().createObjectURL(Jt),void setTimeout(function(){x.href=me,x.download=de,function(Jt){var de=new MouseEvent("click");Jt.dispatchEvent(de)}(x),Ee(),ot(me),he.readyState=he.DONE});!function(){if((q||Ue&&T)&&u.FileReader){var Ke=new FileReader;return Ke.onloadend=function(){var Kt=q?Ke.result:Ke.result.replace(/^data:[^;]*;/,"data:attachment/file;");u.open(Kt,"_blank")||(u.location.href=Kt),Kt=at,he.readyState=he.DONE,Ee()},Ke.readAsDataURL(Jt),void(he.readyState=he.INIT)}me||(me=m().createObjectURL(Jt)),Ue?u.location.href=me:u.open(me,"_blank")||(u.location.href=me),he.readyState=he.DONE,Ee(),ot(me)}()},St=Mt.prototype;return typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(Jt,de,zt){return de=de||Jt.name||"download",zt||(Jt=Lt(Jt)),navigator.msSaveOrOpenBlob(Jt,de)}:(St.abort=function(){},St.readyState=St.INIT=0,St.WRITING=1,St.DONE=2,St.error=St.onwritestart=St.onprogress=St.onwrite=St.onabort=St.onerror=St.onwriteend=null,function(Jt,de,zt){return new Mt(Jt,de||Jt.name||"download",zt)})}}(typeof self<"u"&&self||typeof Ae<"u"&&Ae||this.content);ct.fileSave=rt;var F=function(u){var w="Sheet1";return u.sheetName&&(w=u.sheetName.replace(/[\[\]\*\/\\\?\:]/g,"")),w},H=function(u){return u.newline?u.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"},N=function(u,w){for(var m=H(w),x=u.buttons.exportData(w.exportOptions),E=w.fieldBoundary,A=w.fieldSeparator,T=new RegExp(E,"g"),q=w.escapeChar!==at?w.escapeChar:"\\",M=function(Mt){for(var St="",Pt=0,Jt=Mt.length;Pt<Jt;Pt++)Pt>0&&(St+=A),St+=E?E+(""+Mt[Pt]).replace(T,q+E)+E:Mt[Pt];return St},G=w.header?M(x.header)+m:"",B=w.footer&&x.footer?m+M(x.footer):"",ot=[],U=0,Lt=x.body.length;U<Lt;U++)ot.push(M(x.body[U]));return{str:G+ot.join(m)+B,rows:ot.length}},X=function(){if(-1===navigator.userAgent.indexOf("Safari")||-1!==navigator.userAgent.indexOf("Chrome")||-1!==navigator.userAgent.indexOf("Opera"))return!1;var w=navigator.userAgent.match(/AppleWebKit\/(\d+\.\d+)/);return!!(w&&w.length>1&&1*w[1]<603.1)};function ut(u){for(var w="A".charCodeAt(0),x="Z".charCodeAt(0)-w+1,E="";u>=0;)E=String.fromCharCode(u%x+w)+E,u=Math.floor(u/x)-1;return E}try{var $,V=new XMLSerializer}catch{}function mt(u,w){$===at&&($=-1===V.serializeToString((new Ae.DOMParser).parseFromString(_["xl/worksheets/sheet1.xml"],"text/xml")).indexOf("xmlns:r")),k.each(w,function(m,x){if(k.isPlainObject(x))mt(u.folder(m),x);else{if($){var T,q,A=x.childNodes[0],M=[];for(T=A.attributes.length-1;T>=0;T--){var G=A.attributes[T].nodeName,B=A.attributes[T].nodeValue;-1!==G.indexOf(":")&&(M.push({name:G,value:B}),A.removeAttribute(G))}for(T=0,q=M.length;T<q;T++){var ot=x.createAttribute(M[T].name.replace(":","_dt_b_namespace_token_"));ot.value=M[T].value,A.setAttributeNode(ot)}}var U=V.serializeToString(x);$&&(-1===U.indexOf("<?xml")&&(U='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+U),U=(U=U.replace(/_dt_b_namespace_token_/g,":")).replace(/xmlns:NS[\d]+="" NS[\d]+:/g,"")),U=U.replace(/<([^<>]*?) xmlns=""([^<>]*?)>/g,"<$1 $2>"),u.file(m,U)}})}function K(u,w,m){var x=u.createElement(w);return m&&(m.attr&&k(x).attr(m.attr),m.children&&k.each(m.children,function(E,A){x.appendChild(A)}),null!==m.text&&m.text!==at&&x.appendChild(u.createTextNode(m.text))),x}function st(u,w){var x,E,A,m=u.header[w].length;u.footer&&u.footer[w].length>m&&(m=u.footer[w].length);for(var T=0,q=u.body.length;T<q;T++){var M=u.body[T][w];if(-1!==(A=null!==M&&M!==at?M.toString():"").indexOf("\n")?((E=A.split("\n")).sort(function(G,B){return B.length-G.length}),x=E[0].length):x=A.length,x>m&&(m=x),m>40)return 54}return(m*=1.35)>6?m:6}var _={"_rels/.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',"xl/_rels/workbook.xml.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/></Relationships>',"[Content_Types].xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="jpeg" ContentType="image/jpeg" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /></Types>',"xl/workbook.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="24816"/><workbookPr showInkAnnotation="0" autoCompressPictures="0"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="25600" windowHeight="19020" tabRatio="500"/></bookViews><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets><definedNames/></workbook>',"xl/worksheets/sheet1.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><sheetData/><mergeCells count="0"/></worksheet>',"xl/styles.xml":'<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="6"><numFmt numFmtId="164" formatCode="#,##0.00_- [$$-45C]"/><numFmt numFmtId="165" formatCode="&quot;\xa3&quot;#,##0.00"/><numFmt numFmtId="166" formatCode="[$\u20ac-2] #,##0.00"/><numFmt numFmtId="167" formatCode="0.0%"/><numFmt numFmtId="168" formatCode="#,##0;(#,##0)"/><numFmt numFmtId="169" formatCode="#,##0.00;(#,##0.00)"/></numFmts><fonts count="5" x14ac:knownFonts="1"><font><sz val="11" /><name val="Calibri" /></font><font><sz val="11" /><name val="Calibri" /><color rgb="FFFFFFFF" /></font><font><sz val="11" /><name val="Calibri" /><b /></font><font><sz val="11" /><name val="Calibri" /><i /></font><font><sz val="11" /><name val="Calibri" /><u /></font></fonts><fills count="6"><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD9D9D9" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD99795" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6efce" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6cfef" /><bgColor indexed="64" /></patternFill></fill></fills><borders count="2"><border><left /><right /><top /><bottom /><diagonal /></border><border diagonalUp="false" diagonalDown="false"><left style="thin"><color auto="1" /></left><right style="thin"><color auto="1" /></right><top style="thin"><color auto="1" /></top><bottom style="thin"><color auto="1" /></bottom><diagonal /></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" /></cellStyleXfs><cellXfs count="68"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="left"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="center"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="right"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="fill"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment textRotation="90"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment wrapText="1"/></xf><xf numFmtId="9"   fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="164" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="169" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="3" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="4" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="1" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="2" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="14" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0" /></cellStyles><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4" /></styleSheet>'},et=[{match:/^\-?\d+\.\d%$/,style:60,fmt:function(u){return u/100}},{match:/^\-?\d+\.?\d*%$/,style:56,fmt:function(u){return u/100}},{match:/^\-?\$[\d,]+.?\d*$/,style:57},{match:/^\-?\xa3[\d,]+.?\d*$/,style:58},{match:/^\-?\u20ac[\d,]+.?\d*$/,style:59},{match:/^\-?\d+$/,style:65},{match:/^\-?\d+\.\d{2}$/,style:66},{match:/^\([\d,]+\)$/,style:61,fmt:function(u){return-1*u.replace(/[\(\)]/g,"")}},{match:/^\([\d,]+\.\d{2}\)$/,style:62,fmt:function(u){return-1*u.replace(/[\(\)]/g,"")}},{match:/^\-?[\d,]+$/,style:63},{match:/^\-?[\d,]+\.\d{2}$/,style:64},{match:/^[\d]{4}\-[01][\d]\-[0123][\d]$/,style:67,fmt:function(u){return Math.round(25569+Date.parse(u)/864e5)}}];return ct.ext.buttons.copyHtml5={className:"buttons-copy buttons-html5",text:function(u){return u.i18n("buttons.copy","Copy")},action:function(u,w,m,x){this.processing(!0);var E=this,A=N(w,x),T=w.buttons.exportInfo(x),q=H(x),M=A.str,G=k("<div/>").css({height:1,width:1,overflow:"hidden",position:"fixed",top:0,left:0});T.title&&(M=T.title+q+q+M),T.messageTop&&(M=T.messageTop+q+q+M),T.messageBottom&&(M=M+q+q+T.messageBottom),x.customize&&(M=x.customize(M,x,w));var B=k("<textarea readonly/>").val(M).appendTo(G);if(Xe.queryCommandSupported("copy")){G.appendTo(w.table().container()),B[0].focus(),B[0].select();try{var ot=Xe.execCommand("copy");if(G.remove(),ot)return w.buttons.info(w.i18n("buttons.copyTitle","Copy to clipboard"),w.i18n("buttons.copySuccess",{1:"Copied one row to clipboard",_:"Copied %d rows to clipboard"},A.rows),2e3),void this.processing(!1)}catch{}}var U=k("<span>"+w.i18n("buttons.copyKeys","Press <i>ctrl</i> or <i>\u2318</i> + <i>C</i> to copy the table data<br>to your system clipboard.<br><br>To cancel, click this message or press escape.")+"</span>").append(G);w.buttons.info(w.i18n("buttons.copyTitle","Copy to clipboard"),U,0),B[0].focus(),B[0].select();var Lt=k(U).closest(".dt-button-info"),Mt=function(){Lt.off("click.buttons-copy"),k(Xe).off(".buttons-copy"),w.buttons.info(!1)};Lt.on("click.buttons-copy",Mt),k(Xe).on("keydown.buttons-copy",function(St){27===St.keyCode&&(Mt(),E.processing(!1))}).on("copy.buttons-copy cut.buttons-copy",function(){Mt(),E.processing(!1)})},exportOptions:{},fieldSeparator:"\t",fieldBoundary:"",header:!0,footer:!1,title:"*",messageTop:"*",messageBottom:"*"},ct.ext.buttons.csvHtml5={bom:!1,className:"buttons-csv buttons-html5",available:function(){return Ae.FileReader!==at&&Ae.Blob},text:function(u){return u.i18n("buttons.csv","CSV")},action:function(u,w,m,x){this.processing(!0);var E=N(w,x).str,A=w.buttons.exportInfo(x),T=x.charset;x.customize&&(E=x.customize(E,x,w)),!1!==T?(T||(T=Xe.characterSet||Xe.charset),T&&(T=";charset="+T)):T="",x.bom&&(E=String.fromCharCode(65279)+E),rt(new Blob([E],{type:"text/csv"+T}),A.filename,!0),this.processing(!1)},filename:"*",extension:".csv",exportOptions:{},fieldSeparator:",",fieldBoundary:'"',escapeChar:'"',charset:null,header:!0,footer:!1},ct.ext.buttons.excelHtml5={className:"buttons-excel buttons-html5",available:function(){return Ae.FileReader!==at&&J()!==at&&!X()&&V},text:function(u){return u.i18n("buttons.excel","Excel")},action:function(u,w,m,x){this.processing(!0);var T,q,Lt,Mt,E=this,A=0,M=function(Kt){return k.parseXML(_[Kt])},G=M("xl/worksheets/sheet1.xml"),B=G.getElementsByTagName("sheetData")[0],ot={_rels:{".rels":M("_rels/.rels")},xl:{_rels:{"workbook.xml.rels":M("xl/_rels/workbook.xml.rels")},"workbook.xml":M("xl/workbook.xml"),"styles.xml":M("xl/styles.xml"),worksheets:{"sheet1.xml":G}},"[Content_Types].xml":M("[Content_Types].xml")},U=w.buttons.exportData(x.exportOptions),St=function(Kt){Mt=K(G,"row",{attr:{r:Lt=A+1}});for(var Ie=0,ue=Kt.length;Ie<ue;Ie++){var Fe=ut(Ie)+""+Lt,Me=null;if(null===Kt[Ie]||Kt[Ie]===at||""===Kt[Ie]){if(!0!==x.createEmptyCells)continue;Kt[Ie]=""}var sn=Kt[Ie];Kt[Ie]="function"==typeof Kt[Ie].trim?Kt[Ie].trim():Kt[Ie];for(var mn=0,gn=et.length;mn<gn;mn++){var ce=et[mn];if(Kt[Ie].match&&!Kt[Ie].match(/^0\d+/)&&Kt[Ie].match(ce.match)){var se=Kt[Ie].replace(/[^\d\.\-]/g,"");ce.fmt&&(se=ce.fmt(se)),Me=K(G,"c",{attr:{r:Fe,s:ce.style},children:[K(G,"v",{text:se})]});break}}if(!Me)if("number"==typeof Kt[Ie]||Kt[Ie].match&&Kt[Ie].match(/^-?\d+(\.\d+)?([eE]\-?\d+)?$/)&&!Kt[Ie].match(/^0\d+/))Me=K(G,"c",{attr:{t:"n",r:Fe},children:[K(G,"v",{text:Kt[Ie]})]});else{var dt=sn.replace?sn.replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,""):sn;Me=K(G,"c",{attr:{t:"inlineStr",r:Fe},children:{row:K(G,"is",{children:{row:K(G,"t",{text:dt,attr:{"xml:space":"preserve"}})}})}})}Mt.appendChild(Me)}B.appendChild(Mt),A++};x.customizeData&&x.customizeData(U);var Pt=function(Kt,Ie){var ue=k("mergeCells",G);ue[0].appendChild(K(G,"mergeCell",{attr:{ref:"A"+Kt+":"+ut(Ie)+Kt}})),ue.attr("count",parseFloat(ue.attr("count"))+1),k("row:eq("+(Kt-1)+") c",G).attr("s","51")},Jt=w.buttons.exportInfo(x);Jt.title&&(St([Jt.title]),Pt(A,U.header.length-1)),Jt.messageTop&&(St([Jt.messageTop]),Pt(A,U.header.length-1)),x.header&&(St(U.header),k("row:last c",G).attr("s","2")),T=A;for(var de=0,zt=U.body.length;de<zt;de++)St(U.body[de]);q=A,x.footer&&U.footer&&(St(U.footer),k("row:last c",G).attr("s","2")),Jt.messageBottom&&(St([Jt.messageBottom]),Pt(A,U.header.length-1));var he=K(G,"cols");k("worksheet",G).prepend(he);for(var Qt=0,Ue=U.header.length;Qt<Ue;Qt++)he.appendChild(K(G,"col",{attr:{min:Qt+1,max:Qt+1,width:st(U,Qt),customWidth:1}}));var me=ot.xl["workbook.xml"];k("sheets sheet",me).attr("name",F(x)),x.autoFilter&&(k("mergeCells",G).before(K(G,"autoFilter",{attr:{ref:"A"+T+":"+ut(U.header.length-1)+q}})),k("definedNames",me).append(K(me,"definedName",{attr:{name:"_xlnm._FilterDatabase",localSheetId:"0",hidden:1},text:F(x)+"!$A$"+T+":"+ut(U.header.length-1)+q}))),x.customize&&x.customize(ot,x,w),0===k("mergeCells",G).children().length&&k("mergeCells",G).remove();var We=new(J()),Ke={compression:"DEFLATE",type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};mt(We,ot);var le=Jt.filename;le>175&&(le=le.substr(0,175)),We.generateAsync?We.generateAsync(Ke).then(function(Kt){rt(Kt,le),E.processing(!1)}):(rt(We.generate(Ke),le),this.processing(!1))},filename:"*",extension:".xlsx",exportOptions:{},header:!0,footer:!1,title:"*",messageTop:"*",messageBottom:"*",createEmptyCells:!1,autoFilter:!1,sheetName:""},ct.ext.buttons.pdfHtml5={className:"buttons-pdf buttons-html5",available:function(){return Ae.FileReader!==at&&ht()},text:function(u){return u.i18n("buttons.pdf","PDF")},action:function(u,w,m,x){this.processing(!0);var A=w.buttons.exportData(x.exportOptions),T=w.buttons.exportInfo(x),q=[];x.header&&q.push(k.map(A.header,function(U){return{text:"string"==typeof U?U:U+"",style:"tableHeader"}}));for(var M=0,G=A.body.length;M<G;M++)q.push(k.map(A.body[M],function(U){return(null===U||U===at)&&(U=""),{text:"string"==typeof U?U:U+"",style:M%2?"tableBodyEven":"tableBodyOdd"}}));x.footer&&A.footer&&q.push(k.map(A.footer,function(U){return{text:"string"==typeof U?U:U+"",style:"tableFooter"}}));var B={pageSize:x.pageSize,pageOrientation:x.orientation,content:[{table:{headerRows:1,body:q},layout:"noBorders"}],styles:{tableHeader:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154",alignment:"center"},tableBodyEven:{},tableBodyOdd:{fillColor:"#f3f3f3"},tableFooter:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154"},title:{alignment:"center",fontSize:15},message:{}},defaultStyle:{fontSize:10}};T.messageTop&&B.content.unshift({text:T.messageTop,style:"message",margin:[0,0,0,12]}),T.messageBottom&&B.content.push({text:T.messageBottom,style:"message",margin:[0,0,0,12]}),T.title&&B.content.unshift({text:T.title,style:"title",margin:[0,0,0,12]}),x.customize&&x.customize(B,x,w);var ot=ht().createPdf(B);"open"!==x.download||X()?ot.download(T.filename):ot.open(),this.processing(!1)},title:"*",filename:"*",extension:".pdf",exportOptions:{},orientation:"portrait",pageSize:"A4",header:!0,footer:!1,messageTop:"*",messageBottom:"*",customize:null,download:"download"},ct}),function(k){if("function"==typeof define&&define.amd)define(["jquery","datatables.net","datatables.net-buttons"],function(wt){return k(wt,window,document)});else if("object"==typeof exports){var Ae=require("jquery"),Xe=function(wt,R){R.fn.dataTable||require("datatables.net")(wt,R),R.fn.dataTable.Buttons||require("datatables.net-buttons")(wt,R)};typeof window>"u"?module.exports=function(wt,R){return wt||(wt=window),R||(R=Ae(wt)),Xe(wt,R),k(R,wt,wt.document)}:(Xe(window,Ae),module.exports=k(Ae,window,window.document))}else k(jQuery,window,document)}(function(k,Ae,Xe,wt){"use strict";var R=k.fn.dataTable,at=Xe.createElement("a"),nt=function(pt){at.href=pt;var J=at.host;return-1===J.indexOf("/")&&0!==at.pathname.indexOf("/")&&(J+="/"),at.protocol+"//"+J+at.pathname+at.search};return R.ext.buttons.print={className:"buttons-print",text:function(pt){return pt.i18n("buttons.print","Print")},action:function(pt,J,ht,rt){var F=J.buttons.exportData(k.extend({decodeEntities:!1},rt.exportOptions)),H=J.buttons.exportInfo(rt),N=J.columns(rt.exportOptions.columns).flatten().map(function(_){return J.settings()[0].aoColumns[J.column(_).index()].sClass}).toArray(),X=function(_,et){for(var u="<tr>",w=0,m=_.length;w<m;w++)u+="<"+et+" "+(N[w]?'class="'+N[w]+'"':"")+">"+(null===_[w]||_[w]===wt?"":_[w])+"</"+et+">";return u+"</tr>"},ut='<table class="'+J.table().node().className+'">';rt.header&&(ut+="<thead>"+X(F.header,"th")+"</thead>"),ut+="<tbody>";for(var V=0,$=F.body.length;V<$;V++)ut+=X(F.body[V],"td");ut+="</tbody>",rt.footer&&F.footer&&(ut+="<tfoot>"+X(F.footer,"th")+"</tfoot>"),ut+="</table>";var mt=Ae.open("","");if(mt){mt.document.close();var K="<title>"+H.title+"</title>";k("style, link").each(function(){K+=function(pt){var ht=k(pt).clone()[0];return"link"===ht.nodeName.toLowerCase()&&(ht.href=nt(ht.href)),ht.outerHTML}(this)});try{mt.document.head.innerHTML=K}catch{k(mt.document.head).html(K)}mt.document.body.innerHTML="<h1>"+H.title+"</h1><div>"+(H.messageTop||"")+"</div>"+ut+"<div>"+(H.messageBottom||"")+"</div>",k(mt.document.body).addClass("dt-print-view"),k("img",mt.document.body).each(function(_,et){et.setAttribute("src",nt(et.getAttribute("src")))}),rt.customize&&rt.customize(mt,rt,J);var st=function(){rt.autoPrint&&(mt.print(),mt.close())};navigator.userAgent.match(/Trident\/\d.\d/)?st():mt.setTimeout(st,1e3)}else J.buttons.info(J.i18n("buttons.printErrorTitle","Unable to open print view"),J.i18n("buttons.printErrorMsg","Please allow popups in your browser for this site to be able to view the print view."),5e3)},title:"*",messageTop:"*",messageBottom:"*",exportOptions:{},header:!0,footer:!1,autoPrint:!0,customize:null},R}),function(k,Ae){"object"==typeof exports&&"object"==typeof module?module.exports=Ae():"function"==typeof define&&define.amd?define([],Ae):"object"==typeof exports?exports.grapesjs=Ae():k.grapesjs=Ae()}(typeof globalThis<"u"?globalThis:typeof window<"u"?window:this,()=>(()=>{var k={4729:(R,at,ct)=>{var nt,pt,J;pt=[ct(5706),ct(4193)],void 0===(J="function"==typeof(nt=function(ht,rt){var F=Array.prototype.slice;function H(A,T,q){return q.length<=4?A.call(T,q[0],q[1],q[2],q[3]):A.apply(T,q)}function N(A,T){return F.call(A,T)}function X(A,T){return null!=A&&(ht.isArray(T)||(T=N(arguments,1)),ht.all(T,function(q){return q in A}))}var A,T,ut=(A=!1,T=-1,function(){return A||function q(){T++,A=!0,ht.defer(function(){A=!1})}(),T});function V(){this.registeredObjects=[],this.cidIndexes=[]}function $(A,T,q,M){for(var G,B=0,ot=T.length;B<ot;B++)if(G=T[B]){if("on"===A){if(!M.objectRegistry.register(G))continue}else if(!M.objectRegistry.unregister(G))continue;ht.isFunction(G[A])&&G[A]("all",q,M)}}function mt(A,T){var q=T.type,M=T.undoTypes,G=!M[q]||M[q][A];ht.isFunction(G)&&G(T.object,T.before,T.after,T.options)}function K(A,T,q,M,G){if(!(q.isCurrentlyUndoRedoing||"undo"===A&&-1===q.pointer||"redo"===A&&q.pointer===q.length-1)){q.isCurrentlyUndoRedoing=!0;var B,ot,U="undo"===A;for(G?ot=U&&q.pointer===q.length-1||!U&&-1===q.pointer?ht.clone(q.models):F.apply(q.models,U?[0,q.pointer]:[q.pointer,q.length-1]):(B=q.at(U?q.pointer:q.pointer+1),ot=M?q.where({magicFusionIndex:B.get("magicFusionIndex")}):[B]),q.pointer+=(U?-1:1)*ot.length;B=U?ot.pop():ot.shift();)B[A]();q.isCurrentlyUndoRedoing=!1,T.trigger(A,T)}}V.prototype={isRegistered:function(A){return A&&A.cid?this.registeredObjects[A.cid]:ht.contains(this.registeredObjects,A)},register:function(A){return!this.isRegistered(A)&&(A&&A.cid?(this.registeredObjects[A.cid]=A,this.cidIndexes.push(A.cid)):this.registeredObjects.push(A),!0)},unregister:function(A){if(this.isRegistered(A)){if(A&&A.cid)delete this.registeredObjects[A.cid],this.cidIndexes.splice(ht.indexOf(this.cidIndexes,A.cid),1);else{var T=ht.indexOf(this.registeredObjects,A);this.registeredObjects.splice(T,1)}return!0}return!1},get:function(){return ht.map(this.cidIndexes,function(A){return this.registeredObjects[A]},this).concat(this.registeredObjects)}};var et={add:{undo:function(A,T,q,M){A.remove(q,M)},redo:function(A,T,q,M){M.index&&(M.at=M.index),A.add(q,M)},on:function(A,T,q){return{object:T,before:void 0,after:A,options:ht.clone(q)}}},remove:{undo:function(A,T,q,M){"index"in M&&(M.at=M.index),A.add(T,M)},redo:function(A,T,q,M){A.remove(T,M)},on:function(A,T,q){return{object:T,before:A,after:void 0,options:ht.clone(q)}}},change:{undo:function(A,T,q,M){ht.isEmpty(T)?ht.each(ht.keys(q),A.unset,A):(A.set(T),M&&M.unsetData&&M.unsetData.before&&M.unsetData.before.length&&ht.each(M.unsetData.before,A.unset,A))},redo:function(A,T,q,M){ht.isEmpty(q)?ht.each(ht.keys(T),A.unset,A):(A.set(q),M&&M.unsetData&&M.unsetData.after&&M.unsetData.after.length&&ht.each(M.unsetData.after,A.unset,A))},on:function(A,T){var q=A.changedAttributes(),M=ht.keys(q),G=ht.pick(A.previousAttributes(),M),B=ht.keys(G),ot=(T||(T={})).unsetData={after:[],before:[]};return M.length!=B.length&&(M.length>B.length?ht.each(M,function(U){U in G||ot.before.push(U)},this):ht.each(B,function(U){U in q||ot.after.push(U)})),{object:A,before:G,after:q,options:ht.clone(T)}}},reset:{undo:function(A,T,q){A.reset(T)},redo:function(A,T,q){A.reset(q)},on:function(A,T){return{object:A,before:T.previousModels,after:ht.clone(A.models)}}}};function u(){}function w(A,T,q,M){if("object"==typeof T)return ht.each(T,function(G,B){2===A?w(A,G,q,M):w(A,B,G,q)});switch(A){case 0:X(q,"undo","redo","on")&&ht.all(ht.pick(q,"undo","redo","on"),ht.isFunction)&&(M[T]=q);break;case 1:M[T]&&ht.isObject(q)&&(M[T]=ht.extend({},M[T],q));break;case 2:delete M[T]}return this}u.prototype=et;var m=rt.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(A){mt("undo",this.attributes)},redo:function(A){mt("redo",this.attributes)}}),x=rt.Collection.extend({model:m,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(A){this.maximumStackLength=A}}),E=rt.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(A){this.stack=new x,this.objectRegistry=new V,this.undoTypes=new u,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(T,q){this.stack.setMaxLength(q)},this),A&&A.track&&this.startTracking(),A&&A.register&&(ht.isArray(A.register)||ht.isArguments(A.register)?H(this.register,this,A.register):this.register(A.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(A){!function _(A,T,q,M){if(A.track&&!A.isCurrentlyUndoRedoing&&T in M&&function st(A,T){var q=A.condition,M=typeof q;return"function"===M?!!H(q,A,T):"boolean"!==M||q}(M[T],q)){var G=H(M[T].on,M[T],q);if(X(G,"object","before","after")){if(G.type=T,G.magicFusionIndex=ut(),G.undoTypes=M,A.pointer<A.length-1)for(var B=A.length-A.pointer-1;B--;)A.pop();A.pointer=A.length,A.add(G),A.length>A.maximumStackLength&&(A.shift(),A.pointer--)}}}(this.stack,A,N(arguments,1),this.undoTypes)},register:function(){$("on",arguments,this._addToStack,this)},unregister:function(){$("off",arguments,this._addToStack,this)},unregisterAll:function(){H(this.unregister,this,this.objectRegistry.get())},undo:function(A){K("undo",this,this.stack,A)},undoAll:function(){K("undo",this,this.stack,!1,!0)},redo:function(A){K("redo",this,this.stack,A)},redoAll:function(){K("redo",this,this.stack,!1,!0)},isAvailable:function(A){var T=this.stack,q=T.length;switch(A){case"undo":return q>0&&T.pointer>-1;case"redo":return q>0&&T.pointer<q-1;default:return!1}},merge:function(A){for(var T,q=ht.isArray(A)?A:N(arguments);T=q.pop();)T instanceof E&&T.stack instanceof x&&(T.stack=this.stack)},addUndoType:function(A,T){w(0,A,T,this.undoTypes)},changeUndoType:function(A,T){w(1,A,T,this.undoTypes)},removeUndoType:function(A){w(2,A,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return ht.extend(E,{defaults:function(A){ht.extend(E.prototype.defaults,A)},addUndoType:function(A,T){w(0,A,T,et)},changeUndoType:function(A,T){w(1,A,T,et)},removeUndoType:function(A){w(2,A,void 0,et)}}),rt.UndoManager=E})?nt.apply(at,pt):nt)||(R.exports=J)},4193:(R,at,ct)=>{var nt,pt,J;J="object"==typeof self&&self.self===self&&self||"object"==typeof ct.g&&ct.g.global===ct.g&&ct.g,nt=[ct(5706),ct(6411),at],void 0===(pt=function(ht,rt,F){J.Backbone=function(H,N,X,ut){var V=H.Backbone,$=Array.prototype.slice;N.VERSION="1.4.1",N.$=ut,N.noConflict=function(){return H.Backbone=V,this},N.emulateHTTP=!1,N.emulateJSON=!1;var mt,K=N.Events={},st=/\s+/,_=function(dt,yt,Rt,re,xe){var Se,He=0;if(Rt&&"object"==typeof Rt)for((void 0!==re&&"context"in xe&&void 0===xe.context&&(xe.context=re),Se=X.keys(Rt));He<Se.length;He++)yt=_(dt,yt,Se[He],Rt[Se[He]],xe);else if(Rt&&st.test(Rt))for(Se=Rt.split(st);He<Se.length;He++)yt=dt(yt,Se[He],re,xe);else yt=dt(yt,Rt,re,xe);return yt};K.on=function(dt,yt,Rt){return this._events=_(et,this._events||{},dt,yt,{context:Rt,ctx:this,listening:mt}),mt&&((this._listeners||(this._listeners={}))[mt.id]=mt,mt.interop=!1),this},K.listenTo=function(dt,yt,Rt){if(!dt)return this;var re=dt._listenId||(dt._listenId=X.uniqueId("l")),xe=this._listeningTo||(this._listeningTo={}),Se=mt=xe[re];Se||(this._listenId||(this._listenId=X.uniqueId("l")),Se=mt=xe[re]=new A(this,dt));var He=u(dt,yt,Rt,this);if(mt=void 0,He)throw He;return Se.interop&&Se.on(yt,Rt),this};var et=function(dt,yt,Rt,re){if(Rt){var xe=dt[yt]||(dt[yt]=[]),Se=re.context,He=re.ctx,Sn=re.listening;Sn&&Sn.count++,xe.push({callback:Rt,context:Se,ctx:Se||He,listening:Sn})}return dt},u=function(dt,yt,Rt,re){try{dt.on(yt,Rt,re)}catch(xe){return xe}};K.off=function(dt,yt,Rt){return this._events?(this._events=_(w,this._events,dt,yt,{context:Rt,listeners:this._listeners}),this):this},K.stopListening=function(dt,yt,Rt){var re=this._listeningTo;if(!re)return this;for(var xe=dt?[dt._listenId]:X.keys(re),Se=0;Se<xe.length;Se++){var He=re[xe[Se]];if(!He)break;He.obj.off(yt,Rt,this),He.interop&&He.off(yt,Rt)}return X.isEmpty(re)&&(this._listeningTo=void 0),this};var w=function(dt,yt,Rt,re){if(dt){var xe,Se=re.context,He=re.listeners,Sn=0;if(yt||Se||Rt){for(xe=yt?[yt]:X.keys(dt);Sn<xe.length;Sn++){var jn=dt[yt=xe[Sn]];if(!jn)break;for(var bn=[],$n=0;$n<jn.length;$n++){var At=jn[$n];if(Rt&&Rt!==At.callback&&Rt!==At.callback._callback||Se&&Se!==At.context)bn.push(At);else{var Be=At.listening;Be&&Be.off(yt,Rt)}}bn.length?dt[yt]=bn:delete dt[yt]}return dt}for(xe=X.keys(He);Sn<xe.length;Sn++)He[xe[Sn]].cleanup()}};K.once=function(dt,yt,Rt){var re=_(m,{},dt,yt,this.off.bind(this));return"string"==typeof dt&&null==Rt&&(yt=void 0),this.on(re,yt,Rt)},K.listenToOnce=function(dt,yt,Rt){var re=_(m,{},yt,Rt,this.stopListening.bind(this,dt));return this.listenTo(dt,re)};var m=function(dt,yt,Rt,re){if(Rt){var xe=dt[yt]=X.once(function(){re(yt,xe),Rt.apply(this,arguments)});xe._callback=Rt}return dt};K.trigger=function(dt){if(!this._events)return this;for(var yt=Math.max(0,arguments.length-1),Rt=Array(yt),re=0;re<yt;re++)Rt[re]=arguments[re+1];return _(x,this._events,dt,void 0,Rt),this};var x=function(dt,yt,Rt,re){if(dt){var xe=dt[yt],Se=dt.all;xe&&Se&&(Se=Se.slice()),xe&&E(xe,re),Se&&E(Se,[yt].concat(re))}return dt},E=function(dt,yt){var Rt,re=-1,xe=dt.length,Se=yt[0],He=yt[1],Sn=yt[2];switch(yt.length){case 0:for(;++re<xe;)(Rt=dt[re]).callback.call(Rt.ctx);return;case 1:for(;++re<xe;)(Rt=dt[re]).callback.call(Rt.ctx,Se);return;case 2:for(;++re<xe;)(Rt=dt[re]).callback.call(Rt.ctx,Se,He);return;case 3:for(;++re<xe;)(Rt=dt[re]).callback.call(Rt.ctx,Se,He,Sn);return;default:for(;++re<xe;)(Rt=dt[re]).callback.apply(Rt.ctx,yt);return}},A=function(dt,yt){this.id=dt._listenId,this.listener=dt,this.obj=yt,this.interop=!0,this.count=0,this._events=void 0};A.prototype.on=K.on,A.prototype.off=function(dt,yt){var Rt;this.interop?(this._events=_(w,this._events,dt,yt,{context:void 0,listeners:void 0}),Rt=!this._events):(this.count--,Rt=0===this.count),Rt&&this.cleanup()},A.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},K.bind=K.on,K.unbind=K.off,X.extend(N,K);var T=N.Model=function(dt,yt){var Rt=dt||{};yt||(yt={}),this.preinitialize.apply(this,arguments),this.cid=X.uniqueId(this.cidPrefix),this.attributes={},yt.collection&&(this.collection=yt.collection),yt.parse&&(Rt=this.parse(Rt,yt)||{});var re=X.result(this,"defaults");Rt=X.defaults(X.extend({},re,Rt),re),this.set(Rt,yt),this.changed={},this.initialize.apply(this,arguments)};X.extend(T.prototype,K,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(dt){return X.clone(this.attributes)},sync:function(){return N.sync.apply(this,arguments)},get:function(dt){return this.attributes[dt]},escape:function(dt){return X.escape(this.get(dt))},has:function(dt){return null!=this.get(dt)},matches:function(dt){return!!X.iteratee(dt,this)(this.attributes)},set:function(dt,yt,Rt){if(null==dt)return this;var re;if("object"==typeof dt?(re=dt,Rt=yt):(re={})[dt]=yt,Rt||(Rt={}),!this._validate(re,Rt))return!1;var xe=Rt.unset,Se=Rt.silent,He=[],Sn=this._changing;this._changing=!0,Sn||(this._previousAttributes=X.clone(this.attributes),this.changed={});var jn=this.attributes,bn=this.changed,$n=this._previousAttributes;for(var At in re)X.isEqual(jn[At],yt=re[At])||He.push(At),X.isEqual($n[At],yt)?delete bn[At]:bn[At]=yt,xe?delete jn[At]:jn[At]=yt;if(this.idAttribute in re){var Be=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,Be,Rt)}if(!Se){He.length&&(this._pending=Rt);for(var Ct=0;Ct<He.length;Ct++)this.trigger("change:"+He[Ct],this,jn[He[Ct]],Rt)}if(Sn)return this;if(!Se)for(;this._pending;)Rt=this._pending,this._pending=!1,this.trigger("change",this,Rt);return this._pending=!1,this._changing=!1,this},unset:function(dt,yt){return this.set(dt,void 0,X.extend({},yt,{unset:!0}))},clear:function(dt){var yt={};for(var Rt in this.attributes)yt[Rt]=void 0;return this.set(yt,X.extend({},dt,{unset:!0}))},hasChanged:function(dt){return null==dt?!X.isEmpty(this.changed):X.has(this.changed,dt)},changedAttributes:function(dt){if(!dt)return!!this.hasChanged()&&X.clone(this.changed);var yt,Rt=this._changing?this._previousAttributes:this.attributes,re={};for(var xe in dt){var Se=dt[xe];X.isEqual(Rt[xe],Se)||(re[xe]=Se,yt=!0)}return!!yt&&re},previous:function(dt){return null!=dt&&this._previousAttributes?this._previousAttributes[dt]:null},previousAttributes:function(){return X.clone(this._previousAttributes)},fetch:function(dt){dt=X.extend({parse:!0},dt);var yt=this,Rt=dt.success;return dt.success=function(re){var xe=dt.parse?yt.parse(re,dt):re;if(!yt.set(xe,dt))return!1;Rt&&Rt.call(dt.context,yt,re,dt),yt.trigger("sync",yt,re,dt)},se(this,dt),this.sync("read",this,dt)},save:function(dt,yt,Rt){var re;null==dt||"object"==typeof dt?(re=dt,Rt=yt):(re={})[dt]=yt;var xe=(Rt=X.extend({validate:!0,parse:!0},Rt)).wait;if(re&&!xe){if(!this.set(re,Rt))return!1}else if(!this._validate(re,Rt))return!1;var Se=this,He=Rt.success,Sn=this.attributes;Rt.success=function($n){Se.attributes=Sn;var At=Rt.parse?Se.parse($n,Rt):$n;if(xe&&(At=X.extend({},re,At)),At&&!Se.set(At,Rt))return!1;He&&He.call(Rt.context,Se,$n,Rt),Se.trigger("sync",Se,$n,Rt)},se(this,Rt),re&&xe&&(this.attributes=X.extend({},Sn,re));var jn=this.isNew()?"create":Rt.patch?"patch":"update";"patch"!==jn||Rt.attrs||(Rt.attrs=re);var bn=this.sync(jn,this,Rt);return this.attributes=Sn,bn},destroy:function(dt){dt=dt?X.clone(dt):{};var yt=this,Rt=dt.success,re=dt.wait,xe=function(){yt.stopListening(),yt.trigger("destroy",yt,yt.collection,dt)};dt.success=function(He){re&&xe(),Rt&&Rt.call(dt.context,yt,He,dt),yt.isNew()||yt.trigger("sync",yt,He,dt)};var Se=!1;return this.isNew()?X.defer(dt.success):(se(this,dt),Se=this.sync("delete",this,dt)),re||xe(),Se},url:function(){var dt=X.result(this,"urlRoot")||X.result(this.collection,"url")||ce();if(this.isNew())return dt;var yt=this.get(this.idAttribute);return dt.replace(/[^\/]$/,"$&/")+encodeURIComponent(yt)},parse:function(dt,yt){return dt},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(dt){return this._validate({},X.extend({},dt,{validate:!0}))},_validate:function(dt,yt){if(!yt.validate||!this.validate)return!0;dt=X.extend({},this.attributes,dt);var Rt=this.validationError=this.validate(dt,yt)||null;return!Rt||(this.trigger("invalid",this,Rt,X.extend(yt,{validationError:Rt})),!1)}});var q=N.Collection=function(dt,yt){yt||(yt={}),this.preinitialize.apply(this,arguments),yt.model&&(this.model=yt.model),void 0!==yt.comparator&&(this.comparator=yt.comparator),this._reset(),this.initialize.apply(this,arguments),dt&&this.reset(dt,X.extend({silent:!0},yt))},M={add:!0,remove:!0,merge:!0},G={add:!0,remove:!1},B=function(dt,yt,Rt){Rt=Math.min(Math.max(Rt,0),dt.length);var re,xe=Array(dt.length-Rt),Se=yt.length;for(re=0;re<xe.length;re++)xe[re]=dt[re+Rt];for(re=0;re<Se;re++)dt[re+Rt]=yt[re];for(re=0;re<xe.length;re++)dt[re+Se+Rt]=xe[re]};X.extend(q.prototype,K,{model:T,preinitialize:function(){},initialize:function(){},toJSON:function(dt){return this.map(function(yt){return yt.toJSON(dt)})},sync:function(){return N.sync.apply(this,arguments)},add:function(dt,yt){return this.set(dt,X.extend({merge:!1},yt,G))},remove:function(dt,yt){yt=X.extend({},yt);var Rt=!X.isArray(dt);dt=Rt?[dt]:dt.slice();var re=this._removeModels(dt,yt);return!yt.silent&&re.length&&(yt.changes={added:[],merged:[],removed:re},this.trigger("update",this,yt)),Rt?re[0]:re},set:function(dt,yt){if(null!=dt){(yt=X.extend({},M,yt)).parse&&!this._isModel(dt)&&(dt=this.parse(dt,yt)||[]);var Rt=!X.isArray(dt);dt=Rt?[dt]:dt.slice();var re=yt.at;null!=re&&(re=+re),re>this.length&&(re=this.length),re<0&&(re+=this.length+1);var xe,Se,He=[],Sn=[],jn=[],bn=[],$n={},At=yt.add,Be=yt.merge,Ct=yt.remove,kt=!1,jt=this.comparator&&null==re&&!1!==yt.sort,Wt=X.isString(this.comparator)?this.comparator:null;for(Se=0;Se<dt.length;Se++){var gt=this.get(xe=dt[Se]);if(gt){if(Be&&xe!==gt){var Ce=this._isModel(xe)?xe.attributes:xe;yt.parse&&(Ce=gt.parse(Ce,yt)),gt.set(Ce,yt),jn.push(gt),jt&&!kt&&(kt=gt.hasChanged(Wt))}$n[gt.cid]||($n[gt.cid]=!0,He.push(gt)),dt[Se]=gt}else At&&(xe=dt[Se]=this._prepareModel(xe,yt))&&(Sn.push(xe),this._addReference(xe,yt),$n[xe.cid]=!0,He.push(xe))}if(Ct){for(Se=0;Se<this.length;Se++)$n[(xe=this.models[Se]).cid]||bn.push(xe);bn.length&&this._removeModels(bn,yt)}var Ze=!1;if(He.length&&!jt&&At&&Ct?(Ze=this.length!==He.length||X.some(this.models,function(Te,Oe){return Te!==He[Oe]}),this.models.length=0,B(this.models,He,0),this.length=this.models.length):Sn.length&&(jt&&(kt=!0),B(this.models,Sn,re??this.length),this.length=this.models.length),kt&&this.sort({silent:!0}),!yt.silent){for(Se=0;Se<Sn.length;Se++)null!=re&&(yt.index=re+Se),(xe=Sn[Se]).trigger("add",xe,this,yt);(kt||Ze)&&this.trigger("sort",this,yt),(Sn.length||bn.length||jn.length)&&(yt.changes={added:Sn,removed:bn,merged:jn},this.trigger("update",this,yt))}return Rt?dt[0]:dt}},reset:function(dt,yt){yt=yt?X.clone(yt):{};for(var Rt=0;Rt<this.models.length;Rt++)this._removeReference(this.models[Rt],yt);return yt.previousModels=this.models,this._reset(),dt=this.add(dt,X.extend({silent:!0},yt)),yt.silent||this.trigger("reset",this,yt),dt},push:function(dt,yt){return this.add(dt,X.extend({at:this.length},yt))},pop:function(dt){var yt=this.at(this.length-1);return this.remove(yt,dt)},unshift:function(dt,yt){return this.add(dt,X.extend({at:0},yt))},shift:function(dt){var yt=this.at(0);return this.remove(yt,dt)},slice:function(){return $.apply(this.models,arguments)},get:function(dt){if(null!=dt)return this._byId[dt]||this._byId[this.modelId(this._isModel(dt)?dt.attributes:dt,dt.idAttribute)]||dt.cid&&this._byId[dt.cid]},has:function(dt){return null!=this.get(dt)},at:function(dt){return dt<0&&(dt+=this.length),this.models[dt]},where:function(dt,yt){return this[yt?"find":"filter"](dt)},findWhere:function(dt){return this.where(dt,!0)},sort:function(dt){var yt=this.comparator;if(!yt)throw new Error("Cannot sort a set without a comparator");dt||(dt={});var Rt=yt.length;return X.isFunction(yt)&&(yt=yt.bind(this)),1===Rt||X.isString(yt)?this.models=this.sortBy(yt):this.models.sort(yt),dt.silent||this.trigger("sort",this,dt),this},pluck:function(dt){return this.map(dt+"")},fetch:function(dt){var yt=(dt=X.extend({parse:!0},dt)).success,Rt=this;return dt.success=function(re){Rt[dt.reset?"reset":"set"](re,dt),yt&&yt.call(dt.context,Rt,re,dt),Rt.trigger("sync",Rt,re,dt)},se(this,dt),this.sync("read",this,dt)},create:function(dt,yt){var Rt=(yt=yt?X.clone(yt):{}).wait;if(!(dt=this._prepareModel(dt,yt)))return!1;Rt||this.add(dt,yt);var re=this,xe=yt.success;return yt.success=function(Se,He,Sn){Rt&&re.add(Se,Sn),xe&&xe.call(Sn.context,Se,He,Sn)},dt.save(null,yt),dt},parse:function(dt,yt){return dt},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(dt,yt){return dt[yt||this.model.prototype.idAttribute||"id"]},values:function(){return new U(this,Lt)},keys:function(){return new U(this,Mt)},entries:function(){return new U(this,St)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(dt,yt){return this._isModel(dt)?(dt.collection||(dt.collection=this),dt):((yt=yt?X.clone(yt):{}).collection=this,(Rt=this.model.prototype?new this.model(dt,yt):this.model(dt,yt)).validationError?(this.trigger("invalid",this,Rt.validationError,yt),!1):Rt);var Rt},_removeModels:function(dt,yt){for(var Rt=[],re=0;re<dt.length;re++){var xe=this.get(dt[re]);if(xe){var Se=this.indexOf(xe);this.models.splice(Se,1),this.length--,delete this._byId[xe.cid];var He=this.modelId(xe.attributes,xe.idAttribute);null!=He&&delete this._byId[He],yt.silent||(yt.index=Se,xe.trigger("remove",xe,this,yt)),Rt.push(xe),this._removeReference(xe,yt)}}return Rt},_isModel:function(dt){return dt instanceof T},_addReference:function(dt,yt){this._byId[dt.cid]=dt;var Rt=this.modelId(dt.attributes,dt.idAttribute);null!=Rt&&(this._byId[Rt]=dt),dt.on("all",this._onModelEvent,this)},_removeReference:function(dt,yt){delete this._byId[dt.cid];var Rt=this.modelId(dt.attributes,dt.idAttribute);null!=Rt&&delete this._byId[Rt],this===dt.collection&&delete dt.collection,dt.off("all",this._onModelEvent,this)},_onModelEvent:function(dt,yt,Rt,re){if(yt){if(("add"===dt||"remove"===dt)&&Rt!==this)return;if("destroy"===dt&&this.remove(yt,re),"changeId"===dt){var xe=this.modelId(yt.previousAttributes(),yt.idAttribute),Se=this.modelId(yt.attributes,yt.idAttribute);null!=xe&&delete this._byId[xe],null!=Se&&(this._byId[Se]=yt)}}this.trigger.apply(this,arguments)}});var ot="function"==typeof Symbol&&Symbol.iterator;ot&&(q.prototype[ot]=q.prototype.values);var U=function(dt,yt){this._collection=dt,this._kind=yt,this._index=0},Lt=1,Mt=2,St=3;ot&&(U.prototype[ot]=function(){return this}),U.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var dt,yt=this._collection.at(this._index);if(this._index++,this._kind===Lt)dt=yt;else{var Rt=this._collection.modelId(yt.attributes,yt.idAttribute);dt=this._kind===Mt?Rt:[Rt,yt]}return{value:dt,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var Pt=N.View=function(dt){this.cid=X.uniqueId("view"),this.preinitialize.apply(this,arguments),X.extend(this,X.pick(dt,de)),this._ensureElement(),this.initialize.apply(this,arguments)},Jt=/^(\S+)\s*(.*)$/,de=["model","collection","el","id","attributes","className","tagName","events"];X.extend(Pt.prototype,K,{tagName:"div",$:function(dt){return this.$el.find(dt)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(dt){return this.undelegateEvents(),this._setElement(dt),this.delegateEvents(),this},_setElement:function(dt){this.$el=dt instanceof N.$?dt:N.$(dt),this.el=this.$el[0]},delegateEvents:function(dt){if(dt||(dt=X.result(this,"events")),!dt)return this;for(var yt in this.undelegateEvents(),dt){var Rt=dt[yt];if(X.isFunction(Rt)||(Rt=this[Rt]),Rt){var re=yt.match(Jt);this.delegate(re[1],re[2],Rt.bind(this))}}return this},delegate:function(dt,yt,Rt){return this.$el.on(dt+".delegateEvents"+this.cid,yt,Rt),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(dt,yt,Rt){return this.$el.off(dt+".delegateEvents"+this.cid,yt,Rt),this},_createElement:function(dt){return document.createElement(dt)},_ensureElement:function(){if(this.el)this.setElement(X.result(this,"el"));else{var dt=X.extend({},X.result(this,"attributes"));this.id&&(dt.id=X.result(this,"id")),this.className&&(dt.class=X.result(this,"className")),this.setElement(this._createElement(X.result(this,"tagName"))),this._setAttributes(dt)}},_setAttributes:function(dt){this.$el.attr(dt)}});var he=function(dt,yt,Rt,re){X.each(Rt,function(xe,Se){yt[Se]&&(dt.prototype[Se]=function(dt,yt,Rt,re){switch(yt){case 1:return function(){return dt[Rt](this[re])};case 2:return function(xe){return dt[Rt](this[re],xe)};case 3:return function(xe,Se){return dt[Rt](this[re],Qt(xe,this),Se)};case 4:return function(xe,Se,He){return dt[Rt](this[re],Qt(xe,this),Se,He)};default:return function(){var xe=$.call(arguments);return xe.unshift(this[re]),dt[Rt].apply(dt,xe)}}}(yt,xe,Se,re))})},Qt=function(dt,yt){return X.isFunction(dt)?dt:X.isObject(dt)&&!yt._isModel(dt)?Ue(dt):X.isString(dt)?function(Rt){return Rt.get(dt)}:dt},Ue=function(dt){var yt=X.matches(dt);return function(Rt){return yt(Rt.attributes)}};X.each([[q,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[T,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],function(dt){var yt=dt[0],Rt=dt[1],re=dt[2];yt.mixin=function(xe){var Se=X.reduce(X.functions(xe),function(He,Sn){return He[Sn]=0,He},{});he(yt,xe,Se,re)},he(yt,X,Rt,re)}),N.sync=function(dt,yt,Rt){var re=We[dt];X.defaults(Rt||(Rt={}),{emulateHTTP:N.emulateHTTP,emulateJSON:N.emulateJSON});var xe={type:re,dataType:"json"};if(Rt.url||(xe.url=X.result(yt,"url")||ce()),null!=Rt.data||!yt||"create"!==dt&&"update"!==dt&&"patch"!==dt||(xe.contentType="application/json",xe.data=JSON.stringify(Rt.attrs||yt.toJSON(Rt))),Rt.emulateJSON&&(xe.contentType="application/x-www-form-urlencoded",xe.data=xe.data?{model:xe.data}:{}),Rt.emulateHTTP&&("PUT"===re||"DELETE"===re||"PATCH"===re)){xe.type="POST",Rt.emulateJSON&&(xe.data._method=re);var Se=Rt.beforeSend;Rt.beforeSend=function(jn){if(jn.setRequestHeader("X-HTTP-Method-Override",re),Se)return Se.apply(this,arguments)}}"GET"===xe.type||Rt.emulateJSON||(xe.processData=!1);var He=Rt.error;Rt.error=function(jn,bn,$n){Rt.textStatus=bn,Rt.errorThrown=$n,He&&He.call(Rt.context,jn,bn,$n)};var Sn=Rt.xhr=N.ajax(X.extend(xe,Rt));return yt.trigger("request",yt,Sn,Rt),Sn};var We={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};N.ajax=function(){return N.$.ajax.apply(N.$,arguments)};var Ke=N.Router=function(dt){dt||(dt={}),this.preinitialize.apply(this,arguments),dt.routes&&(this.routes=dt.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},le=/\((.*?)\)/g,Kt=/(\(\?)?:\w+/g,Ie=/\*\w+/g,ue=/[\-{}\[\]+?.,\\\^$|#\s]/g;X.extend(Ke.prototype,K,{preinitialize:function(){},initialize:function(){},route:function(dt,yt,Rt){X.isRegExp(dt)||(dt=this._routeToRegExp(dt)),X.isFunction(yt)&&(Rt=yt,yt=""),Rt||(Rt=this[yt]);var re=this;return N.history.route(dt,function(xe){var Se=re._extractParameters(dt,xe);!1!==re.execute(Rt,Se,yt)&&(re.trigger.apply(re,["route:"+yt].concat(Se)),re.trigger("route",yt,Se),N.history.trigger("route",re,yt,Se))}),this},execute:function(dt,yt,Rt){dt&&dt.apply(this,yt)},navigate:function(dt,yt){return N.history.navigate(dt,yt),this},_bindRoutes:function(){if(this.routes){this.routes=X.result(this,"routes");for(var dt,yt=X.keys(this.routes);null!=(dt=yt.pop());)this.route(dt,this.routes[dt])}},_routeToRegExp:function(dt){return dt=dt.replace(ue,"\\$&").replace(le,"(?:$1)?").replace(Kt,function(yt,Rt){return Rt?yt:"([^/?]+)"}).replace(Ie,"([^?]*?)"),new RegExp("^"+dt+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(dt,yt){var Rt=dt.exec(yt).slice(1);return X.map(Rt,function(re,xe){return xe===Rt.length-1?re||null:re?decodeURIComponent(re):null})}});var Fe=N.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Me=/^[#\/]|\s+$/g,sn=/^\/+|\/+$/g,mn=/#.*$/;Fe.started=!1,X.extend(Fe.prototype,K,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(dt){return decodeURI(dt.replace(/%25/g,"%2525"))},getSearch:function(){var dt=this.location.href.replace(/#.*/,"").match(/\?.+/);return dt?dt[0]:""},getHash:function(dt){var yt=(dt||this).location.href.match(/#(.*)$/);return yt?yt[1]:""},getPath:function(){var dt=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===dt.charAt(0)?dt.slice(1):dt},getFragment:function(dt){return null==dt&&(dt=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),dt.replace(Me,"")},start:function(dt){if(Fe.started)throw new Error("Backbone.history has already been started");if(Fe.started=!0,this.options=X.extend({root:"/"},this.options,dt),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(sn,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var yt=this.root.slice(0,-1)||"/";return this.location.replace(yt+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var Rt=document.body,re=Rt.insertBefore(this.iframe,Rt.firstChild).contentWindow;re.document.open(),re.document.close(),re.location.hash="#"+this.fragment}var xe=window.addEventListener||function(Se,He){return attachEvent("on"+Se,He)};if(this._usePushState?xe("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?xe("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var dt=window.removeEventListener||function(yt,Rt){return detachEvent("on"+yt,Rt)};this._usePushState?dt("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&dt("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Fe.started=!1},route:function(dt,yt){this.handlers.unshift({route:dt,callback:yt})},checkUrl:function(dt){var yt=this.getFragment();if(yt===this.fragment&&this.iframe&&(yt=this.getHash(this.iframe.contentWindow)),yt===this.fragment)return!1;this.iframe&&this.navigate(yt),this.loadUrl()},loadUrl:function(dt){return!!this.matchRoot()&&(dt=this.fragment=this.getFragment(dt),X.some(this.handlers,function(yt){if(yt.route.test(dt))return yt.callback(dt),!0}))},navigate:function(dt,yt){if(!Fe.started)return!1;yt&&!0!==yt||(yt={trigger:!!yt}),dt=this.getFragment(dt||"");var Rt=this.root;""!==dt&&"?"!==dt.charAt(0)||(Rt=Rt.slice(0,-1)||"/");var re=Rt+dt;dt=dt.replace(mn,"");var xe=this.decodeFragment(dt);if(this.fragment!==xe){if(this.fragment=xe,this._usePushState)this.history[yt.replace?"replaceState":"pushState"]({},document.title,re);else{if(!this._wantsHashChange)return this.location.assign(re);if(this._updateHash(this.location,dt,yt.replace),this.iframe&&dt!==this.getHash(this.iframe.contentWindow)){var Se=this.iframe.contentWindow;yt.replace||(Se.document.open(),Se.document.close()),this._updateHash(Se.location,dt,yt.replace)}}return yt.trigger?this.loadUrl(dt):void 0}},_updateHash:function(dt,yt,Rt){if(Rt){var re=dt.href.replace(/(javascript:|#).*$/,"");dt.replace(re+"#"+yt)}else dt.hash="#"+yt}}),N.history=new Fe,T.extend=q.extend=Ke.extend=Pt.extend=Fe.extend=function(dt,yt){var Rt,re=this;return Rt=dt&&X.has(dt,"constructor")?dt.constructor:function(){return re.apply(this,arguments)},X.extend(Rt,re,yt),Rt.prototype=X.create(re.prototype,dt),Rt.prototype.constructor=Rt,Rt.__super__=re.prototype,Rt};var ce=function(){throw new Error('A "url" property or function must be specified')},se=function(dt,yt){var Rt=yt.error;yt.error=function(re){Rt&&Rt.call(yt.context,dt,re,yt),dt.trigger("error",dt,re,yt)}};return N}(J,F,ht,rt)}.apply(at,nt))||(R.exports=pt)},3640:(R,at,ct)=>{!function(nt){nt.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(J,ht){return/^[;{}]$/.test(ht)}}),nt.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(J,ht,rt,F){return this.jsonMode?/^[\[,{]$/.test(ht)||/^}/.test(rt):(";"!=ht||!F.lexical||")"!=F.lexical.type)&&/^[;{}]$/.test(ht)&&!/^;/.test(rt)}});var pt=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;nt.extendMode("xml",{commentStart:"\x3c!--",commentEnd:"--\x3e",newlineAfterToken:function(J,ht,rt,F){var H=!1;return"html"==this.configuration&&(H=!!F.context&&pt.test(F.context.tagName)),!H&&("tag"==J&&/>$/.test(ht)&&F.context||/^</.test(rt))}}),nt.defineExtension("commentRange",function(J,ht,rt){var F=this,H=nt.innerMode(F.getMode(),F.getTokenAt(ht).state).mode;F.operation(function(){if(J)F.replaceRange(H.commentEnd,rt),F.replaceRange(H.commentStart,ht),ht.line==rt.line&&ht.ch==rt.ch&&F.setCursor(ht.line,ht.ch+H.commentStart.length);else{var N=F.getRange(ht,rt),X=N.indexOf(H.commentStart),ut=N.lastIndexOf(H.commentEnd);X>-1&&ut>-1&&ut>X&&(N=N.substr(0,X)+N.substring(X+H.commentStart.length,ut)+N.substr(ut+H.commentEnd.length)),F.replaceRange(N,ht,rt)}})}),nt.defineExtension("autoIndentRange",function(J,ht){var rt=this;this.operation(function(){for(var F=J.line;F<=ht.line;F++)rt.indentLine(F,"smart")})}),nt.defineExtension("autoFormatRange",function(J,ht){var rt=this,F=rt.getMode(),H=rt.getRange(J,ht).split("\n"),N=nt.copyState(F,rt.getTokenAt(J).state),X=rt.getOption("tabSize"),ut="",V=0,$=0===J.ch;function mt(){ut+="\n",$=!0,++V}for(var K=0;K<H.length;++K){for(var st=new nt.StringStream(H[K],X);!st.eol();){var _=nt.innerMode(F,N),et=F.token(st,N),u=st.current();st.start=st.pos,$&&!/\S/.test(u)||(ut+=u,$=!1),!$&&_.mode.newlineAfterToken&&_.mode.newlineAfterToken(et,u,st.string.slice(st.pos)||H[K+1]||"",_.state)&&mt()}!st.pos&&F.blankLine&&F.blankLine(N),!$&&K<H.length-1&&mt()}rt.operation(function(){rt.replaceRange(ut,J,ht);for(var w=J.line+1,m=J.line+V;w<=m;++w)rt.indentLine(w,"smart");rt.setSelection(J,rt.getCursor(!1))})})}(ct(4408))},4408:function(R){R.exports=function(){"use strict";var at=navigator.userAgent,ct=navigator.platform,nt=/gecko\/\d/i.test(at),pt=/MSIE \d/.test(at),J=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(at),ht=/Edge\/(\d+)/.exec(at),rt=pt||J||ht,F=rt&&(pt?document.documentMode||6:+(ht||J)[1]),H=!ht&&/WebKit\//.test(at),N=H&&/Qt\/\d+\.\d+/.test(at),X=!ht&&/Chrome\//.test(at),ut=/Opera\//.test(at),V=/Apple Computer/.test(navigator.vendor),$=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(at),mt=/PhantomJS/.test(at),K=V&&(/Mobile\/\w+/.test(at)||navigator.maxTouchPoints>2),st=/Android/.test(at),_=K||st||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(at),et=K||/Mac/.test(ct),u=/\bCrOS\b/.test(at),w=/win/i.test(ct),m=ut&&at.match(/Version\/(\d*\.\d*)/);m&&(m=Number(m[1])),m&&m>=15&&(ut=!1,H=!0);var x=et&&(N||ut&&(null==m||m<12.11)),E=nt||rt&&F>=9;function A(i){return new RegExp("(^|\\s)"+i+"(?:$|\\s)\\s*")}var T,q=function(i,s){var p=i.className,f=A(s).exec(p);if(f){var y=p.slice(f.index+f[0].length);i.className=p.slice(0,f.index)+(y?f[1]+y:"")}};function M(i){for(var s=i.childNodes.length;s>0;--s)i.removeChild(i.firstChild);return i}function G(i,s){return M(i).appendChild(s)}function B(i,s,p,f){var y=document.createElement(i);if(p&&(y.className=p),f&&(y.style.cssText=f),"string"==typeof s)y.appendChild(document.createTextNode(s));else if(s)for(var D=0;D<s.length;++D)y.appendChild(s[D]);return y}function ot(i,s,p,f){var y=B(i,s,p,f);return y.setAttribute("role","presentation"),y}function U(i,s){if(3==s.nodeType&&(s=s.parentNode),i.contains)return i.contains(s);do{if(11==s.nodeType&&(s=s.host),s==i)return!0}while(s=s.parentNode)}function Lt(){var i;try{i=document.activeElement}catch{i=document.body||null}for(;i&&i.shadowRoot&&i.shadowRoot.activeElement;)i=i.shadowRoot.activeElement;return i}function Mt(i,s){var p=i.className;A(s).test(p)||(i.className+=(p?" ":"")+s)}function St(i,s){for(var p=i.split(" "),f=0;f<p.length;f++)p[f]&&!A(p[f]).test(s)&&(s+=" "+p[f]);return s}T=document.createRange?function(i,s,p,f){var y=document.createRange();return y.setEnd(f||i,p),y.setStart(i,s),y}:function(i,s,p){var f=document.body.createTextRange();try{f.moveToElementText(i.parentNode)}catch{return f}return f.collapse(!0),f.moveEnd("character",p),f.moveStart("character",s),f};var Pt=function(i){i.select()};function Jt(i){var s=Array.prototype.slice.call(arguments,1);return function(){return i.apply(null,s)}}function de(i,s,p){for(var f in s||(s={}),i)!i.hasOwnProperty(f)||!1===p&&s.hasOwnProperty(f)||(s[f]=i[f]);return s}function zt(i,s,p,f,y){null==s&&-1==(s=i.search(/[^\s\u00a0]/))&&(s=i.length);for(var D=f||0,Q=y||0;;){var it=i.indexOf("\t",D);if(it<0||it>=s)return Q+(s-D);Q+=it-D,Q+=p-Q%p,D=it+1}}K?Pt=function(i){i.selectionStart=0,i.selectionEnd=i.value.length}:rt&&(Pt=function(i){try{i.select()}catch{}});var he=function(){this.id=null,this.f=null,this.time=0,this.handler=Jt(this.onTimeout,this)};function Qt(i,s){for(var p=0;p<i.length;++p)if(i[p]==s)return p;return-1}he.prototype.onTimeout=function(i){i.id=0,i.time<=+new Date?i.f():setTimeout(i.handler,i.time-+new Date)},he.prototype.set=function(i,s){this.f=s;var p=+new Date+i;(!this.id||p<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,i),this.time=p)};var Ue=50,me={toString:function(){return"CodeMirror.Pass"}},Ee={scroll:!1},We={origin:"*mouse"},Ke={origin:"+move"};function le(i,s,p){for(var f=0,y=0;;){var D=i.indexOf("\t",f);-1==D&&(D=i.length);var Q=D-f;if(D==i.length||y+Q>=s)return f+Math.min(Q,s-y);if(y+=D-f,f=D+1,(y+=p-y%p)>=s)return f}}var Kt=[""];function Ie(i){for(;Kt.length<=i;)Kt.push(ue(Kt)+" ");return Kt[i]}function ue(i){return i[i.length-1]}function Fe(i,s){for(var p=[],f=0;f<i.length;f++)p[f]=s(i[f],f);return p}function sn(){}function mn(i,s){var p;return Object.create?p=Object.create(i):(sn.prototype=i,p=new sn),s&&de(s,p),p}var gn=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ce(i){return/\w/.test(i)||i>"\x80"&&(i.toUpperCase()!=i.toLowerCase()||gn.test(i))}function se(i,s){return s?!!(s.source.indexOf("\\w")>-1&&ce(i))||s.test(i):ce(i)}function dt(i){for(var s in i)if(i.hasOwnProperty(s)&&i[s])return!1;return!0}var yt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Rt(i){return i.charCodeAt(0)>=768&&yt.test(i)}function re(i,s,p){for(;(p<0?s>0:s<i.length)&&Rt(i.charAt(s));)s+=p;return s}function xe(i,s,p){for(var f=s>p?-1:1;;){if(s==p)return s;var y=(s+p)/2,D=f<0?Math.ceil(y):Math.floor(y);if(D==s)return i(D)?s:p;i(D)?p=D:s=D+f}}var He=null;function Sn(i,s,p){var f;He=null;for(var y=0;y<i.length;++y){var D=i[y];if(D.from<s&&D.to>s)return y;D.to==s&&(D.from!=D.to&&"before"==p?f=y:He=y),D.from==s&&(D.from!=D.to&&"before"!=p?f=y:He=y)}return f??He}var jn=function(){function p(Tt){return Tt<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(Tt):1424<=Tt&&Tt<=1524?"R":1536<=Tt&&Tt<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(Tt-1536):1774<=Tt&&Tt<=2220?"r":8192<=Tt&&Tt<=8203?"w":8204==Tt?"b":"L"}var f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,y=/[stwN]/,D=/[LRr]/,Q=/[Lb1n]/,it=/[1n]/;function bt(Tt,Yt,Zt){this.level=Tt,this.from=Yt,this.to=Zt}return function(Tt,Yt){var Zt="ltr"==Yt?"L":"R";if(0==Tt.length||"ltr"==Yt&&!f.test(Tt))return!1;for(var _e=Tt.length,be=[],Ne=0;Ne<_e;++Ne)be.push(p(Tt.charCodeAt(Ne)));for(var Ye=0,dn=Zt;Ye<_e;++Ye){var On=be[Ye];"m"==On?be[Ye]=dn:dn=On}for(var Ln=0,yn=Zt;Ln<_e;++Ln){var Rn=be[Ln];"1"==Rn&&"r"==yn?be[Ln]="n":D.test(Rn)&&(yn=Rn,"r"==Rn&&(be[Ln]="R"))}for(var Fn=1,zn=be[0];Fn<_e-1;++Fn){var co=be[Fn];"+"==co&&"1"==zn&&"1"==be[Fn+1]?be[Fn]="1":","!=co||zn!=be[Fn+1]||"1"!=zn&&"n"!=zn||(be[Fn]=zn),zn=co}for(var Zr=0;Zr<_e;++Zr){var Vi=be[Zr];if(","==Vi)be[Zr]="N";else if("%"==Vi){var bo=void 0;for(bo=Zr+1;bo<_e&&"%"==be[bo];++bo);for(var ma=Zr&&"!"==be[Zr-1]||bo<_e&&"1"==be[bo]?"1":"N",Xi=Zr;Xi<bo;++Xi)be[Xi]=ma;Zr=bo-1}}for(var Po=0,zi=Zt;Po<_e;++Po){var ji=be[Po];"L"==zi&&"1"==ji?be[Po]="L":D.test(ji)&&(zi=ji)}for(var Bo=0;Bo<_e;++Bo)if(y.test(be[Bo])){var Vo=void 0;for(Vo=Bo+1;Vo<_e&&y.test(be[Vo]);++Vo);for(var $o="L"==(Bo?be[Bo-1]:Zt),Ui=$o==("L"==(Vo<_e?be[Vo]:Zt))?$o?"L":"R":Zt,xs=Bo;xs<Vo;++xs)be[xs]=Ui;Bo=Vo-1}for(var ra,Di=[],ri=0;ri<_e;)if(Q.test(be[ri])){var wu=ri;for(++ri;ri<_e&&Q.test(be[ri]);++ri);Di.push(new bt(0,wu,ri))}else{var Ba=ri,Cs=Di.length,Us="rtl"==Yt?1:0;for(++ri;ri<_e&&"L"!=be[ri];++ri);for(var Go=Ba;Go<ri;)if(it.test(be[Go])){Ba<Go&&(Di.splice(Cs,0,new bt(1,Ba,Go)),Cs+=Us);var _l=Go;for(++Go;Go<ri&&it.test(be[Go]);++Go);Di.splice(Cs,0,new bt(2,_l,Go)),Cs+=Us,Ba=Go}else++Go;Ba<ri&&Di.splice(Cs,0,new bt(1,Ba,ri))}return"ltr"==Yt&&(1==Di[0].level&&(ra=Tt.match(/^\s+/))&&(Di[0].from=ra[0].length,Di.unshift(new bt(0,0,ra[0].length))),1==ue(Di).level&&(ra=Tt.match(/\s+$/))&&(ue(Di).to-=ra[0].length,Di.push(new bt(0,_e-ra[0].length,_e)))),"rtl"==Yt?Di.reverse():Di}}();function bn(i,s){var p=i.order;return null==p&&(p=i.order=jn(i.text,s)),p}var $n=[],At=function(i,s,p){if(i.addEventListener)i.addEventListener(s,p,!1);else if(i.attachEvent)i.attachEvent("on"+s,p);else{var f=i._handlers||(i._handlers={});f[s]=(f[s]||$n).concat(p)}};function Be(i,s){return i._handlers&&i._handlers[s]||$n}function Ct(i,s,p){if(i.removeEventListener)i.removeEventListener(s,p,!1);else if(i.detachEvent)i.detachEvent("on"+s,p);else{var f=i._handlers,y=f&&f[s];if(y){var D=Qt(y,p);D>-1&&(f[s]=y.slice(0,D).concat(y.slice(D+1)))}}}function kt(i,s){var p=Be(i,s);if(p.length)for(var f=Array.prototype.slice.call(arguments,2),y=0;y<p.length;++y)p[y].apply(null,f)}function jt(i,s,p){return"string"==typeof s&&(s={type:s,preventDefault:function(){this.defaultPrevented=!0}}),kt(i,p||s.type,i,s),Te(s)||s.codemirrorIgnore}function Wt(i){var s=i._handlers&&i._handlers.cursorActivity;if(s)for(var p=i.curOp.cursorActivityHandlers||(i.curOp.cursorActivityHandlers=[]),f=0;f<s.length;++f)-1==Qt(p,s[f])&&p.push(s[f])}function gt(i,s){return Be(i,s).length>0}function Ce(i){i.prototype.on=function(s,p){At(this,s,p)},i.prototype.off=function(s,p){Ct(this,s,p)}}function Ze(i){i.preventDefault?i.preventDefault():i.returnValue=!1}function tt(i){i.stopPropagation?i.stopPropagation():i.cancelBubble=!0}function Te(i){return null!=i.defaultPrevented?i.defaultPrevented:0==i.returnValue}function Oe(i){Ze(i),tt(i)}function Nt(i){return i.target||i.srcElement}function oe(i){var s=i.which;return null==s&&(1&i.button?s=1:2&i.button?s=3:4&i.button&&(s=2)),et&&i.ctrlKey&&1==s&&(s=3),s}var we,un,Qe=function(){if(rt&&F<9)return!1;var i=B("div");return"draggable"in i||"dragDrop"in i}();function rn(i){if(null==we){var s=B("span","\u200b");G(i,B("span",[s,document.createTextNode("x")])),0!=i.firstChild.offsetHeight&&(we=s.offsetWidth<=1&&s.offsetHeight>2&&!(rt&&F<8))}var p=we?B("span","\u200b"):B("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return p.setAttribute("cm-text",""),p}function Hn(i){if(null!=un)return un;var s=G(i,document.createTextNode("A\u062eA")),p=T(s,0,1).getBoundingClientRect(),f=T(s,1,2).getBoundingClientRect();return M(i),!(!p||p.left==p.right)&&(un=f.right-p.right<3)}var Br,Bn=3!="\n\nb".split(/\n/).length?function(i){for(var s=0,p=[],f=i.length;s<=f;){var y=i.indexOf("\n",s);-1==y&&(y=i.length);var D=i.slice(s,"\r"==i.charAt(y-1)?y-1:y),Q=D.indexOf("\r");-1!=Q?(p.push(D.slice(0,Q)),s+=Q+1):(p.push(D),s=y+1)}return p}:function(i){return i.split(/\r\n?|\n/)},Zn=window.getSelection?function(i){try{return i.selectionStart!=i.selectionEnd}catch{return!1}}:function(i){var s;try{s=i.ownerDocument.selection.createRange()}catch{}return!(!s||s.parentElement()!=i)&&0!=s.compareEndPoints("StartToEnd",s)},or="oncopy"in(Br=B("div"))||(Br.setAttribute("oncopy","return;"),"function"==typeof Br.oncopy),Cr=null,Or={},fr={};function Vn(i,s){arguments.length>2&&(s.dependencies=Array.prototype.slice.call(arguments,2)),Or[i]=s}function Gn(i){if("string"==typeof i&&fr.hasOwnProperty(i))i=fr[i];else if(i&&"string"==typeof i.name&&fr.hasOwnProperty(i.name)){var s=fr[i.name];"string"==typeof s&&(s={name:s}),(i=mn(s,i)).name=s.name}else{if("string"==typeof i&&/^[\w\-]+\/[\w\-]+\+xml$/.test(i))return Gn("application/xml");if("string"==typeof i&&/^[\w\-]+\/[\w\-]+\+json$/.test(i))return Gn("application/json")}return"string"==typeof i?{name:i}:i||{name:"null"}}function Dr(i,s){s=Gn(s);var p=Or[s.name];if(!p)return Dr(i,"text/plain");var f=p(i,s);if(Ir.hasOwnProperty(s.name)){var y=Ir[s.name];for(var D in y)y.hasOwnProperty(D)&&(f.hasOwnProperty(D)&&(f["_"+D]=f[D]),f[D]=y[D])}if(f.name=s.name,s.helperType&&(f.helperType=s.helperType),s.modeProps)for(var Q in s.modeProps)f[Q]=s.modeProps[Q];return f}var Ir={};function Qr(i,s){de(s,Ir.hasOwnProperty(i)?Ir[i]:Ir[i]={})}function kr(i,s){if(!0===s)return s;if(i.copyState)return i.copyState(s);var p={};for(var f in s){var y=s[f];y instanceof Array&&(y=y.concat([])),p[f]=y}return p}function uo(i,s){for(var p;i.innerMode&&(p=i.innerMode(s))&&p.mode!=i;)s=p.state,i=p.mode;return p||{mode:i,state:s}}function Io(i,s,p){return!i.startState||i.startState(s,p)}var _r=function(i,s,p){this.pos=this.start=0,this.string=i,this.tabSize=s||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=p};function an(i,s){if((s-=i.first)<0||s>=i.size)throw new Error("There is no line "+(s+i.first)+" in the document.");for(var p=i;!p.lines;)for(var f=0;;++f){var y=p.children[f],D=y.chunkSize();if(s<D){p=y;break}s-=D}return p.lines[s]}function Pr(i,s,p){var f=[],y=s.line;return i.iter(s.line,p.line+1,function(D){var Q=D.text;y==p.line&&(Q=Q.slice(0,p.ch)),y==s.line&&(Q=Q.slice(s.ch)),f.push(Q),++y}),f}function No(i,s,p){var f=[];return i.iter(s,p,function(y){f.push(y.text)}),f}function So(i,s){var p=s-i.height;if(p)for(var f=i;f;f=f.parent)f.height+=p}function cr(i){if(null==i.parent)return null;for(var s=i.parent,p=Qt(s.lines,i),f=s.parent;f;s=f,f=f.parent)for(var y=0;f.children[y]!=s;++y)p+=f.children[y].chunkSize();return p+s.first}function To(i,s){var p=i.first;t:do{for(var f=0;f<i.children.length;++f){var y=i.children[f],D=y.height;if(s<D){i=y;continue t}s-=D,p+=y.chunkSize()}return p}while(!i.lines);for(var Q=0;Q<i.lines.length;++Q){var it=i.lines[Q].height;if(s<it)break;s-=it}return p+Q}function to(i,s){return s>=i.first&&s<i.first+i.size}function di(i,s){return String(i.lineNumberFormatter(s+i.firstLineNumber))}function qe(i,s,p){if(void 0===p&&(p=null),!(this instanceof qe))return new qe(i,s,p);this.line=i,this.ch=s,this.sticky=p}function In(i,s){return i.line-s.line||i.ch-s.ch}function Dt(i,s){return i.sticky==s.sticky&&0==In(i,s)}function $t(i){return qe(i.line,i.ch)}function je(i,s){return In(i,s)<0?s:i}function fn(i,s){return In(i,s)<0?i:s}function Tn(i,s){return Math.max(i.first,Math.min(s,i.first+i.size-1))}function cn(i,s){if(s.line<i.first)return qe(i.first,0);var p=i.first+i.size-1;return s.line>p?qe(p,an(i,p).text.length):function sr(i,s){var p=i.ch;return null==p||p>s?qe(i.line,s):p<0?qe(i.line,0):i}(s,an(i,s.line).text.length)}function Wn(i,s){for(var p=[],f=0;f<s.length;f++)p[f]=cn(i,s[f]);return p}_r.prototype.eol=function(){return this.pos>=this.string.length},_r.prototype.sol=function(){return this.pos==this.lineStart},_r.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},_r.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},_r.prototype.eat=function(i){var s=this.string.charAt(this.pos);if("string"==typeof i?s==i:s&&(i.test?i.test(s):i(s)))return++this.pos,s},_r.prototype.eatWhile=function(i){for(var s=this.pos;this.eat(i););return this.pos>s},_r.prototype.eatSpace=function(){for(var i=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>i},_r.prototype.skipToEnd=function(){this.pos=this.string.length},_r.prototype.skipTo=function(i){var s=this.string.indexOf(i,this.pos);if(s>-1)return this.pos=s,!0},_r.prototype.backUp=function(i){this.pos-=i},_r.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=zt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?zt(this.string,this.lineStart,this.tabSize):0)},_r.prototype.indentation=function(){return zt(this.string,null,this.tabSize)-(this.lineStart?zt(this.string,this.lineStart,this.tabSize):0)},_r.prototype.match=function(i,s,p){if("string"!=typeof i){var f=this.string.slice(this.pos).match(i);return f&&f.index>0?null:(f&&!1!==s&&(this.pos+=f[0].length),f)}var y=function(D){return p?D.toLowerCase():D};if(y(this.string.substr(this.pos,i.length))==y(i))return!1!==s&&(this.pos+=i.length),!0},_r.prototype.current=function(){return this.string.slice(this.start,this.pos)},_r.prototype.hideFirstChars=function(i,s){this.lineStart+=i;try{return s()}finally{this.lineStart-=i}},_r.prototype.lookAhead=function(i){var s=this.lineOracle;return s&&s.lookAhead(i)},_r.prototype.baseToken=function(){var i=this.lineOracle;return i&&i.baseToken(this.pos)};var go=function(i,s){this.state=i,this.lookAhead=s},qr=function(i,s,p,f){this.state=s,this.doc=i,this.line=p,this.maxLookAhead=f||0,this.baseTokens=null,this.baseTokenPos=1};function zr(i,s,p,f){var y=[i.state.modeGen],D={};_i(i,s.text,i.doc.mode,p,function(Tt,Yt){return y.push(Tt,Yt)},D,f);for(var Q=p.state,it=function(Tt){p.baseTokens=y;var Yt=i.state.overlays[Tt],Zt=1,_e=0;p.state=!0,_i(i,s.text,Yt.mode,p,function(be,Ne){for(var Ye=Zt;_e<be;){var dn=y[Zt];dn>be&&y.splice(Zt,1,be,y[Zt+1],dn),Zt+=2,_e=Math.min(be,dn)}if(Ne)if(Yt.opaque)y.splice(Ye,Zt-Ye,be,"overlay "+Ne),Zt=Ye+2;else for(;Ye<Zt;Ye+=2){var On=y[Ye+1];y[Ye+1]=(On?On+" ":"")+"overlay "+Ne}},D),p.state=Q,p.baseTokens=null,p.baseTokenPos=1},bt=0;bt<i.state.overlays.length;++bt)it(bt);return{styles:y,classes:D.bgClass||D.textClass?D:null}}function Wo(i,s,p){if(!s.styles||s.styles[0]!=i.state.modeGen){var f=Ar(i,cr(s)),y=s.text.length>i.options.maxHighlightLength&&kr(i.doc.mode,f.state),D=zr(i,s,f);y&&(f.state=y),s.stateAfter=f.save(!y),s.styles=D.styles,D.classes?s.styleClasses=D.classes:s.styleClasses&&(s.styleClasses=null),p===i.doc.highlightFrontier&&(i.doc.modeFrontier=Math.max(i.doc.modeFrontier,++i.doc.highlightFrontier))}return s.styles}function Ar(i,s,p){var f=i.doc,y=i.display;if(!f.mode.startState)return new qr(f,!0,s);var D=function Ur(i,s,p){for(var f,y,D=i.doc,Q=p?-1:s-(i.doc.mode.innerMode?1e3:100),it=s;it>Q;--it){if(it<=D.first)return D.first;var bt=an(D,it-1),Tt=bt.stateAfter;if(Tt&&(!p||it+(Tt instanceof go?Tt.lookAhead:0)<=D.modeFrontier))return it;var Yt=zt(bt.text,null,i.options.tabSize);(null==y||f>Yt)&&(y=it-1,f=Yt)}return y}(i,s,p),Q=D>f.first&&an(f,D-1).stateAfter,it=Q?qr.fromSaved(f,Q,D):new qr(f,Io(f.mode),D);return f.iter(D,s,function(bt){wo(i,bt.text,it);var Tt=it.line;bt.stateAfter=Tt==s-1||Tt%5==0||Tt>=y.viewFrom&&Tt<y.viewTo?it.save():null,it.nextLine()}),p&&(f.modeFrontier=it.line),it}function wo(i,s,p,f){var y=i.doc.mode,D=new _r(s,i.options.tabSize,p);for(D.start=D.pos=f||0,""==s&&xo(y,p.state);!D.eol();)eo(y,D,p.state),D.start=D.pos}function xo(i,s){if(i.blankLine)return i.blankLine(s);if(i.innerMode){var p=uo(i,s);return p.mode.blankLine?p.mode.blankLine(p.state):void 0}}function eo(i,s,p,f){for(var y=0;y<10;y++){f&&(f[0]=uo(i,p).mode);var D=i.token(s,p);if(s.pos>s.start)return D}throw new Error("Mode "+i.name+" failed to advance stream.")}qr.prototype.lookAhead=function(i){var s=this.doc.getLine(this.line+i);return null!=s&&i>this.maxLookAhead&&(this.maxLookAhead=i),s},qr.prototype.baseToken=function(i){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=i;)this.baseTokenPos+=2;var s=this.baseTokens[this.baseTokenPos+1];return{type:s&&s.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-i}},qr.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},qr.fromSaved=function(i,s,p){return s instanceof go?new qr(i,kr(i.mode,s.state),p,s.lookAhead):new qr(i,kr(i.mode,s),p)},qr.prototype.save=function(i){var s=!1!==i?kr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new go(s,this.maxLookAhead):s};var io=function(i,s,p){this.start=i.start,this.end=i.pos,this.string=i.current(),this.type=s||null,this.state=p};function qo(i,s,p,f){var y,D,Q=i.doc,it=Q.mode,bt=an(Q,(s=cn(Q,s)).line),Tt=Ar(i,s.line,p),Yt=new _r(bt.text,i.options.tabSize,Tt);for(f&&(D=[]);(f||Yt.pos<s.ch)&&!Yt.eol();)Yt.start=Yt.pos,y=eo(it,Yt,Tt.state),f&&D.push(new io(Yt,y,kr(Q.mode,Tt.state)));return f?D:new io(Yt,y,Tt.state)}function fi(i,s){if(i)for(;;){var p=i.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;i=i.slice(0,p.index)+i.slice(p.index+p[0].length);var f=p[1]?"bgClass":"textClass";null==s[f]?s[f]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(s[f])||(s[f]+=" "+p[2])}return i}function _i(i,s,p,f,y,D,Q){var it=p.flattenSpans;null==it&&(it=i.options.flattenSpans);var bt,Tt=0,Yt=null,Zt=new _r(s,i.options.tabSize,f),_e=i.options.addModeClass&&[null];for(""==s&&fi(xo(p,f.state),D);!Zt.eol();){if(Zt.pos>i.options.maxHighlightLength?(it=!1,Q&&wo(i,s,f,Zt.pos),Zt.pos=s.length,bt=null):bt=fi(eo(p,Zt,f.state,_e),D),_e){var be=_e[0].name;be&&(bt="m-"+(bt?be+" "+bt:be))}if(!it||Yt!=bt){for(;Tt<Zt.start;)y(Tt=Math.min(Zt.start,Tt+5e3),Yt);Yt=bt}Zt.start=Zt.pos}for(;Tt<Zt.pos;){var Ne=Math.min(Zt.pos,Tt+5e3);y(Ne,Yt),Tt=Ne}}var Xo=!1,vo=!1;function pi(i,s,p){this.marker=i,this.from=s,this.to=p}function Nr(i,s){if(i)for(var p=0;p<i.length;++p){var f=i[p];if(f.marker==s)return f}}function mo(i,s){for(var p,f=0;f<i.length;++f)i[f]!=s&&(p||(p=[])).push(i[f]);return p}function hi(i,s){if(s.full)return null;var p=to(i,s.from.line)&&an(i,s.from.line).markedSpans,f=to(i,s.to.line)&&an(i,s.to.line).markedSpans;if(!p&&!f)return null;var y=s.from.ch,D=s.to.ch,Q=0==In(s.from,s.to),it=function Lo(i,s,p){var f;if(i)for(var y=0;y<i.length;++y){var D=i[y],Q=D.marker;null!=D.from&&!(Q.inclusiveLeft?D.from<=s:D.from<s)&&(D.from!=s||"bookmark"!=Q.type||p&&D.marker.insertLeft)||(f||(f=[])).push(new pi(Q,D.from,null==D.to||(Q.inclusiveRight?D.to>=s:D.to>s)?null:D.to))}return f}(p,y,Q),bt=function Si(i,s,p){var f;if(i)for(var y=0;y<i.length;++y){var D=i[y],Q=D.marker;(null==D.to||(Q.inclusiveRight?D.to>=s:D.to>s)||D.from==s&&"bookmark"==Q.type&&(!p||D.marker.insertLeft))&&(f||(f=[])).push(new pi(Q,null==D.from||(Q.inclusiveLeft?D.from<=s:D.from<s)?null:D.from-s,null==D.to?null:D.to-s))}return f}(f,D,Q),Tt=1==s.text.length,Yt=ue(s.text).length+(Tt?y:0);if(it)for(var Zt=0;Zt<it.length;++Zt){var _e=it[Zt];if(null==_e.to){var be=Nr(bt,_e.marker);be?Tt&&(_e.to=null==be.to?null:be.to+Yt):_e.to=y}}if(bt)for(var Ne=0;Ne<bt.length;++Ne){var Ye=bt[Ne];null!=Ye.to&&(Ye.to+=Yt),null==Ye.from?Nr(it,Ye.marker)||(Ye.from=Yt,Tt&&(it||(it=[])).push(Ye)):(Ye.from+=Yt,Tt&&(it||(it=[])).push(Ye))}it&&(it=gi(it)),bt&&bt!=it&&(bt=gi(bt));var dn=[it];if(!Tt){var On,Ln=s.text.length-2;if(Ln>0&&it)for(var yn=0;yn<it.length;++yn)null==it[yn].to&&(On||(On=[])).push(new pi(it[yn].marker,null,null));for(var Rn=0;Rn<Ln;++Rn)dn.push(On);dn.push(bt)}return dn}function gi(i){for(var s=0;s<i.length;++s){var p=i[s];null!=p.from&&p.from==p.to&&!1!==p.marker.clearWhenEmpty&&i.splice(s--,1)}return i.length?i:null}function ai(i){var s=i.markedSpans;if(s){for(var p=0;p<s.length;++p)s[p].marker.detachLine(i);i.markedSpans=null}}function Zo(i,s){if(s){for(var p=0;p<s.length;++p)s[p].marker.attachLine(i);i.markedSpans=s}}function si(i){return i.inclusiveLeft?-1:0}function Oo(i){return i.inclusiveRight?1:0}function Kr(i,s){var p=i.lines.length-s.lines.length;if(0!=p)return p;var f=i.find(),y=s.find(),D=In(f.from,y.from)||si(i)-si(s);return D?-D:In(f.to,y.to)||Oo(i)-Oo(s)||s.id-i.id}function yo(i,s){var p,f=vo&&i.markedSpans;if(f)for(var y=void 0,D=0;D<f.length;++D)(y=f[D]).marker.collapsed&&null==(s?y.from:y.to)&&(!p||Kr(p,y.marker)<0)&&(p=y.marker);return p}function Yr(i){return yo(i,!0)}function jo(i){return yo(i,!1)}function bi(i,s){var p,f=vo&&i.markedSpans;if(f)for(var y=0;y<f.length;++y){var D=f[y];D.marker.collapsed&&(null==D.from||D.from<s)&&(null==D.to||D.to>s)&&(!p||Kr(p,D.marker)<0)&&(p=D.marker)}return p}function Fi(i,s,p,f,y){var D=an(i,s),Q=vo&&D.markedSpans;if(Q)for(var it=0;it<Q.length;++it){var bt=Q[it];if(bt.marker.collapsed){var Tt=bt.marker.find(0),Yt=In(Tt.from,p)||si(bt.marker)-si(y),Zt=In(Tt.to,f)||Oo(bt.marker)-Oo(y);if(!(Yt>=0&&Zt<=0||Yt<=0&&Zt>=0)&&(Yt<=0&&(bt.marker.inclusiveRight&&y.inclusiveLeft?In(Tt.to,p)>=0:In(Tt.to,p)>0)||Yt>=0&&(bt.marker.inclusiveRight&&y.inclusiveLeft?In(Tt.from,f)<=0:In(Tt.from,f)<0)))return!0}}}function vr(i){for(var s;s=Yr(i);)i=s.find(-1,!0).line;return i}function d(i,s){var p=an(i,s),f=vr(p);return p==f?s:cr(f)}function C(i,s){if(s>i.lastLine())return s;var p,f=an(i,s);if(!P(i,f))return s;for(;p=jo(f);)f=p.find(1,!0).line;return cr(f)+1}function P(i,s){var p=vo&&s.markedSpans;if(p)for(var f=void 0,y=0;y<p.length;++y)if((f=p[y]).marker.collapsed&&(null==f.from||!f.marker.widgetNode&&0==f.from&&f.marker.inclusiveLeft&&c(i,s,f)))return!0}function c(i,s,p){if(null==p.to){var f=p.marker.find(1,!0);return c(i,f.line,Nr(f.line.markedSpans,p.marker))}if(p.marker.inclusiveRight&&p.to==s.text.length)return!0;for(var y=void 0,D=0;D<s.markedSpans.length;++D)if((y=s.markedSpans[D]).marker.collapsed&&!y.marker.widgetNode&&y.from==p.to&&(null==y.to||y.to!=p.from)&&(y.marker.inclusiveLeft||p.marker.inclusiveRight)&&c(i,s,y))return!0}function g(i){for(var s=0,p=(i=vr(i)).parent,f=0;f<p.lines.length;++f){var y=p.lines[f];if(y==i)break;s+=y.height}for(var D=p.parent;D;D=(p=D).parent)for(var Q=0;Q<D.children.length;++Q){var it=D.children[Q];if(it==p)break;s+=it.height}return s}function b(i){if(0==i.height)return 0;for(var s,p=i.text.length,f=i;s=Yr(f);){var y=s.find(0,!0);f=y.from.line,p+=y.from.ch-y.to.ch}for(f=i;s=jo(f);){var D=s.find(0,!0);p-=f.text.length-D.from.ch,p+=(f=D.to.line).text.length-D.to.ch}return p}function O(i){var s=i.display,p=i.doc;s.maxLine=an(p,p.first),s.maxLineLength=b(s.maxLine),s.maxLineChanged=!0,p.iter(function(f){var y=b(f);y>s.maxLineLength&&(s.maxLineLength=y,s.maxLine=f)})}var I=function(i,s,p){this.text=i,Zo(this,s),this.height=p?p(this):1};function Z(i){i.parent=null,ai(i)}I.prototype.lineNo=function(){return cr(this)},Ce(I);var vt={},_t={};function It(i,s){if(!i||/^\s*$/.test(i))return null;var p=s.addModeClass?_t:vt;return p[i]||(p[i]=i.replace(/\S+/g,"cm-$&"))}function Ut(i,s){var p=ot("span",null,null,H?"padding-right: .1px":null),f={pre:ot("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:i,trailingSpace:!1,splitSpaces:i.getOption("lineWrapping")};s.measure={};for(var y=0;y<=(s.rest?s.rest.length:0);y++){var D=y?s.rest[y-1]:s.line,Q=void 0;f.pos=0,f.addToken=Xt,Hn(i.display.measure)&&(Q=bn(D,i.doc.direction))&&(f.addToken=tn(f.addToken,Q)),f.map=[],hn(D,f,Wo(i,D,s!=i.display.externalMeasured&&cr(D))),D.styleClasses&&(D.styleClasses.bgClass&&(f.bgClass=St(D.styleClasses.bgClass,f.bgClass||"")),D.styleClasses.textClass&&(f.textClass=St(D.styleClasses.textClass,f.textClass||""))),0==f.map.length&&f.map.push(0,0,f.content.appendChild(rn(i.display.measure))),0==y?(s.measure.map=f.map,s.measure.cache={}):((s.measure.maps||(s.measure.maps=[])).push(f.map),(s.measure.caches||(s.measure.caches=[])).push({}))}if(H){var it=f.content.lastChild;(/\bcm-tab\b/.test(it.className)||it.querySelector&&it.querySelector(".cm-tab"))&&(f.content.className="cm-tab-wrap-hack")}return kt(i,"renderLine",i,s.line,f.pre),f.pre.className&&(f.textClass=St(f.pre.className,f.textClass||"")),f}function Gt(i){var s=B("span","\u2022","cm-invalidchar");return s.title="\\u"+i.charCodeAt(0).toString(16),s.setAttribute("aria-label",s.title),s}function Xt(i,s,p,f,y,D,Q){if(s){var it,bt=i.splitSpaces?function ye(i,s){if(i.length>1&&!/  /.test(i))return i;for(var p=s,f="",y=0;y<i.length;y++){var D=i.charAt(y);" "!=D||!p||y!=i.length-1&&32!=i.charCodeAt(y+1)||(D="\xa0"),f+=D,p=" "==D}return f}(s,i.trailingSpace):s,Tt=i.cm.state.specialChars,Yt=!1;if(Tt.test(s)){it=document.createDocumentFragment();for(var Zt=0;;){Tt.lastIndex=Zt;var _e=Tt.exec(s),be=_e?_e.index-Zt:s.length-Zt;if(be){var Ne=document.createTextNode(bt.slice(Zt,Zt+be));it.appendChild(rt&&F<9?B("span",[Ne]):Ne),i.map.push(i.pos,i.pos+be,Ne),i.col+=be,i.pos+=be}if(!_e)break;Zt+=be+1;var Ye=void 0;if("\t"==_e[0]){var dn=i.cm.options.tabSize,On=dn-i.col%dn;(Ye=it.appendChild(B("span",Ie(On),"cm-tab"))).setAttribute("role","presentation"),Ye.setAttribute("cm-text","\t"),i.col+=On}else"\r"==_e[0]||"\n"==_e[0]?((Ye=it.appendChild(B("span","\r"==_e[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",_e[0]),i.col+=1):((Ye=i.cm.options.specialCharPlaceholder(_e[0])).setAttribute("cm-text",_e[0]),it.appendChild(rt&&F<9?B("span",[Ye]):Ye),i.col+=1);i.map.push(i.pos,i.pos+1,Ye),i.pos++}}else i.col+=s.length,it=document.createTextNode(bt),i.map.push(i.pos,i.pos+s.length,it),rt&&F<9&&(Yt=!0),i.pos+=s.length;if(i.trailingSpace=32==bt.charCodeAt(s.length-1),p||f||y||Yt||D||Q){var Ln=p||"";f&&(Ln+=f),y&&(Ln+=y);var yn=B("span",[it],Ln,D);if(Q)for(var Rn in Q)Q.hasOwnProperty(Rn)&&"style"!=Rn&&"class"!=Rn&&yn.setAttribute(Rn,Q[Rn]);return i.content.appendChild(yn)}i.content.appendChild(it)}}function tn(i,s){return function(p,f,y,D,Q,it,bt){y=y?y+" cm-force-border":"cm-force-border";for(var Tt=p.pos,Yt=Tt+f.length;;){for(var Zt=void 0,_e=0;_e<s.length&&!((Zt=s[_e]).to>Tt&&Zt.from<=Tt);_e++);if(Zt.to>=Yt)return i(p,f,y,D,Q,it,bt);i(p,f.slice(0,Zt.to-Tt),y,D,null,it,bt),D=null,f=f.slice(Zt.to-Tt),Tt=Zt.to}}}function en(i,s,p,f){var y=!f&&p.widgetNode;y&&i.map.push(i.pos,i.pos+s,y),!f&&i.cm.display.input.needsContentAttribute&&(y||(y=i.content.appendChild(document.createElement("span"))),y.setAttribute("cm-marker",p.id)),y&&(i.cm.display.input.setUneditable(y),i.content.appendChild(y)),i.pos+=s,i.trailingSpace=!1}function hn(i,s,p){var f=i.markedSpans,y=i.text,D=0;if(f)for(var Q,it,bt,Tt,Yt,Zt,_e,be=y.length,Ne=0,Ye=1,dn="",On=0;;){if(On==Ne){bt=Tt=Yt=it="",_e=null,Zt=null,On=1/0;for(var Ln=[],yn=void 0,Rn=0;Rn<f.length;++Rn){var Fn=f[Rn],zn=Fn.marker;if("bookmark"==zn.type&&Fn.from==Ne&&zn.widgetNode)Ln.push(zn);else if(Fn.from<=Ne&&(null==Fn.to||Fn.to>Ne||zn.collapsed&&Fn.to==Ne&&Fn.from==Ne)){if(null!=Fn.to&&Fn.to!=Ne&&On>Fn.to&&(On=Fn.to,Tt=""),zn.className&&(bt+=" "+zn.className),zn.css&&(it=(it?it+";":"")+zn.css),zn.startStyle&&Fn.from==Ne&&(Yt+=" "+zn.startStyle),zn.endStyle&&Fn.to==On&&(yn||(yn=[])).push(zn.endStyle,Fn.to),zn.title&&((_e||(_e={})).title=zn.title),zn.attributes)for(var co in zn.attributes)(_e||(_e={}))[co]=zn.attributes[co];zn.collapsed&&(!Zt||Kr(Zt.marker,zn)<0)&&(Zt=Fn)}else Fn.from>Ne&&On>Fn.from&&(On=Fn.from)}if(yn)for(var Zr=0;Zr<yn.length;Zr+=2)yn[Zr+1]==On&&(Tt+=" "+yn[Zr]);if(!Zt||Zt.from==Ne)for(var Vi=0;Vi<Ln.length;++Vi)en(s,0,Ln[Vi]);if(Zt&&(Zt.from||0)==Ne){if(en(s,(null==Zt.to?be+1:Zt.to)-Ne,Zt.marker,null==Zt.from),null==Zt.to)return;Zt.to==Ne&&(Zt=!1)}}if(Ne>=be)break;for(var bo=Math.min(be,On);;){if(dn){var ma=Ne+dn.length;if(!Zt){var Xi=ma>bo?dn.slice(0,bo-Ne):dn;s.addToken(s,Xi,Q?Q+bt:bt,Yt,Ne+Xi.length==On?Tt:"",it,_e)}if(ma>=bo){dn=dn.slice(bo-Ne),Ne=bo;break}Ne=ma,Yt=""}dn=y.slice(D,D=p[Ye++]),Q=It(p[Ye++],s.cm.options)}}else for(var Po=1;Po<p.length;Po+=2)s.addToken(s,y.slice(D,D=p[Po]),It(p[Po+1],s.cm.options))}function qn(i,s,p){this.line=s,this.rest=function W(i){for(var s,p;s=jo(i);)i=s.find(1,!0).line,(p||(p=[])).push(i);return p}(s),this.size=this.rest?cr(ue(this.rest))-p+1:1,this.node=this.text=null,this.hidden=P(i,s)}function ir(i,s,p){for(var f,y=[],D=s;D<p;D=f){var Q=new qn(i.doc,an(i.doc,D),D);f=D+Q.size,y.push(Q)}return y}var Re=null,Mn=null;function Pn(i,s){var p=Be(i,s);if(p.length){var f,y=Array.prototype.slice.call(arguments,2);Re?f=Re.delayedCallbacks:Mn?f=Mn:(f=Mn=[],setTimeout(Wr,0));for(var D=function(it){f.push(function(){return p[it].apply(null,y)})},Q=0;Q<p.length;++Q)D(Q)}}function Wr(){var i=Mn;Mn=null;for(var s=0;s<i.length;++s)i[s]()}function Er(i,s,p,f){for(var y=0;y<s.changes.length;y++){var D=s.changes[y];"text"==D?Fo(i,s):"gutter"==D?Lr(i,s,p,f):"class"==D?kn(i,s):"widget"==D&&Fr(i,s,f)}s.changes=null}function wr(i){return i.node==i.text&&(i.node=B("div",null,null,"position: relative"),i.text.parentNode&&i.text.parentNode.replaceChild(i.node,i.text),i.node.appendChild(i.text),rt&&F<8&&(i.node.style.zIndex=2)),i.node}function no(i,s){var p=i.display.externalMeasured;return p&&p.line==s.line?(i.display.externalMeasured=null,s.measure=p.measure,p.built):Ut(i,s)}function Fo(i,s){var p=s.text.className,f=no(i,s);s.text==s.node&&(s.node=f.pre),s.text.parentNode.replaceChild(f.pre,s.text),s.text=f.pre,f.bgClass!=s.bgClass||f.textClass!=s.textClass?(s.bgClass=f.bgClass,s.textClass=f.textClass,kn(i,s)):p&&(s.text.className=p)}function kn(i,s){(function _o(i,s){var p=s.bgClass?s.bgClass+" "+(s.line.bgClass||""):s.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),s.background)p?s.background.className=p:(s.background.parentNode.removeChild(s.background),s.background=null);else if(p){var f=wr(s);s.background=f.insertBefore(B("div",null,p),f.firstChild),i.display.input.setUneditable(s.background)}})(i,s),s.line.wrapClass?wr(s).className=s.line.wrapClass:s.node!=s.text&&(s.node.className=""),s.text.className=(s.textClass?s.textClass+" "+(s.line.textClass||""):s.line.textClass)||""}function Lr(i,s,p,f){if(s.gutter&&(s.node.removeChild(s.gutter),s.gutter=null),s.gutterBackground&&(s.node.removeChild(s.gutterBackground),s.gutterBackground=null),s.line.gutterClass){var y=wr(s);s.gutterBackground=B("div",null,"CodeMirror-gutter-background "+s.line.gutterClass,"left: "+(i.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px; width: "+f.gutterTotalWidth+"px"),i.display.input.setUneditable(s.gutterBackground),y.insertBefore(s.gutterBackground,s.text)}var D=s.line.gutterMarkers;if(i.options.lineNumbers||D){var Q=wr(s),it=s.gutter=B("div",null,"CodeMirror-gutter-wrapper","left: "+(i.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px");if(it.setAttribute("aria-hidden","true"),i.display.input.setUneditable(it),Q.insertBefore(it,s.text),s.line.gutterClass&&(it.className+=" "+s.line.gutterClass),!i.options.lineNumbers||D&&D["CodeMirror-linenumbers"]||(s.lineNumber=it.appendChild(B("div",di(i.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+f.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+i.display.lineNumInnerWidth+"px"))),D)for(var bt=0;bt<i.display.gutterSpecs.length;++bt){var Tt=i.display.gutterSpecs[bt].className,Yt=D.hasOwnProperty(Tt)&&D[Tt];Yt&&it.appendChild(B("div",[Yt],"CodeMirror-gutter-elt","left: "+f.gutterLeft[Tt]+"px; width: "+f.gutterWidth[Tt]+"px"))}}}function Fr(i,s,p){s.alignable&&(s.alignable=null);for(var f=A("CodeMirror-linewidget"),y=s.node.firstChild,D=void 0;y;y=D)D=y.nextSibling,f.test(y.className)&&s.node.removeChild(y);Mr(i,s,p)}function $r(i,s,p,f){var y=no(i,s);return s.text=s.node=y.pre,y.bgClass&&(s.bgClass=y.bgClass),y.textClass&&(s.textClass=y.textClass),kn(i,s),Lr(i,s,p,f),Mr(i,s,f),s.node}function Mr(i,s,p){if(Oi(i,s.line,s,p,!0),s.rest)for(var f=0;f<s.rest.length;f++)Oi(i,s.rest[f],s,p,!1)}function Oi(i,s,p,f,y){if(s.widgets)for(var D=wr(p),Q=0,it=s.widgets;Q<it.length;++Q){var bt=it[Q],Tt=B("div",[bt.node],"CodeMirror-linewidget"+(bt.className?" "+bt.className:""));bt.handleMouseEvents||Tt.setAttribute("cm-ignore-events","true"),ao(bt,Tt,p,f),i.display.input.setUneditable(Tt),y&&bt.above?D.insertBefore(Tt,p.gutter||p.text):D.appendChild(Tt),Pn(bt,"redraw")}}function ao(i,s,p,f){if(i.noHScroll){(p.alignable||(p.alignable=[])).push(s);var y=f.wrapperWidth;s.style.left=f.fixedPos+"px",i.coverGutter||(y-=f.gutterTotalWidth,s.style.paddingLeft=f.gutterTotalWidth+"px"),s.style.width=y+"px"}i.coverGutter&&(s.style.zIndex=5,s.style.position="relative",i.noHScroll||(s.style.marginLeft=-f.gutterTotalWidth+"px"))}function Rr(i){if(null!=i.height)return i.height;var s=i.doc.cm;if(!s)return 0;if(!U(document.body,i.node)){var p="position: relative;";i.coverGutter&&(p+="margin-left: -"+s.display.gutters.offsetWidth+"px;"),i.noHScroll&&(p+="width: "+s.display.wrapper.clientWidth+"px;"),G(s.display.measure,B("div",[i.node],null,p))}return i.height=i.node.parentNode.offsetHeight}function ft(i,s){for(var p=Nt(s);p!=i.wrapper;p=p.parentNode)if(!p||1==p.nodeType&&"true"==p.getAttribute("cm-ignore-events")||p.parentNode==i.sizer&&p!=i.mover)return!0}function Ot(i){return i.lineSpace.offsetTop}function qt(i){return i.mover.offsetHeight-i.lineSpace.offsetHeight}function ne(i){if(i.cachedPaddingH)return i.cachedPaddingH;var s=G(i.measure,B("pre","x","CodeMirror-line-like")),p=window.getComputedStyle?window.getComputedStyle(s):s.currentStyle,f={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};return isNaN(f.left)||isNaN(f.right)||(i.cachedPaddingH=f),f}function fe(i){return Ue-i.display.nativeBarWidth}function ve(i){return i.display.scroller.clientWidth-fe(i)-i.display.barWidth}function $e(i){return i.display.scroller.clientHeight-fe(i)-i.display.barHeight}function tr(i,s,p){if(i.line==s)return{map:i.measure.map,cache:i.measure.cache};for(var f=0;f<i.rest.length;f++)if(i.rest[f]==s)return{map:i.measure.maps[f],cache:i.measure.caches[f]};for(var y=0;y<i.rest.length;y++)if(cr(i.rest[y])>p)return{map:i.measure.maps[y],cache:i.measure.caches[y],before:!0}}function Hr(i,s,p,f){return Mo(i,ko(i,s),p,f)}function ro(i,s){if(s>=i.display.viewFrom&&s<i.display.viewTo)return i.display.view[Ua(i,s)];var p=i.display.externalMeasured;return p&&s>=p.lineN&&s<p.lineN+p.size?p:void 0}function ko(i,s){var p=cr(s),f=ro(i,p);f&&!f.text?f=null:f&&f.changes&&(Er(i,f,p,ua(i)),i.curOp.forceUpdate=!0),f||(f=function lr(i,s){var p=cr(s=vr(s)),f=i.display.externalMeasured=new qn(i.doc,s,p);f.lineN=p;var y=f.built=Ut(i,f);return f.text=y.pre,G(i.display.lineMeasure,y.pre),f}(i,s));var y=tr(f,s,p);return{line:s,view:f,rect:null,map:y.map,cache:y.cache,before:y.before,hasHeights:!1}}function Mo(i,s,p,f,y){s.before&&(p=-1);var D,Q=p+(f||"");return s.cache.hasOwnProperty(Q)?D=s.cache[Q]:(s.rect||(s.rect=s.view.text.getBoundingClientRect()),s.hasHeights||(function ln(i,s,p){var f=i.options.lineWrapping,y=f&&ve(i);if(!s.measure.heights||f&&s.measure.width!=y){var D=s.measure.heights=[];if(f){s.measure.width=y;for(var Q=s.text.firstChild.getClientRects(),it=0;it<Q.length-1;it++){var bt=Q[it],Tt=Q[it+1];Math.abs(bt.bottom-Tt.bottom)>2&&D.push((bt.bottom+Tt.top)/2-p.top)}}D.push(p.bottom-p.top)}}(i,s.view,s.rect),s.hasHeights=!0),(D=function js(i,s,p,f){var y,D=Ki(s.map,p,f),Q=D.node,it=D.start,bt=D.end,Tt=D.collapse;if(3==Q.nodeType){for(var Yt=0;Yt<4;Yt++){for(;it&&Rt(s.line.text.charAt(D.coverStart+it));)--it;for(;D.coverStart+bt<D.coverEnd&&Rt(s.line.text.charAt(D.coverStart+bt));)++bt;if((y=rt&&F<9&&0==it&&bt==D.coverEnd-D.coverStart?Q.parentNode.getBoundingClientRect():Es(T(Q,it,bt).getClientRects(),f)).left||y.right||0==it)break;bt=it,it-=1,Tt="right"}rt&&F<11&&(y=function Al(i,s){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function Sr(i){if(null!=Cr)return Cr;var s=G(i,B("span","x")),p=s.getBoundingClientRect(),f=T(s,0,1).getBoundingClientRect();return Cr=Math.abs(p.left-f.left)>1}(i))return s;var p=screen.logicalXDPI/screen.deviceXDPI,f=screen.logicalYDPI/screen.deviceYDPI;return{left:s.left*p,right:s.right*p,top:s.top*f,bottom:s.bottom*f}}(i.display.measure,y))}else{var Zt;it>0&&(Tt=f="right"),y=i.options.lineWrapping&&(Zt=Q.getClientRects()).length>1?Zt["right"==f?Zt.length-1:0]:Q.getBoundingClientRect()}if(rt&&F<9&&!it&&(!y||!y.left&&!y.right)){var _e=Q.parentNode.getClientRects()[0];y=_e?{left:_e.left,right:_e.left+mi(i.display),top:_e.top,bottom:_e.bottom}:Va}for(var be=y.top-s.rect.top,Ne=y.bottom-s.rect.top,Ye=(be+Ne)/2,dn=s.view.measure.heights,On=0;On<dn.length-1&&!(Ye<dn[On]);On++);var Rn={left:("right"==Tt?y.right:y.left)-s.rect.left,right:("left"==Tt?y.left:y.right)-s.rect.left,top:On?dn[On-1]:0,bottom:dn[On]};return y.left||y.right||(Rn.bogus=!0),i.options.singleCursorHeightPerLine||(Rn.rtop=be,Rn.rbottom=Ne),Rn}(i,s,p,f)).bogus||(s.cache[Q]=D)),{left:D.left,right:D.right,top:y?D.rtop:D.top,bottom:y?D.rbottom:D.bottom}}var qi,Va={left:0,right:0,top:0,bottom:0};function Ki(i,s,p){for(var f,y,D,Q,it,bt,Tt=0;Tt<i.length;Tt+=3)if(bt=i[Tt+1],s<(it=i[Tt])?(y=0,D=1,Q="left"):s<bt?D=1+(y=s-it):(Tt==i.length-3||s==bt&&i[Tt+3]>s)&&(y=(D=bt-it)-1,s>=bt&&(Q="right")),null!=y){if(f=i[Tt+2],it==bt&&p==(f.insertLeft?"left":"right")&&(Q=p),"left"==p&&0==y)for(;Tt&&i[Tt-2]==i[Tt-3]&&i[Tt-1].insertLeft;)f=i[2+(Tt-=3)],Q="left";if("right"==p&&y==bt-it)for(;Tt<i.length-3&&i[Tt+3]==i[Tt+4]&&!i[Tt+5].insertLeft;)f=i[(Tt+=3)+2],Q="right";break}return{node:f,start:y,end:D,collapse:Q,coverStart:it,coverEnd:bt}}function Es(i,s){var p=Va;if("left"==s)for(var f=0;f<i.length&&(p=i[f]).left==p.right;f++);else for(var y=i.length-1;y>=0&&(p=i[y]).left==p.right;y--);return p}function za(i){if(i.measure&&(i.measure.cache={},i.measure.heights=null,i.rest))for(var s=0;s<i.rest.length;s++)i.measure.caches[s]={}}function Ds(i){i.display.externalMeasure=null,M(i.display.lineMeasure);for(var s=0;s<i.display.view.length;s++)za(i.display.view[s])}function Ht(i){Ds(i),i.display.cachedCharWidth=i.display.cachedTextHeight=i.display.cachedPaddingH=null,i.options.lineWrapping||(i.display.maxLineChanged=!0),i.display.lineNumChars=null}function pe(){return X&&st?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function De(){return X&&st?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Pe(i){var s=0;if(i.widgets)for(var p=0;p<i.widgets.length;++p)i.widgets[p].above&&(s+=Rr(i.widgets[p]));return s}function Ge(i,s,p,f,y){if(!y){var D=Pe(s);p.top+=D,p.bottom+=D}if("line"==f)return p;f||(f="local");var Q=g(s);if("local"==f?Q+=Ot(i.display):Q-=i.display.viewOffset,"page"==f||"window"==f){var it=i.display.lineSpace.getBoundingClientRect();Q+=it.top+("window"==f?0:De());var bt=it.left+("window"==f?0:pe());p.left+=bt,p.right+=bt}return p.top+=Q,p.bottom+=Q,p}function wn(i,s,p){if("div"==p)return s;var f=s.left,y=s.top;if("page"==p)f-=pe(),y-=De();else if("local"==p||!p){var D=i.display.sizer.getBoundingClientRect();f+=D.left,y+=D.top}var Q=i.display.lineSpace.getBoundingClientRect();return{left:f-Q.left,top:y-Q.top}}function Cn(i,s,p,f,y){return f||(f=an(i.doc,s.line)),Ge(i,f,Hr(i,f,s.ch,y),p)}function Dn(i,s,p,f,y,D){function Q(Ne,Ye){var dn=Mo(i,y,Ne,Ye?"right":"left",D);return Ye?dn.left=dn.right:dn.right=dn.left,Ge(i,f,dn,p)}f=f||an(i.doc,s.line),y||(y=ko(i,f));var it=bn(f,i.doc.direction),bt=s.ch,Tt=s.sticky;if(bt>=f.text.length?(bt=f.text.length,Tt="before"):bt<=0&&(bt=0,Tt="after"),!it)return Q("before"==Tt?bt-1:bt,"before"==Tt);function Yt(Ne,Ye,dn){return Q(dn?Ne-1:Ne,1==it[Ye].level!=dn)}var Zt=Sn(it,bt,Tt),_e=He,be=Yt(bt,Zt,"before"==Tt);return null!=_e&&(be.other=Yt(bt,_e,"before"!=Tt)),be}function En(i,s){var p=0;s=cn(i.doc,s),i.options.lineWrapping||(p=mi(i.display)*s.ch);var f=an(i.doc,s.line),y=g(f)+Ot(i.display);return{left:p,right:p,top:y,bottom:y+f.height}}function hr(i,s,p,f,y){var D=qe(i,s,p);return D.xRel=y,f&&(D.outside=f),D}function ar(i,s,p){var f=i.doc;if((p+=i.display.viewOffset)<0)return hr(f.first,0,null,-1,-1);var y=To(f,p),D=f.first+f.size-1;if(y>D)return hr(f.first+f.size-1,an(f,D).text.length,null,1,1);s<0&&(s=0);for(var Q=an(f,y);;){var it=so(i,Q,y,s,p),bt=bi(Q,it.ch+(it.xRel>0||it.outside>0?1:0));if(!bt)return it;var Tt=bt.find(1);if(Tt.line==y)return Tt;Q=an(f,y=Tt.line)}}function dr(i,s,p,f){f-=Pe(s);var y=s.text.length,D=xe(function(Q){return Mo(i,p,Q-1).bottom<=f},y,0);return{begin:D,end:y=xe(function(Q){return Mo(i,p,Q).top>f},D,y)}}function yr(i,s,p,f){return p||(p=ko(i,s)),dr(i,s,p,Ge(i,s,Mo(i,p,f),"line").top)}function Kn(i,s,p,f){return!(i.bottom<=p)&&(i.top>p||(f?i.left:i.right)>s)}function so(i,s,p,f,y){y-=g(s);var D=ko(i,s),Q=Pe(s),it=0,bt=s.text.length,Tt=!0,Yt=bn(s,i.doc.direction);if(Yt){var Zt=(i.options.lineWrapping?Jo:vi)(i,s,p,D,Yt,f,y);it=(Tt=1!=Zt.level)?Zt.from:Zt.to-1,bt=Tt?Zt.to:Zt.from-1}var _e,be,Ne=null,Ye=null,dn=xe(function(Fn){var zn=Mo(i,D,Fn);return zn.top+=Q,zn.bottom+=Q,!!Kn(zn,f,y,!1)&&(zn.top<=y&&zn.left<=f&&(Ne=Fn,Ye=zn),!0)},it,bt),On=!1;if(Ye){var Ln=f-Ye.left<Ye.right-f,yn=Ln==Tt;dn=Ne+(yn?0:1),be=yn?"after":"before",_e=Ln?Ye.left:Ye.right}else{Tt||dn!=bt&&dn!=it||dn++,be=0==dn?"after":dn==s.text.length?"before":Mo(i,D,dn-(Tt?1:0)).bottom+Q<=y==Tt?"after":"before";var Rn=Dn(i,qe(p,dn,be),"line",s,D);_e=Rn.left,On=y<Rn.top?-1:y>=Rn.bottom?1:0}return hr(p,dn=re(s.text,dn,1),be,On,f-_e)}function vi(i,s,p,f,y,D,Q){var it=xe(function(Zt){var _e=y[Zt],be=1!=_e.level;return Kn(Dn(i,qe(p,be?_e.to:_e.from,be?"before":"after"),"line",s,f),D,Q,!0)},0,y.length-1),bt=y[it];if(it>0){var Tt=1!=bt.level,Yt=Dn(i,qe(p,Tt?bt.from:bt.to,Tt?"after":"before"),"line",s,f);Kn(Yt,D,Q,!0)&&Yt.top>Q&&(bt=y[it-1])}return bt}function Jo(i,s,p,f,y,D,Q){var it=dr(i,s,f,Q),bt=it.begin,Tt=it.end;/\s/.test(s.text.charAt(Tt-1))&&Tt--;for(var Yt=null,Zt=null,_e=0;_e<y.length;_e++){var be=y[_e];if(!(be.from>=Tt||be.to<=bt)){var Ne=Mo(i,f,1!=be.level?Math.min(Tt,be.to)-1:Math.max(bt,be.from)).right,Ye=Ne<D?D-Ne+1e9:Ne-D;(!Yt||Zt>Ye)&&(Yt=be,Zt=Ye)}}return Yt||(Yt=y[y.length-1]),Yt.from<bt&&(Yt={from:bt,to:Yt.to,level:Yt.level}),Yt.to>Tt&&(Yt={from:Yt.from,to:Tt,level:Yt.level}),Yt}function Co(i){if(null!=i.cachedTextHeight)return i.cachedTextHeight;if(null==qi){qi=B("pre",null,"CodeMirror-line-like");for(var s=0;s<49;++s)qi.appendChild(document.createTextNode("x")),qi.appendChild(B("br"));qi.appendChild(document.createTextNode("x"))}G(i.measure,qi);var p=qi.offsetHeight/50;return p>3&&(i.cachedTextHeight=p),M(i.measure),p||1}function mi(i){if(null!=i.cachedCharWidth)return i.cachedCharWidth;var s=B("span","xxxxxxxxxx"),p=B("pre",[s],"CodeMirror-line-like");G(i.measure,p);var f=s.getBoundingClientRect(),y=(f.right-f.left)/10;return y>2&&(i.cachedCharWidth=y),y||10}function ua(i){for(var s=i.display,p={},f={},y=s.gutters.clientLeft,D=s.gutters.firstChild,Q=0;D;D=D.nextSibling,++Q){var it=i.display.gutterSpecs[Q].className;p[it]=D.offsetLeft+D.clientLeft+y,f[it]=D.clientWidth}return{fixedPos:Qo(s),gutterTotalWidth:s.gutters.offsetWidth,gutterLeft:p,gutterWidth:f,wrapperWidth:s.wrapper.clientWidth}}function Qo(i){return i.scroller.getBoundingClientRect().left-i.sizer.getBoundingClientRect().left}function pc(i){var s=Co(i.display),p=i.options.lineWrapping,f=p&&Math.max(5,i.display.scroller.clientWidth/mi(i.display)-3);return function(y){if(P(i.doc,y))return 0;var D=0;if(y.widgets)for(var Q=0;Q<y.widgets.length;Q++)y.widgets[Q].height&&(D+=y.widgets[Q].height);return p?D+(Math.ceil(y.text.length/f)||1)*s:D+s}}function El(i){var s=i.doc,p=pc(i);s.iter(function(f){var y=p(f);y!=f.height&&So(f,y)})}function li(i,s,p,f){var y=i.display;if(!p&&"true"==Nt(s).getAttribute("cm-not-content"))return null;var D,Q,it=y.lineSpace.getBoundingClientRect();try{D=s.clientX-it.left,Q=s.clientY-it.top}catch{return null}var bt,Tt=ar(i,D,Q);if(f&&Tt.xRel>0&&(bt=an(i.doc,Tt.line).text).length==Tt.ch){var Yt=zt(bt,bt.length,i.options.tabSize)-bt.length;Tt=qe(Tt.line,Math.max(0,Math.round((D-ne(i.display).left)/mi(i.display))-Yt))}return Tt}function Ua(i,s){if(s>=i.display.viewTo||(s-=i.display.viewFrom)<0)return null;for(var p=i.display.view,f=0;f<p.length;f++)if((s-=p[f].size)<0)return f}function wi(i,s,p,f){null==s&&(s=i.doc.first),null==p&&(p=i.doc.first+i.doc.size),f||(f=0);var y=i.display;if(f&&p<y.viewTo&&(null==y.updateLineNumbers||y.updateLineNumbers>s)&&(y.updateLineNumbers=s),i.curOp.viewChanged=!0,s>=y.viewTo)vo&&d(i.doc,s)<y.viewTo&&da(i);else if(p<=y.viewFrom)vo&&C(i.doc,p+f)>y.viewFrom?da(i):(y.viewFrom+=f,y.viewTo+=f);else if(s<=y.viewFrom&&p>=y.viewTo)da(i);else if(s<=y.viewFrom){var D=Gs(i,p,p+f,1);D?(y.view=y.view.slice(D.index),y.viewFrom=D.lineN,y.viewTo+=f):da(i)}else if(p>=y.viewTo){var Q=Gs(i,s,s,-1);Q?(y.view=y.view.slice(0,Q.index),y.viewTo=Q.lineN):da(i)}else{var it=Gs(i,s,s,-1),bt=Gs(i,p,p+f,1);it&&bt?(y.view=y.view.slice(0,it.index).concat(ir(i,it.lineN,bt.lineN)).concat(y.view.slice(bt.index)),y.viewTo+=f):da(i)}var Tt=y.externalMeasured;Tt&&(p<Tt.lineN?Tt.lineN+=f:s<Tt.lineN+Tt.size&&(y.externalMeasured=null))}function La(i,s,p){i.curOp.viewChanged=!0;var f=i.display,y=i.display.externalMeasured;if(y&&s>=y.lineN&&s<y.lineN+y.size&&(f.externalMeasured=null),!(s<f.viewFrom||s>=f.viewTo)){var D=f.view[Ua(i,s)];if(null!=D.node){var Q=D.changes||(D.changes=[]);-1==Qt(Q,p)&&Q.push(p)}}}function da(i){i.display.viewFrom=i.display.viewTo=i.doc.first,i.display.view=[],i.display.viewOffset=0}function Gs(i,s,p,f){var y,D=Ua(i,s),Q=i.display.view;if(!vo||p==i.doc.first+i.doc.size)return{index:D,lineN:p};for(var it=i.display.viewFrom,bt=0;bt<D;bt++)it+=Q[bt].size;if(it!=s){if(f>0){if(D==Q.length-1)return null;y=it+Q[D].size-s,D++}else y=it-s;s+=y,p+=y}for(;d(i.doc,p)!=p;){if(D==(f<0?0:Q.length-1))return null;p+=f*Q[D-(f<0?1:0)].size,D+=f}return{index:D,lineN:p}}function gc(i){for(var s=i.display.view,p=0,f=0;f<s.length;f++){var y=s[f];y.hidden||y.node&&!y.changes||++p}return p}function Fa(i){i.display.input.showSelection(i.display.input.prepareSelection())}function Ys(i,s){void 0===s&&(s=!0);for(var p=i.doc,f={},y=f.cursors=document.createDocumentFragment(),D=f.selection=document.createDocumentFragment(),Q=0;Q<p.sel.ranges.length;Q++)if(s||Q!=p.sel.primIndex){var it=p.sel.ranges[Q];if(!(it.from().line>=i.display.viewTo||it.to().line<i.display.viewFrom)){var bt=it.empty();(bt||i.options.showCursorWhenSelecting)&&vc(i,it.head,y),bt||Zs(i,it,D)}}return f}function vc(i,s,p){var f=Dn(i,s,"div",null,null,!i.options.singleCursorHeightPerLine),y=p.appendChild(B("div","\xa0","CodeMirror-cursor"));if(y.style.left=f.left+"px",y.style.top=f.top+"px",y.style.height=Math.max(0,f.bottom-f.top)*i.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(i.getWrapperElement().className)){var D=Cn(i,s,"div",null,null);D.right-D.left>0&&(y.style.width=D.right-D.left+"px")}if(f.other){var Q=p.appendChild(B("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));Q.style.display="",Q.style.left=f.other.left+"px",Q.style.top=f.other.top+"px",Q.style.height=.85*(f.other.bottom-f.other.top)+"px"}}function Xs(i,s){return i.top-s.top||i.left-s.left}function Zs(i,s,p){var f=i.display,y=i.doc,D=document.createDocumentFragment(),Q=ne(i.display),it=Q.left,bt=Math.max(f.sizerWidth,ve(i)-f.sizer.offsetLeft)-Q.right,Tt="ltr"==y.direction;function Yt(yn,Rn,Fn,zn){Rn<0&&(Rn=0),Rn=Math.round(Rn),zn=Math.round(zn),D.appendChild(B("div",null,"CodeMirror-selected","position: absolute; left: "+yn+"px;\n                             top: "+Rn+"px; width: "+(Fn??bt-yn)+"px;\n                             height: "+(zn-Rn)+"px"))}function Zt(yn,Rn,Fn){var zn,co,Zr=an(y,yn),Vi=Zr.text.length;function bo(Po,zi){return Cn(i,qe(yn,Po),"div",Zr,zi)}function ma(Po,zi,ji){var Bo=yr(i,Zr,null,Po),Vo="ltr"==zi==("after"==ji)?"left":"right";return bo("after"==ji?Bo.begin:Bo.end-(/\s/.test(Zr.text.charAt(Bo.end-1))?2:1),Vo)[Vo]}var Xi=bn(Zr,y.direction);return function Se(i,s,p,f){if(!i)return f(s,p,"ltr",0);for(var y=!1,D=0;D<i.length;++D){var Q=i[D];(Q.from<p&&Q.to>s||s==p&&Q.to==s)&&(f(Math.max(Q.from,s),Math.min(Q.to,p),1==Q.level?"rtl":"ltr",D),y=!0)}y||f(s,p,"ltr")}(Xi,Rn||0,Fn??Vi,function(Po,zi,ji,Bo){var Vo="ltr"==ji,$o=bo(Po,Vo?"left":"right"),Ui=bo(zi-1,Vo?"right":"left"),xs=null==Rn&&0==Po,ra=null==Fn&&zi==Vi,Di=0==Bo,ri=!Xi||Bo==Xi.length-1;if(Ui.top-$o.top<=3){var Ba=(Tt?xs:ra)&&Di?it:(Vo?$o:Ui).left;Yt(Ba,$o.top,((Tt?ra:xs)&&ri?bt:(Vo?Ui:$o).right)-Ba,$o.bottom)}else{var Us,Go,_l,xu;Vo?(Us=Tt&&xs&&Di?it:$o.left,Go=Tt?bt:ma(Po,ji,"before"),_l=Tt?it:ma(zi,ji,"after"),xu=Tt&&ra&&ri?bt:Ui.right):(Us=Tt?ma(Po,ji,"before"):it,Go=!Tt&&xs&&Di?bt:$o.right,_l=!Tt&&ra&&ri?it:Ui.left,xu=Tt?ma(zi,ji,"after"):bt),Yt(Us,$o.top,Go-Us,$o.bottom),$o.bottom<Ui.top&&Yt(it,$o.bottom,null,Ui.top),Yt(_l,Ui.top,xu-_l,Ui.bottom)}(!zn||Xs($o,zn)<0)&&(zn=$o),Xs(Ui,zn)<0&&(zn=Ui),(!co||Xs($o,co)<0)&&(co=$o),Xs(Ui,co)<0&&(co=Ui)}),{start:zn,end:co}}var _e=s.from(),be=s.to();if(_e.line==be.line)Zt(_e.line,_e.ch,be.ch);else{var Ne=an(y,_e.line),Ye=an(y,be.line),dn=vr(Ne)==vr(Ye),On=Zt(_e.line,_e.ch,dn?Ne.text.length+1:null).end,Ln=Zt(be.line,dn?0:null,be.ch).start;dn&&(On.top<Ln.top-2?(Yt(On.right,On.top,null,On.bottom),Yt(it,Ln.top,Ln.left,Ln.bottom)):Yt(On.right,On.top,Ln.left-On.right,On.bottom)),On.bottom<Ln.top&&Yt(it,On.bottom,null,Ln.top)}p.appendChild(D)}function Js(i){if(i.state.focused){var s=i.display;clearInterval(s.blinker);var p=!0;s.cursorDiv.style.visibility="",i.options.cursorBlinkRate>0?s.blinker=setInterval(function(){i.hasFocus()||$i(i),s.cursorDiv.style.visibility=(p=!p)?"":"hidden"},i.options.cursorBlinkRate):i.options.cursorBlinkRate<0&&(s.cursorDiv.style.visibility="hidden")}}function mc(i){i.hasFocus()||(i.display.input.focus(),i.state.focused||jl(i))}function Wa(i){i.state.delayingBlurEvent=!0,setTimeout(function(){i.state.delayingBlurEvent&&(i.state.delayingBlurEvent=!1,i.state.focused&&$i(i))},100)}function jl(i,s){i.state.delayingBlurEvent&&!i.state.draggingText&&(i.state.delayingBlurEvent=!1),"nocursor"!=i.options.readOnly&&(i.state.focused||(kt(i,"focus",i,s),i.state.focused=!0,Mt(i.display.wrapper,"CodeMirror-focused"),i.curOp||i.display.selForContextMenu==i.doc.sel||(i.display.input.reset(),H&&setTimeout(function(){return i.display.input.reset(!0)},20)),i.display.input.receivedFocus()),Js(i))}function $i(i,s){i.state.delayingBlurEvent||(i.state.focused&&(kt(i,"blur",i,s),i.state.focused=!1,q(i.display.wrapper,"CodeMirror-focused")),clearInterval(i.display.blinker),setTimeout(function(){i.state.focused||(i.display.shift=!1)},150))}function us(i){for(var s=i.display,p=s.lineDiv.offsetTop,f=Math.max(0,s.scroller.getBoundingClientRect().top),y=s.lineDiv.getBoundingClientRect().top,D=0,Q=0;Q<s.view.length;Q++){var it=s.view[Q],bt=i.options.lineWrapping,Tt=void 0,Yt=0;if(!it.hidden){if(y+=it.line.height,rt&&F<8){var Zt=it.node.offsetTop+it.node.offsetHeight;Tt=Zt-p,p=Zt}else{var _e=it.node.getBoundingClientRect();Tt=_e.bottom-_e.top,!bt&&it.text.firstChild&&(Yt=it.text.firstChild.getBoundingClientRect().right-_e.left-1)}var be=it.line.height-Tt;if((be>.005||be<-.005)&&(y<f&&(D-=be),So(it.line,Tt),Dl(it.line),it.rest))for(var Ne=0;Ne<it.rest.length;Ne++)Dl(it.rest[Ne]);if(Yt>i.display.sizerWidth){var Ye=Math.ceil(Yt/mi(i.display));Ye>i.display.maxLineLength&&(i.display.maxLineLength=Ye,i.display.maxLine=it.line,i.display.maxLineChanged=!0)}}}Math.abs(D)>2&&(s.scroller.scrollTop+=D)}function Dl(i){if(i.widgets)for(var s=0;s<i.widgets.length;++s){var p=i.widgets[s],f=p.node.parentNode;f&&(p.height=f.offsetHeight)}}function Ma(i,s,p){var f=p&&null!=p.top?Math.max(0,p.top):i.scroller.scrollTop;f=Math.floor(f-Ot(i));var y=p&&null!=p.bottom?p.bottom:f+i.wrapper.clientHeight,D=To(s,f),Q=To(s,y);if(p&&p.ensure){var it=p.ensure.from.line,bt=p.ensure.to.line;it<D?(D=it,Q=To(s,g(an(s,it))+i.wrapper.clientHeight)):Math.min(bt,s.lastLine())>=Q&&(D=To(s,g(an(s,bt))-i.wrapper.clientHeight),Q=bt)}return{from:D,to:Math.max(Q,D+1)}}function ds(i,s){var p=i.display,f=Co(i.display);s.top<0&&(s.top=0);var y=i.curOp&&null!=i.curOp.scrollTop?i.curOp.scrollTop:p.scroller.scrollTop,D=$e(i),Q={};s.bottom-s.top>D&&(s.bottom=s.top+D);var it=i.doc.height+qt(p),Tt=s.bottom>it-f;if(s.top<y)Q.scrollTop=s.top<f?0:s.top;else if(s.bottom>y+D){var Yt=Math.min(s.top,(Tt?it:s.bottom)-D);Yt!=y&&(Q.scrollTop=Yt)}var Zt=i.options.fixedGutter?0:p.gutters.offsetWidth,_e=i.curOp&&null!=i.curOp.scrollLeft?i.curOp.scrollLeft:p.scroller.scrollLeft-Zt,be=ve(i)-p.gutters.offsetWidth,Ne=s.right-s.left>be;return Ne&&(s.right=s.left+be),s.left<10?Q.scrollLeft=0:s.left<_e?Q.scrollLeft=Math.max(0,s.left+Zt-(Ne?0:10)):s.right>be+_e-3&&(Q.scrollLeft=s.right+(Ne?0:10)-be),Q}function Qs(i,s){null!=s&&(Ka(i),i.curOp.scrollTop=(null==i.curOp.scrollTop?i.doc.scrollTop:i.curOp.scrollTop)+s)}function fs(i){Ka(i);var s=i.getCursor();i.curOp.scrollToPos={from:s,to:s,margin:i.options.cursorScrollMargin}}function Is(i,s,p){null==s&&null==p||Ka(i),null!=s&&(i.curOp.scrollLeft=s),null!=p&&(i.curOp.scrollTop=p)}function Ka(i){var s=i.curOp.scrollToPos;s&&(i.curOp.scrollToPos=null,yc(i,En(i,s.from),En(i,s.to),s.margin))}function yc(i,s,p,f){var y=ds(i,{left:Math.min(s.left,p.left),top:Math.min(s.top,p.top)-f,right:Math.max(s.right,p.right),bottom:Math.max(s.bottom,p.bottom)+f});Is(i,y.scrollLeft,y.scrollTop)}function Ps(i,s){Math.abs(i.doc.scrollTop-s)<2||(nt||Rl(i,{top:s}),_c(i,s,!0),nt&&Rl(i),Ls(i,100))}function _c(i,s,p){s=Math.max(0,Math.min(i.display.scroller.scrollHeight-i.display.scroller.clientHeight,s)),(i.display.scroller.scrollTop!=s||p)&&(i.doc.scrollTop=s,i.display.scrollbars.setScrollTop(s),i.display.scroller.scrollTop!=s&&(i.display.scroller.scrollTop=s))}function fa(i,s,p,f){s=Math.max(0,Math.min(s,i.display.scroller.scrollWidth-i.display.scroller.clientWidth)),(p?s==i.doc.scrollLeft:Math.abs(i.doc.scrollLeft-s)<2)&&!f||(i.doc.scrollLeft=s,Cc(i),i.display.scroller.scrollLeft!=s&&(i.display.scroller.scrollLeft=s),i.display.scrollbars.setScrollLeft(s))}function $a(i){var s=i.display,p=s.gutters.offsetWidth,f=Math.round(i.doc.height+qt(i.display));return{clientHeight:s.scroller.clientHeight,viewHeight:s.wrapper.clientHeight,scrollWidth:s.scroller.scrollWidth,clientWidth:s.scroller.clientWidth,viewWidth:s.wrapper.clientWidth,barLeft:i.options.fixedGutter?p:0,docHeight:f,scrollHeight:f+fe(i)+s.barHeight,nativeBarWidth:s.nativeBarWidth,gutterWidth:p}}var Ga=function(i,s,p){this.cm=p;var f=this.vert=B("div",[B("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),y=this.horiz=B("div",[B("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");f.tabIndex=y.tabIndex=-1,i(f),i(y),At(f,"scroll",function(){f.clientHeight&&s(f.scrollTop,"vertical")}),At(y,"scroll",function(){y.clientWidth&&s(y.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,rt&&F<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ga.prototype.update=function(i){var s=i.scrollWidth>i.clientWidth+1,p=i.scrollHeight>i.clientHeight+1,f=i.nativeBarWidth;return p?(this.vert.style.display="block",this.vert.style.bottom=s?f+"px":"0",this.vert.firstChild.style.height=Math.max(0,i.scrollHeight-i.clientHeight+(i.viewHeight-(s?f:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0"),s?(this.horiz.style.display="block",this.horiz.style.right=p?f+"px":"0",this.horiz.style.left=i.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,i.scrollWidth-i.clientWidth+(i.viewWidth-i.barLeft-(p?f:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&i.clientHeight>0&&(0==f&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?f:0,bottom:s?f:0}},Ga.prototype.setScrollLeft=function(i){this.horiz.scrollLeft!=i&&(this.horiz.scrollLeft=i),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ga.prototype.setScrollTop=function(i){this.vert.scrollTop!=i&&(this.vert.scrollTop=i),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ga.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=et&&!$?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new he,this.disableVert=new he},Ga.prototype.enableZeroWidthBar=function(i,s,p){i.style.pointerEvents="auto",s.set(1e3,function f(){var y=i.getBoundingClientRect();("vert"==p?document.elementFromPoint(y.right-1,(y.top+y.bottom)/2):document.elementFromPoint((y.right+y.left)/2,y.bottom-1))!=i?i.style.pointerEvents="none":s.set(1e3,f)})},Ga.prototype.clear=function(){var i=this.horiz.parentNode;i.removeChild(this.horiz),i.removeChild(this.vert)};var Ns=function(){};function Ta(i,s){s||(s=$a(i));var p=i.display.barWidth,f=i.display.barHeight;pa(i,s);for(var y=0;y<4&&p!=i.display.barWidth||f!=i.display.barHeight;y++)p!=i.display.barWidth&&i.options.lineWrapping&&us(i),pa(i,$a(i)),p=i.display.barWidth,f=i.display.barHeight}function pa(i,s){var p=i.display,f=p.scrollbars.update(s);p.sizer.style.paddingRight=(p.barWidth=f.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=f.bottom)+"px",p.heightForcer.style.borderBottom=f.bottom+"px solid transparent",f.right&&f.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=f.bottom+"px",p.scrollbarFiller.style.width=f.right+"px"):p.scrollbarFiller.style.display="",f.bottom&&i.options.coverGutterNextToScrollbar&&i.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=f.bottom+"px",p.gutterFiller.style.width=s.gutterWidth+"px"):p.gutterFiller.style.display=""}Ns.prototype.update=function(){return{bottom:0,right:0}},Ns.prototype.setScrollLeft=function(){},Ns.prototype.setScrollTop=function(){},Ns.prototype.clear=function(){};var Pl={native:Ga,null:Ns};function bc(i){i.display.scrollbars&&(i.display.scrollbars.clear(),i.display.scrollbars.addClass&&q(i.display.wrapper,i.display.scrollbars.addClass)),i.display.scrollbars=new Pl[i.options.scrollbarStyle](function(s){i.display.wrapper.insertBefore(s,i.display.scrollbarFiller),At(s,"mousedown",function(){i.state.focused&&setTimeout(function(){return i.display.input.focus()},0)}),s.setAttribute("cm-not-content","true")},function(s,p){"horizontal"==p?fa(i,s):Ps(i,s)},i),i.display.scrollbars.addClass&&Mt(i.display.wrapper,i.display.scrollbars.addClass)}var tl=0;function Ya(i){i.curOp={cm:i,viewChanged:!1,startHeight:i.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++tl,markArrays:null},function pr(i){Re?Re.ops.push(i):i.ownsGroup=Re={ops:[i],delayedCallbacks:[]}}(i.curOp)}function Xa(i){var s=i.curOp;s&&function br(i,s){var p=i.ownsGroup;if(p)try{!function Jn(i){var s=i.delayedCallbacks,p=0;do{for(;p<s.length;p++)s[p].call(null);for(var f=0;f<i.ops.length;f++){var y=i.ops[f];if(y.cursorActivityHandlers)for(;y.cursorActivityCalled<y.cursorActivityHandlers.length;)y.cursorActivityHandlers[y.cursorActivityCalled++].call(null,y.cm)}}while(p<s.length)}(p)}finally{Re=null,s(p)}}(s,function(p){for(var f=0;f<p.ops.length;f++)p.ops[f].cm.curOp=null;!function Za(i){for(var s=i.ops,p=0;p<s.length;p++)Nl(s[p]);for(var f=0;f<s.length;f++)Wu(s[f]);for(var y=0;y<s.length;y++)Ll(s[y]);for(var D=0;D<s.length;D++)el(s[D]);for(var Q=0;Q<s.length;Q++)Fl(s[Q])}(p)})}function Nl(i){var s=i.cm,p=s.display;(function wc(i){var s=i.display;!s.scrollbarsClipped&&s.scroller.offsetWidth&&(s.nativeBarWidth=s.scroller.offsetWidth-s.scroller.clientWidth,s.heightForcer.style.height=fe(i)+"px",s.sizer.style.marginBottom=-s.nativeBarWidth+"px",s.sizer.style.borderRightWidth=fe(i)+"px",s.scrollbarsClipped=!0)})(s),i.updateMaxLine&&O(s),i.mustUpdate=i.viewChanged||i.forceUpdate||null!=i.scrollTop||i.scrollToPos&&(i.scrollToPos.from.line<p.viewFrom||i.scrollToPos.to.line>=p.viewTo)||p.maxLineChanged&&s.options.lineWrapping,i.update=i.mustUpdate&&new hs(s,i.mustUpdate&&{top:i.scrollTop,ensure:i.scrollToPos},i.forceUpdate)}function Wu(i){i.updatedDisplay=i.mustUpdate&&Fs(i.cm,i.update)}function Ll(i){var s=i.cm,p=s.display;i.updatedDisplay&&us(s),i.barMeasure=$a(s),p.maxLineChanged&&!s.options.lineWrapping&&(i.adjustWidthTo=Hr(s,p.maxLine,p.maxLine.text.length).left+3,s.display.sizerWidth=i.adjustWidthTo,i.barMeasure.scrollWidth=Math.max(p.scroller.clientWidth,p.sizer.offsetLeft+i.adjustWidthTo+fe(s)+s.display.barWidth),i.maxScrollLeft=Math.max(0,p.sizer.offsetLeft+i.adjustWidthTo-ve(s))),(i.updatedDisplay||i.selectionChanged)&&(i.preparedSelection=p.input.prepareSelection())}function el(i){var s=i.cm;null!=i.adjustWidthTo&&(s.display.sizer.style.minWidth=i.adjustWidthTo+"px",i.maxScrollLeft<s.doc.scrollLeft&&fa(s,Math.min(s.display.scroller.scrollLeft,i.maxScrollLeft),!0),s.display.maxLineChanged=!1);var p=i.focus&&i.focus==Lt();i.preparedSelection&&s.display.input.showSelection(i.preparedSelection,p),(i.updatedDisplay||i.startHeight!=s.doc.height)&&Ta(s,i.barMeasure),i.updatedDisplay&&Ja(s,i.barMeasure),i.selectionChanged&&Js(s),s.state.focused&&i.updateInput&&s.display.input.reset(i.typing),p&&mc(i.cm)}function Fl(i){var s=i.cm,p=s.display,f=s.doc;i.updatedDisplay&&xc(s,i.update),null==p.wheelStartX||null==i.scrollTop&&null==i.scrollLeft&&!i.scrollToPos||(p.wheelStartX=p.wheelStartY=null),null!=i.scrollTop&&_c(s,i.scrollTop,i.forceScroll),null!=i.scrollLeft&&fa(s,i.scrollLeft,!0,!0),i.scrollToPos&&function qa(i,s){if(!jt(i,"scrollCursorIntoView")){var p=i.display,f=p.sizer.getBoundingClientRect(),y=null;if(s.top+f.top<0?y=!0:s.bottom+f.top>(window.innerHeight||document.documentElement.clientHeight)&&(y=!1),null!=y&&!mt){var D=B("div","\u200b",null,"position: absolute;\n                         top: "+(s.top-p.viewOffset-Ot(i.display))+"px;\n                         height: "+(s.bottom-s.top+fe(i)+p.barHeight)+"px;\n                         left: "+s.left+"px; width: "+Math.max(2,s.right-s.left)+"px;");i.display.lineSpace.appendChild(D),D.scrollIntoView(y),i.display.lineSpace.removeChild(D)}}}(s,function Il(i,s,p,f){var y;null==f&&(f=0),i.options.lineWrapping||s!=p||(p="before"==s.sticky?qe(s.line,s.ch+1,"before"):s,s=s.ch?qe(s.line,"before"==s.sticky?s.ch-1:s.ch,"after"):s);for(var D=0;D<5;D++){var Q=!1,it=Dn(i,s),bt=p&&p!=s?Dn(i,p):it,Tt=ds(i,y={left:Math.min(it.left,bt.left),top:Math.min(it.top,bt.top)-f,right:Math.max(it.left,bt.left),bottom:Math.max(it.bottom,bt.bottom)+f}),Yt=i.doc.scrollTop,Zt=i.doc.scrollLeft;if(null!=Tt.scrollTop&&(Ps(i,Tt.scrollTop),Math.abs(i.doc.scrollTop-Yt)>1&&(Q=!0)),null!=Tt.scrollLeft&&(fa(i,Tt.scrollLeft),Math.abs(i.doc.scrollLeft-Zt)>1&&(Q=!0)),!Q)break}return y}(s,cn(f,i.scrollToPos.from),cn(f,i.scrollToPos.to),i.scrollToPos.margin));var y=i.maybeHiddenMarkers,D=i.maybeUnhiddenMarkers;if(y)for(var Q=0;Q<y.length;++Q)y[Q].lines.length||kt(y[Q],"hide");if(D)for(var it=0;it<D.length;++it)D[it].lines.length&&kt(D[it],"unhide");p.wrapper.offsetHeight&&(f.scrollTop=s.display.scroller.scrollTop),i.changeObjs&&kt(s,"changes",s,i.changeObjs),i.update&&i.update.finish()}function yi(i,s){if(i.curOp)return s();Ya(i);try{return s()}finally{Xa(i)}}function ti(i,s){return function(){if(i.curOp)return s.apply(i,arguments);Ya(i);try{return s.apply(i,arguments)}finally{Xa(i)}}}function ei(i){return function(){if(this.curOp)return i.apply(this,arguments);Ya(this);try{return i.apply(this,arguments)}finally{Xa(this)}}}function Ao(i){return function(){var s=this.cm;if(!s||s.curOp)return i.apply(this,arguments);Ya(s);try{return i.apply(this,arguments)}finally{Xa(s)}}}function Ls(i,s){i.doc.highlightFrontier<i.display.viewTo&&i.state.highlight.set(s,Jt(ps,i))}function ps(i){var s=i.doc;if(!(s.highlightFrontier>=i.display.viewTo)){var p=+new Date+i.options.workTime,f=Ar(i,s.highlightFrontier),y=[];s.iter(f.line,Math.min(s.first+s.size,i.display.viewTo+500),function(D){if(f.line>=i.display.viewFrom){var Q=D.styles,it=D.text.length>i.options.maxHighlightLength?kr(s.mode,f.state):null,bt=zr(i,D,f,!0);it&&(f.state=it),D.styles=bt.styles;var Tt=D.styleClasses,Yt=bt.classes;Yt?D.styleClasses=Yt:Tt&&(D.styleClasses=null);for(var Zt=!Q||Q.length!=D.styles.length||Tt!=Yt&&(!Tt||!Yt||Tt.bgClass!=Yt.bgClass||Tt.textClass!=Yt.textClass),_e=0;!Zt&&_e<Q.length;++_e)Zt=Q[_e]!=D.styles[_e];Zt&&y.push(f.line),D.stateAfter=f.save(),f.nextLine()}else D.text.length<=i.options.maxHighlightLength&&wo(i,D.text,f),D.stateAfter=f.line%5==0?f.save():null,f.nextLine();if(+new Date>p)return Ls(i,i.options.workDelay),!0}),s.highlightFrontier=f.line,s.modeFrontier=Math.max(s.modeFrontier,f.line),y.length&&yi(i,function(){for(var D=0;D<y.length;D++)La(i,y[D],"text")})}}var hs=function(i,s,p){var f=i.display;this.viewport=s,this.visible=Ma(f,i.doc,s),this.editorIsHidden=!f.wrapper.offsetWidth,this.wrapperHeight=f.wrapper.clientHeight,this.wrapperWidth=f.wrapper.clientWidth,this.oldDisplayWidth=ve(i),this.force=p,this.dims=ua(i),this.events=[]};function Fs(i,s){var p=i.display,f=i.doc;if(s.editorIsHidden)return da(i),!1;if(!s.force&&s.visible.from>=p.viewFrom&&s.visible.to<=p.viewTo&&(null==p.updateLineNumbers||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&0==gc(i))return!1;ol(i)&&(da(i),s.dims=ua(i));var y=f.first+f.size,D=Math.max(s.visible.from-i.options.viewportMargin,f.first),Q=Math.min(y,s.visible.to+i.options.viewportMargin);p.viewFrom<D&&D-p.viewFrom<20&&(D=Math.max(f.first,p.viewFrom)),p.viewTo>Q&&p.viewTo-Q<20&&(Q=Math.min(y,p.viewTo)),vo&&(D=d(i.doc,D),Q=C(i.doc,Q));var it=D!=p.viewFrom||Q!=p.viewTo||p.lastWrapHeight!=s.wrapperHeight||p.lastWrapWidth!=s.wrapperWidth;(function hc(i,s,p){var f=i.display;0==f.view.length||s>=f.viewTo||p<=f.viewFrom?(f.view=ir(i,s,p),f.viewFrom=s):(f.viewFrom>s?f.view=ir(i,s,f.viewFrom).concat(f.view):f.viewFrom<s&&(f.view=f.view.slice(Ua(i,s))),f.viewFrom=s,f.viewTo<p?f.view=f.view.concat(ir(i,f.viewTo,p)):f.viewTo>p&&(f.view=f.view.slice(0,Ua(i,p)))),f.viewTo=p})(i,D,Q),p.viewOffset=g(an(i.doc,p.viewFrom)),i.display.mover.style.top=p.viewOffset+"px";var bt=gc(i);if(!it&&0==bt&&!s.force&&p.renderedView==p.view&&(null==p.updateLineNumbers||p.updateLineNumbers>=p.viewTo))return!1;var Tt=function qu(i){if(i.hasFocus())return null;var s=Lt();if(!s||!U(i.display.lineDiv,s))return null;var p={activeElt:s};if(window.getSelection){var f=window.getSelection();f.anchorNode&&f.extend&&U(i.display.lineDiv,f.anchorNode)&&(p.anchorNode=f.anchorNode,p.anchorOffset=f.anchorOffset,p.focusNode=f.focusNode,p.focusOffset=f.focusOffset)}return p}(i);return bt>4&&(p.lineDiv.style.display="none"),function nl(i,s,p){var f=i.display,y=i.options.lineNumbers,D=f.lineDiv,Q=D.firstChild;function it(Ne){var Ye=Ne.nextSibling;return H&&et&&i.display.currentWheelTarget==Ne?Ne.style.display="none":Ne.parentNode.removeChild(Ne),Ye}for(var bt=f.view,Tt=f.viewFrom,Yt=0;Yt<bt.length;Yt++){var Zt=bt[Yt];if(!Zt.hidden)if(Zt.node&&Zt.node.parentNode==D){for(;Q!=Zt.node;)Q=it(Q);var _e=y&&null!=s&&s<=Tt&&Zt.lineNumber;Zt.changes&&(Qt(Zt.changes,"gutter")>-1&&(_e=!1),Er(i,Zt,Tt,p)),_e&&(M(Zt.lineNumber),Zt.lineNumber.appendChild(document.createTextNode(di(i.options,Tt)))),Q=Zt.node.nextSibling}else{var be=$r(i,Zt,Tt,p);D.insertBefore(be,Q)}Tt+=Zt.size}for(;Q;)Q=it(Q)}(i,p.updateLineNumbers,s.dims),bt>4&&(p.lineDiv.style.display=""),p.renderedView=p.view,function Ml(i){if(i&&i.activeElt&&i.activeElt!=Lt()&&(i.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(i.activeElt.nodeName)&&i.anchorNode&&U(document.body,i.anchorNode)&&U(document.body,i.focusNode))){var s=window.getSelection(),p=document.createRange();p.setEnd(i.anchorNode,i.anchorOffset),p.collapse(!1),s.removeAllRanges(),s.addRange(p),s.extend(i.focusNode,i.focusOffset)}}(Tt),M(p.cursorDiv),M(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,it&&(p.lastWrapHeight=s.wrapperHeight,p.lastWrapWidth=s.wrapperWidth,Ls(i,400)),p.updateLineNumbers=null,!0}function xc(i,s){for(var p=s.viewport,f=!0;;f=!1){if(f&&i.options.lineWrapping&&s.oldDisplayWidth!=ve(i))f&&(s.visible=Ma(i.display,i.doc,p));else if(p&&null!=p.top&&(p={top:Math.min(i.doc.height+qt(i.display)-$e(i),p.top)}),s.visible=Ma(i.display,i.doc,p),s.visible.from>=i.display.viewFrom&&s.visible.to<=i.display.viewTo)break;if(!Fs(i,s))break;us(i);var y=$a(i);Fa(i),Ta(i,y),Ja(i,y),s.force=!1}s.signal(i,"update",i),i.display.viewFrom==i.display.reportedViewFrom&&i.display.viewTo==i.display.reportedViewTo||(s.signal(i,"viewportChange",i,i.display.viewFrom,i.display.viewTo),i.display.reportedViewFrom=i.display.viewFrom,i.display.reportedViewTo=i.display.viewTo)}function Rl(i,s){var p=new hs(i,s);if(Fs(i,p)){us(i),xc(i,p);var f=$a(i);Fa(i),Ta(i,f),Ja(i,f),p.finish()}}function rl(i){i.sizer.style.marginLeft=i.gutters.offsetWidth+"px",Pn(i,"gutterChanged",i)}function Ja(i,s){i.display.sizer.style.minHeight=s.docHeight+"px",i.display.heightForcer.style.top=s.docHeight+"px",i.display.gutters.style.height=s.docHeight+i.display.barHeight+fe(i)+"px"}function Cc(i){var s=i.display,p=s.view;if(s.alignWidgets||s.gutters.firstChild&&i.options.fixedGutter){for(var f=Qo(s)-s.scroller.scrollLeft+i.doc.scrollLeft,y=s.gutters.offsetWidth,D=f+"px",Q=0;Q<p.length;Q++)if(!p[Q].hidden){i.options.fixedGutter&&(p[Q].gutter&&(p[Q].gutter.style.left=D),p[Q].gutterBackground&&(p[Q].gutterBackground.style.left=D));var it=p[Q].alignable;if(it)for(var bt=0;bt<it.length;bt++)it[bt].style.left=D}i.options.fixedGutter&&(s.gutters.style.left=f+y+"px")}}function ol(i){if(!i.options.lineNumbers)return!1;var s=i.doc,p=di(i.options,s.first+s.size-1),f=i.display;if(p.length!=f.lineNumChars){var y=f.measure.appendChild(B("div",[B("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),D=y.firstChild.offsetWidth,Q=y.offsetWidth-D;return f.lineGutter.style.width="",f.lineNumInnerWidth=Math.max(D,f.lineGutter.offsetWidth-Q)+1,f.lineNumWidth=f.lineNumInnerWidth+Q,f.lineNumChars=f.lineNumInnerWidth?p.length:-1,f.lineGutter.style.width=f.lineNumWidth+"px",rl(i.display),!0}return!1}function ea(i,s){for(var p=[],f=!1,y=0;y<i.length;y++){var D=i[y],Q=null;if("string"!=typeof D&&(Q=D.style,D=D.className),"CodeMirror-linenumbers"==D){if(!s)continue;f=!0}p.push({className:D,style:Q})}return s&&!f&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function Qa(i){var s=i.gutters,p=i.gutterSpecs;M(s),i.lineGutter=null;for(var f=0;f<p.length;++f){var y=p[f],D=y.className,Q=y.style,it=s.appendChild(B("div",null,"CodeMirror-gutter "+D));Q&&(it.style.cssText=Q),"CodeMirror-linenumbers"==D&&(i.lineGutter=it,it.style.width=(i.lineNumWidth||1)+"px")}s.style.display=p.length?"":"none",rl(i)}function ha(i){Qa(i.display),wi(i),Cc(i)}function gs(i,s,p,f){var y=this;this.input=p,y.scrollbarFiller=B("div",null,"CodeMirror-scrollbar-filler"),y.scrollbarFiller.setAttribute("cm-not-content","true"),y.gutterFiller=B("div",null,"CodeMirror-gutter-filler"),y.gutterFiller.setAttribute("cm-not-content","true"),y.lineDiv=ot("div",null,"CodeMirror-code"),y.selectionDiv=B("div",null,null,"position: relative; z-index: 1"),y.cursorDiv=B("div",null,"CodeMirror-cursors"),y.measure=B("div",null,"CodeMirror-measure"),y.lineMeasure=B("div",null,"CodeMirror-measure"),y.lineSpace=ot("div",[y.measure,y.lineMeasure,y.selectionDiv,y.cursorDiv,y.lineDiv],null,"position: relative; outline: none");var D=ot("div",[y.lineSpace],"CodeMirror-lines");y.mover=B("div",[D],null,"position: relative"),y.sizer=B("div",[y.mover],"CodeMirror-sizer"),y.sizerWidth=null,y.heightForcer=B("div",null,null,"position: absolute; height: "+Ue+"px; width: 1px;"),y.gutters=B("div",null,"CodeMirror-gutters"),y.lineGutter=null,y.scroller=B("div",[y.sizer,y.heightForcer,y.gutters],"CodeMirror-scroll"),y.scroller.setAttribute("tabIndex","-1"),y.wrapper=B("div",[y.scrollbarFiller,y.gutterFiller,y.scroller],"CodeMirror"),y.wrapper.setAttribute("translate","no"),rt&&F<8&&(y.gutters.style.zIndex=-1,y.scroller.style.paddingRight=0),H||nt&&_||(y.scroller.draggable=!0),i&&(i.appendChild?i.appendChild(y.wrapper):i(y.wrapper)),y.viewFrom=y.viewTo=s.first,y.reportedViewFrom=y.reportedViewTo=s.first,y.view=[],y.renderedView=null,y.externalMeasured=null,y.viewOffset=0,y.lastWrapHeight=y.lastWrapWidth=0,y.updateLineNumbers=null,y.nativeBarWidth=y.barHeight=y.barWidth=0,y.scrollbarsClipped=!1,y.lineNumWidth=y.lineNumInnerWidth=y.lineNumChars=null,y.alignWidgets=!1,y.cachedCharWidth=y.cachedTextHeight=y.cachedPaddingH=null,y.maxLine=null,y.maxLineLength=0,y.maxLineChanged=!1,y.wheelDX=y.wheelDY=y.wheelStartX=y.wheelStartY=null,y.shift=!1,y.selForContextMenu=null,y.activeTouch=null,y.gutterSpecs=ea(f.gutters,f.lineNumbers),Qa(y),p.init(y)}hs.prototype.signal=function(i,s){gt(i,s)&&this.events.push(arguments)},hs.prototype.finish=function(){for(var i=0;i<this.events.length;i++)kt.apply(null,this.events[i])};var Ms=0,ki=null;function Sc(i){var s=i.wheelDeltaX,p=i.wheelDeltaY;return null==s&&i.detail&&i.axis==i.HORIZONTAL_AXIS&&(s=i.detail),null==p&&i.detail&&i.axis==i.VERTICAL_AXIS?p=i.detail:null==p&&(p=i.wheelDelta),{x:s,y:p}}function au(i){var s=Sc(i);return s.x*=ki,s.y*=ki,s}function Tc(i,s){var p=Sc(s),f=p.x,y=p.y,D=i.display,Q=D.scroller,bt=Q.scrollHeight>Q.clientHeight;if(f&&Q.scrollWidth>Q.clientWidth||y&&bt){if(y&&et&&H)t:for(var Tt=s.target,Yt=D.view;Tt!=Q;Tt=Tt.parentNode)for(var Zt=0;Zt<Yt.length;Zt++)if(Yt[Zt].node==Tt){i.display.currentWheelTarget=Tt;break t}if(f&&!nt&&!ut&&null!=ki)return y&&bt&&Ps(i,Math.max(0,Q.scrollTop+y*ki)),fa(i,Math.max(0,Q.scrollLeft+f*ki)),(!y||y&&bt)&&Ze(s),void(D.wheelStartX=null);if(y&&null!=ki){var _e=y*ki,be=i.doc.scrollTop,Ne=be+D.wrapper.clientHeight;_e<0?be=Math.max(0,be+_e-50):Ne=Math.min(i.doc.height,Ne+_e+50),Rl(i,{top:be,bottom:Ne})}Ms<20&&(null==D.wheelStartX?(D.wheelStartX=Q.scrollLeft,D.wheelStartY=Q.scrollTop,D.wheelDX=f,D.wheelDY=y,setTimeout(function(){if(null!=D.wheelStartX){var Ye=Q.scrollLeft-D.wheelStartX,dn=Q.scrollTop-D.wheelStartY,On=dn&&D.wheelDY&&dn/D.wheelDY||Ye&&D.wheelDX&&Ye/D.wheelDX;D.wheelStartX=D.wheelStartY=null,On&&(ki=(ki*Ms+On)/(Ms+1),++Ms)}},200)):(D.wheelDX+=f,D.wheelDY+=y))}}rt?ki=-.53:nt?ki=15:X?ki=-.7:V&&(ki=-.3333333333333333);var ni=function(i,s){this.ranges=i,this.primIndex=s};ni.prototype.primary=function(){return this.ranges[this.primIndex]},ni.prototype.equals=function(i){if(i==this)return!0;if(i.primIndex!=this.primIndex||i.ranges.length!=this.ranges.length)return!1;for(var s=0;s<this.ranges.length;s++){var p=this.ranges[s],f=i.ranges[s];if(!Dt(p.anchor,f.anchor)||!Dt(p.head,f.head))return!1}return!0},ni.prototype.deepCopy=function(){for(var i=[],s=0;s<this.ranges.length;s++)i[s]=new Xr($t(this.ranges[s].anchor),$t(this.ranges[s].head));return new ni(i,this.primIndex)},ni.prototype.somethingSelected=function(){for(var i=0;i<this.ranges.length;i++)if(!this.ranges[i].empty())return!0;return!1},ni.prototype.contains=function(i,s){s||(s=i);for(var p=0;p<this.ranges.length;p++){var f=this.ranges[p];if(In(s,f.from())>=0&&In(i,f.to())<=0)return p}return-1};var Xr=function(i,s){this.anchor=i,this.head=s};function Gi(i,s,p){var f=i&&i.options.selectionsMayTouch,y=s[p];s.sort(function(_e,be){return In(_e.from(),be.from())}),p=Qt(s,y);for(var D=1;D<s.length;D++){var Q=s[D],it=s[D-1],bt=In(it.to(),Q.from());if(f&&!Q.empty()?bt>0:bt>=0){var Tt=fn(it.from(),Q.from()),Yt=je(it.to(),Q.to()),Zt=it.empty()?Q.from()==Q.head:it.from()==it.head;D<=p&&--p,s.splice(--D,2,new Xr(Zt?Yt:Tt,Zt?Tt:Yt))}}return new ni(s,p)}function Mi(i,s){return new ni([new Xr(i,s||i)],0)}function Oa(i){return i.text?qe(i.from.line+i.text.length-1,ue(i.text).length+(1==i.text.length?i.from.ch:0)):i.to}function Rs(i,s){if(In(i,s.from)<0)return i;if(In(i,s.to)<=0)return Oa(s);var p=i.line+s.text.length-(s.to.line-s.from.line)-1,f=i.ch;return i.line==s.to.line&&(f+=Oa(s).ch-s.to.ch),qe(p,f)}function Hl(i,s){for(var p=[],f=0;f<i.sel.ranges.length;f++){var y=i.sel.ranges[f];p.push(new Xr(Rs(y.anchor,s),Rs(y.head,s)))}return Gi(i.cm,p,i.sel.primIndex)}function na(i,s,p){return i.line==s.line?qe(p.line,i.ch-s.ch+p.ch):qe(p.line+(i.line-s.line),i.ch)}function lo(i){i.doc.mode=Dr(i.options,i.doc.modeOption),Hs(i)}function Hs(i){i.doc.iter(function(s){s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null)}),i.doc.modeFrontier=i.doc.highlightFrontier=i.doc.first,Ls(i,100),i.state.modeGen++,i.curOp&&wi(i)}function Bl(i,s){return 0==s.from.ch&&0==s.to.ch&&""==ue(s.text)&&(!i.cm||i.cm.options.wholeLineUpdateBefore)}function Vl(i,s,p,f){function y(Ln){return p?p[Ln]:null}function D(Ln,yn,Rn){(function L(i,s,p,f){i.text=s,i.stateAfter&&(i.stateAfter=null),i.styles&&(i.styles=null),null!=i.order&&(i.order=null),ai(i),Zo(i,p);var y=f?f(i):1;y!=i.height&&So(i,y)})(Ln,yn,Rn,f),Pn(Ln,"change",Ln,s)}function Q(Ln,yn){for(var Rn=[],Fn=Ln;Fn<yn;++Fn)Rn.push(new I(Tt[Fn],y(Fn),f));return Rn}var it=s.from,bt=s.to,Tt=s.text,Yt=an(i,it.line),Zt=an(i,bt.line),_e=ue(Tt),be=y(Tt.length-1),Ne=bt.line-it.line;if(s.full)i.insert(0,Q(0,Tt.length)),i.remove(Tt.length,i.size-Tt.length);else if(Bl(i,s)){var Ye=Q(0,Tt.length-1);D(Zt,Zt.text,be),Ne&&i.remove(it.line,Ne),Ye.length&&i.insert(it.line,Ye)}else if(Yt==Zt)if(1==Tt.length)D(Yt,Yt.text.slice(0,it.ch)+_e+Yt.text.slice(bt.ch),be);else{var dn=Q(1,Tt.length-1);dn.push(new I(_e+Yt.text.slice(bt.ch),be,f)),D(Yt,Yt.text.slice(0,it.ch)+Tt[0],y(0)),i.insert(it.line+1,dn)}else if(1==Tt.length)D(Yt,Yt.text.slice(0,it.ch)+Tt[0]+Zt.text.slice(bt.ch),y(0)),i.remove(it.line+1,Ne);else{D(Yt,Yt.text.slice(0,it.ch)+Tt[0],y(0)),D(Zt,_e+Zt.text.slice(bt.ch),be);var On=Q(1,Tt.length-1);Ne>1&&i.remove(it.line+1,Ne-1),i.insert(it.line+1,On)}Pn(i,"change",i,s)}function ka(i,s,p){!function f(y,D,Q){if(y.linked)for(var it=0;it<y.linked.length;++it){var bt=y.linked[it];if(bt.doc!=D){var Tt=Q&&bt.sharedHist;p&&!Tt||(s(bt.doc,Tt),f(bt.doc,y,Tt))}}}(i,null,!0)}function il(i,s){if(s.cm)throw new Error("This document is already in use.");i.doc=s,s.cm=i,El(i),lo(i),Oc(i),i.options.direction=s.direction,i.options.lineWrapping||O(i),i.options.mode=s.modeOption,wi(i)}function Oc(i){("rtl"==i.doc.direction?Mt:q)(i.display.lineDiv,"CodeMirror-rtl")}function al(i){this.done=[],this.undone=[],this.undoDepth=i?i.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=i?i.maxGeneration:1}function sl(i,s){var p={from:$t(s.from),to:Oa(s),text:Pr(i,s.from,s.to)};return kc(i,p,s.from.line,s.to.line+1),ka(i,function(f){return kc(f,p,s.from.line,s.to.line+1)},!0),p}function Aa(i){for(;i.length&&ue(i).ranges;)i.pop()}function Bs(i,s,p,f){var y=i.history;y.undone.length=0;var D,Q,it=+new Date;if((y.lastOp==f||y.lastOrigin==s.origin&&s.origin&&("+"==s.origin.charAt(0)&&y.lastModTime>it-(i.cm?i.cm.options.historyEventDelay:500)||"*"==s.origin.charAt(0)))&&(D=function es(i,s){return s?(Aa(i.done),ue(i.done)):i.done.length&&!ue(i.done).ranges?ue(i.done):i.done.length>1&&!i.done[i.done.length-2].ranges?(i.done.pop(),ue(i.done)):void 0}(y,y.lastOp==f)))Q=ue(D.changes),0==In(s.from,s.to)&&0==In(s.from,Q.to)?Q.to=Oa(s):D.changes.push(sl(i,s));else{var bt=ue(y.done);for(bt&&bt.ranges||Vs(i.sel,y.done),D={changes:[sl(i,s)],generation:y.generation},y.done.push(D);y.done.length>y.undoDepth;)y.done.shift(),y.done[0].ranges||y.done.shift()}y.done.push(p),y.generation=++y.maxGeneration,y.lastModTime=y.lastSelTime=it,y.lastOp=y.lastSelOp=f,y.lastOrigin=y.lastSelOrigin=s.origin,Q||kt(i,"historyAdded")}function Vs(i,s){var p=ue(s);p&&p.ranges&&p.equals(i)||s.push(i)}function kc(i,s,p,f){var y=s["spans_"+i.id],D=0;i.iter(Math.max(i.first,p),Math.min(i.first+i.size,f),function(Q){Q.markedSpans&&((y||(y=s["spans_"+i.id]={}))[D]=Q.markedSpans),++D})}function Ac(i){if(!i)return null;for(var s,p=0;p<i.length;++p)i[p].marker.explicitlyCleared?s||(s=i.slice(0,p)):s&&s.push(i[p]);return s?s.length?s:null:i}function Ec(i,s){var p=function cu(i,s){var p=s["spans_"+i.id];if(!p)return null;for(var f=[],y=0;y<s.text.length;++y)f.push(Ac(p[y]));return f}(i,s),f=hi(i,s);if(!p)return f;if(!f)return p;for(var y=0;y<p.length;++y){var D=p[y],Q=f[y];if(D&&Q)t:for(var it=0;it<Q.length;++it){for(var bt=Q[it],Tt=0;Tt<D.length;++Tt)if(D[Tt].marker==bt.marker)continue t;D.push(bt)}else Q&&(p[y]=Q)}return p}function ns(i,s,p){for(var f=[],y=0;y<i.length;++y){var D=i[y];if(D.ranges)f.push(p?ni.prototype.deepCopy.call(D):D);else{var Q=D.changes,it=[];f.push({changes:it});for(var bt=0;bt<Q.length;++bt){var Tt=Q[bt],Yt=void 0;if(it.push({from:Tt.from,to:Tt.to,text:Tt.text}),s)for(var Zt in Tt)(Yt=Zt.match(/^spans_(\d+)$/))&&Qt(s,Number(Yt[1]))>-1&&(ue(it)[Zt]=Tt[Zt],delete Tt[Zt])}}}return f}function vs(i,s,p,f){if(f){var y=i.anchor;if(p){var D=In(s,y)<0;D!=In(p,y)<0?(y=s,s=p):D!=In(s,p)<0&&(s=p)}return new Xr(y,s)}return new Xr(p||s,s)}function rs(i,s,p,f,y){null==y&&(y=i.cm&&(i.cm.display.shift||i.extend)),z(i,new ni([vs(i.sel.primary(),s,p,y)],0),f)}function jc(i,s,p){for(var f=[],y=i.cm&&(i.cm.display.shift||i.extend),D=0;D<i.sel.ranges.length;D++)f[D]=vs(i.sel.ranges[D],s[D],null,y);z(i,Gi(i.cm,f,i.sel.primIndex),p)}function zl(i,s,p,f){var y=i.sel.ranges.slice(0);y[s]=p,z(i,Gi(i.cm,y,i.sel.primIndex),f)}function ms(i,s,p,f){z(i,Mi(s,p),f)}function ee(i,s,p){var f=i.history.done,y=ue(f);y&&y.ranges?(f[f.length-1]=s,Et(i,s,p)):z(i,s,p)}function z(i,s,p){Et(i,s,p),function lu(i,s,p,f){var y=i.history,D=f&&f.origin;p==y.lastSelOp||D&&y.lastSelOrigin==D&&(y.lastModTime==y.lastSelTime&&y.lastOrigin==D||function ll(i,s,p,f){var y=s.charAt(0);return"*"==y||"+"==y&&p.ranges.length==f.ranges.length&&p.somethingSelected()==f.somethingSelected()&&new Date-i.history.lastSelTime<=(i.cm?i.cm.options.historyEventDelay:500)}(i,D,ue(y.done),s))?y.done[y.done.length-1]=s:Vs(s,y.done),y.lastSelTime=+new Date,y.lastSelOrigin=D,y.lastSelOp=p,f&&!1!==f.clearRedo&&Aa(y.undone)}(i,i.sel,i.cm?i.cm.curOp.id:NaN,p)}function Et(i,s,p){(gt(i,"beforeSelectionChange")||i.cm&&gt(i.cm,"beforeSelectionChange"))&&(s=function uu(i,s,p){var f={ranges:s.ranges,update:function(y){this.ranges=[];for(var D=0;D<y.length;D++)this.ranges[D]=new Xr(cn(i,y[D].anchor),cn(i,y[D].head))},origin:p&&p.origin};return kt(i,"beforeSelectionChange",i,f),i.cm&&kt(i.cm,"beforeSelectionChange",i.cm,f),f.ranges!=s.ranges?Gi(i.cm,f.ranges,f.ranges.length-1):s}(i,s,p));var f=p&&p.bias||(In(s.primary().head,i.sel.primary().head)<0?-1:1);ae(i,xn(i,s,f,!0)),p&&!1===p.scroll||!i.cm||"nocursor"==i.cm.getOption("readOnly")||fs(i.cm)}function ae(i,s){s.equals(i.sel)||(i.sel=s,i.cm&&(i.cm.curOp.updateInput=1,i.cm.curOp.selectionChanged=!0,Wt(i.cm)),Pn(i,"cursorActivity",i))}function Je(i){ae(i,xn(i,i.sel,null,!1))}function xn(i,s,p,f){for(var y,D=0;D<s.ranges.length;D++){var Q=s.ranges[D],it=s.ranges.length==i.sel.ranges.length&&i.sel.ranges[D],bt=gr(i,Q.anchor,it&&it.anchor,p,f),Tt=gr(i,Q.head,it&&it.head,p,f);(y||bt!=Q.anchor||Tt!=Q.head)&&(y||(y=s.ranges.slice(0,D)),y[D]=new Xr(bt,Tt))}return y?Gi(i.cm,y,s.primIndex):s}function vn(i,s,p,f,y){var D=an(i,s.line);if(D.markedSpans)for(var Q=0;Q<D.markedSpans.length;++Q){var it=D.markedSpans[Q],bt=it.marker,Tt="selectLeft"in bt?!bt.selectLeft:bt.inclusiveLeft,Yt="selectRight"in bt?!bt.selectRight:bt.inclusiveRight;if((null==it.from||(Tt?it.from<=s.ch:it.from<s.ch))&&(null==it.to||(Yt?it.to>=s.ch:it.to>s.ch))){if(y&&(kt(bt,"beforeCursorEnter"),bt.explicitlyCleared)){if(D.markedSpans){--Q;continue}break}if(!bt.atomic)continue;if(p){var Zt=bt.find(f<0?1:-1),_e=void 0;if((f<0?Yt:Tt)&&(Zt=Ai(i,Zt,-f,Zt&&Zt.line==s.line?D:null)),Zt&&Zt.line==s.line&&(_e=In(Zt,p))&&(f<0?_e<0:_e>0))return vn(i,Zt,s,f,y)}var be=bt.find(f<0?-1:1);return(f<0?Tt:Yt)&&(be=Ai(i,be,f,be.line==s.line?D:null)),be?vn(i,be,s,f,y):null}}return s}function gr(i,s,p,f,y){var D=f||1;return vn(i,s,p,D,y)||!y&&vn(i,s,p,D,!0)||vn(i,s,p,-D,y)||!y&&vn(i,s,p,-D,!0)||(i.cantEdit=!0,qe(i.first,0))}function Ai(i,s,p,f){return p<0&&0==s.ch?s.line>i.first?cn(i,qe(s.line-1)):null:p>0&&s.ch==(f||an(i,s.line)).text.length?s.line<i.first+i.size-1?qe(s.line+1,0):null:new qe(s.line,s.ch+p)}function Hi(i){i.setSelection(qe(i.firstLine(),0),qe(i.lastLine()),Ee)}function Ro(i,s,p){var f={canceled:!1,from:s.from,to:s.to,text:s.text,origin:s.origin,cancel:function(){return f.canceled=!0}};return p&&(f.update=function(y,D,Q,it){y&&(f.from=cn(i,y)),D&&(f.to=cn(i,D)),Q&&(f.text=Q),void 0!==it&&(f.origin=it)}),kt(i,"beforeChange",i,f),i.cm&&kt(i.cm,"beforeChange",i.cm,f),f.canceled?(i.cm&&(i.cm.curOp.updateInput=2),null):{from:f.from,to:f.to,text:f.text,origin:f.origin}}function Ei(i,s,p){if(i.cm){if(!i.cm.curOp)return ti(i.cm,Ei)(i,s,p);if(i.cm.state.suppressEdits)return}if(!(gt(i,"beforeChange")||i.cm&&gt(i.cm,"beforeChange"))||(s=Ro(i,s,!0))){var f=Xo&&!p&&function Ti(i,s,p){var f=null;if(i.iter(s.line,p.line+1,function(be){if(be.markedSpans)for(var Ne=0;Ne<be.markedSpans.length;++Ne){var Ye=be.markedSpans[Ne].marker;!Ye.readOnly||f&&-1!=Qt(f,Ye)||(f||(f=[])).push(Ye)}}),!f)return null;for(var y=[{from:s,to:p}],D=0;D<f.length;++D)for(var Q=f[D],it=Q.find(0),bt=0;bt<y.length;++bt){var Tt=y[bt];if(!(In(Tt.to,it.from)<0||In(Tt.from,it.to)>0)){var Yt=[bt,1],Zt=In(Tt.from,it.from),_e=In(Tt.to,it.to);(Zt<0||!Q.inclusiveLeft&&!Zt)&&Yt.push({from:Tt.from,to:it.from}),(_e>0||!Q.inclusiveRight&&!_e)&&Yt.push({from:it.to,to:Tt.to}),y.splice.apply(y,Yt),bt+=Yt.length-3}}return y}(i,s.from,s.to);if(f)for(var y=f.length-1;y>=0;--y)Yi(i,{from:f[y].from,to:f[y].to,text:y?[""]:s.text,origin:s.origin});else Yi(i,s)}}function Yi(i,s){if(1!=s.text.length||""!=s.text[0]||0!=In(s.from,s.to)){var p=Hl(i,s);Bs(i,s,p,i.cm?i.cm.curOp.id:NaN),ga(i,s,p,hi(i,s));var f=[];ka(i,function(y,D){D||-1!=Qt(f,y.history)||($u(y.history,s),f.push(y.history)),ga(y,s,null,hi(y,s))})}}function os(i,s,p){var f=i.cm&&i.cm.state.suppressEdits;if(!f||p){for(var y,D=i.history,Q=i.sel,it="undo"==s?D.done:D.undone,bt="undo"==s?D.undone:D.done,Tt=0;Tt<it.length&&(y=it[Tt],p?!y.ranges||y.equals(i.sel):y.ranges);Tt++);if(Tt!=it.length){for(D.lastOrigin=D.lastSelOrigin=null;;){if(!(y=it.pop()).ranges){if(f)return void it.push(y);break}if(Vs(y,bt),p&&!y.equals(i.sel))return void z(i,y,{clearRedo:!1});Q=y}var Yt=[];Vs(Q,bt),bt.push({changes:Yt,generation:D.generation}),D.generation=y.generation||++D.maxGeneration;for(var Zt=gt(i,"beforeChange")||i.cm&&gt(i.cm,"beforeChange"),_e=function(Ye){var dn=y.changes[Ye];if(dn.origin=s,Zt&&!Ro(i,dn,!1))return it.length=0,{};Yt.push(sl(i,dn));var On=Ye?Hl(i,dn):ue(it);ga(i,dn,On,Ec(i,dn)),!Ye&&i.cm&&i.cm.scrollIntoView({from:dn.from,to:Oa(dn)});var Ln=[];ka(i,function(yn,Rn){Rn||-1!=Qt(Ln,yn.history)||($u(yn.history,dn),Ln.push(yn.history)),ga(yn,dn,null,Ec(yn,dn))})},be=y.changes.length-1;be>=0;--be){var Ne=_e(be);if(Ne)return Ne.v}}}}function Dc(i,s){if(0!=s&&(i.first+=s,i.sel=new ni(Fe(i.sel.ranges,function(y){return new Xr(qe(y.anchor.line+s,y.anchor.ch),qe(y.head.line+s,y.head.ch))}),i.sel.primIndex),i.cm)){wi(i.cm,i.first,i.first-s,s);for(var p=i.cm.display,f=p.viewFrom;f<p.viewTo;f++)La(i.cm,f,"gutter")}}function ga(i,s,p,f){if(i.cm&&!i.cm.curOp)return ti(i.cm,ga)(i,s,p,f);if(s.to.line<i.first)Dc(i,s.text.length-1-(s.to.line-s.from.line));else if(!(s.from.line>i.lastLine())){if(s.from.line<i.first){var y=s.text.length-1-(i.first-s.from.line);Dc(i,y),s={from:qe(i.first,0),to:qe(s.to.line+y,s.to.ch),text:[ue(s.text)],origin:s.origin}}var D=i.lastLine();s.to.line>D&&(s={from:s.from,to:qe(D,an(i,D).text.length),text:[s.text[0]],origin:s.origin}),s.removed=Pr(i,s.from,s.to),p||(p=Hl(i,s)),i.cm?function gf(i,s,p){var f=i.doc,y=i.display,D=s.from,Q=s.to,it=!1,bt=D.line;i.options.lineWrapping||(bt=cr(vr(an(f,D.line))),f.iter(bt,Q.line+1,function(be){if(be==y.maxLine)return it=!0,!0})),f.sel.contains(s.from,s.to)>-1&&Wt(i),Vl(f,s,p,pc(i)),i.options.lineWrapping||(f.iter(bt,D.line+s.text.length,function(be){var Ne=b(be);Ne>y.maxLineLength&&(y.maxLine=be,y.maxLineLength=Ne,y.maxLineChanged=!0,it=!1)}),it&&(i.curOp.updateMaxLine=!0)),function Li(i,s){if(i.modeFrontier=Math.min(i.modeFrontier,s),!(i.highlightFrontier<s-10)){for(var p=i.first,f=s-1;f>p;f--){var y=an(i,f).stateAfter;if(y&&(!(y instanceof go)||f+y.lookAhead<s)){p=f+1;break}}i.highlightFrontier=Math.min(i.highlightFrontier,p)}}(f,D.line),Ls(i,400);var Tt=s.text.length-(Q.line-D.line)-1;s.full?wi(i):D.line!=Q.line||1!=s.text.length||Bl(i.doc,s)?wi(i,D.line,Q.line+1,Tt):La(i,D.line,"text");var Yt=gt(i,"changes"),Zt=gt(i,"change");if(Zt||Yt){var _e={from:D,to:Q,text:s.text,removed:s.removed,origin:s.origin};Zt&&Pn(i,"change",i,_e),Yt&&(i.curOp.changeObjs||(i.curOp.changeObjs=[])).push(_e)}i.display.selForContextMenu=null}(i.cm,s,f):Vl(i,s,f),Et(i,p,Ee),i.cantEdit&&gr(i,qe(i.firstLine(),0))&&(i.cantEdit=!1)}}function cl(i,s,p,f,y){var D;f||(f=p),In(f,p)<0&&(p=(D=[f,p])[0],f=D[1]),"string"==typeof s&&(s=i.splitLines(s)),Ei(i,{from:p,to:f,text:s,origin:y})}function Ul(i,s,p,f){p<i.line?i.line+=f:s<i.line&&(i.line=s,i.ch=0)}function Ku(i,s,p,f){for(var y=0;y<i.length;++y){var D=i[y],Q=!0;if(D.ranges){D.copied||((D=i[y]=D.deepCopy()).copied=!0);for(var it=0;it<D.ranges.length;it++)Ul(D.ranges[it].anchor,s,p,f),Ul(D.ranges[it].head,s,p,f)}else{for(var bt=0;bt<D.changes.length;++bt){var Tt=D.changes[bt];if(p<Tt.from.line)Tt.from=qe(Tt.from.line+f,Tt.from.ch),Tt.to=qe(Tt.to.line+f,Tt.to.ch);else if(s<=Tt.to.line){Q=!1;break}}Q||(i.splice(0,y+1),y=0)}}}function $u(i,s){var p=s.from.line,f=s.to.line,y=s.text.length-(f-p)-1;Ku(i.done,p,f,y),Ku(i.undone,p,f,y)}function Wl(i,s,p,f){var y=s,D=s;return"number"==typeof s?D=an(i,Tn(i,s)):y=cr(s),null==y?null:(f(D,y)&&i.cm&&La(i.cm,y,p),D)}function ys(i){this.lines=i,this.parent=null;for(var s=0,p=0;p<i.length;++p)i[p].parent=this,s+=i[p].height;this.height=s}function ql(i){this.children=i;for(var s=0,p=0,f=0;f<i.length;++f){var y=i[f];s+=y.chunkSize(),p+=y.height,y.parent=this}this.size=s,this.height=p,this.parent=null}Xr.prototype.from=function(){return fn(this.anchor,this.head)},Xr.prototype.to=function(){return je(this.anchor,this.head)},Xr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ys.prototype={chunkSize:function(){return this.lines.length},removeInner:function(i,s){for(var p=i,f=i+s;p<f;++p){var y=this.lines[p];this.height-=y.height,Z(y),Pn(y,"delete")}this.lines.splice(i,s)},collapse:function(i){i.push.apply(i,this.lines)},insertInner:function(i,s,p){this.height+=p,this.lines=this.lines.slice(0,i).concat(s).concat(this.lines.slice(i));for(var f=0;f<s.length;++f)s[f].parent=this},iterN:function(i,s,p){for(var f=i+s;i<f;++i)if(p(this.lines[i]))return!0}},ql.prototype={chunkSize:function(){return this.size},removeInner:function(i,s){this.size-=s;for(var p=0;p<this.children.length;++p){var f=this.children[p],y=f.chunkSize();if(i<y){var D=Math.min(s,y-i),Q=f.height;if(f.removeInner(i,D),this.height-=Q-f.height,y==D&&(this.children.splice(p--,1),f.parent=null),0==(s-=D))break;i=0}else i-=y}if(this.size-s<25&&(this.children.length>1||!(this.children[0]instanceof ys))){var it=[];this.collapse(it),this.children=[new ys(it)],this.children[0].parent=this}},collapse:function(i){for(var s=0;s<this.children.length;++s)this.children[s].collapse(i)},insertInner:function(i,s,p){this.size+=s.length,this.height+=p;for(var f=0;f<this.children.length;++f){var y=this.children[f],D=y.chunkSize();if(i<=D){if(y.insertInner(i,s,p),y.lines&&y.lines.length>50){for(var Q=y.lines.length%25+25,it=Q;it<y.lines.length;){var bt=new ys(y.lines.slice(it,it+=25));y.height-=bt.height,this.children.splice(++f,0,bt),bt.parent=this}y.lines=y.lines.slice(0,Q),this.maybeSpill()}break}i-=D}},maybeSpill:function(){if(!(this.children.length<=10)){var i=this;do{var s=new ql(i.children.splice(i.children.length-5,5));if(i.parent){i.size-=s.size,i.height-=s.height;var p=Qt(i.parent.children,i);i.parent.children.splice(p+1,0,s)}else{var f=new ql(i.children);f.parent=i,i.children=[f,s],i=f}s.parent=i.parent}while(i.children.length>10);i.parent.maybeSpill()}},iterN:function(i,s,p){for(var f=0;f<this.children.length;++f){var y=this.children[f],D=y.chunkSize();if(i<D){var Q=Math.min(s,D-i);if(y.iterN(i,Q,p))return!0;if(0==(s-=Q))break;i=0}else i-=D}}};var Kl=function(i,s,p){if(p)for(var f in p)p.hasOwnProperty(f)&&(this[f]=p[f]);this.doc=i,this.node=s};function Gu(i,s,p){g(s)<(i.curOp&&i.curOp.scrollTop||i.doc.scrollTop)&&Qs(i,p)}Kl.prototype.clear=function(){var i=this.doc.cm,s=this.line.widgets,p=this.line,f=cr(p);if(null!=f&&s){for(var y=0;y<s.length;++y)s[y]==this&&s.splice(y--,1);s.length||(p.widgets=null);var D=Rr(this);So(p,Math.max(0,p.height-D)),i&&(yi(i,function(){Gu(i,p,-D),La(i,f,"widget")}),Pn(i,"lineWidgetCleared",i,this,f))}},Kl.prototype.changed=function(){var i=this,s=this.height,p=this.doc.cm,f=this.line;this.height=null;var y=Rr(this)-s;y&&(P(this.doc,f)||So(f,f.height+y),p&&yi(p,function(){p.curOp.forceUpdate=!0,Gu(p,f,y),Pn(p,"lineWidgetChanged",p,i,cr(f))}))},Ce(Kl);var Yu=0,Ea=function(i,s){this.lines=[],this.type=s,this.doc=i,this.id=++Yu};function ul(i,s,p,f,y){if(f&&f.shared)return function mf(i,s,p,f,y){(f=de(f)).shared=!1;var D=[ul(i,s,p,f,y)],Q=D[0],it=f.widgetNode;return ka(i,function(bt){it&&(f.widgetNode=it.cloneNode(!0)),D.push(ul(bt,cn(bt,s),cn(bt,p),f,y));for(var Tt=0;Tt<bt.linked.length;++Tt)if(bt.linked[Tt].isParent)return;Q=ue(D)}),new $l(D,Q)}(i,s,p,f,y);if(i.cm&&!i.cm.curOp)return ti(i.cm,ul)(i,s,p,f,y);var D=new Ea(i,y),Q=In(s,p);if(f&&de(f,D,!1),Q>0||0==Q&&!1!==D.clearWhenEmpty)return D;if(D.replacedWith&&(D.collapsed=!0,D.widgetNode=ot("span",[D.replacedWith],"CodeMirror-widget"),f.handleMouseEvents||D.widgetNode.setAttribute("cm-ignore-events","true"),f.insertLeft&&(D.widgetNode.insertLeft=!0)),D.collapsed){if(Fi(i,s.line,s,p,D)||s.line!=p.line&&Fi(i,p.line,s,p,D))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function Eo(){vo=!0}()}D.addToHistory&&Bs(i,{from:s,to:p,origin:"markText"},i.sel,NaN);var it,bt=s.line,Tt=i.cm;if(i.iter(bt,p.line+1,function(Zt){Tt&&D.collapsed&&!Tt.options.lineWrapping&&vr(Zt)==Tt.display.maxLine&&(it=!0),D.collapsed&&bt!=s.line&&So(Zt,0),function ii(i,s,p){var f=p&&window.WeakSet&&(p.markedSpans||(p.markedSpans=new WeakSet));f&&f.has(i.markedSpans)?i.markedSpans.push(s):(i.markedSpans=i.markedSpans?i.markedSpans.concat([s]):[s],f&&f.add(i.markedSpans)),s.marker.attachLine(i)}(Zt,new pi(D,bt==s.line?s.ch:null,bt==p.line?p.ch:null),i.cm&&i.cm.curOp),++bt}),D.collapsed&&i.iter(s.line,p.line+1,function(Zt){P(i,Zt)&&So(Zt,0)}),D.clearOnEnter&&At(D,"beforeCursorEnter",function(){return D.clear()}),D.readOnly&&(function fo(){Xo=!0}(),(i.history.done.length||i.history.undone.length)&&i.clearHistory()),D.collapsed&&(D.id=++Yu,D.atomic=!0),Tt){if(it&&(Tt.curOp.updateMaxLine=!0),D.collapsed)wi(Tt,s.line,p.line+1);else if(D.className||D.startStyle||D.endStyle||D.css||D.attributes||D.title)for(var Yt=s.line;Yt<=p.line;Yt++)La(Tt,Yt,"text");D.atomic&&Je(Tt.doc),Pn(Tt,"markerAdded",Tt,D)}return D}Ea.prototype.clear=function(){if(!this.explicitlyCleared){var i=this.doc.cm,s=i&&!i.curOp;if(s&&Ya(i),gt(this,"clear")){var p=this.find();p&&Pn(this,"clear",p.from,p.to)}for(var f=null,y=null,D=0;D<this.lines.length;++D){var Q=this.lines[D],it=Nr(Q.markedSpans,this);i&&!this.collapsed?La(i,cr(Q),"text"):i&&(null!=it.to&&(y=cr(Q)),null!=it.from&&(f=cr(Q))),Q.markedSpans=mo(Q.markedSpans,it),null==it.from&&this.collapsed&&!P(this.doc,Q)&&i&&So(Q,Co(i.display))}if(i&&this.collapsed&&!i.options.lineWrapping)for(var bt=0;bt<this.lines.length;++bt){var Tt=vr(this.lines[bt]),Yt=b(Tt);Yt>i.display.maxLineLength&&(i.display.maxLine=Tt,i.display.maxLineLength=Yt,i.display.maxLineChanged=!0)}null!=f&&i&&this.collapsed&&wi(i,f,y+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,i&&Je(i.doc)),i&&Pn(i,"markerCleared",i,this,f,y),s&&Xa(i),this.parent&&this.parent.clear()}},Ea.prototype.find=function(i,s){var p,f;null==i&&"bookmark"==this.type&&(i=1);for(var y=0;y<this.lines.length;++y){var D=this.lines[y],Q=Nr(D.markedSpans,this);if(null!=Q.from&&(p=qe(s?D:cr(D),Q.from),-1==i))return p;if(null!=Q.to&&(f=qe(s?D:cr(D),Q.to),1==i))return f}return p&&{from:p,to:f}},Ea.prototype.changed=function(){var i=this,s=this.find(-1,!0),p=this,f=this.doc.cm;s&&f&&yi(f,function(){var y=s.line,D=cr(s.line),Q=ro(f,D);if(Q&&(za(Q),f.curOp.selectionChanged=f.curOp.forceUpdate=!0),f.curOp.updateMaxLine=!0,!P(p.doc,y)&&null!=p.height){var it=p.height;p.height=null;var bt=Rr(p)-it;bt&&So(y,y.height+bt)}Pn(f,"markerChanged",f,i)})},Ea.prototype.attachLine=function(i){if(!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;s.maybeHiddenMarkers&&-1!=Qt(s.maybeHiddenMarkers,this)||(s.maybeUnhiddenMarkers||(s.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(i)},Ea.prototype.detachLine=function(i){if(this.lines.splice(Qt(this.lines,i),1),!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(s.maybeHiddenMarkers||(s.maybeHiddenMarkers=[])).push(this)}},Ce(Ea);var $l=function(i,s){this.markers=i,this.primary=s;for(var p=0;p<i.length;++p)i[p].parent=this};function Xu(i){return i.findMarks(qe(i.first,0),i.clipPos(qe(i.lastLine())),function(s){return s.parent})}function yf(i){for(var s=function(f){var y=i[f],D=[y.primary.doc];ka(y.primary.doc,function(bt){return D.push(bt)});for(var Q=0;Q<y.markers.length;Q++){var it=y.markers[Q];-1==Qt(D,it.doc)&&(it.parent=null,y.markers.splice(Q--,1))}},p=0;p<i.length;p++)s(p)}$l.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var i=0;i<this.markers.length;++i)this.markers[i].clear();Pn(this,"clear")}},$l.prototype.find=function(i,s){return this.primary.find(i,s)},Ce($l);var _f=0,Bi=function(i,s,p,f,y){if(!(this instanceof Bi))return new Bi(i,s,p,f,y);null==p&&(p=0),ql.call(this,[new ys([new I("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p;var D=qe(p,0);this.sel=Mi(D),this.history=new al(null),this.id=++_f,this.modeOption=s,this.lineSep=f,this.direction="rtl"==y?"rtl":"ltr",this.extend=!1,"string"==typeof i&&(i=this.splitLines(i)),Vl(this,{from:D,to:D,text:i}),z(this,Mi(D),Ee)};Bi.prototype=mn(ql.prototype,{constructor:Bi,iter:function(i,s,p){p?this.iterN(i-this.first,s-i,p):this.iterN(this.first,this.first+this.size,i)},insert:function(i,s){for(var p=0,f=0;f<s.length;++f)p+=s[f].height;this.insertInner(i-this.first,s,p)},remove:function(i,s){this.removeInner(i-this.first,s)},getValue:function(i){var s=No(this,this.first,this.first+this.size);return!1===i?s:s.join(i||this.lineSeparator())},setValue:Ao(function(i){var s=qe(this.first,0),p=this.first+this.size-1;Ei(this,{from:s,to:qe(p,an(this,p).text.length),text:this.splitLines(i),origin:"setValue",full:!0},!0),this.cm&&Is(this.cm,0,0),z(this,Mi(s),Ee)}),replaceRange:function(i,s,p,f){cl(this,i,s=cn(this,s),p=p?cn(this,p):s,f)},getRange:function(i,s,p){var f=Pr(this,cn(this,i),cn(this,s));return!1===p?f:f.join(""===p?"":p||this.lineSeparator())},getLine:function(i){var s=this.getLineHandle(i);return s&&s.text},getLineHandle:function(i){if(to(this,i))return an(this,i)},getLineNumber:function(i){return cr(i)},getLineHandleVisualStart:function(i){return"number"==typeof i&&(i=an(this,i)),vr(i)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(i){return cn(this,i)},getCursor:function(i){var s=this.sel.primary();return null==i||"head"==i?s.head:"anchor"==i?s.anchor:"end"==i||"to"==i||!1===i?s.to():s.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ao(function(i,s,p){ms(this,cn(this,"number"==typeof i?qe(i,s||0):i),null,p)}),setSelection:Ao(function(i,s,p){ms(this,cn(this,i),cn(this,s||i),p)}),extendSelection:Ao(function(i,s,p){rs(this,cn(this,i),s&&cn(this,s),p)}),extendSelections:Ao(function(i,s){jc(this,Wn(this,i),s)}),extendSelectionsBy:Ao(function(i,s){jc(this,Wn(this,Fe(this.sel.ranges,i)),s)}),setSelections:Ao(function(i,s,p){if(i.length){for(var f=[],y=0;y<i.length;y++)f[y]=new Xr(cn(this,i[y].anchor),cn(this,i[y].head||i[y].anchor));null==s&&(s=Math.min(i.length-1,this.sel.primIndex)),z(this,Gi(this.cm,f,s),p)}}),addSelection:Ao(function(i,s,p){var f=this.sel.ranges.slice(0);f.push(new Xr(cn(this,i),cn(this,s||i))),z(this,Gi(this.cm,f,f.length-1),p)}),getSelection:function(i){for(var s,p=this.sel.ranges,f=0;f<p.length;f++){var y=Pr(this,p[f].from(),p[f].to());s=s?s.concat(y):y}return!1===i?s:s.join(i||this.lineSeparator())},getSelections:function(i){for(var s=[],p=this.sel.ranges,f=0;f<p.length;f++){var y=Pr(this,p[f].from(),p[f].to());!1!==i&&(y=y.join(i||this.lineSeparator())),s[f]=y}return s},replaceSelection:function(i,s,p){for(var f=[],y=0;y<this.sel.ranges.length;y++)f[y]=i;this.replaceSelections(f,s,p||"+input")},replaceSelections:Ao(function(i,s,p){for(var f=[],y=this.sel,D=0;D<y.ranges.length;D++){var Q=y.ranges[D];f[D]={from:Q.from(),to:Q.to(),text:this.splitLines(i[D]),origin:p}}for(var it=s&&"end"!=s&&function su(i,s,p){for(var f=[],y=qe(i.first,0),D=y,Q=0;Q<s.length;Q++){var it=s[Q],bt=na(it.from,y,D),Tt=na(Oa(it),y,D);if(y=it.to,D=Tt,"around"==p){var Yt=i.sel.ranges[Q],Zt=In(Yt.head,Yt.anchor)<0;f[Q]=new Xr(Zt?Tt:bt,Zt?bt:Tt)}else f[Q]=new Xr(bt,bt)}return new ni(f,i.sel.primIndex)}(this,f,s),bt=f.length-1;bt>=0;bt--)Ei(this,f[bt]);it?ee(this,it):this.cm&&fs(this.cm)}),undo:Ao(function(){os(this,"undo")}),redo:Ao(function(){os(this,"redo")}),undoSelection:Ao(function(){os(this,"undo",!0)}),redoSelection:Ao(function(){os(this,"redo",!0)}),setExtending:function(i){this.extend=i},getExtending:function(){return this.extend},historySize:function(){for(var i=this.history,s=0,p=0,f=0;f<i.done.length;f++)i.done[f].ranges||++s;for(var y=0;y<i.undone.length;y++)i.undone[y].ranges||++p;return{undo:s,redo:p}},clearHistory:function(){var i=this;this.history=new al(this.history),ka(this,function(s){return s.history=i.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(i){return i&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(i){return this.history.generation==(i||this.cleanGeneration)},getHistory:function(){return{done:ns(this.history.done),undone:ns(this.history.undone)}},setHistory:function(i){var s=this.history=new al(this.history);s.done=ns(i.done.slice(0),null,!0),s.undone=ns(i.undone.slice(0),null,!0)},setGutterMarker:Ao(function(i,s,p){return Wl(this,i,"gutter",function(f){var y=f.gutterMarkers||(f.gutterMarkers={});return y[s]=p,!p&&dt(y)&&(f.gutterMarkers=null),!0})}),clearGutter:Ao(function(i){var s=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[i]&&Wl(s,p,"gutter",function(){return p.gutterMarkers[i]=null,dt(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(i){var s;if("number"==typeof i){if(!(to(this,i)&&(s=i,i=an(this,i))))return null}else if(null==(s=cr(i)))return null;return{line:s,handle:i,text:i.text,gutterMarkers:i.gutterMarkers,textClass:i.textClass,bgClass:i.bgClass,wrapClass:i.wrapClass,widgets:i.widgets}},addLineClass:Ao(function(i,s,p){return Wl(this,i,"gutter"==s?"gutter":"class",function(f){var y="text"==s?"textClass":"background"==s?"bgClass":"gutter"==s?"gutterClass":"wrapClass";if(f[y]){if(A(p).test(f[y]))return!1;f[y]+=" "+p}else f[y]=p;return!0})}),removeLineClass:Ao(function(i,s,p){return Wl(this,i,"gutter"==s?"gutter":"class",function(f){var y="text"==s?"textClass":"background"==s?"bgClass":"gutter"==s?"gutterClass":"wrapClass",D=f[y];if(!D)return!1;if(null==p)f[y]=null;else{var Q=D.match(A(p));if(!Q)return!1;var it=Q.index+Q[0].length;f[y]=D.slice(0,Q.index)+(Q.index&&it!=D.length?" ":"")+D.slice(it)||null}return!0})}),addLineWidget:Ao(function(i,s,p){return function vf(i,s,p,f){var y=new Kl(i,p,f),D=i.cm;return D&&y.noHScroll&&(D.display.alignWidgets=!0),Wl(i,s,"widget",function(Q){var it=Q.widgets||(Q.widgets=[]);if(null==y.insertAt?it.push(y):it.splice(Math.min(it.length,Math.max(0,y.insertAt)),0,y),y.line=Q,D&&!P(i,Q)){var bt=g(Q)<i.scrollTop;So(Q,Q.height+Rr(y)),bt&&Qs(D,y.height),D.curOp.forceUpdate=!0}return!0}),D&&Pn(D,"lineWidgetAdded",D,y,"number"==typeof s?s:cr(s)),y}(this,i,s,p)}),removeLineWidget:function(i){i.clear()},markText:function(i,s,p){return ul(this,cn(this,i),cn(this,s),p,p&&p.type||"range")},setBookmark:function(i,s){var p={replacedWith:s&&(null==s.nodeType?s.widget:s),insertLeft:s&&s.insertLeft,clearWhenEmpty:!1,shared:s&&s.shared,handleMouseEvents:s&&s.handleMouseEvents};return ul(this,i=cn(this,i),i,p,"bookmark")},findMarksAt:function(i){var s=[],p=an(this,(i=cn(this,i)).line).markedSpans;if(p)for(var f=0;f<p.length;++f){var y=p[f];(null==y.from||y.from<=i.ch)&&(null==y.to||y.to>=i.ch)&&s.push(y.marker.parent||y.marker)}return s},findMarks:function(i,s,p){i=cn(this,i),s=cn(this,s);var f=[],y=i.line;return this.iter(i.line,s.line+1,function(D){var Q=D.markedSpans;if(Q)for(var it=0;it<Q.length;it++){var bt=Q[it];null!=bt.to&&y==i.line&&i.ch>=bt.to||null==bt.from&&y!=i.line||null!=bt.from&&y==s.line&&bt.from>=s.ch||p&&!p(bt.marker)||f.push(bt.marker.parent||bt.marker)}++y}),f},getAllMarks:function(){var i=[];return this.iter(function(s){var p=s.markedSpans;if(p)for(var f=0;f<p.length;++f)null!=p[f].from&&i.push(p[f].marker)}),i},posFromIndex:function(i){var s,p=this.first,f=this.lineSeparator().length;return this.iter(function(y){var D=y.text.length+f;if(D>i)return s=i,!0;i-=D,++p}),cn(this,qe(p,s))},indexFromPos:function(i){var s=(i=cn(this,i)).ch;if(i.line<this.first||i.ch<0)return 0;var p=this.lineSeparator().length;return this.iter(this.first,i.line,function(f){s+=f.text.length+p}),s},copy:function(i){var s=new Bi(No(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return s.scrollTop=this.scrollTop,s.scrollLeft=this.scrollLeft,s.sel=this.sel,s.extend=!1,i&&(s.history.undoDepth=this.history.undoDepth,s.setHistory(this.getHistory())),s},linkedDoc:function(i){i||(i={});var s=this.first,p=this.first+this.size;null!=i.from&&i.from>s&&(s=i.from),null!=i.to&&i.to<p&&(p=i.to);var f=new Bi(No(this,s,p),i.mode||this.modeOption,s,this.lineSep,this.direction);return i.sharedHist&&(f.history=this.history),(this.linked||(this.linked=[])).push({doc:f,sharedHist:i.sharedHist}),f.linked=[{doc:this,isParent:!0,sharedHist:i.sharedHist}],function Ic(i,s){for(var p=0;p<s.length;p++){var f=s[p],y=f.find(),D=i.clipPos(y.from),Q=i.clipPos(y.to);if(In(D,Q)){var it=ul(i,D,Q,f.primary,f.primary.type);f.markers.push(it),it.parent=f}}}(f,Xu(this)),f},unlinkDoc:function(i){if(i instanceof Do&&(i=i.doc),this.linked)for(var s=0;s<this.linked.length;++s)if(this.linked[s].doc==i){this.linked.splice(s,1),i.unlinkDoc(this),yf(Xu(this));break}if(i.history==this.history){var p=[i.id];ka(i,function(f){return p.push(f.id)},!0),i.history=new al(null),i.history.done=ns(this.history.done,p),i.history.undone=ns(this.history.undone,p)}},iterLinkedDocs:function(i){ka(this,i)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(i){return this.lineSep?i.split(this.lineSep):Bn(i)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Ao(function(i){"rtl"!=i&&(i="ltr"),i!=this.direction&&(this.direction=i,this.iter(function(s){return s.order=null}),this.cm&&function ts(i){yi(i,function(){Oc(i),wi(i)})}(this.cm))})}),Bi.prototype.eachLine=Bi.prototype.iter;var du=0;function Zu(i){var s=this;if(Ju(s),!jt(s,i)&&!ft(s.display,i)){Ze(i),rt&&(du=+new Date);var p=li(s,i,!0),f=i.dataTransfer.files;if(p&&!s.isReadOnly())if(f&&f.length&&window.FileReader&&window.File)for(var y=f.length,D=Array(y),Q=0,it=function(){++Q==y&&ti(s,function(){var be={from:p=cn(s.doc,p),to:p,text:s.doc.splitLines(D.filter(function(Ne){return null!=Ne}).join(s.doc.lineSeparator())),origin:"paste"};Ei(s.doc,be),ee(s.doc,Mi(cn(s.doc,p),cn(s.doc,Oa(be))))})()},bt=function(be,Ne){if(s.options.allowDropFileTypes&&-1==Qt(s.options.allowDropFileTypes,be.type))it();else{var Ye=new FileReader;Ye.onerror=function(){return it()},Ye.onload=function(){var dn=Ye.result;/[\x00-\x08\x0e-\x1f]{2}/.test(dn)||(D[Ne]=dn),it()},Ye.readAsText(be)}},Tt=0;Tt<f.length;Tt++)bt(f[Tt],Tt);else{if(s.state.draggingText&&s.doc.sel.contains(p)>-1)return s.state.draggingText(i),void setTimeout(function(){return s.display.input.focus()},20);try{var Yt=i.dataTransfer.getData("Text");if(Yt){var Zt;if(s.state.draggingText&&!s.state.draggingText.copy&&(Zt=s.listSelections()),Et(s.doc,Mi(p,p)),Zt)for(var _e=0;_e<Zt.length;++_e)cl(s.doc,"",Zt[_e].anchor,Zt[_e].head,"drag");s.replaceSelection(Yt,"around","paste"),s.display.input.focus()}}catch{}}}}function Ju(i){i.display.dragCursor&&(i.display.lineSpace.removeChild(i.display.dragCursor),i.display.dragCursor=null)}function fu(i){if(document.getElementsByClassName){for(var s=document.getElementsByClassName("CodeMirror"),p=[],f=0;f<s.length;f++){var y=s[f].CodeMirror;y&&p.push(y)}p.length&&p[0].operation(function(){for(var D=0;D<p.length;D++)i(p[D])})}}var Qu=!1;function xf(i){var s=i.display;s.cachedCharWidth=s.cachedTextHeight=s.cachedPaddingH=null,s.scrollbarsClipped=!1,i.setSize()}for(var Ra={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},dl=0;dl<10;dl++)Ra[dl+48]=Ra[dl+96]=String(dl);for(var Nc=65;Nc<=90;Nc++)Ra[Nc]=String.fromCharCode(Nc);for(var fl=1;fl<=12;fl++)Ra[fl+111]=Ra[fl+63235]="F"+fl;var Ha={};function Cf(i){var s,p,f,y,D=i.split(/-(?!$)/);i=D[D.length-1];for(var Q=0;Q<D.length-1;Q++){var it=D[Q];if(/^(cmd|meta|m)$/i.test(it))y=!0;else if(/^a(lt)?$/i.test(it))s=!0;else if(/^(c|ctrl|control)$/i.test(it))p=!0;else{if(!/^s(hift)?$/i.test(it))throw new Error("Unrecognized modifier name: "+it);f=!0}}return s&&(i="Alt-"+i),p&&(i="Ctrl-"+i),y&&(i="Cmd-"+i),f&&(i="Shift-"+i),i}function pl(i){var s={};for(var p in i)if(i.hasOwnProperty(p)){var f=i[p];if(/^(name|fallthrough|(de|at)tach)$/.test(p))continue;if("..."==f){delete i[p];continue}for(var y=Fe(p.split(" "),Cf),D=0;D<y.length;D++){var Q=void 0,it=void 0;D==y.length-1?(it=y.join(" "),Q=f):(it=y.slice(0,D+1).join(" "),Q="...");var bt=s[it];if(bt){if(bt!=Q)throw new Error("Inconsistent bindings for "+it)}else s[it]=Q}delete i[p]}for(var Tt in s)i[Tt]=s[Tt];return i}function hl(i,s,p,f){var y=(s=Lc(s)).call?s.call(i,f):s[i];if(!1===y)return"nothing";if("..."===y)return"multi";if(null!=y&&p(y))return"handled";if(s.fallthrough){if("[object Array]"!=Object.prototype.toString.call(s.fallthrough))return hl(i,s.fallthrough,p,f);for(var D=0;D<s.fallthrough.length;D++){var Q=hl(i,s.fallthrough[D],p,f);if(Q)return Q}}}function td(i){var s="string"==typeof i?i:Ra[i.keyCode];return"Ctrl"==s||"Alt"==s||"Shift"==s||"Mod"==s}function ed(i,s,p){var f=i;return s.altKey&&"Alt"!=f&&(i="Alt-"+i),(x?s.metaKey:s.ctrlKey)&&"Ctrl"!=f&&(i="Ctrl-"+i),(x?s.ctrlKey:s.metaKey)&&"Mod"!=f&&(i="Cmd-"+i),!p&&s.shiftKey&&"Shift"!=f&&(i="Shift-"+i),i}function nd(i,s){if(ut&&34==i.keyCode&&i.char)return!1;var p=Ra[i.keyCode];return null!=p&&!i.altGraphKey&&(3==i.keyCode&&i.code&&(p=i.code),ed(p,i,s))}function Lc(i){return"string"==typeof i?Ha[i]:i}function gl(i,s){for(var p=i.doc.sel.ranges,f=[],y=0;y<p.length;y++){for(var D=s(p[y]);f.length&&In(D.from,ue(f).to)<=0;){var Q=f.pop();if(In(Q.from,D.from)<0){D.from=Q.from;break}}f.push(D)}yi(i,function(){for(var it=f.length-1;it>=0;it--)cl(i.doc,"",f[it].from,f[it].to,"+delete");fs(i)})}function _s(i,s,p){var f=re(i.text,s+p,p);return f<0||f>i.text.length?null:f}function pu(i,s,p){var f=_s(i,s.ch,p);return null==f?null:new qe(s.line,f,p<0?"after":"before")}function xi(i,s,p,f,y){if(i){"rtl"==s.doc.direction&&(y=-y);var D=bn(p,s.doc.direction);if(D){var Q,it=y<0?ue(D):D[0],bt=y<0==(1==it.level)?"after":"before";if(it.level>0||"rtl"==s.doc.direction){var Tt=ko(s,p),Yt=Mo(s,Tt,Q=y<0?p.text.length-1:0).top;Q=xe(function(Zt){return Mo(s,Tt,Zt).top==Yt},y<0==(1==it.level)?it.from:it.to-1,Q),"before"==bt&&(Q=_s(p,Q,1))}else Q=y<0?it.to:it.from;return new qe(f,Q,bt)}}return new qe(f,y<0?p.text.length:0,y<0?"before":"after")}Ha.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ha.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ha.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ha.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ha.default=et?Ha.macDefault:Ha.pcDefault;var Gl={selectAll:Hi,singleSelection:function(i){return i.setSelection(i.getCursor("anchor"),i.getCursor("head"),Ee)},killLine:function(i){return gl(i,function(s){if(s.empty()){var p=an(i.doc,s.head.line).text.length;return s.head.ch==p&&s.head.line<i.lastLine()?{from:s.head,to:qe(s.head.line+1,0)}:{from:s.head,to:qe(s.head.line,p)}}return{from:s.from(),to:s.to()}})},deleteLine:function(i){return gl(i,function(s){return{from:qe(s.from().line,0),to:cn(i.doc,qe(s.to().line+1,0))}})},delLineLeft:function(i){return gl(i,function(s){return{from:qe(s.from().line,0),to:s.from()}})},delWrappedLineLeft:function(i){return gl(i,function(s){var p=i.charCoords(s.head,"div").top+5;return{from:i.coordsChar({left:0,top:p},"div"),to:s.from()}})},delWrappedLineRight:function(i){return gl(i,function(s){var p=i.charCoords(s.head,"div").top+5,f=i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:p},"div");return{from:s.from(),to:f}})},undo:function(i){return i.undo()},redo:function(i){return i.redo()},undoSelection:function(i){return i.undoSelection()},redoSelection:function(i){return i.redoSelection()},goDocStart:function(i){return i.extendSelection(qe(i.firstLine(),0))},goDocEnd:function(i){return i.extendSelection(qe(i.lastLine()))},goLineStart:function(i){return i.extendSelectionsBy(function(s){return rd(i,s.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(i){return i.extendSelectionsBy(function(s){return od(i,s.head)},{origin:"+move",bias:1})},goLineEnd:function(i){return i.extendSelectionsBy(function(s){return function Tf(i,s){var p=an(i.doc,s),f=function ie(i){for(var s;s=jo(i);)i=s.find(1,!0).line;return i}(p);return f!=p&&(s=cr(f)),xi(!0,i,p,s,-1)}(i,s.head.line)},{origin:"+move",bias:-1})},goLineRight:function(i){return i.extendSelectionsBy(function(s){var p=i.cursorCoords(s.head,"div").top+5;return i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:p},"div")},Ke)},goLineLeft:function(i){return i.extendSelectionsBy(function(s){var p=i.cursorCoords(s.head,"div").top+5;return i.coordsChar({left:0,top:p},"div")},Ke)},goLineLeftSmart:function(i){return i.extendSelectionsBy(function(s){var p=i.cursorCoords(s.head,"div").top+5,f=i.coordsChar({left:0,top:p},"div");return f.ch<i.getLine(f.line).search(/\S/)?od(i,s.head):f},Ke)},goLineUp:function(i){return i.moveV(-1,"line")},goLineDown:function(i){return i.moveV(1,"line")},goPageUp:function(i){return i.moveV(-1,"page")},goPageDown:function(i){return i.moveV(1,"page")},goCharLeft:function(i){return i.moveH(-1,"char")},goCharRight:function(i){return i.moveH(1,"char")},goColumnLeft:function(i){return i.moveH(-1,"column")},goColumnRight:function(i){return i.moveH(1,"column")},goWordLeft:function(i){return i.moveH(-1,"word")},goGroupRight:function(i){return i.moveH(1,"group")},goGroupLeft:function(i){return i.moveH(-1,"group")},goWordRight:function(i){return i.moveH(1,"word")},delCharBefore:function(i){return i.deleteH(-1,"codepoint")},delCharAfter:function(i){return i.deleteH(1,"char")},delWordBefore:function(i){return i.deleteH(-1,"word")},delWordAfter:function(i){return i.deleteH(1,"word")},delGroupBefore:function(i){return i.deleteH(-1,"group")},delGroupAfter:function(i){return i.deleteH(1,"group")},indentAuto:function(i){return i.indentSelection("smart")},indentMore:function(i){return i.indentSelection("add")},indentLess:function(i){return i.indentSelection("subtract")},insertTab:function(i){return i.replaceSelection("\t")},insertSoftTab:function(i){for(var s=[],p=i.listSelections(),f=i.options.tabSize,y=0;y<p.length;y++){var D=p[y].from(),Q=zt(i.getLine(D.line),D.ch,f);s.push(Ie(f-Q%f))}i.replaceSelections(s)},defaultTab:function(i){i.somethingSelected()?i.indentSelection("add"):i.execCommand("insertTab")},transposeChars:function(i){return yi(i,function(){for(var s=i.listSelections(),p=[],f=0;f<s.length;f++)if(s[f].empty()){var y=s[f].head,D=an(i.doc,y.line).text;if(D)if(y.ch==D.length&&(y=new qe(y.line,y.ch-1)),y.ch>0)y=new qe(y.line,y.ch+1),i.replaceRange(D.charAt(y.ch-1)+D.charAt(y.ch-2),qe(y.line,y.ch-2),y,"+transpose");else if(y.line>i.doc.first){var Q=an(i.doc,y.line-1).text;Q&&(y=new qe(y.line,1),i.replaceRange(D.charAt(0)+i.doc.lineSeparator()+Q.charAt(Q.length-1),qe(y.line-1,Q.length-1),y,"+transpose"))}p.push(new Xr(y,y))}i.setSelections(p)})},newlineAndIndent:function(i){return yi(i,function(){for(var s=i.listSelections(),p=s.length-1;p>=0;p--)i.replaceRange(i.doc.lineSeparator(),s[p].anchor,s[p].head,"+input");s=i.listSelections();for(var f=0;f<s.length;f++)i.indentLine(s[f].from().line,null,!0);fs(i)})},openLine:function(i){return i.replaceSelection("\n","start")},toggleOverwrite:function(i){return i.toggleOverwrite()}};function rd(i,s){var p=an(i.doc,s),f=vr(p);return f!=p&&(s=cr(f)),xi(!0,i,f,s,1)}function od(i,s){var p=rd(i,s.line),f=an(i.doc,p.line),y=bn(f,i.doc.direction);if(!y||0==y[0].level){var D=Math.max(p.ch,f.text.search(/\S/));return qe(p.line,s.line==p.line&&s.ch<=D&&s.ch?0:D,p.sticky)}return p}function Fc(i,s,p){if("string"==typeof s&&!(s=Gl[s]))return!1;i.display.input.ensurePolled();var f=i.display.shift,y=!1;try{i.isReadOnly()&&(i.state.suppressEdits=!0),p&&(i.display.shift=!1),y=s(i)!=me}finally{i.display.shift=f,i.state.suppressEdits=!1}return y}var kf=new he;function Yl(i,s,p,f){var y=i.state.keySeq;if(y){if(td(s))return"handled";if(/\'$/.test(s)?i.state.keySeq=null:kf.set(50,function(){i.state.keySeq==y&&(i.state.keySeq=null,i.display.input.reset())}),id(i,y+" "+s,p,f))return!0}return id(i,s,p,f)}function id(i,s,p,f){var y=function Of(i,s,p){for(var f=0;f<i.state.keyMaps.length;f++){var y=hl(s,i.state.keyMaps[f],p,i);if(y)return y}return i.options.extraKeys&&hl(s,i.options.extraKeys,p,i)||hl(s,i.options.keyMap,p,i)}(i,s,f);return"multi"==y&&(i.state.keySeq=s),"handled"==y&&Pn(i,"keyHandled",i,s,p),"handled"!=y&&"multi"!=y||(Ze(p),Js(i)),!!y}function vl(i,s){var p=nd(s,!0);return!!p&&(s.shiftKey&&!i.state.keySeq?Yl(i,"Shift-"+p,s,function(f){return Fc(i,f,!0)})||Yl(i,p,s,function(f){if("string"==typeof f?/^go[A-Z]/.test(f):f.motion)return Fc(i,f)}):Yl(i,p,s,function(f){return Fc(i,f)}))}var Xl=null;function ad(i){var s=this;if(!(i.target&&i.target!=s.display.input.getField()||(s.curOp.focus=Lt(),jt(s,i)))){rt&&F<11&&27==i.keyCode&&(i.returnValue=!1);var p=i.keyCode;s.display.shift=16==p||i.shiftKey;var f=vl(s,i);ut&&(Xl=f?p:null,f||88!=p||or||!(et?i.metaKey:i.ctrlKey)||s.replaceSelection("",null,"cut")),nt&&!et&&!f&&46==p&&i.shiftKey&&!i.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=p||/\bCodeMirror-crosshair\b/.test(s.display.lineDiv.className)||function sd(i){var s=i.display.lineDiv;function p(f){18!=f.keyCode&&f.altKey||(q(s,"CodeMirror-crosshair"),Ct(document,"keyup",p),Ct(document,"mouseover",p))}Mt(s,"CodeMirror-crosshair"),At(document,"keyup",p),At(document,"mouseover",p)}(s)}}function ld(i){16==i.keyCode&&(this.doc.sel.shift=!1),jt(this,i)}function hu(i){var s=this;if(!(i.target&&i.target!=s.display.input.getField()||ft(s.display,i)||jt(s,i)||i.ctrlKey&&!i.altKey||et&&i.metaKey)){var p=i.keyCode,f=i.charCode;if(ut&&p==Xl)return Xl=null,void Ze(i);if(!ut||i.which&&!(i.which<10)||!vl(s,i)){var y=String.fromCharCode(f??p);"\b"!=y&&(function Af(i,s,p){return Yl(i,"'"+p+"'",s,function(f){return Fc(i,f,!0)})}(s,i,y)||s.display.input.onKeyPress(i))}}}var Zl,Jl,gu=function(i,s,p){this.time=i,this.pos=s,this.button=p};function cd(i){var s=this,p=s.display;if(!(jt(s,i)||p.activeTouch&&p.input.supportsTouch()))if(p.input.ensurePolled(),p.shift=i.shiftKey,ft(p,i))H||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));else if(!bs(s,i)){var f=li(s,i),y=oe(i),D=f?function Ef(i,s){var p=+new Date;return Jl&&Jl.compare(p,i,s)?(Zl=Jl=null,"triple"):Zl&&Zl.compare(p,i,s)?(Jl=new gu(p,i,s),Zl=null,"double"):(Zl=new gu(p,i,s),Jl=null,"single")}(f,y):"single";window.focus(),1==y&&s.state.selectingText&&s.state.selectingText(i),f&&function jf(i,s,p,f,y){var D="Click";return"double"==f?D="Double"+D:"triple"==f&&(D="Triple"+D),Yl(i,ed(D=(1==s?"Left":2==s?"Middle":"Right")+D,y),y,function(Q){if("string"==typeof Q&&(Q=Gl[Q]),!Q)return!1;var it=!1;try{i.isReadOnly()&&(i.state.suppressEdits=!0),it=Q(i,p)!=me}finally{i.state.suppressEdits=!1}return it})}(s,y,f,D,i)||(1==y?f?function ud(i,s,p,f){rt?setTimeout(Jt(mc,i),0):i.curOp.focus=Lt();var y,D=function Df(i,s,p){var f=i.getOption("configureMouse"),y=f?f(i,s,p):{};return null==y.unit&&(y.unit=(u?p.shiftKey&&p.metaKey:p.altKey)?"rectangle":"single"==s?"char":"double"==s?"word":"line"),(null==y.extend||i.doc.extend)&&(y.extend=i.doc.extend||p.shiftKey),null==y.addNew&&(y.addNew=et?p.metaKey:p.ctrlKey),null==y.moveOnDrag&&(y.moveOnDrag=!(et?p.altKey:p.ctrlKey)),y}(i,p,f),Q=i.doc.sel;i.options.dragDrop&&Qe&&!i.isReadOnly()&&"single"==p&&(y=Q.contains(s))>-1&&(In((y=Q.ranges[y]).from(),s)<0||s.xRel>0)&&(In(y.to(),s)>0||s.xRel<0)?function If(i,s,p,f){var y=i.display,D=!1,Q=ti(i,function(Tt){H&&(y.scroller.draggable=!1),i.state.draggingText=!1,i.state.delayingBlurEvent&&(i.hasFocus()?i.state.delayingBlurEvent=!1:Wa(i)),Ct(y.wrapper.ownerDocument,"mouseup",Q),Ct(y.wrapper.ownerDocument,"mousemove",it),Ct(y.scroller,"dragstart",bt),Ct(y.scroller,"drop",Q),D||(Ze(Tt),f.addNew||rs(i.doc,p,null,null,f.extend),H&&!V||rt&&9==F?setTimeout(function(){y.wrapper.ownerDocument.body.focus({preventScroll:!0}),y.input.focus()},20):y.input.focus())}),it=function(Tt){D=D||Math.abs(s.clientX-Tt.clientX)+Math.abs(s.clientY-Tt.clientY)>=10},bt=function(){return D=!0};H&&(y.scroller.draggable=!0),i.state.draggingText=Q,Q.copy=!f.moveOnDrag,At(y.wrapper.ownerDocument,"mouseup",Q),At(y.wrapper.ownerDocument,"mousemove",it),At(y.scroller,"dragstart",bt),At(y.scroller,"drop",Q),i.state.delayingBlurEvent=!0,setTimeout(function(){return y.input.focus()},20),y.scroller.dragDrop&&y.scroller.dragDrop()}(i,f,s,D):function Mc(i,s,p,f){rt&&Wa(i);var y=i.display,D=i.doc;Ze(s);var Q,it,bt=D.sel,Tt=bt.ranges;if(f.addNew&&!f.extend?(it=D.sel.contains(p),Q=it>-1?Tt[it]:new Xr(p,p)):(Q=D.sel.primary(),it=D.sel.primIndex),"rectangle"==f.unit)f.addNew||(Q=new Xr(p,p)),p=li(i,s,!0,!0),it=-1;else{var Yt=vu(i,p,f.unit);Q=f.extend?vs(Q,Yt.anchor,Yt.head,f.extend):Yt}f.addNew?-1==it?(it=Tt.length,z(D,Gi(i,Tt.concat([Q]),it),{scroll:!1,origin:"*mouse"})):Tt.length>1&&Tt[it].empty()&&"char"==f.unit&&!f.extend?(z(D,Gi(i,Tt.slice(0,it).concat(Tt.slice(it+1)),0),{scroll:!1,origin:"*mouse"}),bt=D.sel):zl(D,it,Q,We):(it=0,z(D,new ni([Q],0),We),bt=D.sel);var Zt=p;var be=y.wrapper.getBoundingClientRect(),Ne=0;function Ye(yn){var Rn=++Ne,Fn=li(i,yn,!0,"rectangle"==f.unit);if(Fn)if(0!=In(Fn,Zt)){i.curOp.focus=Lt(),function _e(yn){if(0!=In(Zt,yn))if(Zt=yn,"rectangle"==f.unit){for(var Rn=[],Fn=i.options.tabSize,zn=zt(an(D,p.line).text,p.ch,Fn),co=zt(an(D,yn.line).text,yn.ch,Fn),Zr=Math.min(zn,co),Vi=Math.max(zn,co),bo=Math.min(p.line,yn.line),ma=Math.min(i.lastLine(),Math.max(p.line,yn.line));bo<=ma;bo++){var Xi=an(D,bo).text,Po=le(Xi,Zr,Fn);Zr==Vi?Rn.push(new Xr(qe(bo,Po),qe(bo,Po))):Xi.length>Po&&Rn.push(new Xr(qe(bo,Po),qe(bo,le(Xi,Vi,Fn))))}Rn.length||Rn.push(new Xr(p,p)),z(D,Gi(i,bt.ranges.slice(0,it).concat(Rn),it),{origin:"*mouse",scroll:!1}),i.scrollIntoView(yn)}else{var zi,ji=Q,Bo=vu(i,yn,f.unit),Vo=ji.anchor;In(Bo.anchor,Vo)>0?(zi=Bo.head,Vo=fn(ji.from(),Bo.anchor)):(zi=Bo.anchor,Vo=je(ji.to(),Bo.head));var $o=bt.ranges.slice(0);$o[it]=function Ql(i,s){var p=s.anchor,f=s.head,y=an(i.doc,p.line);if(0==In(p,f)&&p.sticky==f.sticky)return s;var D=bn(y);if(!D)return s;var Q=Sn(D,p.ch,p.sticky),it=D[Q];if(it.from!=p.ch&&it.to!=p.ch)return s;var bt,Tt=Q+(it.from==p.ch==(1!=it.level)?0:1);if(0==Tt||Tt==D.length)return s;if(f.line!=p.line)bt=(f.line-p.line)*("ltr"==i.doc.direction?1:-1)>0;else{var Yt=Sn(D,f.ch,f.sticky),Zt=Yt-Q||(f.ch-p.ch)*(1==it.level?-1:1);bt=Yt==Tt-1||Yt==Tt?Zt<0:Zt>0}var _e=D[Tt+(bt?-1:0)],be=bt==(1==_e.level),Ne=be?_e.from:_e.to,Ye=be?"after":"before";return p.ch==Ne&&p.sticky==Ye?s:new Xr(new qe(p.line,Ne,Ye),f)}(i,new Xr(cn(D,Vo),zi)),z(D,Gi(i,$o,it),We)}}(Fn);var zn=Ma(y,D);(Fn.line>=zn.to||Fn.line<zn.from)&&setTimeout(ti(i,function(){Ne==Rn&&Ye(yn)}),150)}else{var co=yn.clientY<be.top?-20:yn.clientY>be.bottom?20:0;co&&setTimeout(ti(i,function(){Ne==Rn&&(y.scroller.scrollTop+=co,Ye(yn))}),50)}}function dn(yn){i.state.selectingText=!1,Ne=1/0,yn&&(Ze(yn),y.input.focus()),Ct(y.wrapper.ownerDocument,"mousemove",On),Ct(y.wrapper.ownerDocument,"mouseup",Ln),D.history.lastSelOrigin=null}var On=ti(i,function(yn){0!==yn.buttons&&oe(yn)?Ye(yn):dn(yn)}),Ln=ti(i,dn);i.state.selectingText=Ln,At(y.wrapper.ownerDocument,"mousemove",On),At(y.wrapper.ownerDocument,"mouseup",Ln)}(i,f,s,D)}(s,f,D,i):Nt(i)==p.scroller&&Ze(i):2==y?(f&&rs(s.doc,f),setTimeout(function(){return p.input.focus()},20)):3==y&&(E?s.display.input.onContextMenu(i):Wa(s)))}}function vu(i,s,p){if("char"==p)return new Xr(s,s);if("word"==p)return i.findWordAt(s);if("line"==p)return new Xr(qe(s.line,0),cn(i.doc,qe(s.line+1,0)));var f=p(i,s);return new Xr(f.from,f.to)}function dd(i,s,p,f){var y,D;if(s.touches)y=s.touches[0].clientX,D=s.touches[0].clientY;else try{y=s.clientX,D=s.clientY}catch{return!1}if(y>=Math.floor(i.display.gutters.getBoundingClientRect().right))return!1;f&&Ze(s);var Q=i.display,it=Q.lineDiv.getBoundingClientRect();if(D>it.bottom||!gt(i,p))return Te(s);D-=it.top-Q.viewOffset;for(var bt=0;bt<i.display.gutterSpecs.length;++bt){var Tt=Q.gutters.childNodes[bt];if(Tt&&Tt.getBoundingClientRect().right>=y)return kt(i,p,i,To(i.doc,D),i.display.gutterSpecs[bt].className,s),Te(s)}}function bs(i,s){return dd(i,s,"gutterClick",!0)}function fd(i,s){ft(i.display,s)||function Pf(i,s){return!!gt(i,"gutterContextMenu")&&dd(i,s,"gutterContextMenu",!1)}(i,s)||jt(i,s,"contextmenu")||E||i.display.input.onContextMenu(s)}function pd(i){i.display.wrapper.className=i.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+i.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ht(i)}gu.prototype.compare=function(i,s,p){return this.time+400>i&&0==In(s,this.pos)&&p==this.button};var ml={toString:function(){return"CodeMirror.Init"}},hd={},tc={};function Nf(i,s,p){if(!s!=!(p&&p!=ml)){var f=i.display.dragFunctions,y=s?At:Ct;y(i.display.scroller,"dragstart",f.start),y(i.display.scroller,"dragenter",f.enter),y(i.display.scroller,"dragover",f.over),y(i.display.scroller,"dragleave",f.leave),y(i.display.scroller,"drop",f.drop)}}function Rc(i){i.options.lineWrapping?(Mt(i.display.wrapper,"CodeMirror-wrap"),i.display.sizer.style.minWidth="",i.display.sizerWidth=null):(q(i.display.wrapper,"CodeMirror-wrap"),O(i)),El(i),wi(i),Ht(i),setTimeout(function(){return Ta(i)},100)}function Do(i,s){var p=this;if(!(this instanceof Do))return new Do(i,s);this.options=s=s?de(s):{},de(hd,s,!1);var f=s.value;"string"==typeof f?f=new Bi(f,s.mode,null,s.lineSeparator,s.direction):s.mode&&(f.modeOption=s.mode),this.doc=f;var y=new Do.inputStyles[s.inputStyle](this),D=this.display=new gs(i,f,y,s);for(var Q in D.wrapper.CodeMirror=this,pd(this),s.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),bc(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new he,keySeq:null,specialChars:null},s.autofocus&&!_&&D.input.focus(),rt&&F<11&&setTimeout(function(){return p.display.input.reset(!0)},20),function vd(i){var s=i.display;At(s.scroller,"mousedown",ti(i,cd)),At(s.scroller,"dblclick",rt&&F<11?ti(i,function(bt){if(!jt(i,bt)){var Tt=li(i,bt);if(Tt&&!bs(i,bt)&&!ft(i.display,bt)){Ze(bt);var Yt=i.findWordAt(Tt);rs(i.doc,Yt.anchor,Yt.head)}}}):function(bt){return jt(i,bt)||Ze(bt)}),At(s.scroller,"contextmenu",function(bt){return fd(i,bt)}),At(s.input.getField(),"contextmenu",function(bt){s.scroller.contains(bt.target)||fd(i,bt)});var p,f={end:0};function y(){s.activeTouch&&(p=setTimeout(function(){return s.activeTouch=null},1e3),(f=s.activeTouch).end=+new Date)}function Q(bt,Tt){if(null==Tt.left)return!0;var Yt=Tt.left-bt.left,Zt=Tt.top-bt.top;return Yt*Yt+Zt*Zt>400}At(s.scroller,"touchstart",function(bt){if(!jt(i,bt)&&!function D(bt){if(1!=bt.touches.length)return!1;var Tt=bt.touches[0];return Tt.radiusX<=1&&Tt.radiusY<=1}(bt)&&!bs(i,bt)){s.input.ensurePolled(),clearTimeout(p);var Tt=+new Date;s.activeTouch={start:Tt,moved:!1,prev:Tt-f.end<=300?f:null},1==bt.touches.length&&(s.activeTouch.left=bt.touches[0].pageX,s.activeTouch.top=bt.touches[0].pageY)}}),At(s.scroller,"touchmove",function(){s.activeTouch&&(s.activeTouch.moved=!0)}),At(s.scroller,"touchend",function(bt){var Tt=s.activeTouch;if(Tt&&!ft(s,bt)&&null!=Tt.left&&!Tt.moved&&new Date-Tt.start<300){var Yt,Zt=i.coordsChar(s.activeTouch,"page");Yt=!Tt.prev||Q(Tt,Tt.prev)?new Xr(Zt,Zt):!Tt.prev.prev||Q(Tt,Tt.prev.prev)?i.findWordAt(Zt):new Xr(qe(Zt.line,0),cn(i.doc,qe(Zt.line+1,0))),i.setSelection(Yt.anchor,Yt.head),i.focus(),Ze(bt)}y()}),At(s.scroller,"touchcancel",y),At(s.scroller,"scroll",function(){s.scroller.clientHeight&&(Ps(i,s.scroller.scrollTop),fa(i,s.scroller.scrollLeft,!0),kt(i,"scroll",i))}),At(s.scroller,"mousewheel",function(bt){return Tc(i,bt)}),At(s.scroller,"DOMMouseScroll",function(bt){return Tc(i,bt)}),At(s.wrapper,"scroll",function(){return s.wrapper.scrollTop=s.wrapper.scrollLeft=0}),s.dragFunctions={enter:function(bt){jt(i,bt)||Oe(bt)},over:function(bt){jt(i,bt)||(function Pc(i,s){var p=li(i,s);if(p){var f=document.createDocumentFragment();vc(i,p,f),i.display.dragCursor||(i.display.dragCursor=B("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),i.display.lineSpace.insertBefore(i.display.dragCursor,i.display.cursorDiv)),G(i.display.dragCursor,f)}}(i,bt),Oe(bt))},start:function(bt){return function bf(i,s){if(rt&&(!i.state.draggingText||+new Date-du<100))Oe(s);else if(!jt(i,s)&&!ft(i.display,s)&&(s.dataTransfer.setData("Text",i.getSelection()),s.dataTransfer.effectAllowed="copyMove",s.dataTransfer.setDragImage&&!V)){var p=B("img",null,null,"position: fixed; left: 0; top: 0;");p.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ut&&(p.width=p.height=1,i.display.wrapper.appendChild(p),p._top=p.offsetTop),s.dataTransfer.setDragImage(p,0,0),ut&&p.parentNode.removeChild(p)}}(i,bt)},drop:ti(i,Zu),leave:function(bt){jt(i,bt)||Ju(i)}};var it=s.input.getField();At(it,"keyup",function(bt){return ld.call(i,bt)}),At(it,"keydown",ti(i,ad)),At(it,"keypress",ti(i,hu)),At(it,"focus",function(bt){return jl(i,bt)}),At(it,"blur",function(bt){return $i(i,bt)})}(this),function Ko(){Qu||(function wf(){var i;At(window,"resize",function(){null==i&&(i=setTimeout(function(){i=null,fu(xf)},100))}),At(window,"blur",function(){return fu($i)})}(),Qu=!0)}(),Ya(this),this.curOp.forceUpdate=!0,il(this,f),s.autofocus&&!_||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&jl(p)},20):$i(this),tc)tc.hasOwnProperty(Q)&&tc[Q](this,s[Q],ml);ol(this),s.finishInit&&s.finishInit(this);for(var it=0;it<mu.length;++it)mu[it](this);Xa(this),H&&s.lineWrapping&&"optimizelegibility"==getComputedStyle(D.lineDiv).textRendering&&(D.lineDiv.style.textRendering="auto")}Do.defaults=hd,Do.optionHandlers=tc;var mu=[];function va(i,s,p,f){var y,D=i.doc;null==p&&(p="add"),"smart"==p&&(D.mode.indent?y=Ar(i,s).state:p="prev");var Q=i.options.tabSize,it=an(D,s),bt=zt(it.text,null,Q);it.stateAfter&&(it.stateAfter=null);var Tt,Yt=it.text.match(/^\s*/)[0];if(f||/\S/.test(it.text)){if("smart"==p&&((Tt=D.mode.indent(y,it.text.slice(Yt.length),it.text))==me||Tt>150)){if(!f)return;p="prev"}}else Tt=0,p="not";"prev"==p?Tt=s>D.first?zt(an(D,s-1).text,null,Q):0:"add"==p?Tt=bt+i.options.indentUnit:"subtract"==p?Tt=bt-i.options.indentUnit:"number"==typeof p&&(Tt=bt+p),Tt=Math.max(0,Tt);var Zt="",_e=0;if(i.options.indentWithTabs)for(var be=Math.floor(Tt/Q);be;--be)_e+=Q,Zt+="\t";if(_e<Tt&&(Zt+=Ie(Tt-_e)),Zt!=Yt)return cl(D,Zt,qe(s,0),qe(s,Yt.length),"+input"),it.stateAfter=null,!0;for(var Ne=0;Ne<D.sel.ranges.length;Ne++){var Ye=D.sel.ranges[Ne];if(Ye.head.line==s&&Ye.head.ch<Yt.length){var dn=qe(s,Yt.length);zl(D,Ne,new Xr(dn,dn));break}}}Do.defineInitHook=function(i){return mu.push(i)};var ja=null;function Hc(i){ja=i}function yu(i,s,p,f,y){var D=i.doc;i.display.shift=!1,f||(f=D.sel);var Q=+new Date-200,it="paste"==y||i.state.pasteIncoming>Q,bt=Bn(s),Tt=null;if(it&&f.ranges.length>1)if(ja&&ja.text.join("\n")==s){if(f.ranges.length%ja.text.length==0){Tt=[];for(var Yt=0;Yt<ja.text.length;Yt++)Tt.push(D.splitLines(ja.text[Yt]))}}else bt.length==f.ranges.length&&i.options.pasteLinesPerSelection&&(Tt=Fe(bt,function(On){return[On]}));for(var Zt=i.curOp.updateInput,_e=f.ranges.length-1;_e>=0;_e--){var be=f.ranges[_e],Ne=be.from(),Ye=be.to();be.empty()&&(p&&p>0?Ne=qe(Ne.line,Ne.ch-p):i.state.overwrite&&!it?Ye=qe(Ye.line,Math.min(an(D,Ye.line).text.length,Ye.ch+ue(bt).length)):it&&ja&&ja.lineWise&&ja.text.join("\n")==bt.join("\n")&&(Ne=Ye=qe(Ne.line,0)));var dn={from:Ne,to:Ye,text:Tt?Tt[_e%Tt.length]:bt,origin:y||(it?"paste":i.state.cutIncoming>Q?"cut":"+input")};Ei(i.doc,dn),Pn(i,"inputRead",i,dn)}s&&!it&&_u(i,s),fs(i),i.curOp.updateInput<2&&(i.curOp.updateInput=Zt),i.curOp.typing=!0,i.state.pasteIncoming=i.state.cutIncoming=-1}function md(i,s){var p=i.clipboardData&&i.clipboardData.getData("Text");if(p)return i.preventDefault(),s.isReadOnly()||s.options.disableInput||yi(s,function(){return yu(s,p,0,null,"paste")}),!0}function _u(i,s){if(i.options.electricChars&&i.options.smartIndent)for(var p=i.doc.sel,f=p.ranges.length-1;f>=0;f--){var y=p.ranges[f];if(!(y.head.ch>100||f&&p.ranges[f-1].head.line==y.head.line)){var D=i.getModeAt(y.head),Q=!1;if(D.electricChars){for(var it=0;it<D.electricChars.length;it++)if(s.indexOf(D.electricChars.charAt(it))>-1){Q=va(i,y.head.line,"smart");break}}else D.electricInput&&D.electricInput.test(an(i.doc,y.head.line).text.slice(0,y.head.ch))&&(Q=va(i,y.head.line,"smart"));Q&&Pn(i,"electricInput",i,y.head.line)}}}function Bc(i){for(var s=[],p=[],f=0;f<i.doc.sel.ranges.length;f++){var y=i.doc.sel.ranges[f].head.line,D={anchor:qe(y,0),head:qe(y+1,0)};p.push(D),s.push(i.getRange(D.anchor,D.head))}return{text:s,ranges:p}}function yd(i,s,p,f){i.setAttribute("autocorrect",p?"":"off"),i.setAttribute("autocapitalize",f?"":"off"),i.setAttribute("spellcheck",!!s)}function _d(){var i=B("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),s=B("div",[i],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return H?i.style.width="1000px":i.setAttribute("wrap","off"),K&&(i.style.border="1px solid black"),yd(i),s}function bu(i,s,p,f,y){var D=s,Q=p,it=an(i,s.line),bt=y&&"rtl"==i.direction?-p:p;function Yt(Ln){var yn;if("codepoint"==f){var Rn=it.text.charCodeAt(s.ch+(p>0?0:-1));yn=isNaN(Rn)?null:new qe(s.line,Math.max(0,Math.min(it.text.length,s.ch+p*((p>0?Rn>=55296&&Rn<56320:Rn>=56320&&Rn<57343)?2:1))),-p)}else yn=y?function Sf(i,s,p,f){var y=bn(s,i.doc.direction);if(!y)return pu(s,p,f);p.ch>=s.text.length?(p.ch=s.text.length,p.sticky="before"):p.ch<=0&&(p.ch=0,p.sticky="after");var D=Sn(y,p.ch,p.sticky),Q=y[D];if("ltr"==i.doc.direction&&Q.level%2==0&&(f>0?Q.to>p.ch:Q.from<p.ch))return pu(s,p,f);var it,bt=function(On,Ln){return _s(s,On instanceof qe?On.ch:On,Ln)},Tt=function(On){return i.options.lineWrapping?(it=it||ko(i,s),yr(i,s,it,On)):{begin:0,end:s.text.length}},Yt=Tt("before"==p.sticky?bt(p,-1):p.ch);if("rtl"==i.doc.direction||1==Q.level){var Zt=1==Q.level==f<0,_e=bt(p,Zt?1:-1);if(null!=_e&&(Zt?_e<=Q.to&&_e<=Yt.end:_e>=Q.from&&_e>=Yt.begin))return new qe(p.line,_e,Zt?"before":"after")}var Ne=function(On,Ln,yn){for(;On>=0&&On<y.length;On+=Ln){var Fn=y[On],zn=Ln>0==(1!=Fn.level),co=zn?yn.begin:bt(yn.end,-1);if(Fn.from<=co&&co<Fn.to||(co=zn?Fn.from:bt(Fn.to,-1),yn.begin<=co&&co<yn.end))return Zr=co,zn?new qe(p.line,bt(Zr,1),"before"):new qe(p.line,Zr,"after")}var Zr},Ye=Ne(D+f,f,Yt);if(Ye)return Ye;var dn=f>0?Yt.end:bt(Yt.begin,-1);return null==dn||f>0&&dn==s.text.length||!(Ye=Ne(f>0?0:y.length-1,f,Tt(dn)))?null:Ye}(i.cm,it,s,p):pu(it,s,p);if(null==yn){if(Ln||!function Tt(){var Ln=s.line+bt;return!(Ln<i.first||Ln>=i.first+i.size)&&(s=new qe(Ln,s.ch,s.sticky),it=an(i,Ln))}())return!1;s=xi(y,i.cm,it,s.line,bt)}else s=yn;return!0}if("char"==f||"codepoint"==f)Yt();else if("column"==f)Yt(!0);else if("word"==f||"group"==f)for(var Zt=null,_e="group"==f,be=i.cm&&i.cm.getHelper(s,"wordChars"),Ne=!0;!(p<0)||Yt(!Ne);Ne=!1){var Ye=it.text.charAt(s.ch)||"\n",dn=se(Ye,be)?"w":_e&&"\n"==Ye?"n":!_e||/\s/.test(Ye)?null:"p";if(!_e||Ne||dn||(dn="s"),Zt&&Zt!=dn){p<0&&(p=1,Yt(),s.sticky="after");break}if(dn&&(Zt=dn),p>0&&!Yt(!Ne))break}var On=gr(i,s,D,Q,!0);return Dt(D,On)&&(On.hitSide=!0),On}function wd(i,s,p,f){var y,D,Q=i.doc,it=s.left;if("page"==f){var bt=Math.min(i.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),Tt=Math.max(bt-.5*Co(i.display),3);y=(p>0?s.bottom:s.top)+p*Tt}else"line"==f&&(y=p>0?s.bottom+3:s.top-3);for(;(D=ar(i,it,y)).outside;){if(p<0?y<=0:y>=Q.height){D.hitSide=!0;break}y+=5*p}return D}var oo=function(i){this.cm=i,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new he,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function xd(i,s){var p=ro(i,s.line);if(!p||p.hidden)return null;var f=an(i.doc,s.line),y=tr(p,f,s.line),D=bn(f,i.doc.direction),Q="left";D&&(Q=Sn(D,s.ch)%2?"right":"left");var it=Ki(y.map,s.ch,Q);return it.offset="right"==it.collapse?it.end:it.start,it}function yl(i,s){return s&&(i.bad=!0),i}function nc(i,s,p){var f;if(s==i.display.lineDiv){if(!(f=i.display.lineDiv.childNodes[p]))return yl(i.clipPos(qe(i.display.viewTo-1)),!0);s=null,p=0}else for(f=s;;f=f.parentNode){if(!f||f==i.display.lineDiv)return null;if(f.parentNode&&f.parentNode==i.display.lineDiv)break}for(var y=0;y<i.display.view.length;y++){var D=i.display.view[y];if(D.node==f)return Cd(D,s,p)}}function Cd(i,s,p){var f=i.text.firstChild,y=!1;if(!s||!U(f,s))return yl(qe(cr(i.line),0),!0);if(s==f&&(y=!0,s=f.childNodes[p],p=0,!s)){var D=i.rest?ue(i.rest):i.line;return yl(qe(cr(D),D.text.length),y)}var Q=3==s.nodeType?s:null,it=s;for(Q||1!=s.childNodes.length||3!=s.firstChild.nodeType||(Q=s.firstChild,p&&(p=Q.nodeValue.length));it.parentNode!=f;)it=it.parentNode;var bt=i.measure,Tt=bt.maps;function Yt(dn,On,Ln){for(var yn=-1;yn<(Tt?Tt.length:0);yn++)for(var Rn=yn<0?bt.map:Tt[yn],Fn=0;Fn<Rn.length;Fn+=3){var zn=Rn[Fn+2];if(zn==dn||zn==On){var co=cr(yn<0?i.line:i.rest[yn]),Zr=Rn[Fn]+Ln;return(Ln<0||zn!=dn)&&(Zr=Rn[Fn+(Ln?1:0)]),qe(co,Zr)}}}var Zt=Yt(Q,it,p);if(Zt)return yl(Zt,y);for(var _e=it.nextSibling,be=Q?Q.nodeValue.length-p:0;_e;_e=_e.nextSibling){if(Zt=Yt(_e,_e.firstChild,0))return yl(qe(Zt.line,Zt.ch-be),y);be+=_e.textContent.length}for(var Ne=it.previousSibling,Ye=p;Ne;Ne=Ne.previousSibling){if(Zt=Yt(Ne,Ne.firstChild,-1))return yl(qe(Zt.line,Zt.ch+Ye),y);Ye+=Ne.textContent.length}}oo.prototype.init=function(i){var s=this,p=this,f=p.cm,y=p.div=i.lineDiv;function D(it){for(var bt=it.target;bt;bt=bt.parentNode){if(bt==y)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(bt.className))break}return!1}function Q(it){if(D(it)&&!jt(f,it)){if(f.somethingSelected())Hc({lineWise:!1,text:f.getSelections()}),"cut"==it.type&&f.replaceSelection("",null,"cut");else{if(!f.options.lineWiseCopyCut)return;var bt=Bc(f);Hc({lineWise:!0,text:bt.text}),"cut"==it.type&&f.operation(function(){f.setSelections(bt.ranges,0,Ee),f.replaceSelection("",null,"cut")})}if(it.clipboardData){it.clipboardData.clearData();var Tt=ja.text.join("\n");if(it.clipboardData.setData("Text",Tt),it.clipboardData.getData("Text")==Tt)return void it.preventDefault()}var Yt=_d(),Zt=Yt.firstChild;f.display.lineSpace.insertBefore(Yt,f.display.lineSpace.firstChild),Zt.value=ja.text.join("\n");var _e=Lt();Pt(Zt),setTimeout(function(){f.display.lineSpace.removeChild(Yt),_e.focus(),_e==y&&p.showPrimarySelection()},50)}}y.contentEditable=!0,yd(y,f.options.spellcheck,f.options.autocorrect,f.options.autocapitalize),At(y,"paste",function(it){!D(it)||jt(f,it)||md(it,f)||F<=11&&setTimeout(ti(f,function(){return s.updateFromDOM()}),20)}),At(y,"compositionstart",function(it){s.composing={data:it.data,done:!1}}),At(y,"compositionupdate",function(it){s.composing||(s.composing={data:it.data,done:!1})}),At(y,"compositionend",function(it){s.composing&&(it.data!=s.composing.data&&s.readFromDOMSoon(),s.composing.done=!0)}),At(y,"touchstart",function(){return p.forceCompositionEnd()}),At(y,"input",function(){s.composing||s.readFromDOMSoon()}),At(y,"copy",Q),At(y,"cut",Q)},oo.prototype.screenReaderLabelChanged=function(i){i?this.div.setAttribute("aria-label",i):this.div.removeAttribute("aria-label")},oo.prototype.prepareSelection=function(){var i=Ys(this.cm,!1);return i.focus=Lt()==this.div,i},oo.prototype.showSelection=function(i,s){i&&this.cm.display.view.length&&((i.focus||s)&&this.showPrimarySelection(),this.showMultipleSelections(i))},oo.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},oo.prototype.showPrimarySelection=function(){var i=this.getSelection(),s=this.cm,p=s.doc.sel.primary(),f=p.from(),y=p.to();if(s.display.viewTo==s.display.viewFrom||f.line>=s.display.viewTo||y.line<s.display.viewFrom)i.removeAllRanges();else{var D=nc(s,i.anchorNode,i.anchorOffset),Q=nc(s,i.focusNode,i.focusOffset);if(!D||D.bad||!Q||Q.bad||0!=In(fn(D,Q),f)||0!=In(je(D,Q),y)){var it=s.display.view,bt=f.line>=s.display.viewFrom&&xd(s,f)||{node:it[0].measure.map[2],offset:0},Tt=y.line<s.display.viewTo&&xd(s,y);if(!Tt){var Yt=it[it.length-1].measure,Zt=Yt.maps?Yt.maps[Yt.maps.length-1]:Yt.map;Tt={node:Zt[Zt.length-1],offset:Zt[Zt.length-2]-Zt[Zt.length-3]}}if(bt&&Tt){var _e,be=i.rangeCount&&i.getRangeAt(0);try{_e=T(bt.node,bt.offset,Tt.offset,Tt.node)}catch{}_e&&(!nt&&s.state.focused?(i.collapse(bt.node,bt.offset),_e.collapsed||(i.removeAllRanges(),i.addRange(_e))):(i.removeAllRanges(),i.addRange(_e)),be&&null==i.anchorNode?i.addRange(be):nt&&this.startGracePeriod()),this.rememberSelection()}else i.removeAllRanges()}}},oo.prototype.startGracePeriod=function(){var i=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){i.gracePeriod=!1,i.selectionChanged()&&i.cm.operation(function(){return i.cm.curOp.selectionChanged=!0})},20)},oo.prototype.showMultipleSelections=function(i){G(this.cm.display.cursorDiv,i.cursors),G(this.cm.display.selectionDiv,i.selection)},oo.prototype.rememberSelection=function(){var i=this.getSelection();this.lastAnchorNode=i.anchorNode,this.lastAnchorOffset=i.anchorOffset,this.lastFocusNode=i.focusNode,this.lastFocusOffset=i.focusOffset},oo.prototype.selectionInEditor=function(){var i=this.getSelection();if(!i.rangeCount)return!1;var s=i.getRangeAt(0).commonAncestorContainer;return U(this.div,s)},oo.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&Lt()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},oo.prototype.blur=function(){this.div.blur()},oo.prototype.getField=function(){return this.div},oo.prototype.supportsTouch=function(){return!0},oo.prototype.receivedFocus=function(){var i=this,s=this;this.selectionInEditor()?setTimeout(function(){return i.pollSelection()},20):yi(this.cm,function(){return s.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function p(){s.cm.state.focused&&(s.pollSelection(),s.polling.set(s.cm.options.pollInterval,p))})},oo.prototype.selectionChanged=function(){var i=this.getSelection();return i.anchorNode!=this.lastAnchorNode||i.anchorOffset!=this.lastAnchorOffset||i.focusNode!=this.lastFocusNode||i.focusOffset!=this.lastFocusOffset},oo.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var i=this.getSelection(),s=this.cm;if(st&&X&&this.cm.display.gutterSpecs.length&&function ec(i){for(var s=i;s;s=s.parentNode)if(/CodeMirror-gutter-wrapper/.test(s.className))return!0;return!1}(i.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var p=nc(s,i.anchorNode,i.anchorOffset),f=nc(s,i.focusNode,i.focusOffset);p&&f&&yi(s,function(){z(s.doc,Mi(p,f),Ee),(p.bad||f.bad)&&(s.curOp.selectionChanged=!0)})}}},oo.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var i,s,p,f=this.cm,y=f.display,D=f.doc.sel.primary(),Q=D.from(),it=D.to();if(0==Q.ch&&Q.line>f.firstLine()&&(Q=qe(Q.line-1,an(f.doc,Q.line-1).length)),it.ch==an(f.doc,it.line).text.length&&it.line<f.lastLine()&&(it=qe(it.line+1,0)),Q.line<y.viewFrom||it.line>y.viewTo-1)return!1;Q.line==y.viewFrom||0==(i=Ua(f,Q.line))?(s=cr(y.view[0].line),p=y.view[0].node):(s=cr(y.view[i].line),p=y.view[i-1].node.nextSibling);var bt,Tt,Yt=Ua(f,it.line);if(Yt==y.view.length-1?(bt=y.viewTo-1,Tt=y.lineDiv.lastChild):(bt=cr(y.view[Yt+1].line)-1,Tt=y.view[Yt+1].node.previousSibling),!p)return!1;for(var Zt=f.doc.splitLines(function Lf(i,s,p,f,y){var D="",Q=!1,it=i.doc.lineSeparator(),bt=!1;function Yt(){Q&&(D+=it,bt&&(D+=it),Q=bt=!1)}function Zt(be){be&&(Yt(),D+=be)}function _e(be){if(1==be.nodeType){var Ne=be.getAttribute("cm-text");if(Ne)return void Zt(Ne);var Ye,dn=be.getAttribute("cm-marker");if(dn){var On=i.findMarks(qe(f,0),qe(y+1,0),function Tt(be){return function(Ne){return Ne.id==be}}(+dn));return void(On.length&&(Ye=On[0].find(0))&&Zt(Pr(i.doc,Ye.from,Ye.to).join(it)))}if("false"==be.getAttribute("contenteditable"))return;var Ln=/^(pre|div|p|li|table|br)$/i.test(be.nodeName);if(!/^br$/i.test(be.nodeName)&&0==be.textContent.length)return;Ln&&Yt();for(var yn=0;yn<be.childNodes.length;yn++)_e(be.childNodes[yn]);/^(pre|p)$/i.test(be.nodeName)&&(bt=!0),Ln&&(Q=!0)}else 3==be.nodeType&&Zt(be.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;_e(s),s!=p;)s=s.nextSibling,bt=!1;return D}(f,p,Tt,s,bt)),_e=Pr(f.doc,qe(s,0),qe(bt,an(f.doc,bt).text.length));Zt.length>1&&_e.length>1;)if(ue(Zt)==ue(_e))Zt.pop(),_e.pop(),bt--;else{if(Zt[0]!=_e[0])break;Zt.shift(),_e.shift(),s++}for(var be=0,Ne=0,Ye=Zt[0],dn=_e[0],On=Math.min(Ye.length,dn.length);be<On&&Ye.charCodeAt(be)==dn.charCodeAt(be);)++be;for(var Ln=ue(Zt),yn=ue(_e),Rn=Math.min(Ln.length-(1==Zt.length?be:0),yn.length-(1==_e.length?be:0));Ne<Rn&&Ln.charCodeAt(Ln.length-Ne-1)==yn.charCodeAt(yn.length-Ne-1);)++Ne;if(1==Zt.length&&1==_e.length&&s==Q.line)for(;be&&be>Q.ch&&Ln.charCodeAt(Ln.length-Ne-1)==yn.charCodeAt(yn.length-Ne-1);)be--,Ne++;Zt[Zt.length-1]=Ln.slice(0,Ln.length-Ne).replace(/^\u200b+/,""),Zt[0]=Zt[0].slice(be).replace(/\u200b+$/,"");var Fn=qe(s,be),zn=qe(bt,_e.length?ue(_e).length-Ne:0);return Zt.length>1||Zt[0]||In(Fn,zn)?(cl(f.doc,Zt,Fn,zn,"+input"),!0):void 0},oo.prototype.ensurePolled=function(){this.forceCompositionEnd()},oo.prototype.reset=function(){this.forceCompositionEnd()},oo.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},oo.prototype.readFromDOMSoon=function(){var i=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(i.readDOMTimeout=null,i.composing){if(!i.composing.done)return;i.composing=null}i.updateFromDOM()},80))},oo.prototype.updateFromDOM=function(){var i=this;!this.cm.isReadOnly()&&this.pollContent()||yi(this.cm,function(){return wi(i.cm)})},oo.prototype.setUneditable=function(i){i.contentEditable="false"},oo.prototype.onKeyPress=function(i){0==i.charCode||this.composing||(i.preventDefault(),this.cm.isReadOnly()||ti(this.cm,yu)(this.cm,String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),0))},oo.prototype.readOnlyChanged=function(i){this.div.contentEditable=String("nocursor"!=i)},oo.prototype.onContextMenu=function(){},oo.prototype.resetPosition=function(){},oo.prototype.needsContentAttribute=!0;var Ho=function(i){this.cm=i,this.prevInput="",this.pollingFast=!1,this.polling=new he,this.hasSelection=!1,this.composing=null};Ho.prototype.init=function(i){var s=this,p=this,f=this.cm;this.createField(i);var y=this.textarea;function D(Q){if(!jt(f,Q)){if(f.somethingSelected())Hc({lineWise:!1,text:f.getSelections()});else{if(!f.options.lineWiseCopyCut)return;var it=Bc(f);Hc({lineWise:!0,text:it.text}),"cut"==Q.type?f.setSelections(it.ranges,null,Ee):(p.prevInput="",y.value=it.text.join("\n"),Pt(y))}"cut"==Q.type&&(f.state.cutIncoming=+new Date)}}i.wrapper.insertBefore(this.wrapper,i.wrapper.firstChild),K&&(y.style.width="0px"),At(y,"input",function(){rt&&F>=9&&s.hasSelection&&(s.hasSelection=null),p.poll()}),At(y,"paste",function(Q){jt(f,Q)||md(Q,f)||(f.state.pasteIncoming=+new Date,p.fastPoll())}),At(y,"cut",D),At(y,"copy",D),At(i.scroller,"paste",function(Q){if(!ft(i,Q)&&!jt(f,Q)){if(!y.dispatchEvent)return f.state.pasteIncoming=+new Date,void p.focus();var it=new Event("paste");it.clipboardData=Q.clipboardData,y.dispatchEvent(it)}}),At(i.lineSpace,"selectstart",function(Q){ft(i,Q)||Ze(Q)}),At(y,"compositionstart",function(){var Q=f.getCursor("from");p.composing&&p.composing.range.clear(),p.composing={start:Q,range:f.markText(Q,f.getCursor("to"),{className:"CodeMirror-composing"})}}),At(y,"compositionend",function(){p.composing&&(p.poll(),p.composing.range.clear(),p.composing=null)})},Ho.prototype.createField=function(i){this.wrapper=_d(),this.textarea=this.wrapper.firstChild},Ho.prototype.screenReaderLabelChanged=function(i){i?this.textarea.setAttribute("aria-label",i):this.textarea.removeAttribute("aria-label")},Ho.prototype.prepareSelection=function(){var i=this.cm,s=i.display,p=i.doc,f=Ys(i);if(i.options.moveInputWithCursor){var y=Dn(i,p.sel.primary().head,"div"),D=s.wrapper.getBoundingClientRect(),Q=s.lineDiv.getBoundingClientRect();f.teTop=Math.max(0,Math.min(s.wrapper.clientHeight-10,y.top+Q.top-D.top)),f.teLeft=Math.max(0,Math.min(s.wrapper.clientWidth-10,y.left+Q.left-D.left))}return f},Ho.prototype.showSelection=function(i){var s=this.cm.display;G(s.cursorDiv,i.cursors),G(s.selectionDiv,i.selection),null!=i.teTop&&(this.wrapper.style.top=i.teTop+"px",this.wrapper.style.left=i.teLeft+"px")},Ho.prototype.reset=function(i){if(!this.contextMenuPending&&!this.composing){var s=this.cm;if(s.somethingSelected()){this.prevInput="";var p=s.getSelection();this.textarea.value=p,s.state.focused&&Pt(this.textarea),rt&&F>=9&&(this.hasSelection=p)}else i||(this.prevInput=this.textarea.value="",rt&&F>=9&&(this.hasSelection=null))}},Ho.prototype.getField=function(){return this.textarea},Ho.prototype.supportsTouch=function(){return!1},Ho.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!_||Lt()!=this.textarea))try{this.textarea.focus()}catch{}},Ho.prototype.blur=function(){this.textarea.blur()},Ho.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ho.prototype.receivedFocus=function(){this.slowPoll()},Ho.prototype.slowPoll=function(){var i=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){i.poll(),i.cm.state.focused&&i.slowPoll()})},Ho.prototype.fastPoll=function(){var i=!1,s=this;s.pollingFast=!0,s.polling.set(20,function p(){s.poll()||i?(s.pollingFast=!1,s.slowPoll()):(i=!0,s.polling.set(60,p))})},Ho.prototype.poll=function(){var i=this,s=this.cm,p=this.textarea,f=this.prevInput;if(this.contextMenuPending||!s.state.focused||Zn(p)&&!f&&!this.composing||s.isReadOnly()||s.options.disableInput||s.state.keySeq)return!1;var y=p.value;if(y==f&&!s.somethingSelected())return!1;if(rt&&F>=9&&this.hasSelection===y||et&&/[\uf700-\uf7ff]/.test(y))return s.display.input.reset(),!1;if(s.doc.sel==s.display.selForContextMenu){var D=y.charCodeAt(0);if(8203!=D||f||(f="\u200b"),8666==D)return this.reset(),this.cm.execCommand("undo")}for(var Q=0,it=Math.min(f.length,y.length);Q<it&&f.charCodeAt(Q)==y.charCodeAt(Q);)++Q;return yi(s,function(){yu(s,y.slice(Q),f.length-Q,null,i.composing?"*compose":null),y.length>1e3||y.indexOf("\n")>-1?p.value=i.prevInput="":i.prevInput=y,i.composing&&(i.composing.range.clear(),i.composing.range=s.markText(i.composing.start,s.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ho.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ho.prototype.onKeyPress=function(){rt&&F>=9&&(this.hasSelection=null),this.fastPoll()},Ho.prototype.onContextMenu=function(i){var s=this,p=s.cm,f=p.display,y=s.textarea;s.contextMenuPending&&s.contextMenuPending();var D=li(p,i),Q=f.scroller.scrollTop;if(D&&!ut){p.options.resetSelectionOnContextMenu&&-1==p.doc.sel.contains(D)&&ti(p,z)(p.doc,Mi(D),Ee);var it,bt=y.style.cssText,Tt=s.wrapper.style.cssText,Yt=s.wrapper.offsetParent.getBoundingClientRect();if(s.wrapper.style.cssText="position: static",y.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(i.clientY-Yt.top-5)+"px; left: "+(i.clientX-Yt.left-5)+"px;\n      z-index: 1000; background: "+(rt?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",H&&(it=window.scrollY),f.input.focus(),H&&window.scrollTo(null,it),f.input.reset(),p.somethingSelected()||(y.value=s.prevInput=" "),s.contextMenuPending=be,f.selForContextMenu=p.doc.sel,clearTimeout(f.detectingSelectAll),rt&&F>=9&&_e(),E){Oe(i);var Zt=function(){Ct(window,"mouseup",Zt),setTimeout(be,20)};At(window,"mouseup",Zt)}else setTimeout(be,50)}function _e(){if(null!=y.selectionStart){var Ne=p.somethingSelected(),Ye="\u200b"+(Ne?y.value:"");y.value="\u21da",y.value=Ye,s.prevInput=Ne?"":"\u200b",y.selectionStart=1,y.selectionEnd=Ye.length,f.selForContextMenu=p.doc.sel}}function be(){if(s.contextMenuPending==be&&(s.contextMenuPending=!1,s.wrapper.style.cssText=Tt,y.style.cssText=bt,rt&&F<9&&f.scrollbars.setScrollTop(f.scroller.scrollTop=Q),null!=y.selectionStart)){(!rt||rt&&F<9)&&_e();var Ne=0,Ye=function(){f.selForContextMenu==p.doc.sel&&0==y.selectionStart&&y.selectionEnd>0&&"\u200b"==s.prevInput?ti(p,Hi)(p):Ne++<10?f.detectingSelectAll=setTimeout(Ye,500):(f.selForContextMenu=null,f.input.reset())};f.detectingSelectAll=setTimeout(Ye,200)}}},Ho.prototype.readOnlyChanged=function(i){i||this.reset(),this.textarea.disabled="nocursor"==i,this.textarea.readOnly=!!i},Ho.prototype.setUneditable=function(){},Ho.prototype.needsContentAttribute=!1,function gd(i){var s=i.optionHandlers;function p(f,y,D,Q){i.defaults[f]=y,D&&(s[f]=Q?function(it,bt,Tt){Tt!=ml&&D(it,bt,Tt)}:D)}i.defineOption=p,i.Init=ml,p("value","",function(f,y){return f.setValue(y)},!0),p("mode",null,function(f,y){f.doc.modeOption=y,lo(f)},!0),p("indentUnit",2,lo,!0),p("indentWithTabs",!1),p("smartIndent",!0),p("tabSize",4,function(f){Hs(f),Ht(f),wi(f)},!0),p("lineSeparator",null,function(f,y){if(f.doc.lineSep=y,y){var D=[],Q=f.doc.first;f.doc.iter(function(bt){for(var Tt=0;;){var Yt=bt.text.indexOf(y,Tt);if(-1==Yt)break;Tt=Yt+y.length,D.push(qe(Q,Yt))}Q++});for(var it=D.length-1;it>=0;it--)cl(f.doc,y,D[it],qe(D[it].line,D[it].ch+y.length))}}),p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(f,y,D){f.state.specialChars=new RegExp(y.source+(y.test("\t")?"":"|\t"),"g"),D!=ml&&f.refresh()}),p("specialCharPlaceholder",Gt,function(f){return f.refresh()},!0),p("electricChars",!0),p("inputStyle",_?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),p("spellcheck",!1,function(f,y){return f.getInputField().spellcheck=y},!0),p("autocorrect",!1,function(f,y){return f.getInputField().autocorrect=y},!0),p("autocapitalize",!1,function(f,y){return f.getInputField().autocapitalize=y},!0),p("rtlMoveVisually",!w),p("wholeLineUpdateBefore",!0),p("theme","default",function(f){pd(f),ha(f)},!0),p("keyMap","default",function(f,y,D){var Q=Lc(y),it=D!=ml&&Lc(D);it&&it.detach&&it.detach(f,Q),Q.attach&&Q.attach(f,it||null)}),p("extraKeys",null),p("configureMouse",null),p("lineWrapping",!1,Rc,!0),p("gutters",[],function(f,y){f.display.gutterSpecs=ea(y,f.options.lineNumbers),ha(f)},!0),p("fixedGutter",!0,function(f,y){f.display.gutters.style.left=y?Qo(f.display)+"px":"0",f.refresh()},!0),p("coverGutterNextToScrollbar",!1,function(f){return Ta(f)},!0),p("scrollbarStyle","native",function(f){bc(f),Ta(f),f.display.scrollbars.setScrollTop(f.doc.scrollTop),f.display.scrollbars.setScrollLeft(f.doc.scrollLeft)},!0),p("lineNumbers",!1,function(f,y){f.display.gutterSpecs=ea(f.options.gutters,y),ha(f)},!0),p("firstLineNumber",1,ha,!0),p("lineNumberFormatter",function(f){return f},ha,!0),p("showCursorWhenSelecting",!1,Fa,!0),p("resetSelectionOnContextMenu",!0),p("lineWiseCopyCut",!0),p("pasteLinesPerSelection",!0),p("selectionsMayTouch",!1),p("readOnly",!1,function(f,y){"nocursor"==y&&($i(f),f.display.input.blur()),f.display.input.readOnlyChanged(y)}),p("screenReaderLabel",null,function(f,y){f.display.input.screenReaderLabelChanged(y=""===y?null:y)}),p("disableInput",!1,function(f,y){y||f.display.input.reset()},!0),p("dragDrop",!0,Nf),p("allowDropFileTypes",null),p("cursorBlinkRate",530),p("cursorScrollMargin",0),p("cursorHeight",1,Fa,!0),p("singleCursorHeightPerLine",!0,Fa,!0),p("workTime",100),p("workDelay",100),p("flattenSpans",!0,Hs,!0),p("addModeClass",!1,Hs,!0),p("pollInterval",100),p("undoDepth",200,function(f,y){return f.doc.history.undoDepth=y}),p("historyEventDelay",1250),p("viewportMargin",10,function(f){return f.refresh()},!0),p("maxHighlightLength",1e4,Hs,!0),p("moveInputWithCursor",!0,function(f,y){y||f.display.input.resetPosition()}),p("tabindex",null,function(f,y){return f.display.input.getField().tabIndex=y||""}),p("autofocus",null),p("direction","ltr",function(f,y){return f.doc.setDirection(y)},!0),p("phrases",null)}(Do),function bd(i){var s=i.optionHandlers,p=i.helpers={};i.prototype={constructor:i,focus:function(){window.focus(),this.display.input.focus()},setOption:function(f,y){var D=this.options,Q=D[f];D[f]==y&&"mode"!=f||(D[f]=y,s.hasOwnProperty(f)&&ti(this,s[f])(this,y,Q),kt(this,"optionChange",this,f))},getOption:function(f){return this.options[f]},getDoc:function(){return this.doc},addKeyMap:function(f,y){this.state.keyMaps[y?"push":"unshift"](Lc(f))},removeKeyMap:function(f){for(var y=this.state.keyMaps,D=0;D<y.length;++D)if(y[D]==f||y[D].name==f)return y.splice(D,1),!0},addOverlay:ei(function(f,y){var D=f.token?f:i.getMode(this.options,f);if(D.startState)throw new Error("Overlays may not be stateful.");(function Me(i,s,p){for(var f=0,y=p(s);f<i.length&&p(i[f])<=y;)f++;i.splice(f,0,s)})(this.state.overlays,{mode:D,modeSpec:f,opaque:y&&y.opaque,priority:y&&y.priority||0},function(Q){return Q.priority}),this.state.modeGen++,wi(this)}),removeOverlay:ei(function(f){for(var y=this.state.overlays,D=0;D<y.length;++D){var Q=y[D].modeSpec;if(Q==f||"string"==typeof f&&Q.name==f)return y.splice(D,1),this.state.modeGen++,void wi(this)}}),indentLine:ei(function(f,y,D){"string"!=typeof y&&"number"!=typeof y&&(y=null==y?this.options.smartIndent?"smart":"prev":y?"add":"subtract"),to(this.doc,f)&&va(this,f,y,D)}),indentSelection:ei(function(f){for(var y=this.doc.sel.ranges,D=-1,Q=0;Q<y.length;Q++){var it=y[Q];if(it.empty())it.head.line>D&&(va(this,it.head.line,f,!0),D=it.head.line,Q==this.doc.sel.primIndex&&fs(this));else{var bt=it.from(),Tt=it.to(),Yt=Math.max(D,bt.line);D=Math.min(this.lastLine(),Tt.line-(Tt.ch?0:1))+1;for(var Zt=Yt;Zt<D;++Zt)va(this,Zt,f);var _e=this.doc.sel.ranges;0==bt.ch&&y.length==_e.length&&_e[Q].from().ch>0&&zl(this.doc,Q,new Xr(bt,_e[Q].to()),Ee)}}}),getTokenAt:function(f,y){return qo(this,f,y)},getLineTokens:function(f,y){return qo(this,qe(f),y,!0)},getTokenTypeAt:function(f){f=cn(this.doc,f);var y,D=Wo(this,an(this.doc,f.line)),Q=0,it=(D.length-1)/2,bt=f.ch;if(0==bt)y=D[2];else for(;;){var Tt=Q+it>>1;if((Tt?D[2*Tt-1]:0)>=bt)it=Tt;else{if(!(D[2*Tt+1]<bt)){y=D[2*Tt+2];break}Q=Tt+1}}var Yt=y?y.indexOf("overlay "):-1;return Yt<0?y:0==Yt?null:y.slice(0,Yt-1)},getModeAt:function(f){var y=this.doc.mode;return y.innerMode?i.innerMode(y,this.getTokenAt(f).state).mode:y},getHelper:function(f,y){return this.getHelpers(f,y)[0]},getHelpers:function(f,y){var D=[];if(!p.hasOwnProperty(y))return D;var Q=p[y],it=this.getModeAt(f);if("string"==typeof it[y])Q[it[y]]&&D.push(Q[it[y]]);else if(it[y])for(var bt=0;bt<it[y].length;bt++){var Tt=Q[it[y][bt]];Tt&&D.push(Tt)}else it.helperType&&Q[it.helperType]?D.push(Q[it.helperType]):Q[it.name]&&D.push(Q[it.name]);for(var Yt=0;Yt<Q._global.length;Yt++){var Zt=Q._global[Yt];Zt.pred(it,this)&&-1==Qt(D,Zt.val)&&D.push(Zt.val)}return D},getStateAfter:function(f,y){var D=this.doc;return Ar(this,(f=Tn(D,f??D.first+D.size-1))+1,y).state},cursorCoords:function(f,y){var D=this.doc.sel.primary();return Dn(this,null==f?D.head:"object"==typeof f?cn(this.doc,f):f?D.from():D.to(),y||"page")},charCoords:function(f,y){return Cn(this,cn(this.doc,f),y||"page")},coordsChar:function(f,y){return ar(this,(f=wn(this,f,y||"page")).left,f.top)},lineAtHeight:function(f,y){return f=wn(this,{top:f,left:0},y||"page").top,To(this.doc,f+this.display.viewOffset)},heightAtLine:function(f,y,D){var Q,it=!1;if("number"==typeof f){var bt=this.doc.first+this.doc.size-1;f<this.doc.first?f=this.doc.first:f>bt&&(f=bt,it=!0),Q=an(this.doc,f)}else Q=f;return Ge(this,Q,{top:0,left:0},y||"page",D||it).top+(it?this.doc.height-g(Q):0)},defaultTextHeight:function(){return Co(this.display)},defaultCharWidth:function(){return mi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(f,y,D,Q,it){var bt=this.display,Tt=(f=Dn(this,cn(this.doc,f))).bottom,Yt=f.left;if(y.style.position="absolute",y.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(y),bt.sizer.appendChild(y),"over"==Q)Tt=f.top;else if("above"==Q||"near"==Q){var Zt=Math.max(bt.wrapper.clientHeight,this.doc.height),_e=Math.max(bt.sizer.clientWidth,bt.lineSpace.clientWidth);("above"==Q||f.bottom+y.offsetHeight>Zt)&&f.top>y.offsetHeight?Tt=f.top-y.offsetHeight:f.bottom+y.offsetHeight<=Zt&&(Tt=f.bottom),Yt+y.offsetWidth>_e&&(Yt=_e-y.offsetWidth)}y.style.top=Tt+"px",y.style.left=y.style.right="","right"==it?(Yt=bt.sizer.clientWidth-y.offsetWidth,y.style.right="0px"):("left"==it?Yt=0:"middle"==it&&(Yt=(bt.sizer.clientWidth-y.offsetWidth)/2),y.style.left=Yt+"px"),D&&function ou(i,s){var p=ds(i,s);null!=p.scrollTop&&Ps(i,p.scrollTop),null!=p.scrollLeft&&fa(i,p.scrollLeft)}(this,{left:Yt,top:Tt,right:Yt+y.offsetWidth,bottom:Tt+y.offsetHeight})},triggerOnKeyDown:ei(ad),triggerOnKeyPress:ei(hu),triggerOnKeyUp:ld,triggerOnMouseDown:ei(cd),execCommand:function(f){if(Gl.hasOwnProperty(f))return Gl[f].call(null,this)},triggerElectric:ei(function(f){_u(this,f)}),findPosH:function(f,y,D,Q){var it=1;y<0&&(it=-1,y=-y);for(var bt=cn(this.doc,f),Tt=0;Tt<y&&!(bt=bu(this.doc,bt,it,D,Q)).hitSide;++Tt);return bt},moveH:ei(function(f,y){var D=this;this.extendSelectionsBy(function(Q){return D.display.shift||D.doc.extend||Q.empty()?bu(D.doc,Q.head,f,y,D.options.rtlMoveVisually):f<0?Q.from():Q.to()},Ke)}),deleteH:ei(function(f,y){var Q=this.doc;this.doc.sel.somethingSelected()?Q.replaceSelection("",null,"+delete"):gl(this,function(it){var bt=bu(Q,it.head,f,y,!1);return f<0?{from:bt,to:it.head}:{from:it.head,to:bt}})}),findPosV:function(f,y,D,Q){var it=1,bt=Q;y<0&&(it=-1,y=-y);for(var Tt=cn(this.doc,f),Yt=0;Yt<y;++Yt){var Zt=Dn(this,Tt,"div");if(null==bt?bt=Zt.left:Zt.left=bt,(Tt=wd(this,Zt,it,D)).hitSide)break}return Tt},moveV:ei(function(f,y){var D=this,Q=this.doc,it=[],bt=!this.display.shift&&!Q.extend&&Q.sel.somethingSelected();if(Q.extendSelectionsBy(function(Yt){if(bt)return f<0?Yt.from():Yt.to();var Zt=Dn(D,Yt.head,"div");null!=Yt.goalColumn&&(Zt.left=Yt.goalColumn),it.push(Zt.left);var _e=wd(D,Zt,f,y);return"page"==y&&Yt==Q.sel.primary()&&Qs(D,Cn(D,_e,"div").top-Zt.top),_e},Ke),it.length)for(var Tt=0;Tt<Q.sel.ranges.length;Tt++)Q.sel.ranges[Tt].goalColumn=it[Tt]}),findWordAt:function(f){var y=an(this.doc,f.line).text,D=f.ch,Q=f.ch;if(y){var it=this.getHelper(f,"wordChars");"before"!=f.sticky&&Q!=y.length||!D?++Q:--D;for(var bt=y.charAt(D),Tt=se(bt,it)?function(Yt){return se(Yt,it)}:/\s/.test(bt)?function(Yt){return/\s/.test(Yt)}:function(Yt){return!/\s/.test(Yt)&&!se(Yt)};D>0&&Tt(y.charAt(D-1));)--D;for(;Q<y.length&&Tt(y.charAt(Q));)++Q}return new Xr(qe(f.line,D),qe(f.line,Q))},toggleOverwrite:function(f){null!=f&&f==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Mt(this.display.cursorDiv,"CodeMirror-overwrite"):q(this.display.cursorDiv,"CodeMirror-overwrite"),kt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Lt()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ei(function(f,y){Is(this,f,y)}),getScrollInfo:function(){var f=this.display.scroller;return{left:f.scrollLeft,top:f.scrollTop,height:f.scrollHeight-fe(this)-this.display.barHeight,width:f.scrollWidth-fe(this)-this.display.barWidth,clientHeight:$e(this),clientWidth:ve(this)}},scrollIntoView:ei(function(f,y){null==f?(f={from:this.doc.sel.primary().head,to:null},null==y&&(y=this.options.cursorScrollMargin)):"number"==typeof f?f={from:qe(f,0),to:null}:null==f.from&&(f={from:f,to:null}),f.to||(f.to=f.from),f.margin=y||0,null!=f.from.line?function iu(i,s){Ka(i),i.curOp.scrollToPos=s}(this,f):yc(this,f.from,f.to,f.margin)}),setSize:ei(function(f,y){var D=this,Q=function(bt){return"number"==typeof bt||/^\d+$/.test(String(bt))?bt+"px":bt};null!=f&&(this.display.wrapper.style.width=Q(f)),null!=y&&(this.display.wrapper.style.height=Q(y)),this.options.lineWrapping&&Ds(this);var it=this.display.viewFrom;this.doc.iter(it,this.display.viewTo,function(bt){if(bt.widgets)for(var Tt=0;Tt<bt.widgets.length;Tt++)if(bt.widgets[Tt].noHScroll){La(D,it,"widget");break}++it}),this.curOp.forceUpdate=!0,kt(this,"refresh",this)}),operation:function(f){return yi(this,f)},startOperation:function(){return Ya(this)},endOperation:function(){return Xa(this)},refresh:ei(function(){var f=this.display.cachedTextHeight;wi(this),this.curOp.forceUpdate=!0,Ht(this),Is(this,this.doc.scrollLeft,this.doc.scrollTop),rl(this.display),(null==f||Math.abs(f-Co(this.display))>.5||this.options.lineWrapping)&&El(this),kt(this,"refresh",this)}),swapDoc:ei(function(f){var y=this.doc;return y.cm=null,this.state.selectingText&&this.state.selectingText(),il(this,f),Ht(this),this.display.input.reset(),Is(this,f.scrollLeft,f.scrollTop),this.curOp.forceScroll=!0,Pn(this,"swapDoc",this,y),y}),phrase:function(f){var y=this.options.phrases;return y&&Object.prototype.hasOwnProperty.call(y,f)?y[f]:f},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ce(i),i.registerHelper=function(f,y,D){p.hasOwnProperty(f)||(p[f]=i[f]={_global:[]}),p[f][y]=D},i.registerGlobalHelper=function(f,y,D,Q){i.registerHelper(f,y,Q),p[f]._global.push({pred:D,val:Q})}}(Do);var Ff="iter insert remove copy getEditor constructor".split(" ");for(var ws in Bi.prototype)Bi.prototype.hasOwnProperty(ws)&&Qt(Ff,ws)<0&&(Do.prototype[ws]=function(i){return function(){return i.apply(this.doc,arguments)}}(Bi.prototype[ws]));return Ce(Bi),Do.inputStyles={textarea:Ho,contenteditable:oo},Do.defineMode=function(i){Do.defaults.mode||"null"==i||(Do.defaults.mode=i),Vn.apply(this,arguments)},Do.defineMIME=function Vr(i,s){fr[i]=s},Do.defineMode("null",function(){return{token:function(i){return i.skipToEnd()}}}),Do.defineMIME("text/plain","null"),Do.defineExtension=function(i,s){Do.prototype[i]=s},Do.defineDocExtension=function(i,s){Bi.prototype[i]=s},Do.fromTextArea=function Sd(i,s){if((s=s?de(s):{}).value=i.value,!s.tabindex&&i.tabIndex&&(s.tabindex=i.tabIndex),!s.placeholder&&i.placeholder&&(s.placeholder=i.placeholder),null==s.autofocus){var p=Lt();s.autofocus=p==i||null!=i.getAttribute("autofocus")&&p==document.body}function f(){i.value=it.getValue()}var y;if(i.form&&(At(i.form,"submit",f),!s.leaveSubmitMethodAlone)){var D=i.form;y=D.submit;try{var Q=D.submit=function(){f(),D.submit=y,D.submit(),D.submit=Q}}catch{}}s.finishInit=function(bt){bt.save=f,bt.getTextArea=function(){return i},bt.toTextArea=function(){bt.toTextArea=isNaN,f(),i.parentNode.removeChild(bt.getWrapperElement()),i.style.display="",i.form&&(Ct(i.form,"submit",f),s.leaveSubmitMethodAlone||"function"!=typeof i.form.submit||(i.form.submit=y))}},i.style.display="none";var it=Do(function(bt){return i.parentNode.insertBefore(bt,i.nextSibling)},s);return it},function Td(i){i.off=Ct,i.on=At,i.wheelEventPixels=au,i.Doc=Bi,i.splitLines=Bn,i.countColumn=zt,i.findColumn=le,i.isWordChar=ce,i.Pass=me,i.signal=kt,i.Line=I,i.changeEnd=Oa,i.scrollbarModel=Pl,i.Pos=qe,i.cmpPos=In,i.modes=Or,i.mimeModes=fr,i.resolveMode=Gn,i.getMode=Dr,i.modeExtensions=Ir,i.extendMode=Qr,i.copyState=kr,i.startState=Io,i.innerMode=uo,i.commands=Gl,i.keyMap=Ha,i.keyName=nd,i.isModifierKey=td,i.lookupKey=hl,i.normalizeKeyMap=pl,i.StringStream=_r,i.SharedTextMarker=$l,i.TextMarker=Ea,i.LineWidget=Kl,i.e_preventDefault=Ze,i.e_stopPropagation=tt,i.e_stop=Oe,i.addClass=Mt,i.contains=U,i.rmClass=q,i.keyNames=Ra}(Do),Do.version="5.63.0",Do}()},7389:(R,at,ct)=>{!function(nt){"use strict";function pt(A){for(var T={},q=0;q<A.length;++q)T[A[q].toLowerCase()]=!0;return T}nt.defineMode("css",function(A,T){var q=T.inline;T.propertyKeywords||(T=nt.resolveMode("text/css"));var M,G,B=A.indentUnit,ot=T.tokenHooks,U=T.documentTypes||{},Lt=T.mediaTypes||{},Mt=T.mediaFeatures||{},St=T.mediaValueKeywords||{},Pt=T.propertyKeywords||{},Jt=T.nonStandardPropertyKeywords||{},de=T.fontProperties||{},zt=T.counterDescriptors||{},he=T.colorKeywords||{},Qt=T.valueKeywords||{},Ue=T.allowNested,Ee=!0===T.supportsAtComponent,We=!1!==A.highlightNonStandardPropertyKeywords;function Ke(se,dt){return M=dt,se}function le(se,dt){var yt=se.next();if(ot[yt]){var Rt=ot[yt](se,dt);if(!1!==Rt)return Rt}return"@"==yt?(se.eatWhile(/[\w\\\-]/),Ke("def",se.current())):"="==yt||("~"==yt||"|"==yt)&&se.eat("=")?Ke(null,"compare"):'"'==yt||"'"==yt?(dt.tokenize=Kt(yt),dt.tokenize(se,dt)):"#"==yt?(se.eatWhile(/[\w\\\-]/),Ke("atom","hash")):"!"==yt?(se.match(/^\s*\w*/),Ke("keyword","important")):/\d/.test(yt)||"."==yt&&se.eat(/\d/)?(se.eatWhile(/[\w.%]/),Ke("number","unit")):"-"!==yt?/[,+>*\/]/.test(yt)?Ke(null,"select-op"):"."==yt&&se.match(/^-?[_a-z][_a-z0-9-]*/i)?Ke("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(yt)?Ke(null,yt):se.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(se.current())&&(dt.tokenize=Ie),Ke("variable callee","variable")):/[\w\\\-]/.test(yt)?(se.eatWhile(/[\w\\\-]/),Ke("property","word")):Ke(null,null):/[\d.]/.test(se.peek())?(se.eatWhile(/[\w.%]/),Ke("number","unit")):se.match(/^-[\w\\\-]*/)?(se.eatWhile(/[\w\\\-]/),se.match(/^\s*:/,!1)?Ke("variable-2","variable-definition"):Ke("variable-2","variable")):se.match(/^\w+-/)?Ke("meta","meta"):void 0}function Kt(se){return function(dt,yt){for(var Rt,re=!1;null!=(Rt=dt.next());){if(Rt==se&&!re){")"==se&&dt.backUp(1);break}re=!re&&"\\"==Rt}return(Rt==se||!re&&")"!=se)&&(yt.tokenize=null),Ke("string","string")}}function Ie(se,dt){return se.next(),dt.tokenize=se.match(/^\s*[\"\')]/,!1)?null:Kt(")"),Ke(null,"(")}function ue(se,dt,yt){this.type=se,this.indent=dt,this.prev=yt}function Fe(se,dt,yt,Rt){return se.context=new ue(yt,dt.indentation()+(!1===Rt?0:B),se.context),yt}function Me(se){return se.context.prev&&(se.context=se.context.prev),se.context.type}function sn(se,dt,yt){return ce[yt.context.type](se,dt,yt)}function mn(se,dt,yt,Rt){for(var re=Rt||1;re>0;re--)yt.context=yt.context.prev;return sn(se,dt,yt)}function gn(se){var dt=se.current().toLowerCase();G=Qt.hasOwnProperty(dt)?"atom":he.hasOwnProperty(dt)?"keyword":"variable"}var ce={top:function(se,dt,yt){if("{"==se)return Fe(yt,dt,"block");if("}"==se&&yt.context.prev)return Me(yt);if(Ee&&/@component/i.test(se))return Fe(yt,dt,"atComponentBlock");if(/^@(-moz-)?document$/i.test(se))return Fe(yt,dt,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(se))return Fe(yt,dt,"atBlock");if(/^@(font-face|counter-style)/i.test(se))return yt.stateArg=se,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(se))return"keyframes";if(se&&"@"==se.charAt(0))return Fe(yt,dt,"at");if("hash"==se)G="builtin";else if("word"==se)G="tag";else{if("variable-definition"==se)return"maybeprop";if("interpolation"==se)return Fe(yt,dt,"interpolation");if(":"==se)return"pseudo";if(Ue&&"("==se)return Fe(yt,dt,"parens")}return yt.context.type},block:function(se,dt,yt){if("word"==se){var Rt=dt.current().toLowerCase();return Pt.hasOwnProperty(Rt)?(G="property","maybeprop"):Jt.hasOwnProperty(Rt)?(G=We?"string-2":"property","maybeprop"):Ue?(G=dt.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(G+=" error","maybeprop")}return"meta"==se?"block":Ue||"hash"!=se&&"qualifier"!=se?ce.top(se,dt,yt):(G="error","block")},maybeprop:function(se,dt,yt){return":"==se?Fe(yt,dt,"prop"):sn(se,dt,yt)},prop:function(se,dt,yt){if(";"==se)return Me(yt);if("{"==se&&Ue)return Fe(yt,dt,"propBlock");if("}"==se||"{"==se)return mn(se,dt,yt);if("("==se)return Fe(yt,dt,"parens");if("hash"!=se||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(dt.current())){if("word"==se)gn(dt);else if("interpolation"==se)return Fe(yt,dt,"interpolation")}else G+=" error";return"prop"},propBlock:function(se,dt,yt){return"}"==se?Me(yt):"word"==se?(G="property","maybeprop"):yt.context.type},parens:function(se,dt,yt){return"{"==se||"}"==se?mn(se,dt,yt):")"==se?Me(yt):"("==se?Fe(yt,dt,"parens"):"interpolation"==se?Fe(yt,dt,"interpolation"):("word"==se&&gn(dt),"parens")},pseudo:function(se,dt,yt){return"meta"==se?"pseudo":"word"==se?(G="variable-3",yt.context.type):sn(se,dt,yt)},documentTypes:function(se,dt,yt){return"word"==se&&U.hasOwnProperty(dt.current())?(G="tag",yt.context.type):ce.atBlock(se,dt,yt)},atBlock:function(se,dt,yt){if("("==se)return Fe(yt,dt,"atBlock_parens");if("}"==se||";"==se)return mn(se,dt,yt);if("{"==se)return Me(yt)&&Fe(yt,dt,Ue?"block":"top");if("interpolation"==se)return Fe(yt,dt,"interpolation");if("word"==se){var Rt=dt.current().toLowerCase();G="only"==Rt||"not"==Rt||"and"==Rt||"or"==Rt?"keyword":Lt.hasOwnProperty(Rt)?"attribute":Mt.hasOwnProperty(Rt)?"property":St.hasOwnProperty(Rt)?"keyword":Pt.hasOwnProperty(Rt)?"property":Jt.hasOwnProperty(Rt)?We?"string-2":"property":Qt.hasOwnProperty(Rt)?"atom":he.hasOwnProperty(Rt)?"keyword":"error"}return yt.context.type},atComponentBlock:function(se,dt,yt){return"}"==se?mn(se,dt,yt):"{"==se?Me(yt)&&Fe(yt,dt,Ue?"block":"top",!1):("word"==se&&(G="error"),yt.context.type)},atBlock_parens:function(se,dt,yt){return")"==se?Me(yt):"{"==se||"}"==se?mn(se,dt,yt,2):ce.atBlock(se,dt,yt)},restricted_atBlock_before:function(se,dt,yt){return"{"==se?Fe(yt,dt,"restricted_atBlock"):"word"==se&&"@counter-style"==yt.stateArg?(G="variable","restricted_atBlock_before"):sn(se,dt,yt)},restricted_atBlock:function(se,dt,yt){return"}"==se?(yt.stateArg=null,Me(yt)):"word"==se?(G="@font-face"==yt.stateArg&&!de.hasOwnProperty(dt.current().toLowerCase())||"@counter-style"==yt.stateArg&&!zt.hasOwnProperty(dt.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(se,dt,yt){return"word"==se?(G="variable","keyframes"):"{"==se?Fe(yt,dt,"top"):sn(se,dt,yt)},at:function(se,dt,yt){return";"==se?Me(yt):"{"==se||"}"==se?mn(se,dt,yt):("word"==se?G="tag":"hash"==se&&(G="builtin"),"at")},interpolation:function(se,dt,yt){return"}"==se?Me(yt):"{"==se||";"==se?mn(se,dt,yt):("word"==se?G="variable":"variable"!=se&&"("!=se&&")"!=se&&(G="error"),"interpolation")}};return{startState:function(se){return{tokenize:null,state:q?"block":"top",stateArg:null,context:new ue(q?"block":"top",se||0,null)}},token:function(se,dt){if(!dt.tokenize&&se.eatSpace())return null;var yt=(dt.tokenize||le)(se,dt);return yt&&"object"==typeof yt&&(M=yt[1],yt=yt[0]),G=yt,"comment"!=M&&(dt.state=ce[dt.state](M,se,dt)),G},indent:function(se,dt){var yt=se.context,Rt=dt&&dt.charAt(0),re=yt.indent;return"prop"!=yt.type||"}"!=Rt&&")"!=Rt||(yt=yt.prev),yt.prev&&("}"!=Rt||"block"!=yt.type&&"top"!=yt.type&&"interpolation"!=yt.type&&"restricted_atBlock"!=yt.type?(")"!=Rt||"parens"!=yt.type&&"atBlock_parens"!=yt.type)&&("{"!=Rt||"at"!=yt.type&&"atBlock"!=yt.type)||(re=Math.max(0,yt.indent-B)):re=(yt=yt.prev).indent),re},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:T.lineComment,fold:"brace"}});var J=["domain","regexp","url","url-prefix"],ht=pt(J),rt=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],F=pt(rt),H=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],N=pt(H),X=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],ut=pt(X),V=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],$=pt(V),mt=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],K=pt(mt),st=pt(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),_=pt(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),et=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],u=pt(et),w=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],m=pt(w),x=J.concat(rt).concat(H).concat(X).concat(V).concat(mt).concat(et).concat(w);function E(A,T){for(var q,M=!1;null!=(q=A.next());){if(M&&"/"==q){T.tokenize=null;break}M="*"==q}return["comment","comment"]}nt.registerHelper("hintWords","css",x),nt.defineMIME("text/css",{documentTypes:ht,mediaTypes:F,mediaFeatures:N,mediaValueKeywords:ut,propertyKeywords:$,nonStandardPropertyKeywords:K,fontProperties:st,counterDescriptors:_,colorKeywords:u,valueKeywords:m,tokenHooks:{"/":function(A,T){return!!A.eat("*")&&(T.tokenize=E,E(A,T))}},name:"css"}),nt.defineMIME("text/x-scss",{mediaTypes:F,mediaFeatures:N,mediaValueKeywords:ut,propertyKeywords:$,nonStandardPropertyKeywords:K,colorKeywords:u,valueKeywords:m,fontProperties:st,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(A,T){return A.eat("/")?(A.skipToEnd(),["comment","comment"]):A.eat("*")?(T.tokenize=E,E(A,T)):["operator","operator"]},":":function(A){return!!A.match(/^\s*\{/,!1)&&[null,null]},$:function(A){return A.match(/^[\w-]+/),A.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(A){return!!A.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),nt.defineMIME("text/x-less",{mediaTypes:F,mediaFeatures:N,mediaValueKeywords:ut,propertyKeywords:$,nonStandardPropertyKeywords:K,colorKeywords:u,valueKeywords:m,fontProperties:st,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(A,T){return A.eat("/")?(A.skipToEnd(),["comment","comment"]):A.eat("*")?(T.tokenize=E,E(A,T)):["operator","operator"]},"@":function(A){return A.eat("{")?[null,"interpolation"]:!A.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(A.eatWhile(/[\w\\\-]/),A.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),nt.defineMIME("text/x-gss",{documentTypes:ht,mediaTypes:F,mediaFeatures:N,propertyKeywords:$,nonStandardPropertyKeywords:K,fontProperties:st,counterDescriptors:_,colorKeywords:u,valueKeywords:m,supportsAtComponent:!0,tokenHooks:{"/":function(A,T){return!!A.eat("*")&&(T.tokenize=E,E(A,T))}},name:"css",helperType:"gss"})}(ct(4408))},8253:(R,at,ct)=>{!function(nt){"use strict";var pt={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},ht={};function F(ut,V){var $=ut.match(function rt(ut){return ht[ut]||(ht[ut]=new RegExp("\\s+"+ut+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}(V));return $?/^\s*(.*?)\s*$/.exec($[2])[1]:""}function H(ut,V){return new RegExp((V?"^":"")+"</s*"+ut+"s*>","i")}function N(ut,V){for(var $ in ut)for(var mt=V[$]||(V[$]=[]),K=ut[$],st=K.length-1;st>=0;st--)mt.unshift(K[st])}nt.defineMode("htmlmixed",function(ut,V){var $=nt.getMode(ut,{name:"xml",htmlMode:!0,multilineTagIndentFactor:V.multilineTagIndentFactor,multilineTagIndentPastTag:V.multilineTagIndentPastTag,allowMissingTagName:V.allowMissingTagName}),mt={},K=V&&V.tags,st=V&&V.scriptTypes;if(N(pt,mt),K&&N(K,mt),st)for(var _=st.length-1;_>=0;_--)mt.script.unshift(["type",st[_].matches,st[_].mode]);function et(u,w){var m,x=$.token(u,w.htmlState),E=/\btag\b/.test(x);if(E&&!/[<>\s\/]/.test(u.current())&&(m=w.htmlState.tagName&&w.htmlState.tagName.toLowerCase())&&mt.hasOwnProperty(m))w.inTag=m+" ";else if(w.inTag&&E&&/>$/.test(u.current())){var A=/^([\S]+) (.*)/.exec(w.inTag);w.inTag=null;var T=">"==u.current()&&function X(ut,V){for(var $=0;$<ut.length;$++){var mt=ut[$];if(!mt[0]||mt[1].test(F(V,mt[0])))return mt[2]}}(mt[A[1]],A[2]),q=nt.getMode(ut,T),M=H(A[1],!0),G=H(A[1],!1);w.token=function(B,ot){return B.match(M,!1)?(ot.token=et,ot.localState=ot.localMode=null,null):function J(ut,V,$){var mt=ut.current(),K=mt.search(V);return K>-1?ut.backUp(mt.length-K):mt.match(/<\/?$/)&&(ut.backUp(mt.length),ut.match(V,!1)||ut.match(mt)),$}(B,G,ot.localMode.token(B,ot.localState))},w.localMode=q,w.localState=nt.startState(q,$.indent(w.htmlState,"",""))}else w.inTag&&(w.inTag+=u.current(),u.eol()&&(w.inTag+=" "));return x}return{startState:function(){return{token:et,inTag:null,localMode:null,localState:null,htmlState:nt.startState($)}},copyState:function(u){var w;return u.localState&&(w=nt.copyState(u.localMode,u.localState)),{token:u.token,inTag:u.inTag,localMode:u.localMode,localState:w,htmlState:nt.copyState($,u.htmlState)}},token:function(u,w){return w.token(u,w)},indent:function(u,w,m){return!u.localMode||/^\s*<\//.test(w)?$.indent(u.htmlState,w,m):u.localMode.indent?u.localMode.indent(u.localState,w,m):nt.Pass},innerMode:function(u){return{state:u.localState||u.htmlState,mode:u.localMode||$}}}},"xml","javascript","css"),nt.defineMIME("text/html","htmlmixed")}(ct(4408),ct(9701),ct(6061),ct(7389))},6061:(R,at,ct)=>{!function(nt){"use strict";nt.defineMode("javascript",function(pt,J){var ht,rt,F=pt.indentUnit,H=J.statementIndent,N=J.jsonld,X=J.json||N,ut=!1!==J.trackScope,V=J.typescript,$=J.wordCharacters||/[\w$\xa1-\uffff]/,mt=function(){function Dt(Wn){return{type:Wn,style:"keyword"}}var $t=Dt("keyword a"),je=Dt("keyword b"),fn=Dt("keyword c"),Tn=Dt("keyword d"),cn=Dt("operator"),sr={type:"atom",style:"atom"};return{if:Dt("if"),while:$t,with:$t,else:je,do:je,try:je,finally:je,return:Tn,break:Tn,continue:Tn,new:Dt("new"),delete:fn,void:fn,throw:fn,debugger:Dt("debugger"),var:Dt("var"),const:Dt("var"),let:Dt("var"),function:Dt("function"),catch:Dt("catch"),for:Dt("for"),switch:Dt("switch"),case:Dt("case"),default:Dt("default"),in:cn,typeof:cn,instanceof:cn,true:sr,false:sr,null:sr,undefined:sr,NaN:sr,Infinity:sr,this:Dt("this"),class:Dt("class"),super:Dt("atom"),yield:fn,export:Dt("export"),import:Dt("import"),extends:fn,await:fn}}(),K=/[+\-*&%=<>!?|~^@]/,st=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function et(Dt,$t,je){return ht=Dt,rt=je,$t}function u(Dt,$t){var je=Dt.next();if('"'==je||"'"==je)return $t.tokenize=function w(Dt){return function($t,je){var fn,Tn=!1;if(N&&"@"==$t.peek()&&$t.match(st))return je.tokenize=u,et("jsonld-keyword","meta");for(;null!=(fn=$t.next())&&(fn!=Dt||Tn);)Tn=!Tn&&"\\"==fn;return Tn||(je.tokenize=u),et("string","string")}}(je),$t.tokenize(Dt,$t);if("."==je&&Dt.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return et("number","number");if("."==je&&Dt.match(".."))return et("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(je))return et(je);if("="==je&&Dt.eat(">"))return et("=>","operator");if("0"==je&&Dt.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return et("number","number");if(/\d/.test(je))return Dt.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),et("number","number");if("/"==je)return Dt.eat("*")?($t.tokenize=m,m(Dt,$t)):Dt.eat("/")?(Dt.skipToEnd(),et("comment","comment")):In(Dt,$t,1)?(function _(Dt){for(var $t,je=!1,fn=!1;null!=($t=Dt.next());){if(!je){if("/"==$t&&!fn)return;"["==$t?fn=!0:fn&&"]"==$t&&(fn=!1)}je=!je&&"\\"==$t}}(Dt),Dt.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),et("regexp","string-2")):(Dt.eat("="),et("operator","operator",Dt.current()));if("`"==je)return $t.tokenize=x,x(Dt,$t);if("#"==je&&"!"==Dt.peek())return Dt.skipToEnd(),et("meta","meta");if("#"==je&&Dt.eatWhile($))return et("variable","property");if("<"==je&&Dt.match("!--")||"-"==je&&Dt.match("->")&&!/\S/.test(Dt.string.slice(0,Dt.start)))return Dt.skipToEnd(),et("comment","comment");if(K.test(je))return">"==je&&$t.lexical&&">"==$t.lexical.type||(Dt.eat("=")?"!"!=je&&"="!=je||Dt.eat("="):/[<>*+\-|&?]/.test(je)&&(Dt.eat(je),">"==je&&Dt.eat(je))),"?"==je&&Dt.eat(".")?et("."):et("operator","operator",Dt.current());if($.test(je)){Dt.eatWhile($);var fn=Dt.current();if("."!=$t.lastType){if(mt.propertyIsEnumerable(fn)){var Tn=mt[fn];return et(Tn.type,Tn.style,fn)}if("async"==fn&&Dt.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return et("async","keyword",fn)}return et("variable","variable",fn)}}function m(Dt,$t){for(var je,fn=!1;je=Dt.next();){if("/"==je&&fn){$t.tokenize=u;break}fn="*"==je}return et("comment","comment")}function x(Dt,$t){for(var je,fn=!1;null!=(je=Dt.next());){if(!fn&&("`"==je||"$"==je&&Dt.eat("{"))){$t.tokenize=u;break}fn=!fn&&"\\"==je}return et("quasi","string-2",Dt.current())}var E="([{}])";function A(Dt,$t){$t.fatArrowAt&&($t.fatArrowAt=null);var je=Dt.string.indexOf("=>",Dt.start);if(!(je<0)){if(V){var fn=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(Dt.string.slice(Dt.start,je));fn&&(je=fn.index)}for(var Tn=0,cn=!1,sr=je-1;sr>=0;--sr){var Wn=Dt.string.charAt(sr),go=E.indexOf(Wn);if(go>=0&&go<3){if(!Tn){++sr;break}if(0==--Tn){"("==Wn&&(cn=!0);break}}else if(go>=3&&go<6)++Tn;else if($.test(Wn))cn=!0;else if(/["'\/`]/.test(Wn))for(;;--sr){if(0==sr)return;if(Dt.string.charAt(sr-1)==Wn&&"\\"!=Dt.string.charAt(sr-2)){sr--;break}}else if(cn&&!Tn){++sr;break}}cn&&!Tn&&($t.fatArrowAt=sr)}}var T={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function q(Dt,$t,je,fn,Tn,cn){this.indented=Dt,this.column=$t,this.type=je,this.prev=Tn,this.info=cn,null!=fn&&(this.align=fn)}function M(Dt,$t){if(!ut)return!1;for(var je=Dt.localVars;je;je=je.next)if(je.name==$t)return!0;for(var fn=Dt.context;fn;fn=fn.prev)for(je=fn.vars;je;je=je.next)if(je.name==$t)return!0}function G(Dt,$t,je,fn,Tn){var cn=Dt.cc;for(B.state=Dt,B.stream=Tn,B.marked=null,B.cc=cn,B.style=$t,Dt.lexical.hasOwnProperty("align")||(Dt.lexical.align=!0);;)if((cn.length?cn.pop():X?Kt:Ke)(je,fn)){for(;cn.length&&cn[cn.length-1].lex;)cn.pop()();return B.marked?B.marked:"variable"==je&&M(Dt,fn)?"variable-2":$t}}var B={state:null,column:null,marked:null,cc:null};function ot(){for(var Dt=arguments.length-1;Dt>=0;Dt--)B.cc.push(arguments[Dt])}function U(){return ot.apply(null,arguments),!0}function Lt(Dt,$t){for(var je=$t;je;je=je.next)if(je.name==Dt)return!0;return!1}function Mt(Dt){var $t=B.state;if(B.marked="def",ut){if($t.context)if("var"==$t.lexical.info&&$t.context&&$t.context.block){var je=St(Dt,$t.context);if(null!=je)return void($t.context=je)}else if(!Lt(Dt,$t.localVars))return void($t.localVars=new de(Dt,$t.localVars));J.globalVars&&!Lt(Dt,$t.globalVars)&&($t.globalVars=new de(Dt,$t.globalVars))}}function St(Dt,$t){if($t){if($t.block){var je=St(Dt,$t.prev);return je?je==$t.prev?$t:new Jt(je,$t.vars,!0):null}return Lt(Dt,$t.vars)?$t:new Jt($t.prev,new de(Dt,$t.vars),!1)}return null}function Pt(Dt){return"public"==Dt||"private"==Dt||"protected"==Dt||"abstract"==Dt||"readonly"==Dt}function Jt(Dt,$t,je){this.prev=Dt,this.vars=$t,this.block=je}function de(Dt,$t){this.name=Dt,this.next=$t}var zt=new de("this",new de("arguments",null));function he(){B.state.context=new Jt(B.state.context,B.state.localVars,!1),B.state.localVars=zt}function Qt(){B.state.context=new Jt(B.state.context,B.state.localVars,!0),B.state.localVars=null}function Ue(){B.state.localVars=B.state.context.vars,B.state.context=B.state.context.prev}function me(Dt,$t){var je=function(){var fn=B.state,Tn=fn.indented;if("stat"==fn.lexical.type)Tn=fn.lexical.indented;else for(var cn=fn.lexical;cn&&")"==cn.type&&cn.align;cn=cn.prev)Tn=cn.indented;fn.lexical=new q(Tn,B.stream.column(),Dt,null,fn.lexical,$t)};return je.lex=!0,je}function Ee(){var Dt=B.state;Dt.lexical.prev&&(")"==Dt.lexical.type&&(Dt.indented=Dt.lexical.indented),Dt.lexical=Dt.lexical.prev)}function We(Dt){return function $t(je){return je==Dt?U():";"==Dt||"}"==je||")"==je||"]"==je?ot():U($t)}}function Ke(Dt,$t){return"var"==Dt?U(me("vardef",$t),Qe,We(";"),Ee):"keyword a"==Dt?U(me("form"),ue,Ke,Ee):"keyword b"==Dt?U(me("form"),Ke,Ee):"keyword d"==Dt?B.stream.match(/^\s*$/,!1)?U():U(me("stat"),Me,We(";"),Ee):"debugger"==Dt?U(We(";")):"{"==Dt?U(me("}"),Qt,At,Ee,Ue):";"==Dt?U():"if"==Dt?("else"==B.state.lexical.info&&B.state.cc[B.state.cc.length-1]==Ee&&B.state.cc.pop()(),U(me("form"),ue,Ke,Ee,or)):"function"==Dt?U(fr):"for"==Dt?U(me("form"),Qt,Cr,Ke,Ue,Ee):"class"==Dt||V&&"interface"==$t?(B.marked="keyword",U(me("form","class"==Dt?Dt:$t),Ir,Ee)):"variable"==Dt?V&&"declare"==$t?(B.marked="keyword",U(Ke)):V&&("module"==$t||"enum"==$t||"type"==$t)&&B.stream.match(/^\s*\w/,!1)?(B.marked="keyword","enum"==$t?U(to):"type"==$t?U(Vr,We("operator"),Wt,We(";")):U(me("form"),rn,We("{"),me("}"),At,Ee,Ee)):V&&"namespace"==$t?(B.marked="keyword",U(me("form"),Kt,Ke,Ee)):V&&"abstract"==$t?(B.marked="keyword",U(Ke)):U(me("stat"),xe):"switch"==Dt?U(me("form"),ue,We("{"),me("}","switch"),Qt,At,Ee,Ee,Ue):"case"==Dt?U(Kt,We(":")):"default"==Dt?U(We(":")):"catch"==Dt?U(me("form"),he,le,Ke,Ee,Ue):"export"==Dt?U(me("stat"),Io,Ee):"import"==Dt?U(me("stat"),an,Ee):"async"==Dt?U(Ke):"@"==$t?U(Kt,Ke):ot(me("stat"),Kt,We(";"),Ee)}function le(Dt){if("("==Dt)return U(Gn,We(")"))}function Kt(Dt,$t){return Fe(Dt,$t,!1)}function Ie(Dt,$t){return Fe(Dt,$t,!0)}function ue(Dt){return"("!=Dt?ot():U(me(")"),Me,We(")"),Ee)}function Fe(Dt,$t,je){if(B.state.fatArrowAt==B.stream.start){var fn=je?dt:se;if("("==Dt)return U(he,me(")"),bn(Gn,")"),Ee,We("=>"),fn,Ue);if("variable"==Dt)return ot(he,rn,We("=>"),fn,Ue)}var Tn=je?mn:sn;return T.hasOwnProperty(Dt)?U(Tn):"function"==Dt?U(fr,Tn):"class"==Dt||V&&"interface"==$t?(B.marked="keyword",U(me("form"),Dr,Ee)):"keyword c"==Dt||"async"==Dt?U(je?Ie:Kt):"("==Dt?U(me(")"),Me,We(")"),Ee,Tn):"operator"==Dt||"spread"==Dt?U(je?Ie:Kt):"["==Dt?U(me("]"),To,Ee,Tn):"{"==Dt?$n(He,"}",null,Tn):"quasi"==Dt?ot(gn,Tn):"new"==Dt?U(function yt(Dt){return function($t){return"."==$t?U(Dt?re:Rt):"variable"==$t&&V?U(oe,Dt?mn:sn):ot(Dt?Ie:Kt)}}(je)):U()}function Me(Dt){return Dt.match(/[;\}\)\],]/)?ot():ot(Kt)}function sn(Dt,$t){return","==Dt?U(Me):mn(Dt,$t,!1)}function mn(Dt,$t,je){var fn=0==je?sn:mn,Tn=0==je?Kt:Ie;return"=>"==Dt?U(he,je?dt:se,Ue):"operator"==Dt?/\+\+|--/.test($t)||V&&"!"==$t?U(fn):V&&"<"==$t&&B.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?U(me(">"),bn(Wt,">"),Ee,fn):"?"==$t?U(Kt,We(":"),Tn):U(Tn):"quasi"==Dt?ot(gn,fn):";"!=Dt?"("==Dt?$n(Ie,")","call",fn):"."==Dt?U(Se,fn):"["==Dt?U(me("]"),Me,We("]"),Ee,fn):V&&"as"==$t?(B.marked="keyword",U(Wt,fn)):"regexp"==Dt?(B.state.lastType=B.marked="operator",B.stream.backUp(B.stream.pos-B.stream.start-1),U(Tn)):void 0:void 0}function gn(Dt,$t){return"quasi"!=Dt?ot():"${"!=$t.slice($t.length-2)?U(gn):U(Me,ce)}function ce(Dt){if("}"==Dt)return B.marked="string-2",B.state.tokenize=x,U(gn)}function se(Dt){return A(B.stream,B.state),ot("{"==Dt?Ke:Kt)}function dt(Dt){return A(B.stream,B.state),ot("{"==Dt?Ke:Ie)}function Rt(Dt,$t){if("target"==$t)return B.marked="keyword",U(sn)}function re(Dt,$t){if("target"==$t)return B.marked="keyword",U(mn)}function xe(Dt){return":"==Dt?U(Ee,Ke):ot(sn,We(";"),Ee)}function Se(Dt){if("variable"==Dt)return B.marked="property",U()}function He(Dt,$t){return"async"==Dt?(B.marked="property",U(He)):"variable"==Dt||"keyword"==B.style?(B.marked="property","get"==$t||"set"==$t?U(Sn):(V&&B.state.fatArrowAt==B.stream.start&&(je=B.stream.match(/^\s*:\s*/,!1))&&(B.state.fatArrowAt=B.stream.pos+je[0].length),U(jn))):"number"==Dt||"string"==Dt?(B.marked=N?"property":B.style+" property",U(jn)):"jsonld-keyword"==Dt?U(jn):V&&Pt($t)?(B.marked="keyword",U(He)):"["==Dt?U(Kt,Be,We("]"),jn):"spread"==Dt?U(Ie,jn):"*"==$t?(B.marked="keyword",U(He)):":"==Dt?ot(jn):void 0;var je}function Sn(Dt){return"variable"!=Dt?ot(jn):(B.marked="property",U(fr))}function jn(Dt){return":"==Dt?U(Ie):"("==Dt?ot(fr):void 0}function bn(Dt,$t,je){function fn(Tn,cn){if(je?je.indexOf(Tn)>-1:","==Tn){var sr=B.state.lexical;return"call"==sr.info&&(sr.pos=(sr.pos||0)+1),U(function(Wn,go){return Wn==$t||go==$t?ot():ot(Dt)},fn)}return Tn==$t||cn==$t?U():je&&je.indexOf(";")>-1?ot(Dt):U(We($t))}return function(Tn,cn){return Tn==$t||cn==$t?U():ot(Dt,fn)}}function $n(Dt,$t,je){for(var fn=3;fn<arguments.length;fn++)B.cc.push(arguments[fn]);return U(me($t,je),bn(Dt,$t),Ee)}function At(Dt){return"}"==Dt?U():ot(Ke,At)}function Be(Dt,$t){if(V){if(":"==Dt)return U(Wt);if("?"==$t)return U(Be)}}function Ct(Dt,$t){if(V&&(":"==Dt||"in"==$t))return U(Wt)}function kt(Dt){if(V&&":"==Dt)return B.stream.match(/^\s*\w+\s+is\b/,!1)?U(Kt,jt,Wt):U(Wt)}function jt(Dt,$t){if("is"==$t)return B.marked="keyword",U()}function Wt(Dt,$t){return"keyof"==$t||"typeof"==$t||"infer"==$t||"readonly"==$t?(B.marked="keyword",U("typeof"==$t?Ie:Wt)):"variable"==Dt||"void"==$t?(B.marked="type",U(Nt)):"|"==$t||"&"==$t?U(Wt):"string"==Dt||"number"==Dt||"atom"==Dt?U(Nt):"["==Dt?U(me("]"),bn(Wt,"]",","),Ee,Nt):"{"==Dt?U(me("}"),Ce,Ee,Nt):"("==Dt?U(bn(Oe,")"),gt,Nt):"<"==Dt?U(bn(Wt,">"),Wt):"quasi"==Dt?ot(tt,Nt):void 0}function gt(Dt){if("=>"==Dt)return U(Wt)}function Ce(Dt){return Dt.match(/[\}\)\]]/)?U():","==Dt||";"==Dt?U(Ce):ot(Ze,Ce)}function Ze(Dt,$t){return"variable"==Dt||"keyword"==B.style?(B.marked="property",U(Ze)):"?"==$t||"number"==Dt||"string"==Dt?U(Ze):":"==Dt?U(Wt):"["==Dt?U(We("variable"),Ct,We("]"),Ze):"("==Dt?ot(Vn,Ze):Dt.match(/[;\}\)\],]/)?void 0:U()}function tt(Dt,$t){return"quasi"!=Dt?ot():"${"!=$t.slice($t.length-2)?U(tt):U(Wt,Te)}function Te(Dt){if("}"==Dt)return B.marked="string-2",B.state.tokenize=x,U(tt)}function Oe(Dt,$t){return"variable"==Dt&&B.stream.match(/^\s*[?:]/,!1)||"?"==$t?U(Oe):":"==Dt?U(Wt):"spread"==Dt?U(Oe):ot(Wt)}function Nt(Dt,$t){return"<"==$t?U(me(">"),bn(Wt,">"),Ee,Nt):"|"==$t||"."==Dt||"&"==$t?U(Wt):"["==Dt?U(Wt,We("]"),Nt):"extends"==$t||"implements"==$t?(B.marked="keyword",U(Wt)):"?"==$t?U(Wt,We(":"),Wt):void 0}function oe(Dt,$t){if("<"==$t)return U(me(">"),bn(Wt,">"),Ee,Nt)}function we(){return ot(Wt,un)}function un(Dt,$t){if("="==$t)return U(Wt)}function Qe(Dt,$t){return"enum"==$t?(B.marked="keyword",U(to)):ot(rn,Be,Bn,Zn)}function rn(Dt,$t){return V&&Pt($t)?(B.marked="keyword",U(rn)):"variable"==Dt?(Mt($t),U()):"spread"==Dt?U(rn):"["==Dt?$n(Br,"]"):"{"==Dt?$n(Hn,"}"):void 0}function Hn(Dt,$t){return"variable"!=Dt||B.stream.match(/^\s*:/,!1)?("variable"==Dt&&(B.marked="property"),"spread"==Dt?U(rn):"}"==Dt?ot():"["==Dt?U(Kt,We("]"),We(":"),Hn):U(We(":"),rn,Bn)):(Mt($t),U(Bn))}function Br(){return ot(rn,Bn)}function Bn(Dt,$t){if("="==$t)return U(Ie)}function Zn(Dt){if(","==Dt)return U(Qe)}function or(Dt,$t){if("keyword b"==Dt&&"else"==$t)return U(me("form","else"),Ke,Ee)}function Cr(Dt,$t){return"await"==$t?U(Cr):"("==Dt?U(me(")"),Sr,Ee):void 0}function Sr(Dt){return"var"==Dt?U(Qe,Or):"variable"==Dt?U(Or):ot(Or)}function Or(Dt,$t){return")"==Dt?U():";"==Dt?U(Or):"in"==$t||"of"==$t?(B.marked="keyword",U(Kt,Or)):ot(Kt,Or)}function fr(Dt,$t){return"*"==$t?(B.marked="keyword",U(fr)):"variable"==Dt?(Mt($t),U(fr)):"("==Dt?U(he,me(")"),bn(Gn,")"),Ee,kt,Ke,Ue):V&&"<"==$t?U(me(">"),bn(we,">"),Ee,fr):void 0}function Vn(Dt,$t){return"*"==$t?(B.marked="keyword",U(Vn)):"variable"==Dt?(Mt($t),U(Vn)):"("==Dt?U(he,me(")"),bn(Gn,")"),Ee,kt,Ue):V&&"<"==$t?U(me(">"),bn(we,">"),Ee,Vn):void 0}function Vr(Dt,$t){return"keyword"==Dt||"variable"==Dt?(B.marked="type",U(Vr)):"<"==$t?U(me(">"),bn(we,">"),Ee):void 0}function Gn(Dt,$t){return"@"==$t&&U(Kt,Gn),"spread"==Dt?U(Gn):V&&Pt($t)?(B.marked="keyword",U(Gn)):V&&"this"==Dt?U(Be,Bn):ot(rn,Be,Bn)}function Dr(Dt,$t){return"variable"==Dt?Ir(Dt,$t):Qr(Dt,$t)}function Ir(Dt,$t){if("variable"==Dt)return Mt($t),U(Qr)}function Qr(Dt,$t){return"<"==$t?U(me(">"),bn(we,">"),Ee,Qr):"extends"==$t||"implements"==$t||V&&","==Dt?("implements"==$t&&(B.marked="keyword"),U(V?Wt:Kt,Qr)):"{"==Dt?U(me("}"),kr,Ee):void 0}function kr(Dt,$t){return"async"==Dt||"variable"==Dt&&("static"==$t||"get"==$t||"set"==$t||V&&Pt($t))&&B.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(B.marked="keyword",U(kr)):"variable"==Dt||"keyword"==B.style?(B.marked="property",U(uo,kr)):"number"==Dt||"string"==Dt?U(uo,kr):"["==Dt?U(Kt,Be,We("]"),uo,kr):"*"==$t?(B.marked="keyword",U(kr)):V&&"("==Dt?ot(Vn,kr):";"==Dt||","==Dt?U(kr):"}"==Dt?U():"@"==$t?U(Kt,kr):void 0}function uo(Dt,$t){if("!"==$t||"?"==$t)return U(uo);if(":"==Dt)return U(Wt,Bn);if("="==$t)return U(Ie);var je=B.state.lexical.prev;return ot(je&&"interface"==je.info?Vn:fr)}function Io(Dt,$t){return"*"==$t?(B.marked="keyword",U(cr,We(";"))):"default"==$t?(B.marked="keyword",U(Kt,We(";"))):"{"==Dt?U(bn(_r,"}"),cr,We(";")):ot(Ke)}function _r(Dt,$t){return"as"==$t?(B.marked="keyword",U(We("variable"))):"variable"==Dt?ot(Ie,_r):void 0}function an(Dt){return"string"==Dt?U():"("==Dt?ot(Kt):"."==Dt?ot(sn):ot(Pr,No,cr)}function Pr(Dt,$t){return"{"==Dt?$n(Pr,"}"):("variable"==Dt&&Mt($t),"*"==$t&&(B.marked="keyword"),U(So))}function No(Dt){if(","==Dt)return U(Pr,No)}function So(Dt,$t){if("as"==$t)return B.marked="keyword",U(Pr)}function cr(Dt,$t){if("from"==$t)return B.marked="keyword",U(Kt)}function To(Dt){return"]"==Dt?U():ot(bn(Ie,"]"))}function to(){return ot(me("form"),rn,We("{"),me("}"),bn(di,"}"),Ee,Ee)}function di(){return ot(rn,Bn)}function In(Dt,$t,je){return $t.tokenize==u&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test($t.lastType)||"quasi"==$t.lastType&&/\{\s*$/.test(Dt.string.slice(0,Dt.pos-(je||0)))}return Ue.lex=!0,Ee.lex=!0,{startState:function(Dt){var $t={tokenize:u,lastType:"sof",cc:[],lexical:new q((Dt||0)-F,0,"block",!1),localVars:J.localVars,context:J.localVars&&new Jt(null,null,!1),indented:Dt||0};return J.globalVars&&"object"==typeof J.globalVars&&($t.globalVars=J.globalVars),$t},token:function(Dt,$t){if(Dt.sol()&&($t.lexical.hasOwnProperty("align")||($t.lexical.align=!1),$t.indented=Dt.indentation(),A(Dt,$t)),$t.tokenize!=m&&Dt.eatSpace())return null;var je=$t.tokenize(Dt,$t);return"comment"==ht?je:($t.lastType="operator"!=ht||"++"!=rt&&"--"!=rt?ht:"incdec",G($t,je,ht,rt,Dt))},indent:function(Dt,$t){if(Dt.tokenize==m||Dt.tokenize==x)return nt.Pass;if(Dt.tokenize!=u)return 0;var je,fn=$t&&$t.charAt(0),Tn=Dt.lexical;if(!/^\s*else\b/.test($t))for(var cn=Dt.cc.length-1;cn>=0;--cn){var sr=Dt.cc[cn];if(sr==Ee)Tn=Tn.prev;else if(sr!=or&&sr!=Ue)break}for(;("stat"==Tn.type||"form"==Tn.type)&&("}"==fn||(je=Dt.cc[Dt.cc.length-1])&&(je==sn||je==mn)&&!/^[,\.=+\-*:?[\(]/.test($t));)Tn=Tn.prev;H&&")"==Tn.type&&"stat"==Tn.prev.type&&(Tn=Tn.prev);var Wn=Tn.type,go=fn==Wn;return"vardef"==Wn?Tn.indented+("operator"==Dt.lastType||","==Dt.lastType?Tn.info.length+1:0):"form"==Wn&&"{"==fn?Tn.indented:"form"==Wn?Tn.indented+F:"stat"==Wn?Tn.indented+(function qe(Dt,$t){return"operator"==Dt.lastType||","==Dt.lastType||K.test($t.charAt(0))||/[,.]/.test($t.charAt(0))}(Dt,$t)?H||F:0):"switch"!=Tn.info||go||0==J.doubleIndentSwitch?Tn.align?Tn.column+(go?0:1):Tn.indented+(go?0:F):Tn.indented+(/^(?:case|default)\b/.test($t)?F:2*F)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:X?null:"/*",blockCommentEnd:X?null:"*/",blockCommentContinue:X?null:" * ",lineComment:X?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:X?"json":"javascript",jsonldMode:N,jsonMode:X,expressionAllowed:In,skipExpression:function(Dt){G(Dt,"atom","atom","true",new nt.StringStream("",2,null))}}}),nt.registerHelper("wordChars","javascript",/[\w$]/),nt.defineMIME("text/javascript","javascript"),nt.defineMIME("text/ecmascript","javascript"),nt.defineMIME("application/javascript","javascript"),nt.defineMIME("application/x-javascript","javascript"),nt.defineMIME("application/ecmascript","javascript"),nt.defineMIME("application/json",{name:"javascript",json:!0}),nt.defineMIME("application/x-json",{name:"javascript",json:!0}),nt.defineMIME("application/manifest+json",{name:"javascript",json:!0}),nt.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),nt.defineMIME("text/typescript",{name:"javascript",typescript:!0}),nt.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(ct(4408))},9701:(R,at,ct)=>{!function(nt){"use strict";var pt={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},J={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};nt.defineMode("xml",function(ht,rt){var F,H,N=ht.indentUnit,X={},ut=rt.htmlMode?pt:J;for(var V in ut)X[V]=ut[V];for(var V in rt)X[V]=rt[V];function $(U,Lt){function Mt(Pt){return Lt.tokenize=Pt,Pt(U,Lt)}var St=U.next();return"<"==St?U.eat("!")?U.eat("[")?U.match("CDATA[")?Mt(st("atom","]]>")):null:U.match("--")?Mt(st("comment","--\x3e")):U.match("DOCTYPE",!0,!0)?(U.eatWhile(/[\w\._\-]/),Mt(_(1))):null:U.eat("?")?(U.eatWhile(/[\w\._\-]/),Lt.tokenize=st("meta","?>"),"meta"):(F=U.eat("/")?"closeTag":"openTag",Lt.tokenize=mt,"tag bracket"):"&"==St?(U.eat("#")?U.eat("x")?U.eatWhile(/[a-fA-F\d]/)&&U.eat(";"):U.eatWhile(/[\d]/)&&U.eat(";"):U.eatWhile(/[\w\.\-:]/)&&U.eat(";"))?"atom":"error":(U.eatWhile(/[^&<]/),null)}function mt(U,Lt){var Mt=U.next();if(">"==Mt||"/"==Mt&&U.eat(">"))return Lt.tokenize=$,F=">"==Mt?"endTag":"selfcloseTag","tag bracket";if("="==Mt)return F="equals",null;if("<"==Mt){Lt.tokenize=$,Lt.state=x,Lt.tagName=Lt.tagStart=null;var St=Lt.tokenize(U,Lt);return St?St+" tag error":"tag error"}return/[\'\"]/.test(Mt)?(Lt.tokenize=function K(U){var Lt=function(Mt,St){for(;!Mt.eol();)if(Mt.next()==U){St.tokenize=mt;break}return"string"};return Lt.isInAttribute=!0,Lt}(Mt),Lt.stringStartCol=U.column(),Lt.tokenize(U,Lt)):(U.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function st(U,Lt){return function(Mt,St){for(;!Mt.eol();){if(Mt.match(Lt)){St.tokenize=$;break}Mt.next()}return U}}function _(U){return function(Lt,Mt){for(var St;null!=(St=Lt.next());){if("<"==St)return Mt.tokenize=_(U+1),Mt.tokenize(Lt,Mt);if(">"==St){if(1==U){Mt.tokenize=$;break}return Mt.tokenize=_(U-1),Mt.tokenize(Lt,Mt)}}return"meta"}}function et(U){return U&&U.toLowerCase()}function u(U,Lt,Mt){this.prev=U.context,this.tagName=Lt||"",this.indent=U.indented,this.startOfLine=Mt,(X.doNotIndent.hasOwnProperty(Lt)||U.context&&U.context.noIndent)&&(this.noIndent=!0)}function w(U){U.context&&(U.context=U.context.prev)}function m(U,Lt){for(var Mt;;){if(!U.context||!X.contextGrabbers.hasOwnProperty(et(Mt=U.context.tagName))||!X.contextGrabbers[et(Mt)].hasOwnProperty(et(Lt)))return;w(U)}}function x(U,Lt,Mt){return"openTag"==U?(Mt.tagStart=Lt.column(),E):"closeTag"==U?A:x}function E(U,Lt,Mt){return"word"==U?(Mt.tagName=Lt.current(),H="tag",M):X.allowMissingTagName&&"endTag"==U?(H="tag bracket",M(U,0,Mt)):(H="error",E)}function A(U,Lt,Mt){if("word"==U){var St=Lt.current();return Mt.context&&Mt.context.tagName!=St&&X.implicitlyClosed.hasOwnProperty(et(Mt.context.tagName))&&w(Mt),Mt.context&&Mt.context.tagName==St||!1===X.matchClosing?(H="tag",T):(H="tag error",q)}return X.allowMissingTagName&&"endTag"==U?(H="tag bracket",T(U,0,Mt)):(H="error",q)}function T(U,Lt,Mt){return"endTag"!=U?(H="error",T):(w(Mt),x)}function q(U,Lt,Mt){return H="error",T(U,0,Mt)}function M(U,Lt,Mt){if("word"==U)return H="attribute",G;if("endTag"==U||"selfcloseTag"==U){var St=Mt.tagName,Pt=Mt.tagStart;return Mt.tagName=Mt.tagStart=null,"selfcloseTag"==U||X.autoSelfClosers.hasOwnProperty(et(St))?m(Mt,St):(m(Mt,St),Mt.context=new u(Mt,St,Pt==Mt.indented)),x}return H="error",M}function G(U,Lt,Mt){return"equals"==U?B:(X.allowMissing||(H="error"),M(U,0,Mt))}function B(U,Lt,Mt){return"string"==U?ot:"word"==U&&X.allowUnquoted?(H="string",M):(H="error",M(U,0,Mt))}function ot(U,Lt,Mt){return"string"==U?ot:M(U,0,Mt)}return $.isInText=!0,{startState:function(U){var Lt={tokenize:$,state:x,indented:U||0,tagName:null,tagStart:null,context:null};return null!=U&&(Lt.baseIndent=U),Lt},token:function(U,Lt){if(!Lt.tagName&&U.sol()&&(Lt.indented=U.indentation()),U.eatSpace())return null;F=null;var Mt=Lt.tokenize(U,Lt);return(Mt||F)&&"comment"!=Mt&&(H=null,Lt.state=Lt.state(F||Mt,U,Lt),H&&(Mt="error"==H?Mt+" error":H)),Mt},indent:function(U,Lt,Mt){var St=U.context;if(U.tokenize.isInAttribute)return U.tagStart==U.indented?U.stringStartCol+1:U.indented+N;if(St&&St.noIndent)return nt.Pass;if(U.tokenize!=mt&&U.tokenize!=$)return Mt?Mt.match(/^(\s*)/)[0].length:0;if(U.tagName)return!1!==X.multilineTagIndentPastTag?U.tagStart+U.tagName.length+2:U.tagStart+N*(X.multilineTagIndentFactor||1);if(X.alignCDATA&&/<!\[CDATA\[/.test(Lt))return 0;var Pt=Lt&&/^<(\/)?([\w_:\.-]*)/.exec(Lt);if(Pt&&Pt[1])for(;St;){if(St.tagName==Pt[2]){St=St.prev;break}if(!X.implicitlyClosed.hasOwnProperty(et(St.tagName)))break;St=St.prev}else if(Pt)for(;St;){var Jt=X.contextGrabbers[et(St.tagName)];if(!Jt||!Jt.hasOwnProperty(et(Pt[2])))break;St=St.prev}for(;St&&St.prev&&!St.startOfLine;)St=St.prev;return St?St.indent+N:U.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:X.htmlMode?"html":"xml",helperType:X.htmlMode?"html":"xml",skipAttribute:function(U){U.state==B&&(U.state=M)},xmlCurrentTag:function(U){return U.tagName?{name:U.tagName,close:"closeTag"==U.type}:null},xmlCurrentContext:function(U){for(var Lt=[],Mt=U.context;Mt;Mt=Mt.prev)Lt.push(Mt.tagName);return Lt.reverse()}}}),nt.defineMIME("text/xml","xml"),nt.defineMIME("application/xml","xml"),nt.mimeModes.hasOwnProperty("text/html")||nt.defineMIME("text/html",{name:"xml",htmlMode:!0})}(ct(4408))},3023:(R,at,ct)=>{"use strict";ct.d(at,{A:()=>ht});var nt,pt=ct(1749),J=(nt=function(rt,F){return(nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,N){H.__proto__=N}||function(H,N){for(var X in N)Object.prototype.hasOwnProperty.call(N,X)&&(H[X]=N[X])})(rt,F)},function(rt,F){if("function"!=typeof F&&null!==F)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function H(){this.constructor=rt}nt(rt,F),rt.prototype=null===F?Object.create(F):(H.prototype=F.prototype,new H)});const ht=function(rt){function F(H,N,X){var ut=rt.call(this,N,X)||this;return ut._module=H,ut}return J(F,rt),Object.defineProperty(F.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),F}(pt.Kx)},2820:(R,at,ct)=>{"use strict";ct.d(at,{A:()=>rt,F:()=>pt});var nt,pt,F,J=ct(3023),ht=(nt=function(F,H){return(nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,X){N.__proto__=X}||function(N,X){for(var ut in X)Object.prototype.hasOwnProperty.call(X,ut)&&(N[ut]=X[ut])})(F,H)},function(F,H){if("function"!=typeof H&&null!==H)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");function N(){this.constructor=F}nt(F,H),F.prototype=null===H?Object.create(H):(N.prototype=H.prototype,new N)});(F=pt||(pt={})).Select="select",F.Hover="hover",F.Spacing="spacing",F.Target="target",F.Resize="resize";const rt=function(F){function H(){return null!==F&&F.apply(this,arguments)||this}return ht(H,F),H.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(H.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"component",{get:function(){var N;return this.get("component")||(null===(N=this.get("componentView"))||void 0===N?void 0:N.model)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"componentView",{get:function(){var N;return this.get("componentView")||(null===(N=this.get("component"))||void 0===N?void 0:N.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"el",{get:function(){var N;return null===(N=this.componentView)||void 0===N?void 0:N.el},enumerable:!1,configurable:!0}),H.prototype.getBoxRect=function(N){var X=this.el,ut=this.em.Canvas.getCanvasView();return this.get("boxRect")||(X&&ut?ut.getElBoxRect(X,N):{x:0,y:0,width:0,height:0})},H.prototype.getStyle=function(N){void 0===N&&(N={});var X=N.boxRect||this.getBoxRect(N),V=X.height,$=X.x,mt=X.y;return{width:"".concat(X.width,"px"),height:"".concat(V,"px"),top:"0",left:"0",position:"absolute",translate:"".concat($,"px ").concat(mt,"px")}},H.prototype.isType=function(N){return this.type===N},H}(J.A)},8351:(R,at,ct)=>{"use strict";var nt,J;ct.d(at,{A:()=>pt}),(J=nt||(nt={})).run="command:run",J.runCommand="command:run:",J.runBeforeCommand="command:run:before:",J.abort="command:abort:",J.stop="command:stop",J.stopCommand="command:stop:",J.stopBeforeCommand="command:stop:before:",J.call="command:call",J.callCommand="command:call:";const pt=nt},371:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>nt});const nt={run:function(pt){pt.Components.clear(),pt.Css.clear()}}},6301:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>ht});var nt=ct(5706),pt=ct(5633),J=ct(2097);const ht={run:function(rt){(0,nt.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=rt,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(rt){this.toggleMove(),this.disableDragger()},onKeyUp:function(rt){" "===(0,J.Ch)(rt)&&this.editor.stopCommand(this.id)},enableDragger:function(rt){this.toggleDragger(1,rt)},disableDragger:function(rt){this.toggleDragger(0,rt)},toggleDragger:function(rt,F){var H=this.canvasModel,N=this.em,X=this.dragger,ut=rt?"add":"remove";this.getCanvas().classList[ut]("".concat(this.ppfx,"is__grabbing")),X||(X=new pt.A({getPosition:function(){return{x:H.get("x"),y:H.get("y")}},setPosition:function(V){H.set({x:V.x,y:V.y})},onStart:function(V,$){N.trigger("canvas:move:start",$)},onDrag:function(V,$){N.trigger("canvas:move",$)},onEnd:function(V,$){N.trigger("canvas:move:end",$)}}),this.dragger=X),rt?X.start(F):X.stop()},toggleMove:function(rt){var F=this.ppfx,H=rt?"add":"remove",N=rt?"on":"off",X={on:J.on,off:J.AU},ut=this.getCanvas(),V=["".concat(F,"is__grab")];!rt&&V.push("".concat(F,"is__grabbing")),V.forEach(function($){return ut.classList[H]($)}),X[N](document,"keyup",this.onKeyUp),X[N](ut,"mousedown",this.enableDragger),X[N](document,"mouseup",this.disableDragger)}}},5301:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>H,defineCommand:()=>F});var nt,pt=ct(1749),J=ct(8351),ht=(nt=function(N,X){return(nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ut,V){ut.__proto__=V}||function(ut,V){for(var $ in V)Object.prototype.hasOwnProperty.call(V,$)&&(ut[$]=V[$])})(N,X)},function(N,X){if("function"!=typeof X&&null!==X)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");function ut(){this.constructor=N}nt(N,X),N.prototype=null===X?Object.create(X):(ut.prototype=X.prototype,new ut)}),rt=function(){return rt=Object.assign||function(N){for(var X,ut=1,V=arguments.length;ut<V;ut++)for(var $ in X=arguments[ut])Object.prototype.hasOwnProperty.call(X,$)&&(N[$]=X[$]);return N},rt.apply(this,arguments)};function F(N){return N}const H=function(N){function X(ut){var V=N.call(this,0)||this;V.config=ut||{},V.em=V.config.em||{};var $=V.config.stylePrefix;return V.pfx=$,V.ppfx=V.config.pStylePrefix,V.hoverClass="".concat($,"hover"),V.badgeClass="".concat($,"badge"),V.plhClass="".concat($,"placeholder"),V.freezClass="".concat(V.ppfx,"freezed"),V.canvas=V.em.Canvas,V.init(V.config),V}return ht(X,N),X.prototype.onFrameScroll=function(ut){},X.prototype.getCanvas=function(){return this.canvas.getElement()},X.prototype.getCanvasBody=function(){return this.canvas.getBody()},X.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},X.prototype.offset=function(ut){var V=ut.getBoundingClientRect();return{top:V.top+ut.ownerDocument.body.scrollTop,left:V.left+ut.ownerDocument.body.scrollLeft}},X.prototype.init=function(ut){},X.prototype.callRun=function(ut,V){void 0===V&&(V={});var $=this.id;if(ut.trigger("".concat(J.A.runBeforeCommand).concat($),{options:V}),!V.abort){var K=this.run(ut,V.sender||ut,V),st={id:$,result:K,options:V},_=rt(rt({},st),{type:"run"});return this.noStop||(ut.Commands.active[$]=K),ut.trigger("".concat(J.A.runCommand).concat($),st),ut.trigger("".concat(J.A.callCommand).concat($),_),ut.trigger(J.A.run,st),ut.trigger(J.A.call,_),K}ut.trigger("".concat(J.A.abort).concat($),{options:V})},X.prototype.callStop=function(ut,V){void 0===V&&(V={});var $=this.id,mt=V.sender||ut;ut.trigger("".concat(J.A.stopBeforeCommand).concat($),{options:V});var K=this.stop(ut,mt,V),st={id:$,result:K,options:V},_=rt(rt({},st),{type:"stop"});return delete ut.Commands.active[$],ut.trigger("".concat(J.A.stopCommand).concat($),st),ut.trigger("".concat(J.A.callCommand).concat($),_),ut.trigger(J.A.stop,st),ut.trigger(J.A.call,_),K},X.prototype.stopCommand=function(ut){this.em.Commands.stop(this.id,ut)},X.prototype.run=function(ut,V,$){},X.prototype.stop=function(ut,V,$){},X}(pt.Kx)},8542:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>J});var nt=ct(5706);const J={run:function(ht,rt,F){var H=this;void 0===F&&(F={});var N=[],X=F.component||ht.getSelectedAll();return(X=(0,nt.isArray)(X)?function(ht,rt,F){if(F||2===arguments.length)for(var H,N=0,X=rt.length;N<X;N++)!H&&N in rt||(H||(H=Array.prototype.slice.call(rt,0,N)),H[N]=rt[N]);return ht.concat(H||Array.prototype.slice.call(rt))}([],X,!0):[X]).filter(Boolean).forEach(function(ut){var V,$;if(!ut.get("removable"))return H.em.logWarning("The element is not removable",{component:ut});N.push(ut),((null===($=null===(V=ut.delegate)||void 0===V?void 0:V.remove)||void 0===$?void 0:$.call(V,ut))||ut).remove()}),ht.selectRemove(N),N}}},1319:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>rt});var nt=ct(5706),pt=ct(5633),J=function(){return J=Object.assign||function(F){for(var H,N=1,X=arguments.length;N<X;N++)for(var ut in H=arguments[N])Object.prototype.hasOwnProperty.call(H,ut)&&(F[ut]=H[ut]);return F},J.apply(this,arguments)},ht="dmode";const rt={run:function(F,H,N){var X=this;void 0===N&&(N={}),(0,nt.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var ut=N.target,V=N.event,$=N.mode,mt=N.dragger,K=void 0===mt?{}:mt,st=ut.getEl(),_=J({doc:st.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return X.guidesStatic},guidesTarget:function(){return X.guidesTarget}},K);this.setupGuides(),this.opts=N,this.editor=F,this.em=F.getModel(),this.target=ut,this.isTran="translate"==$,this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var et=this.dragger;return et?et.setOptions(_):(et=new pt.A(_),this.dragger=et),V&&et.start(V),this.toggleDrag(1),this.em.trigger("".concat(ht,":start"),this.getEventOpts()),et},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(F){var H=F.guide;H&&H.parentNode.removeChild(H)}),this.guides=[]},getGuidesContainer:function(){var F=this,H=this.guidesEl;if(!H){var N=this,X=N.editor,ut=N.em,V=N.opts,$=X.getConfig().stylePrefix,mt=document.createElement("div"),K=document.createElement("div"),st='<div class="'.concat($,"guide-info__line ").concat($,'danger-bg">\n        <div class="').concat($,"guide-info__content ").concat($,'danger-color"></div>\n      </div>');(H=document.createElement("div")).className="".concat($,"guides"),mt.className="".concat($,"guide-info ").concat($,"guide-info__x"),K.className="".concat($,"guide-info ").concat($,"guide-info__y"),mt.innerHTML=st,K.innerHTML=st,H.appendChild(mt),H.appendChild(K),X.Canvas.getGlobalToolsEl().appendChild(H),this.guidesEl=H,this.elGuideInfoX=mt,this.elGuideInfoY=K,this.elGuideInfoContentX=mt.querySelector(".".concat($,"guide-info__content")),this.elGuideInfoContentY=K.querySelector(".".concat($,"guide-info__content")),ut.on("canvas:update frame:scroll",(0,nt.debounce)(function(){var _;F.updateGuides(),V.debug&&(null===(_=F.guides)||void 0===_||_.forEach(function(et){return F.renderGuide(et)}))},200))}return H},getGuidesStatic:function(){var F=this,H=[],N=this.target.getEl(),X=N.parentNode,ut=void 0===X?{}:X;return(0,nt.each)(ut.children,function(V){return H=H.concat(N!==V?F.getElementGuides(V):[])}),H.concat(this.getElementGuides(ut))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(F){var H,N,X=this;(F||this.guides).forEach(function(ut){var V=ut.origin,$=H===V?N:X.getElementPos(V);H=V,N=$,(0,nt.each)(X.getGuidePosUpdate(ut,$),function(mt,K){return ut[K]=mt}),ut.originRect=$})},getGuidePosUpdate:function(F,H){var N={},X=H.top,ut=H.height,V=H.left,$=H.width;switch(F.type){case"t":N.y=X;break;case"b":N.y=X+ut;break;case"l":N.x=V;break;case"r":N.x=V+$;break;case"x":N.x=V+$/2;break;case"y":N.y=X+ut/2}return N},renderGuide:function(F){void 0===F&&(F={});var H=F.guide||document.createElement("div"),N="px",X=F.active?2:1,ut=H.children[0];return H.style="position: absolute; background-color: ".concat(F.active?"green":"red",";"),H.children.length||((ut=document.createElement("div")).style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",H.appendChild(ut)),F.y?(H.style.width="100%",H.style.height="".concat(X).concat(N),H.style.top="".concat(F.y).concat(N),H.style.left=0):(H.style.width="".concat(X).concat(N),H.style.height="100%",H.style.left="".concat(F.x).concat(N),H.style.top="0".concat(N)),!F.guide&&this.guidesContainer.appendChild(H),H},getElementPos:function(F){return this.editor.Canvas.getElementPos(F,{noScroll:1})},getElementGuides:function(F){var H=this,N=this.opts,X=this.getElementPos(F),ut=X.top,V=X.height,$=X.left,mt=X.width,K=[{type:"t",y:ut},{type:"b",y:ut+V},{type:"l",x:$},{type:"r",x:$+mt},{type:"x",x:$+mt/2},{type:"y",y:ut+V/2}].map(function(st){return J(J({},st),{origin:F,originRect:X,guide:N.debug&&H.renderGuide(st)})});return K.forEach(function(st){var _;return null===(_=H.guides)||void 0===_?void 0:_.push(st)}),K},getTranslate:function(F,H){void 0===H&&(H="x");var N=0;return(F||"").split(" ").forEach(function(X){var ut=X.trim(),V="translate".concat(H.toUpperCase(),"(");0===ut.indexOf(V)&&(N=parseFloat(ut.replace(V,"")))}),N},setTranslate:function(F,H,N){var X="translate".concat(H.toUpperCase(),"("),ut="".concat(X).concat(N,")"),V=(F||"").split(" ").map(function($){return 0===$.trim().indexOf(X)&&($=ut),$}).join(" ");return V.indexOf(X)<0&&(V+=" ".concat(ut)),V},getPosition:function(){var H=this.isTran,N=this.target.getStyle(),X=N.left,ut=N.top,V=N.transform,$=0,mt=0;return H?($=this.getTranslate(V),mt=this.getTranslate(V,"y")):($=parseFloat(X||0),mt=parseFloat(ut||0)),{x:$,y:mt}},setPosition:function(F){var N=F.y,X=F.end,ut=F.position,V=F.width,$=F.height,K=this.target,st=this.isTran,_=this.em,u=!X,w="".concat(parseInt(F.x,10)).concat("px"),m="".concat(parseInt(N,10)).concat("px"),x={};if(st){var E=K.getStyle().transform||"";E=this.setTranslate(E,"x",w),x={transform:E=this.setTranslate(E,"y",m),__p:u},K.addStyle(x,{avoidStore:!X})}else{var A={position:ut,width:V,height:$},T={left:w,top:m,__p:u};(0,nt.keys)(A).forEach(function(q){var M=A[q];M&&(T[q]=M)}),K.addStyle(x=T,{avoidStore:!X})}_?.Styles.__emitCmpStyleUpdate(x,{components:_.getSelected()})},_getDragData:function(){var F=this.target;return{target:F,parent:F.parent(),index:F.index()}},onStart:function(F){var H=this,N=H.target,ut=H.isTran,V=H.opts,$=V.center,mt=V.onStart,K=H.editor.Canvas,st=N.getStyle(),_="absolute",et=[_,"relative"];if(mt&&mt(this._getDragData()),!ut&&st.position!==_){var u=K.offset(N.getEl()),w=u.left,m=u.top,x=u.width,E=u.height,A=N.parent(),T=void 0;do{var q=A.getStyle();T=et.indexOf(q.position)>=0?A:null,A=A.parent()}while(A&&!T);if($){var M=K.getMouseRelativeCanvas(F);w=M.x,m=M.y}else if(T){var G=K.offset(T.getEl());w-=G.left,m-=G.top}this.setPosition({x:w,y:m,width:"".concat(x,"px"),height:"".concat(E,"px"),position:_})}},onDrag:function(){for(var F=this,H=[],N=0;N<arguments.length;N++)H[N]=arguments[N];var X=this.guidesTarget,ut=this.opts,V=ut.onDrag;this.updateGuides(X),ut.debug&&X.forEach(function($){return F.renderGuide($)}),ut.guidesInfo&&this.renderGuideInfo(X.filter(function($){return $.active})),V&&V(this._getDragData())},onEnd:function(F,H,N){void 0===N&&(N={});var X=this,ut=X.editor,$=X.id,mt=X.opts.onEnd;mt&&mt(F,N,J(J({event:F},N),this._getDragData())),ut.stopCommand($),this.hideGuidesInfo(),this.em.trigger("".concat(ht,":end"),this.getEventOpts())},hideGuidesInfo:function(){var F=this;["X","Y"].forEach(function(H){var N=F["elGuideInfo".concat(H)];N&&(N.style.display="none")})},renderGuideInfo:function(F){var H=this;void 0===F&&(F=[]);var N=this.guidesStatic;this.hideGuidesInfo(),F.forEach(function(X){var V=X.x,$=H.getElementPos(X.origin),mt=(0,nt.isUndefined)(V)?"y":"x",K="y"===mt,st=$[K?"left":"top"],_=$.rect[K?"left":"top"],et=K?st+$.width:st+$.height,u=K?_+$.rect.width:_+$.rect.height,w=H["elGuideInfo".concat(mt.toUpperCase())],m=H["elGuideInfoContent".concat(mt.toUpperCase())],x=w.style,E=N?.filter(function(Qt){return Qt.type===X.type}).map(function(Qt){var Ue=Qt.originRect,me=Ue.left,We=Ue.top,le=K?me+Ue.width:We+Ue.height;return{gap:le<st?st-le:(K?me:We)-et,guide:Qt}}).filter(function(Qt){return Qt.gap>0}).sort(function(Qt,Ue){return Qt.gap-Ue.gap}).map(function(Qt){return Qt.guide})[0];if(E){var A=E.originRect,T=A.left,M=A.top,B=A.rect,ot=K?T<$.left:M<$.top,U=K?T:M,Lt=K?B.left:B.top,Mt=K?T+A.width:M+A.height,St=K?B.left+B.width:B.top+B.height,Pt=K?X.y:X.x,Jt=ot?Mt:et,de="".concat(Pt,"px"),zt=ot?st-Mt:U-et,he=ot?_-St:Lt-u;x.display="",x[K?"top":"left"]=de,x[K?"left":"top"]="".concat(Jt,"px"),x[K?"width":"height"]="".concat(zt,"px"),m.innerHTML="".concat(Math.round(he),"px"),H.em.trigger("".concat(ht,":active"),J(J({},H.getEventOpts()),{guide:X,guidesStatic:N,matched:E,posFirst:Pt,posSecond:Jt,size:zt,sizeRaw:he,elGuideInfo:w,elGuideInfoCnt:m}))}})},toggleDrag:function(F){var N=this.editor,X=F?"add":"remove",ut=["".concat(this.ppfx,"is__grabbing")],V=N.Canvas,$=V.getBody();ut.forEach(function(mt){return $.classList[X](mt)}),V[F?"startAutoscroll":"stopAutoscroll"]()}}},1859:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>nt});const nt={run:function(pt){if(pt.Canvas.hasFocus()){var J=[];pt.getSelectedAll().forEach(function(ht){var rt=ht.components(),F=rt&&rt.filter(function(H){return H.get("selectable")})[0];F&&J.push(F)}),J.length&&pt.select(J)}}}},3709:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>nt});const nt={run:function(pt,J,ht){if(void 0===ht&&(ht={}),pt.Canvas.hasFocus()||ht.force){var rt=[];pt.getSelectedAll().forEach(function(F){for(var H=F.parent();H&&!H.get("selectable");)H=H.parent();H&&rt.push(H)}),rt.length&&pt.select(rt)}}}},2860:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>nt});const nt={run:function(pt){if(pt.Canvas.hasFocus()){var J=[];pt.getSelectedAll().forEach(function(ht){var rt=ht.parent();if(rt){var F,H=rt.components().length,N=0,X=0;do{N++,F=(X=ht.index()+N)<=H?rt.getChildAt(X):null}while(F&&!F.get("selectable"));J.push(F||ht)}}),J.length&&pt.select(J)}}}},4944:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>nt});const nt={run:function(pt){if(pt.Canvas.hasFocus()){var J=[];pt.getSelectedAll().forEach(function(ht){var rt=ht.parent();if(rt){var F,H=0,N=0;do{H++,F=(N=ht.index()-H)>=0?rt.getChildAt(N):null}while(F&&!F.get("selectable"));J.push(F||ht)}}),J.length&&pt.select(J)}}}},767:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>pt});var nt=ct(5706);const pt={run:function(J,ht,rt){void 0===rt&&(rt={});var F=rt.target,H=[];if(!F.get("styles"))return H;var N=F.get("type"),X=J.Pages.getAllWrappers();if(!(0,nt.flatten)(X.map(function(V){return V.findType(N)})).length){var ut=J.CssComposer.getAll();H=ut.filter(function(V){return V.get("group")==="cmp:".concat(N)}),ut.remove(H)}return H}}},2126:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>pt});const pt={run:function(J){var ht=J.getModel(),rt=function(J,ht,rt){if(rt||2===arguments.length)for(var F,H=0,N=ht.length;H<N;H++)!F&&H in ht||(F||(F=Array.prototype.slice.call(ht,0,H)),F[H]=ht[H]);return J.concat(F||Array.prototype.slice.call(ht))}([],J.getSelectedAll(),!0).map(function(F){var H,N;return(null===(N=null===(H=F.delegate)||void 0===H?void 0:H.copy)||void 0===N?void 0:N.call(H,F))||F}).filter(Boolean);rt.length&&ht.set("clipboard",rt)}}},4860:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>pt});var nt=ct(2097);const pt={run:function(J,ht,rt){var F=this;void 0===rt&&(rt={}),ht&&ht.set&&ht.set("active",0);var H=J.getConfig(),N=J.Modal,X=H.stylePrefix;if(this.cm=J.CodeManager||null,!this.editors){var ut=this.buildEditor("htmlmixed","hopscotch","HTML"),V=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=ut.model,this.cssEditor=V.model;var $=(0,nt.a_)("div",{class:"".concat(X,"export-dl")});$.appendChild(ut.el),$.appendChild(V.el),this.editors=$}N.open({title:H.textViewCode,content:this.editors}).getModel().once("change:open",function(){return J.stopCommand("".concat(F.id))}),this.htmlEditor.setContent(J.getHtml(rt.optsHtml)),this.cssEditor.setContent(J.getCss(rt.optsCss))},stop:function(J){var ht=J.Modal;ht&&ht.close()},buildEditor:function(J,ht,rt){var F=this.em.CodeManager,H=F.createViewer({label:rt,codeName:J,theme:ht});return{model:H,el:new F.EditorView({model:H,config:F.getConfig()}).render().el}}}},1085:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>pt});var nt=ct(5706);const pt={isEnabled:function(){var J=document;return!!(J.fullscreenElement||J.webkitFullscreenElement||J.mozFullScreenElement)},enable:function(J){var ht="";return J.requestFullscreen?J.requestFullscreen():J.webkitRequestFullscreen?(ht="webkit",J.webkitRequestFullscreen()):J.mozRequestFullScreen?(ht="moz",J.mozRequestFullScreen()):J.msRequestFullscreen&&J.msRequestFullscreen(),ht},disable:function(){var J=document;this.isEnabled()&&(J.exitFullscreen?J.exitFullscreen():J.webkitExitFullscreen?J.webkitExitFullscreen():J.mozCancelFullScreen?J.mozCancelFullScreen():J.msExitFullscreen&&J.msExitFullscreen())},fsChanged:function(J){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(J||"","fullscreenchange"),this.fsChanged))},run:function(J,ht,rt){void 0===rt&&(rt={}),this.sender=ht;var F=rt.target,H=(0,nt.isElement)(F)?F:document.querySelector(F),N=this.enable(H||J.getContainer());this.fsChanged=this.fsChanged.bind(this,N),document.addEventListener(N+"fullscreenchange",this.fsChanged)},stop:function(J,ht){ht&&ht.set&&ht.set("active",!1),this.disable()}}},9622:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>F});var nt=ct(5706),pt=ct(6411),J=ct(2097),ht=ct(4596),rt=ct(2983);const F=(0,nt.extend)({},rt.default,ht.default,{init:function(H){ht.default.init.apply(this,arguments),(0,nt.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=H,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var H=[],N=0;N<arguments.length;N++)H[N]=arguments[N];ht.default.enable.apply(this,H),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var X=this.$wrapper;X.css("cursor","move"),X.on("mousedown",this.initSorter),X.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(H){var N=(0,pt.default)(H.target).data("model").get("draggable");N&&(this.cacheEl=null,this.startSelectPosition(H.target,this.frameEl.contentDocument),this.sorter.draggable=N,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,J.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(H){var N=H.get("draggable");N&&(this.cacheEl=null,this.startSelectPosition(H.view.el,this.frameEl.contentDocument),this.sorter.draggable=N,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,J.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModels:function(H){this.cacheEl=null;var N=H[H.length-1],X=this.em.getCurrentFrame(),ut=N.getEl(X?.model).ownerDocument,V=H.map(function($){var mt;return null===(mt=$?.view)||void 0===mt?void 0:mt.el});this.startSelectPosition(V,ut,{onStart:this.onStart}),this.sorter.eventHandlers.legacyOnMoveClb=this.onDrag,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,J.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,J.AU)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,J.AU)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(H,N){},rollback:function(H,N){(27==(H.which||H.keyCode)||N)&&this.sorter.cancelDrag()},getBadgeEl:function(){return this.$badge||(this.$badge=(0,pt.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,pt.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var H=[],N=0;N<arguments.length;N++)H[N]=arguments[N];ht.default.stop.apply(this,H),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass),this.$wrapper.css("cursor","").unbind().removeClass(this.noSelClass)}})},8481:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>J});var nt=ct(5706),pt=ct(2097);const J={open:function(ht){var rt=this,F=this,H=F.editor,N=F.title,ut=F.am,V=F.config.custom;if((0,nt.isFunction)(V.open))return V.open(ut.__customData());H.Modal.open({title:N,content:ht}).onceClose(function(){return H.stopCommand(rt.id)})},close:function(){var ht=this.config.custom;if((0,nt.isFunction)(ht.close))return ht.close(this.am.__customData());var rt=this.editor.Modal;rt&&rt.close()},run:function(ht,rt,F){void 0===F&&(F={});var H=ht.AssetManager,N=H.getConfig(),X=F.types,ut=void 0===X?[]:X,V=F.accept,$=F.select;if(this.title=F.modalTitle||ht.t("assetManager.modalTitle")||"",this.editor=ht,this.config=N,this.am=H,H.setTarget(F.target),H.onClick(F.onClick),H.onDblClick(F.onDblClick),H.onSelect(F.onSelect),H.__behaviour({select:$,types:ut,options:F}),N.custom)this.rendered=this.rendered||(0,pt.a_)("div"),this.rendered.className="".concat(N.stylePrefix,"custom-wrp"),H.__behaviour({container:this.rendered}),H.__trgCustom();else{if(!this.rendered||ut){var mt=H.getAll().filter(function(st){return st});ut&&ut.length&&(mt=mt.filter(function(st){return-1!==ut.indexOf(st.get("type"))})),H.render(mt),this.rendered=H.getContainer()}if(V){var K=this.rendered.querySelector("input#".concat(N.stylePrefix,"uploadFile"));K&&K.setAttribute("accept",V)}}return this.open(this.rendered),this},stop:function(ht){this.editor=ht,this.close(this.rendered)}}},3666:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>J});var nt=ct(5706),pt=ct(2097);const J={open:function(){var rt=this.container,F=this.editor,H=this.bm,N=this.config,X=N.custom,ut=N.appendTo;if((0,nt.isFunction)(X.open))return X.open(H.__customData());if(this.firstRender&&!ut){var V="views-container",$=F.Panels;($.getPanel(V)||$.addPanel({id:V})).set("appendContent",rt).trigger("change:appendContent"),X||rt.appendChild(H.render())}rt&&(rt.style.display="block")},close:function(){var ht=this.container,rt=this.config.custom;if((0,nt.isFunction)(rt.close))return rt.close(this.bm.__customData());ht&&(ht.style.display="none")},run:function(ht){var rt=ht.Blocks;this.config=rt.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,pt.a_)("div"),this.editor=ht,this.bm=rt,rt.__behaviour({container:this.container}),this.config.custom&&rt.__trgCustom(),this.open()},stop:function(){this.close()}}},5838:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>nt});const nt={run:function(pt){var J=pt.LayerManager,ht=pt.Panels,rt=J.getConfig();if(!rt.appendTo){if(!this.layers){var F="views-container",H=document.createElement("div"),N=ht.getPanel(F)||ht.addPanel({id:F});rt.custom?J.__trgCustom({container:H}):H.appendChild(J.render()),N.set("appendContent",H).trigger("change:appendContent"),this.layers=H}this.layers.style.display="block"}},stop:function(){var pt=this.layers;pt&&(pt.style.display="none")}}},8692:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>pt});var nt=ct(6411);const pt={run:function(J,ht){if(this.sender=ht,!this.$cnt){var rt=J.getConfig(),F=J.Panels,H=J.DeviceManager,N=J.SelectorManager,X=J.StyleManager,ut="change:appendContent",V=(0,nt.default)("<div></div>"),$=(0,nt.default)("<div></div>"),mt=(0,nt.default)("<div></div>"),K=(0,nt.default)("<div></div>");if(this.$cnt=V,this.$cntInner=$,$.append(mt),$.append(K),V.append($),H&&rt.showDevices){var st=F.addPanel({id:"devices-c"}),_=H.render();st.set("appendContent",_).trigger(ut)}var et=N.getConfig();et.custom?N.__trgCustom({container:mt.get(0)}):et.appendTo||mt.append(N.render([])),this.sm=X;var u=X.getConfig();this.$header=(0,nt.default)('<div class="'.concat(u.stylePrefix,'header">').concat(J.t("styleManager.empty"),"</div>")),V.append(this.$header),u.custom?X.__trgCustom({container:K.get(0)}):u.appendTo||K.append(X.render());var m="views-container";(F.getPanel(m)||F.addPanel({id:m})).set("appendContent",V).trigger(ut);var x=J.getModel();this.listenTo(x,X.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var J=this,ht=J.sender,rt=J.sm,F=J.$cntInner,H=J.$header;ht&&ht.get&&!ht.get("active")||!rt||(rt.getSelected()?(F?.show(),H?.hide()):(F?.hide(),H?.show()))},stop:function(){var J,ht;null===(J=this.$cntInner)||void 0===J||J.hide(),null===(ht=this.$header)||void 0===ht||ht.hide()}}},9163:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>pt});var nt=ct(6411);const pt={run:function(J,ht){this.sender=ht;var rt,F=J.getModel(),H=J.Config.stylePrefix,N=J.TraitManager,X=N.getConfig();if(!X.appendTo){if(!this.$cn){this.$cn=(0,nt.default)("<div></div>"),this.$cn2=(0,nt.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,nt.default)("<div>").append('<div class="'.concat(X.stylePrefix,'header">').concat(F.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),X.custom?N.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(H,'traits-label">').concat(F.t("traitManager.label"),"</div>")),this.$cn2.append(N.render()));var ut=J.Panels;null==(rt=ut.getPanel("views-container")?ut.getPanel("views-container"):ut.addPanel({id:"views-container"}))||rt.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=J.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var J=this.sender;J&&J.get&&!J.get("active")||(1===this.target.getSelectedAll().length?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},9298:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>pt});var nt=ct(5706);const pt={run:function(ht,rt,F){void 0===F&&(F={});var H=ht.getModel(),N=H.get("clipboard"),X=ht.getSelected();N?.length&&X&&(ht.getSelectedAll().forEach(function(ut){var V,$,mt,K,st=(null===($=null===(V=ut.delegate)||void 0===V?void 0:V.copy)||void 0===$?void 0:$.call(V,ut))||ut,_=st.collection;if(_){var et={at:st.index()+1,action:F.action||"paste-component"};K=(0,nt.contains)(N,st)&&st.get("copyable")?_.add(st.clone(),et):J(ht,N,st.parent(),et)}else{var u=null===(mt=H.Pages.getSelected())||void 0===mt?void 0:mt.getMainComponent();et={at:u?.components().length||0,action:F.action||"paste-component"},K=J(ht,N,u,et)}(K=(0,nt.isArray)(K)?K:[K]).forEach(function(w){return ht.trigger("component:paste",w)})}),X.emitUpdate())}};function J(ht,rt,F,H){var N=rt.filter(function(X){return X.get("copyable")}).filter(function(X){return ht.Components.canMove(F,X).result});return F.components().add(N.map(function(X){return X.clone()}),H)}},8594:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>ht});var nt=ct(5706),J="core:component-outline";const ht={getPanels:function(rt){return this.panels||(this.panels=rt.Panels.getPanels()),this.panels},preventDrag:function(rt){rt.abort=1},tglEffects:function(rt){var F=this.em,H=rt?"on":"off";if(F){var N=F.Canvas,X=N.getBody(),ut=N.getToolbarEl();ut&&(ut.style.display=rt?"none":"");var V=X.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,nt.each)(V,function($){return $.style.pointerEvents=rt?"all":""}),F[H]("run:tlb-move:before",this.preventDrag)}},run:function(rt,F){var H=this;this.sender=F,this.selected=function(rt,F,H){if(H||2===arguments.length)for(var N,X=0,ut=F.length;X<ut;X++)!N&&X in F||(N||(N=Array.prototype.slice.call(F,0,X)),N[X]=F[X]);return rt.concat(N||Array.prototype.slice.call(F))}([],rt.getSelectedAll(),!0),rt.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=rt.Commands.isActive(J)),this.shouldRunSwVisibility&&rt.stopCommand(J),rt.getModel().stopDefault();var N=this.getPanels(rt),X=rt.Canvas.getElement(),ut=rt.getEl(),V=rt.Config.stylePrefix;if(!this.helper){var $=document.createElement("span");$.className="".concat(V,"off-prv fa fa-eye-slash"),ut.appendChild($),$.onclick=function(){return H.stopCommand()},this.helper=$}this.helper.style.display="inline-block",N.forEach(function(K){return K.set("visible",!1)});var mt=X.style;mt.width="100%",mt.height="100%",mt.top="0",mt.left="0",mt.padding="0",mt.margin="0",rt.refresh(),this.tglEffects(1)},stop:function(rt){var F=this.sender,H=void 0===F?{}:F,N=this.selected;H.set&&H.set("active",0);var X=this.getPanels(rt);this.shouldRunSwVisibility&&(rt.runCommand(J),this.shouldRunSwVisibility=!1),rt.getModel().runDefault(),X.forEach(function(ut){return ut.set("visible",!0)}),rt.Canvas.getElement().setAttribute("style",""),N&&rt.select(N),delete this.selected,this.helper&&(this.helper.style.display="none"),rt.refresh(),this.tglEffects()}}},7604:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>pt});var nt=function(){return nt=Object.assign||function(J){for(var ht,rt=1,F=arguments.length;rt<F;rt++)for(var H in ht=arguments[rt])Object.prototype.hasOwnProperty.call(ht,H)&&(J[H]=ht[H]);return J},nt.apply(this,arguments)};const pt={run:function(J,ht,rt){var F=rt||{},H=J.Canvas,N=H.getCanvasView(),X=nt({appendTo:H.getResizerEl(),prefix:J.getConfig().stylePrefix,posFetcher:N.getElementPos.bind(N),mousePosFetcher:H.getMouseRelativePos.bind(H)},F.options||{}),ut=this.canvasResizer;return ut&&!F.forceNew||(this.canvasResizer=new J.Utils.Resizer(X),ut=this.canvasResizer),ut.setOptions(X,!0),ut.blur(),ut.focus(F.el),ut},stop:function(){var J;null===(J=this.canvasResizer)||void 0===J||J.blur()}}},4596:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>A});var nt,pt=ct(5706),J=ct(1749),ht=(nt=function(T,q){return(nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,G){M.__proto__=G}||function(M,G){for(var B in G)Object.prototype.hasOwnProperty.call(G,B)&&(M[B]=G[B])})(T,q)},function(T,q){if("function"!=typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function M(){this.constructor=T}nt(T,q),T.prototype=null===q?Object.create(q):(M.prototype=q.prototype,new M)});const rt=function(T){function q(){return null!==T&&T.apply(this,arguments)||this}return ht(q,T),q.prototype.defaults=function(){return{command:"",attributes:{}}},q}(J.Kx);var T,F=(T=function(q,M){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,B){G.__proto__=B}||function(G,B){for(var ot in B)Object.prototype.hasOwnProperty.call(B,ot)&&(G[ot]=B[ot])})(q,M)},function(q,M){if("function"!=typeof M&&null!==M)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function G(){this.constructor=q}T(q,M),q.prototype=null===M?Object.create(M):(G.prototype=M.prototype,new G)}),H=function(T){function q(){return null!==T&&T.apply(this,arguments)||this}return F(q,T),q}(J.pM);const N=H;H.prototype.model=rt;var X=ct(91),ut=function(){var T=function(q,M){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,B){G.__proto__=B}||function(G,B){for(var ot in B)Object.prototype.hasOwnProperty.call(B,ot)&&(G[ot]=B[ot])})(q,M)};return function(q,M){if("function"!=typeof M&&null!==M)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function G(){this.constructor=q}T(q,M),q.prototype=null===M?Object.create(M):(G.prototype=M.prototype,new G)}}(),V=function(){return V=Object.assign||function(T){for(var q,M=1,G=arguments.length;M<G;M++)for(var B in q=arguments[M])Object.prototype.hasOwnProperty.call(q,B)&&(T[B]=q[B]);return T},V.apply(this,arguments)};const $=function(T){function q(M){var G=T.call(this,M)||this;return G.em=M.config.em,G}return ut(q,T),q.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},q.prototype.attributes=function(){return this.model.get("attributes")},q.prototype.handleClick=function(M){M.preventDefault(),M.stopPropagation();var G=this.em,B=G.Canvas.getFrameEl().getBoundingClientRect(),ot=B.left,U=B.top,Lt=V(V({},M),{clientX:M.clientX-ot,clientY:M.clientY-U});G.trigger("toolbar:run:before",{event:Lt}),this.execCommand(Lt)},q.prototype.execCommand=function(M){var G=this.em,B={event:M},ot=this.model.get("command"),U=G.Editor;(0,pt.isFunction)(ot)&&ot(U,null,B),(0,pt.isString)(ot)&&U.runCommand(ot,B)},q.prototype.render=function(){var M=this,G=M.em,B=M.$el,ot=M.model,U=ot.get("id"),Lt=ot.get("label"),Mt=G.getConfig().stylePrefix;return B.addClass("".concat(Mt,"toolbar-item")),U&&B.addClass("".concat(Mt,"toolbar-item__").concat(U)),Lt&&B.append(Lt),this},q}(J.Ss);var mt=function(){var T=function(q,M){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,B){G.__proto__=B}||function(G,B){for(var ot in B)Object.prototype.hasOwnProperty.call(B,ot)&&(G[ot]=B[ot])})(q,M)};return function(q,M){if("function"!=typeof M&&null!==M)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function G(){this.constructor=q}T(q,M),q.prototype=null===M?Object.create(M):(G.prototype=M.prototype,new G)}}(),K=function(T){function q(M){var G=T.call(this,M)||this,B=M.em;return G.em=B,G.config={em:B},G.listenTo(G.collection,"reset",G.render),G}return mt(q,T),q.prototype.onRender=function(){this.el.className="".concat(this.em.config.stylePrefix,"toolbar-items")},q}(X.A);const st=K;K.prototype.itemView=$;var _,et=ct(2097),u=ct(9195),w=ct(2820),m=ct(3172),x=function(){return x=Object.assign||function(T){for(var q,M=1,G=arguments.length;M<G;M++)for(var B in q=arguments[M])Object.prototype.hasOwnProperty.call(q,B)&&(T[B]=q[B]);return T},x.apply(this,arguments)};const A={activeResizer:!1,init:function(){this.onSelect=(0,pt.debounce)(this.onSelect,0),(0,pt.bindAll)(this,"onHover","onOut","onClick","onCanvasScroll","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),_=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(T){var q=this,M=this.em,G=this.canvas.getCanvasView().el,B=M.getConfig().listenToEl,ot=M.getContainer().parentNode,U=T?"on":"off",Lt={on:et.on,off:et.AU},Mt=m.I.update;!B.length&&ot&&B.push(ot),Lt[U](window,"resize",this.onFrameUpdated),Lt[U](B,"scroll",this.onContainerChange),M[U]("component:toggled ".concat(Mt," undo redo"),this.onSelect,this),M[U]("change:componentHovered",this.onHovered,this),M[U]("component:resize styleable:change component:input",this.updateGlobalPos,this),M[U]("".concat(Mt,":toolbar"),this._upToolbar,this),M[U]("frame:updated",this.onFrameUpdated,this),M[U]("canvas:updateTools",this.onFrameUpdated,this),M[U](M.Canvas.events.refresh,this.updateAttached,this),M.Canvas.getFrames().forEach(function(St){var de,zt,Pt=St.view,Jt=Pt?.getWindow();Jt&&(de=Jt,zt=Pt?.getBody(),Lt[U](G,"scroll",q.onCanvasScroll,!0),Lt[U](zt,"mouseover",q.onHover),Lt[U](zt,"mouseleave",q.onOut),Lt[U](zt,"click",q.onClick),Lt[U](de,"scroll",q.onFrameScroll,!0),Lt[U](de,"resize",q.onFrameResize))})},onHover:function(T){T.stopPropagation();var q=this.em,M=T.target,G=(0,u.getComponentView)(M),B=G?.frameView,ot=G?.model;if(!ot)for(var U=M.parentNode;!ot&&U&&!(0,et.ZQ)(U);)ot=(0,u.getComponentModel)(U),U=U.parentNode;this.currentDoc=M.ownerDocument,q.setHovered(ot,{useValid:!0}),B&&q.setCurrentFrame(B)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(T,q){var M,G=this,B={};q?null===(M=q.views)||void 0===M||M.forEach(function(ot){var U=ot.el,Lt=G.getElementPos(U);B={el:U,pos:Lt,component:q,view:(0,u.getViewEl)(U)},U.ownerDocument===G.currentDoc&&(G.elHovered=B),G.updateToolsLocal(B)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(ot){var U=ot.view,Lt=U&&U.getToolsEl();Lt&&G.toggleToolsEl(0,0,{el:Lt})}))},onSelect:function(){var T=this.em,q=T.getSelected(),M=T.getCurrentFrame(),G=q&&q.getView(M?.model),B=G&&G.el,ot={};B&&(0,et.zN)(B)&&(ot={el:B,pos:this.getElementPos(B),component:q,view:(0,u.getViewEl)(B)}),this.elSelected=ot,this.updateToolsGlobal(),this.updateLocalPos(ot),this.initResize(q)},updateGlobalPos:function(){var T=this.getElSelected();T.el&&(T.pos=this.getElementPos(T.el),this.updateToolsGlobal())},updateLocalPos:function(T){var q=this.getElHovered();q.el&&(q.pos=this.getElementPos(q.el),this.updateToolsLocal(T))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(T,q,M){void 0===M&&(M={});var G=M.el||this.canvas.getToolsEl(q);return G&&(G.style.display=T?"":"none"),G||{}},showElementOffset:function(T,q,M){void 0===M&&(M={}),_&&this.editor.runCommand("show-offset",{el:T,elPos:q,view:M.view,force:1,top:0,left:0})},hideElementOffset:function(T){this.editor.stopCommand("show-offset",{view:T})},showFixedElementOffset:function(T,q){this.editor.runCommand("show-offset",{el:T,elPos:q,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(T){this.canvas.getHighlighter(T).style.opacity=0},onClick:function(T){T.stopPropagation(),T.preventDefault();var q=this.em;if(q.get("_cmpDrag"))return q.set("_cmpDrag");var M=T.target,G=(0,u.getComponentModel)(M);if(!G)for(var B=M.parentNode;!G&&B&&!(0,et.ZQ)(B);)G=(0,u.getComponentModel)(B),B=B.parentNode;if(G){if(q.isEditing()&&(!G.get("textable")&&G.isChildOf("text")||q.getEditing()!==G))return;this.select(G,T)}},select:function(T,q){if(void 0===q&&(q={}),T){var M=this.em;M.setSelected(T,{event:q,useValid:!0}),this.initResize(M.getSelected())}},updateBadge:function(T,q,M){void 0===M&&(M={});var G=this.canvas,B=(0,u.getComponentModel)(T),ot=this.getBadge(M),U=ot.style;if(B&&B.get("badgable")){if(!M.posOnly){var Lt=this.canvas.getConfig(),Mt=B.getIcon(),Pt="".concat(Lt.pStylePrefix||"","badge"),Jt=Lt.customBadgeLabel,de="".concat(Mt?'<div class="'.concat(Pt,'__icon">').concat(Mt,"</div>"):"",'\n        <div class="').concat(Pt,'__name">').concat(B.getName(),"</div>");ot.innerHTML=Jt?Jt(B):de}U.display="block";var he=G.getTargetToElementFixed(T,ot,{pos:q}).top,Qt=M.leftOff<0?-M.leftOff:0;U.top=he+"px",U.left=Qt+"px"}else U.display="none"},showHighlighter:function(T){this.canvas.getHighlighter(T).style.opacity=""},initResize:function(T){var q=this.em,M=this.canvas,G=q.Editor,B=!(0,pt.isElement)(T)&&(0,et.GW)(T)?T:q.getSelected(),ot=B?.get("resizable"),U=w.F.Resize,Lt=M.hasCustomSpot(U);if(M.removeSpots({type:U}),B&&ot){M.addSpot({type:U,component:B});var Mt,St=(0,pt.isElement)(T)?T:B.getEl(),Pt=(0,u.isObject)(ot)?ot:{},Jt=Pt.onStart,de=void 0===Jt?function(){}:Jt,zt=Pt.onMove,he=void 0===zt?function(){}:zt,Qt=Pt.onEnd,Ue=void 0===Qt?function(){}:Qt,me=Pt.updateTarget,Ee=void 0===me?function(){}:me,We=function(T,q){var M={};for(var G in T)Object.prototype.hasOwnProperty.call(T,G)&&q.indexOf(G)<0&&(M[G]=T[G]);if(null!=T&&"function"==typeof Object.getOwnPropertySymbols){var B=0;for(G=Object.getOwnPropertySymbols(T);B<G.length;B++)q.indexOf(G[B])<0&&Object.prototype.propertyIsEnumerable.call(T,G[B])&&(M[G[B]]=T[G[B]])}return M}(Pt,["onStart","onMove","onEnd","updateTarget"]);if(Lt||!St||this.activeResizer)return;var le="".concat(q.config.stylePrefix||"","resizing"),Kt=this,Ie={component:B,el:St},ue=function(Me,sn,mn){var gn=mn.docs;gn&&gn.forEach(function(ce){var se=ce.body,dt=se.className||"";se.className=("add"==Me?"".concat(dt," ").concat(le):dt.replace(le,"")).trim()})},Fe=x({onStart:function(Me,sn){de(Me,sn);var mn=sn.el,gn=sn.config,ce=sn.resizer,se=gn.keyHeight,dt=gn.keyWidth,yt=gn.currentUnit,Rt=gn.keepAutoHeight,re=gn.keepAutoWidth;ue("add",0,sn),Mt=q.Styles.getModelToStyle(B);var xe=getComputedStyle(mn),Se=Mt.getStyle(),He=Se[dt];gn.autoWidth=re&&"auto"===He,isNaN(parseFloat(He))&&(He=xe[dt]);var Sn=Se[se];gn.autoHeight=Rt&&"auto"===Sn,isNaN(parseFloat(Sn))&&(Sn=xe[se]),ce.startDim.w=parseFloat(He),ce.startDim.h=parseFloat(Sn),_=!1,yt&&(gn.unitHeight=(0,u.getUnitFromValue)(Sn),gn.unitWidth=(0,u.getUnitFromValue)(He)),Kt.activeResizer=!0,G.trigger("component:resize",x(x({},Ie),{type:"start"}))},onMove:function(Me){he(Me),G.trigger("component:resize",x(x({},Ie),{type:"move"}))},onEnd:function(Me,sn){Ue(Me,sn),ue("remove",0,sn),G.trigger("component:resize",x(x({},Ie),{type:"end"})),_=!0,Kt.activeResizer=!1},updateTarget:function(Me,sn,mn){var gn;if(Ee(Me,sn,mn),Mt){var ce=mn.store,se=mn.selectedHandler,dt=mn.config,yt=dt.keyHeight,Rt=dt.keyWidth,re=dt.autoHeight,xe=dt.autoWidth,Se=dt.unitWidth,He=dt.unitHeight,Sn=["tc","bc"].indexOf(se)>=0,jn=["cl","cr"].indexOf(se)>=0,bn={};if(!Sn){var $n=(null===(gn=M.getBody())||void 0===gn?void 0:gn.offsetWidth)||0;bn[Rt]=xe?"auto":"".concat(sn.w<$n?sn.w:$n).concat(Se)}jn||(bn[yt]=re?"auto":"".concat(sn.h).concat(He)),q.getDragMode(B)&&(bn.top="".concat(sn.t).concat(He),bn.left="".concat(sn.l).concat(Se));var Be=x(x({},bn),{__p:!ce});Mt.addStyle(Be,{avoidStore:!ce}),q.Styles.__emitCmpStyleUpdate(Be,{components:q.getSelected()})}}},We);this.resizer=G.runCommand("resize",{el:St,options:Fe,force:1})}else{if(Lt)return;G.stopCommand("resize"),this.resizer=null}},updateToolbar:function(T){var q=this.canvas,M=this.config.em,G=T===M?M.getSelected():T,B=q.getToolbarEl(),ot=B.style,U=G.get("toolbar"),Lt=M.config.showToolbar,Mt=!q.hasCustomSpot(w.F.Select);if(G&&Lt&&U&&U.length&&Mt){if(ot.display="",!this.toolbar){B.innerHTML="",this.toolbar=new N(U);var St=new st({collection:this.toolbar,em:M});B.appendChild(St.render().el)}this.toolbar.reset(U),ot.top="-100px",ot.left="0"}else ot.display="none"},updateToolbarPos:function(T){var M=this.canvas.getToolbarEl().style;M.top="".concat(T.top).concat("px"),M.left="".concat(T.left).concat("px"),M.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(T){return void 0===T&&(T={}),this.canvas.getBadgeEl(T.view)},onCanvasScroll:function(T){this.onFrameScroll(T),this.onContainerChange()},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(T){return T&&"selected"===T.get("status")},updateToolsLocal:function(T){var q=this.em.getConfig(),M=T||this.getElHovered(),G=M.el,B=M.pos,ot=M.view,U=M.component;if(G){var Lt=U.get("hoverable"),Mt=this.lastHovered!==G,St=Mt?{}:{posOnly:1},Pt=this.canvas.hasCustomSpot(w.F.Hover);Mt&&Lt&&(this.lastHovered=G,Pt?this.hideHighlighter(ot):this.showHighlighter(ot),this.showElementOffset(G,B,{view:ot})),this.isCompSelected(U)&&(this.hideHighlighter(ot),!q.showOffsetsSelected&&this.hideElementOffset(ot));var de=this.toggleToolsEl(1,ot),zt=de.style,he=this.canvas.canvasRectOffset(G,B),Qt=he.top,Ue=he.left;!Pt&&this.updateBadge(G,B,x(x({},St),{view:ot,topOff:Qt,leftOff:Ue})),zt.top=Qt+"px",zt.left=Ue+"px",zt.width=B.width+"px",zt.height=B.height+"px",this._trgToolUp("local",{component:U,el:de,top:Qt,left:Ue,width:B.width,height:B.height})}else this.lastHovered=0},_upToolbar:(0,pt.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(T,q){void 0===q&&(q={}),this.em.trigger("canvas:tools:update",x({type:T},q))},updateToolsGlobal:function(T){void 0===T&&(T={});var q=this.getElSelected(),M=q.el,G=q.pos,B=q.component;if(!M)return this.toggleToolsEl(),void(this.lastSelected=0);var ot=this.canvas;(this.lastSelected!==M||T.force)&&(this.lastSelected=M,this.updateToolbar(B));var U="px",Lt=this.toggleToolsEl(1),Mt=Lt.style,St=ot.getTargetToElementFixed(M,ot.getToolbarEl(),{pos:G}),Pt=St.canvasOffsetTop,Jt=St.canvasOffsetLeft;Mt.top=Pt+U,Mt.left=Jt+U,Mt.width=G.width+U,Mt.height=G.height+U,this.updateToolbarPos({top:St.top,left:St.left}),this._trgToolUp("global",{component:B,el:Lt,top:Pt,left:Jt,width:G.width,height:G.height})},updateAttached:(0,pt.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,pt.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(T){return this.canvas.getCanvasView().getElementPos(T,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(T){T&&T.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(T){(0,u.hasWin)()&&(this.editor=T&&T.get("Editor"),this.enable())},stop:function(T,q,M){if(void 0===M&&(M={}),(0,u.hasWin)()){var G=this.em,B=this.editor;this.onHovered(),this.stopSelectComponent(),!M.preserveSelected&&G.setSelected(),this.toggleToolsEl(),this.updateAttached.cancel(),B&&B.stopCommand("resize")}}}},2983:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>ht});var nt=ct(6411),pt=ct(6778),J=ct(2128);const ht={startSelectPosition:function(rt,F,H){void 0===H&&(H={}),this.isPointed=!1;var N=this.em.Utils;N&&(this.sorter=new N.ComponentSorter({em:this.em,treeClass:pt.A,containerContext:{container:rt[0].ownerDocument.body,containerSel:"*",itemSel:"*",pfx:this.ppfx,document:F,placeholderElement:this.canvas.getPlacerEl()},positionOptions:{windowMargin:1,canvasRelative:!0},dragBehavior:{dragDirection:J.A.BothDirections,nested:!0}})),H.onStart&&(this.sorter.eventHandlers.legacyOnStartSort=H.onStart),rt&&rt.length>0&&this.sorter.startSort(rt.map(function(ut){return{element:ut}}))},getOffsetDim:function(){var rt=this.offset(this.canvas.getFrameEl()),F=this.offset(this.canvas.getElement());return{top:rt.top-F.top,left:rt.left-F.left}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex="after"==this.posMethod&&0!==this.cDim.length?this.posIndex+1:this.posIndex,this.sorter&&this.sorter.cancelDrag(),this.cDim&&(this.posIsLastEl=0!==this.cDim.length&&"after"==this.posMethod&&this.posIndex==this.cDim.length,this.posTargetEl=0===this.cDim.length?(0,nt.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,nt.default)(this.cDim[this.posIndex][5]).parent():(0,nt.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(rt,F,H){var N=rt||0,ut=H.length,V=0!==ut&&"after"==(F||"before")&&N==ut;return 0!==ut&&(!V&&!H[N][4]||H[N-1]&&!H[N-1][4]||V&&!H[N-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},9490:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>rt});var nt=ct(5706),pt=ct(2820),J=ct(6411),ht=function(){return ht=Object.assign||function(F){for(var H,N=1,X=arguments.length;N<X;N++)for(var ut in H=arguments[N])Object.prototype.hasOwnProperty.call(H,ut)&&(F[ut]=H[ut]);return F},ht.apply(this,arguments)};const rt={getOffsetMethod:function(F){return"get"+(F||"")+"OffsetViewerEl"},run:function(F,H,N){var X=this.canvas,ut=N||{},V=ut.state||"",$=F.getConfig(),mt=this.em.getZoomDecimal(),K=ut.el;if($.showOffsets&&K instanceof HTMLElement&&($.showOffsetsSelected||"Fixed"!=V)){if(!X.hasCustomSpot(pt.F.Spacing)){var st=ht({},ut.elPos||X.getElementPos(K));(0,nt.isUndefined)(ut.top)||(st.top=ut.top),(0,nt.isUndefined)(ut.left)||(st.left=ut.left);var _=window.getComputedStyle(K),et=this.ppfx,u=V+"State",w=X[this.getOffsetMethod(V)](N.view);w.style.opacity="";var m=this["marginT"+V],x=this["marginB"+V],E=this["marginL"+V],A=this["marginR"+V],T=this["padT"+V],q=this["padB"+V],M=this["padL"+V],G=this["padR"+V];if(w.childNodes.length&&(this[u]="1",m=w.querySelector("[data-offset-m-t]"),x=w.querySelector("[data-offset-m-b]"),E=w.querySelector("[data-offset-m-l]"),A=w.querySelector("[data-offset-m-r]"),T=w.querySelector("[data-offset-p-t]"),q=w.querySelector("[data-offset-p-b]"),M=w.querySelector("[data-offset-p-l]"),G=w.querySelector("[data-offset-p-r]")),!this[u]){var B=V.toLowerCase(),ot=B+"margin-v",U=B+"padding-v",Lt=(0,J.default)('<div class="'.concat(et,'marginName">')).get(0),Mt=(0,J.default)('<div class="'.concat(et,'paddingName">')).get(0),St=et+U+"-el",Pt="".concat(et+ot+"-el"," ").concat(et+ot),Jt="".concat(St," ").concat(et+U);m=(0,J.default)('<div class="'.concat(Pt,'-top"></div>')).get(0),x=(0,J.default)('<div class="'.concat(Pt,'-bottom"></div>')).get(0),E=(0,J.default)('<div class="'.concat(Pt,'-left"></div>')).get(0),A=(0,J.default)('<div class="'.concat(Pt,'-right"></div>')).get(0),T=(0,J.default)('<div class="'.concat(Jt,'-top"></div>')).get(0),q=(0,J.default)('<div class="'.concat(Jt,'-bottom"></div>')).get(0),M=(0,J.default)('<div class="'.concat(Jt,'-left"></div>')).get(0),G=(0,J.default)('<div class="'.concat(Jt,'-right"></div>')).get(0),this["marginT"+V]=m,this["marginB"+V]=x,this["marginL"+V]=E,this["marginR"+V]=A,this["padT"+V]=T,this["padB"+V]=q,this["padL"+V]=M,this["padR"+V]=G,Lt.appendChild(m),Lt.appendChild(x),Lt.appendChild(E),Lt.appendChild(A),Mt.appendChild(T),Mt.appendChild(q),Mt.appendChild(M),Mt.appendChild(G),w.appendChild(Lt),w.appendChild(Mt),this[u]="1"}var de="px",zt=parseFloat(_.marginLeft.replace(de,""))*mt,he=parseFloat(_.marginRight.replace(de,""))*mt,Qt=parseFloat(_.marginTop.replace(de,""))*mt,Ue=parseFloat(_.marginBottom.replace(de,""))*mt,me=m.style,Ee=x.style,We=E.style,Ke=A.style,le=T.style,Kt=q.style,Ie=M.style,ue=G.style,Fe=parseFloat(st.left),Me=parseFloat(_.width)*mt+de;me.height=Qt+de,me.width=Me,me.top=st.top-Qt+de,me.left=Fe+de,Ee.height=Ue+de,Ee.width=Me,Ee.top=st.top+st.height+de,Ee.left=Fe+de;var sn=st.height+Qt+Ue+de,mn=st.top-Qt+de;We.height=sn,We.width=zt+de,We.top=mn,We.left=Fe-zt+de,Ke.height=sn,Ke.width=he+de,Ke.top=mn,Ke.left=Fe+st.width+de;var gn=parseFloat(_.paddingTop)*mt;le.height=gn+de;var ce=parseFloat(_.paddingBottom)*mt;Kt.height=ce+de;var se=st.height-ce-gn+de,dt=st.top+gn+de;Ie.height=se,Ie.width=parseFloat(_.paddingLeft)*mt+de,Ie.top=dt;var yt=parseFloat(_.paddingRight)*mt;ue.height=se,ue.width=yt+de,ue.top=dt}}else F.stopCommand("".concat(this.id),N)},stop:function(F,H,N){void 0===N&&(N={});var ut=this.getOffsetMethod((N||{}).state||"");this.canvas[ut](N.view).style.opacity=0}}},1396:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>J});var nt=ct(5706),pt=ct(9195);const J={init:function(){(0,nt.bindAll)(this,"_onFramesChange")},run:function(ht){this.toggleVis(ht,!0)},stop:function(ht){this.toggleVis(ht,!1)},toggleVis:function(ht,rt){if(void 0===rt&&(rt=!0),!ht.Commands.isActive("preview")){var F=ht.Canvas,H=rt?"on":"off";F.getModel()[H]("change:frames",this._onFramesChange),this.handleFrames(F.getFrames(),rt)}},handleFrames:function(ht,rt){var F=this;ht.forEach(function(H){var N;!(null===(N=H.view)||void 0===N)&&N.loaded&&F._upFrame(H,rt),H.__ol||(H.on("loaded",function(){return F._upFrame(H)}),H.__ol=!0)})},_onFramesChange:function(ht,rt){this.handleFrames(rt)},_upFrame:function(ht,rt){var F,H=this,N=H.ppfx,X=H.em,ut=H.id,V=((0,pt.isDef)(rt)?rt:X.Commands.isActive(ut))?"add":"remove",$="".concat(N,"dashed");null===(F=ht.view)||void 0===F||F.getBody().classList[V]($)}}},1749:(R,at,ct)=>{"use strict";ct.d(at,{Kx:()=>N,Ss:()=>ut,e2:()=>H,lK:()=>V,pM:()=>X,x2:()=>pt});var nt,pt,$,J=ct(4193),ht=ct.n(J),rt=(nt=function($,mt){return(nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,st){K.__proto__=st}||function(K,st){for(var _ in st)Object.prototype.hasOwnProperty.call(st,_)&&(K[_]=st[_])})($,mt)},function($,mt){if("function"!=typeof mt&&null!==mt)throw new TypeError("Class extends value "+String(mt)+" is not a constructor or null");function K(){this.constructor=$}nt($,mt),$.prototype=null===mt?Object.create(mt):(K.prototype=mt.prototype,new K)}),F=function(){return F=Object.assign||function($){for(var mt,K=1,st=arguments.length;K<st;K++)for(var _ in mt=arguments[K])Object.prototype.hasOwnProperty.call(mt,_)&&($[_]=mt[_]);return $},F.apply(this,arguments)},H="add remove reset change",N=function($){function mt(){return null!==$&&$.apply(this,arguments)||this}return rt(mt,$),mt}(ht().Model),X=function($){function mt(){return null!==$&&$.apply(this,arguments)||this}return rt(mt,$),mt}(ht().Collection),ut=function($){function mt(){return null!==$&&$.apply(this,arguments)||this}return rt(mt,$),mt}(ht().View);($=pt||(pt={})).Screen="screen",$.World="world";var V={x:0,y:0};F(F({},V),{width:0,height:0})},3172:(R,at,ct)=>{"use strict";var nt,pt,J;ct.d(at,{I:()=>pt,t:()=>nt}),(J=nt||(nt={})).remove="component:remove",J.add="component:add",J.move="component:move",function(J){J.add="component:add",J.remove="component:remove",J.removeBefore="component:remove:before",J.removed="component:removed",J.create="component:create",J.update="component:update",J.updateInside="component:update-inside",J.select="component:select",J.selectBefore="component:select:before",J.scriptMount="component:script:mount",J.scriptMountBefore="component:script:mount:before",J.scriptUnmount="component:script:unmount",J.render="component:render",J.symbolMainAdd="symbol:main:add",J.symbolMainUpdate="symbol:main:update",J.symbolMainUpdateDeep="symbol:main:update-deep",J.symbolMainRemove="symbol:main:remove",J.symbolMain="symbol:main",J.symbolInstanceAdd="symbol:instance:add",J.symbolInstanceRemove="symbol:instance:remove",J.symbolInstance="symbol:instance",J.symbol="symbol"}(pt||(pt={}))},91:(R,at,ct)=>{"use strict";ct.d(at,{A:()=>F});var nt,pt=ct(5706),J=ct(1749),ht=(nt=function(H,N){return(nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,ut){X.__proto__=ut}||function(X,ut){for(var V in ut)Object.prototype.hasOwnProperty.call(ut,V)&&(X[V]=ut[V])})(H,N)},function(H,N){if("function"!=typeof N&&null!==N)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");function X(){this.constructor=H}nt(H,N),H.prototype=null===N?Object.create(N):(X.prototype=N.prototype,new X)}),rt=function(H){function N(X,ut,V){void 0===X&&(X={}),void 0===V&&(V=!1);var $=H.call(this,X)||this;return $.itemsView="",$.itemType="type",$.reuseView=!1,$.config=ut||X.config||{},V&&$.listenTo($.collection,"add",$.addTo),$.items=[],$}return ht(N,H),N.prototype.addTo=function(X){this.add(X)},N.prototype.itemViewNotFound=function(X){var V=this.ns,$=this.config.em,mt="".concat(V?"[".concat(V,"]: "):"","'").concat(X,"' type not found");$&&$.logWarning(mt)},N.prototype.add=function(X,ut){var V,$=this,mt=$.config,K=$.reuseView,st=$.items,_=this.itemsView||{},et=ut||null,u=this.itemView,w=X.get(this.itemType);_[w]?u=_[w]:!w||_[w]||(0,pt.includes)(["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],w)||this.itemViewNotFound(w),V=X.view&&K?X.view:new u({model:X,config:mt},mt),st&&st.push(V);var m=V.render().el;et?et.appendChild(m):this.$el.append(m)},N.prototype.render=function(){var X=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(ut){this.add(ut,X)},this),this.$el.append(X),this.onRender(),this},N.prototype.onRender=function(){},N.prototype.onRemoveBefore=function(X,ut){},N.prototype.onRemove=function(X,ut){},N.prototype.remove=function(X){void 0===X&&(X={});var ut=this.items;return this.onRemoveBefore(ut,X),this.clearItems(),H.prototype.remove.call(this),this.onRemove(ut,X),this},N.prototype.clearItems=function(){},N}(J.Ss);const F=rt;rt.prototype.itemView=""},5633:(R,at,ct)=>{"use strict";ct.d(at,{A:()=>rt});var nt=ct(5706),pt=ct(2097),J=function(){return J=Object.assign||function(F){for(var H,N=1,X=arguments.length;N<X;N++)for(var ut in H=arguments[N])Object.prototype.hasOwnProperty.call(H,ut)&&(F[ut]=H[ut]);return F},J.apply(this,arguments)},ht=["x","y"];const rt=function(){function F(H){return void 0===H&&(H={}),this.opts={snapOffset:5,scale:1},(0,nt.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(H),this.delta={x:0,y:0},this.lastScroll={x:0,y:0},this.lastScrollDiff={x:0,y:0},this.startPointer={x:0,y:0},this.startPosition={x:0,y:0},this.globScrollDiff={x:0,y:0},this.currentPointer={x:0,y:0},this.position={x:0,y:0},this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return F.prototype.setOptions=function(H){void 0===H&&(H={}),this.opts=J(J({},this.opts),H)},F.prototype.toggleDrag=function(H){var N=this.getDocumentEl(),X=this.getContainerEl(),ut=this.getWindowEl(),V=H?"on":"off",$={on:pt.on,off:pt.AU};$[V](X,"mousemove dragover",this.drag),$[V](N,"mouseup dragend touchend",this.stop),$[V](N,"keydown",this.keyHandle),$[V](ut,"scroll",this.handleScroll)},F.prototype.handleScroll=function(){var H=this.lastScroll,N=this.delta,X=this.getScrollInfo(),ut={x:X.x-H.x,y:X.y-H.y};this.move(N.x+ut.x,N.y+ut.y),this.lastScrollDiff=ut},F.prototype.start=function(H){var N=this.opts,X=N.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(H),this.guidesStatic=(0,nt.result)(N,"guidesStatic")||[],this.guidesTarget=(0,nt.result)(N,"guidesTarget")||[],(0,nt.isFunction)(X)&&X(H,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff={x:0,y:0},this.globScrollDiff={x:0,y:0},this.drag(H)},F.prototype.drag=function(H){var N=this,X=this,ut=X.opts,V=X.lastScrollDiff,$=X.globScrollDiff,mt=ut.onDrag,K=this.startPointer,st=this.getPointerPos(H),_={x:$.x+V.x,y:$.y+V.y};this.globScrollDiff=_;var et={x:st.x-K.x+_.x,y:st.y-K.y+_.y};this.lastScrollDiff={x:0,y:0};var u=this.lockedAxis;"x"===(u=H.shiftKey?!u&&this.detectAxisLock(et.x,et.y):null)?et.x=K.x:"y"===u&&(et.y=K.y);var w=function(q){ht.forEach(function(M){return q[M]=q[M]*(0,nt.result)(ut,"scale")}),N.delta=q,N.move(q.x,q.y),(0,nt.isFunction)(mt)&&mt(H,N)},m=J({},et);if(this.currentPointer=st,this.lockedAxis=u,this.lastScroll=this.getScrollInfo(),w(et),this.guidesTarget.length){var x=this.snapGuides(m);(x.trgX||x.trgY)&&w(x.newDelta)}0===H.which&&this.stop(H)},F.prototype.snapGuides=function(H){var N=this,X=H,ut=this.trgX,V=this.trgY;return this.guidesTarget.forEach(function($){$.x&&N.trgX||$.y&&N.trgY||($.active=!1,N.guidesStatic.forEach(function(mt){if(!($.y&&mt.x||$.x&&mt.y)){var K=$.y&&mt.y,st=K?"y":"x",_=$[st],et=mt[st],u=H[st],w=K?V:ut;N.isPointIn(_,et)&&(0,nt.isUndefined)(w)&&N.setGuideLock($,u-(_-et))}}))}),ut=this.trgX,V=this.trgY,ht.forEach(function($){var mt=$.toUpperCase(),K=N["trg".concat(mt)];K&&!N.isPointIn(H[$],K.lock)&&(N.setGuideLock(K,null),K=null),K&&!(0,nt.isUndefined)(K.lock)&&(X[$]=K.lock)}),{newDelta:X,trgX:this.trgX,trgY:this.trgY}},F.prototype.isPointIn=function(H,N,X){var ut=(void 0===X?{}:X).offset||this.opts.snapOffset||0;return H>=N&&H<=N+ut||H<=N&&H>=N-ut},F.prototype.setGuideLock=function(H,N){var X=(0,nt.isUndefined)(H.x)?"Y":"X",ut="trg".concat(X);return null!==N?(H.active=!0,H.lock=N,this[ut]=H):(delete H.active,delete H.lock,delete this[ut]),H},F.prototype.stop=function(H,N){void 0===N&&(N={});var X=this.delta,ut=!!N.cancel,V=ut?0:X.x,$=ut?0:X.y;this.toggleDrag(),this.lockedAxis=null,this.move(V,$,!0);var mt=this.opts.onEnd;(0,nt.isFunction)(mt)&&mt(H,this,{cancelled:ut})},F.prototype.keyHandle=function(H){(0,pt.v$)(H)&&this.stop(H,{cancel:!0})},F.prototype.move=function(H,N,X){var ut=this.el,$=this.startPosition;if($){var mt=this.opts.setPosition,K=$.x+H,st=$.y+N;this.position={x:K,y:st,end:X},(0,nt.isFunction)(mt)&&mt(this.position),ut&&(ut.style.left="".concat(K,"px"),ut.style.top="".concat(st,"px"))}},F.prototype.getContainerEl=function(){var H=this.opts.container;return H?[H]:this.getDocumentEl()},F.prototype.getWindowEl=function(){return this.getContainerEl().map(function(H){var N=H.ownerDocument||H;return N.defaultView||N.parentWindow})},F.prototype.getDocumentEl=function(H){var N=this.opts.doc;if(H=H||this.el,!this.docs.length){var X=[document];H&&X.push(H.ownerDocument),N&&X.push(N),this.docs=X}return this.docs},F.prototype.getPointerPos=function(H){var N=this.opts.getPointerPosition,X=(0,pt.G2)(H);return N?N(H):{x:X.clientX,y:X.clientY}},F.prototype.getStartPosition=function(){var H=this.el,N=this.opts.getPosition,X={x:0,y:0};return(0,nt.isFunction)(N)?X=N():H&&(X={x:parseFloat(H.style.left),y:parseFloat(H.style.top)}),X},F.prototype.getScrollInfo=function(){var H=this.opts.doc,N=H&&H.body;return{y:N?N.scrollTop:0,x:N?N.scrollLeft:0}},F.prototype.detectAxisLock=function(H,N){var X=H,ut=N,V=Math.abs(X),$=Math.abs(ut);return ut>=V||ut<=-V?"x":X>$||X<-$?"y":void 0},F}()},6411:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{default:()=>Be});var nt=typeof document<"u"?document:null,pt=typeof window<"u"?window:null,J=Array.prototype,ht=J.filter,rt=J.indexOf,F=J.map,H=J.push,N=J.reverse,X=J.slice,V=/^#[\w-]*$/,$=/^\.[\w-]*$/,mt=/<.+>/,K=/^\w+$/;function st(Ct,kt){return void 0===kt&&(kt=nt),$.test(Ct)?kt.getElementsByClassName(Ct.slice(1)):K.test(Ct)?kt.getElementsByTagName(Ct):kt.querySelectorAll(Ct)}function _(Ct,kt){if(void 0===kt&&(kt=nt),Ct){if(Ct.__cash)return Ct;var jt=Ct;if(M(Ct)){if(kt.__cash&&(kt=kt[0]),!(jt=V.test(Ct)?kt.getElementById(Ct.slice(1)):mt.test(Ct)?bn(Ct):st(Ct,kt)))return}else if(q(Ct))return this.ready(Ct);(jt.nodeType||jt===pt)&&(jt=[jt]),this.length=jt.length;for(var Wt=0,gt=this.length;Wt<gt;Wt++)this[Wt]=jt[Wt]}}function et(Ct,kt){return new _(Ct,kt)}var u=et.fn=et.prototype=_.prototype={constructor:et,__cash:!0,length:0,splice:J.splice};u.get=function(Ct){return void 0===Ct?X.call(this):this[Ct<0?Ct+this.length:Ct]},u.eq=function(Ct){return et(this.get(Ct))},u.first=function(){return this.eq(0)},u.last=function(){return this.eq(-1)},u.map=function(Ct){return et(F.call(this,function(kt,jt){return Ct.call(kt,jt,kt)}))},u.slice=function(){return et(X.apply(this,arguments))};var w=/(?:^\w|[A-Z]|\b\w)/g,m=/[\s-_]+/g;function x(Ct){return Ct.replace(w,function(kt,jt){return kt[jt?"toUpperCase":"toLowerCase"]()}).replace(m,"")}function E(Ct,kt){for(var jt=0,Wt=Ct.length;jt<Wt&&!1!==kt.call(Ct[jt],Ct[jt],jt,Ct);jt++);}et.camelCase=x,et.each=E,u.each=function(Ct){return E(this,function(kt,jt){return Ct.call(kt,jt,kt)}),this},u.removeProp=function(Ct){return this.each(function(kt,jt){delete jt[Ct]})},et.extend=u.extend=function(Ct){void 0===Ct&&(Ct=this);for(var kt=arguments,jt=kt.length,Wt=jt<2?0:1;Wt<jt;Wt++)for(var gt in kt[Wt])Ct[gt]=kt[Wt][gt];return Ct};var A=1;function T(Ct,kt){var jt=Ct&&(Ct.matches||Ct.webkitMatchesSelector||Ct.mozMatchesSelector||Ct.msMatchesSelector||Ct.oMatchesSelector);return!!jt&&jt.call(Ct,kt)}function q(Ct){return"function"==typeof Ct}function M(Ct){return"string"==typeof Ct}function G(Ct){return!isNaN(parseFloat(Ct))&&isFinite(Ct)}et.guid=A,et.matches=T,et.isFunction=q,et.isString=M,et.isNumeric=G;var B=Array.isArray;function ot(Ct){return M(Ct)?function(kt,jt){return T(jt,Ct)}:Ct.__cash?function(kt,jt){return Ct.is(jt)}:function(kt,jt,Wt){return jt===Wt}}et.isArray=B,u.prop=function(Ct,kt){if(Ct){if(M(Ct))return arguments.length<2?this[0]&&this[0][Ct]:this.each(function(Wt,gt){gt[Ct]=kt});for(var jt in Ct)this.prop(jt,Ct[jt]);return this}},u.filter=function(Ct){if(!Ct)return et();var kt=q(Ct)?Ct:ot(Ct);return et(ht.call(this,function(jt,Wt){return kt.call(jt,Wt,jt,Ct)}))};var U=/\S+/g;function Lt(Ct){return M(Ct)&&Ct.match(U)||[]}function Mt(Ct){return Ct.filter(function(kt,jt,Wt){return Wt.indexOf(kt)===jt})}function St(Ct,kt,jt){if(1===Ct.nodeType){var Wt=pt.getComputedStyle(Ct,null);return kt?jt?Wt.getPropertyValue(kt):Wt[kt]:Wt}}function Pt(Ct,kt){return parseInt(St(Ct,kt),10)||0}u.hasClass=function(Ct){var kt=Lt(Ct),jt=!1;return kt.length&&this.each(function(Wt,gt){return!(jt=gt.classList.contains(kt[0]))}),jt},u.removeAttr=function(Ct){var kt=Lt(Ct);return kt.length?this.each(function(jt,Wt){E(kt,function(gt){Wt.removeAttribute(gt)})}):this},u.attr=function(Ct,kt){if(Ct){if(M(Ct)){if(arguments.length<2){if(!this[0])return;var jt=this[0].getAttribute(Ct);return null===jt?void 0:jt}return null===kt?this.removeAttr(Ct):this.each(function(gt,Ce){Ce.setAttribute(Ct,kt)})}for(var Wt in Ct)this.attr(Wt,Ct[Wt]);return this}},u.toggleClass=function(Ct,kt){var jt=Lt(Ct),Wt=void 0!==kt;return jt.length?this.each(function(gt,Ce){E(jt,function(Ze){Wt?kt?Ce.classList.add(Ze):Ce.classList.remove(Ze):Ce.classList.toggle(Ze)})}):this},u.addClass=function(Ct){return this.toggleClass(Ct,!0)},u.removeClass=function(Ct){return arguments.length?this.toggleClass(Ct,!1):this.attr("class","")},et.unique=Mt,u.add=function(Ct,kt){return et(Mt(this.get().concat(et(Ct,kt).get())))};var Jt=/^--/;function de(Ct){return Jt.test(Ct)}var zt={},he=nt&&nt.createElement("div"),Qt=he?he.style:{},Ue=["webkit","moz","ms","o"];function me(Ct,kt){if(void 0===kt&&(kt=de(Ct)),kt)return Ct;if(!zt[Ct]){var jt=x(Ct),Wt=""+jt.charAt(0).toUpperCase()+jt.slice(1);E((jt+" "+Ue.join(Wt+" ")+Wt).split(" "),function(gt){if(gt in Qt)return zt[Ct]=gt,!1})}return zt[Ct]}et.prefixedProp=me;var Ee={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function We(Ct,kt,jt){return void 0===jt&&(jt=de(Ct)),jt||Ee[Ct]||!G(kt)?kt:kt+"px"}u.css=function(Ct,kt){if(M(Ct)){var jt=de(Ct);return Ct=me(Ct,jt),arguments.length<2?this[0]&&St(this[0],Ct,jt):Ct?(kt=We(Ct,kt,jt),this.each(function(gt,Ce){1===Ce.nodeType&&(jt?Ce.style.setProperty(Ct,kt):Ce.style[Ct]=kt)})):this}for(var Wt in Ct)this.css(Wt,Ct[Wt]);return this};var Ke="__cashData",le=/^data-(.*)/;function Kt(Ct){return Ct[Ke]=Ct[Ke]||{}}function Ie(Ct,kt){var jt=Kt(Ct);if(kt){if(!(kt in jt)){var Wt=Ct.dataset?Ct.dataset[kt]||Ct.dataset[x(kt)]:et(Ct).attr("data-"+kt);if(void 0!==Wt){try{Wt=JSON.parse(Wt)}catch{}jt[kt]=Wt}}return jt[kt]}return jt}function ue(Ct,kt){return Pt(Ct,"border"+(kt?"Left":"Top")+"Width")+Pt(Ct,"padding"+(kt?"Left":"Top"))+Pt(Ct,"padding"+(kt?"Right":"Bottom"))+Pt(Ct,"border"+(kt?"Right":"Bottom")+"Width")}function Fe(Ct,kt){for(var jt=0,Wt=kt.length;jt<Wt;jt++)if(Ct.indexOf(kt[jt])<0)return!1;return!0}function Me(Ct,kt,jt){E(Ct[jt],function(Wt){kt.removeEventListener(jt,Wt[1])}),delete Ct[jt]}et.hasData=function(Ct){return Ke in Ct},u.data=function(Ct,kt){var jt=this;if(!Ct)return this[0]?(E(this[0].attributes,function(gt){var Ce=gt.name.match(le);Ce&&jt.data(Ce[1])}),Ie(this[0])):void 0;if(M(Ct))return void 0===kt?this[0]&&Ie(this[0],Ct):this.each(function(gt,Ce){return tt=Ct,Te=kt,void(Kt(Ce)[tt]=Te);var tt,Te});for(var Wt in Ct)this.data(Wt,Ct[Wt]);return this},u.removeData=function(Ct){return this.each(function(kt,jt){return Wt=jt,void(void 0===(gt=Ct)?delete Wt[Ke]:delete Kt(Wt)[gt]);var Wt,gt})},E(["Width","Height"],function(Ct){u["inner"+Ct]=function(){if(this[0])return this[0]===pt?pt["inner"+Ct]:this[0]["client"+Ct]}}),E(["width","height"],function(Ct,kt){u[Ct]=function(jt){return this[0]?arguments.length?(jt=parseInt(jt,10),this.each(function(Wt,gt){if(1===gt.nodeType){var Ce=St(gt,"boxSizing");gt.style[Ct]=We(Ct,jt+("border-box"===Ce?ue(gt,!kt):0))}})):this[0]===pt?this[0][x("outer-"+Ct)]:this[0].getBoundingClientRect()[Ct]-ue(this[0],!kt):void 0===jt?void 0:this}}),E(["Width","Height"],function(Ct,kt){u["outer"+Ct]=function(jt){if(this[0])return this[0]===pt?pt["outer"+Ct]:this[0]["offset"+Ct]+(jt?Pt(this[0],"margin"+(kt?"Top":"Left"))+Pt(this[0],"margin"+(kt?"Bottom":"Right")):0)}});var sn="__cashEvents";function gn(Ct){return Ct[sn]=Ct[sn]||{}}function ce(Ct){var kt=Ct.split(".");return[kt[0],kt.slice(1).sort()]}function se(Ct,kt,jt,Wt){var gt=gn(Ct);if(kt){var Ce=gt[kt];if(!Ce)return;Wt&&(Wt.guid=Wt.guid||A++),gt[kt]=Ce.filter(function(Ze){var Te=Ze[1];if(Wt&&Te.guid!==Wt.guid||!Fe(Ze[0],jt))return!0;Ct.removeEventListener(kt,Te)})}else if(jt&&jt.length)for(kt in gt)se(Ct,kt,jt,Wt);else for(kt in gt)Me(gt,Ct,kt)}u.off=function(Ct,kt){var jt=this;return void 0===Ct?this.each(function(Wt,gt){return se(gt)}):E(Lt(Ct),function(Wt){var gt=ce(Wt),Ce=gt[0],Ze=gt[1];jt.each(function(tt,Te){return se(Te,Ce,Ze,kt)})}),this},u.on=function(Ct,kt,jt,Wt){var gt=this;if(!M(Ct)){for(var Ce in Ct)this.on(Ce,kt,Ct[Ce]);return this}return q(kt)&&(jt=kt,kt=!1),E(Lt(Ct),function(Ze){var tt=ce(Ze),Te=tt[0],Oe=tt[1];gt.each(function(Nt,oe){var we=function un(Qe){if(!Qe.namespace||Fe(Oe,Qe.namespace.split("."))){var rn=oe;if(kt){for(var Hn=Qe.target;!T(Hn,kt);)if(Hn===oe||!(Hn=Hn.parentNode))return;rn=Hn}Qe.namespace=Qe.namespace||"";var Br=jt.call(rn,Qe,Qe.data);Wt&&se(oe,Te,Oe,un),!1===Br&&(Qe.preventDefault(),Qe.stopPropagation())}};we.guid=jt.guid=jt.guid||A++,function(un,Qe,rn,Hn){Hn.guid=Hn.guid||A++;var Br=gn(un);Br[Qe]=Br[Qe]||[],Br[Qe].push([rn,Hn]),un.addEventListener(Qe,Hn)}(oe,Te,Oe,we)})}),this},u.one=function(Ct,kt,jt){return this.on(Ct,kt,jt,!0)},u.ready=function(Ct){var kt=function(){return Ct(et)};return"loading"!==nt.readyState?setTimeout(kt):nt.addEventListener("DOMContentLoaded",kt),this},u.trigger=function(Ct,kt){var jt=Ct;if(M(Ct)){var Wt=ce(Ct),gt=Wt[0],Ce=Wt[1];(jt=nt.createEvent("HTMLEvents")).initEvent(gt,!0,!0),jt.namespace=Ce.join(".")}return jt.data=kt,this.each(function(Ze,tt){tt.dispatchEvent(jt)})};var dt=/select-one/i,yt=/select-multiple/i;function Rt(Ct){var jt,kt=Ct.type;return dt.test(kt)?(jt=Ct).selectedIndex<0?null:jt.options[jt.selectedIndex].value:yt.test(kt)?function(jt){var Wt=[];return E(jt.options,function(gt){!gt.selected||gt.disabled||gt.parentNode.disabled||Wt.push(gt.value)}),Wt}(Ct):Ct.value}var re=/%20/g,xe=/file|reset|submit|button|image/i,Se=/radio|checkbox/i;u.serialize=function(){var Ct="";return this.each(function(kt,jt){E(jt.elements||[jt],function(Wt){if(!Wt.disabled&&Wt.name&&"FIELDSET"!==Wt.tagName&&!xe.test(Wt.type)&&(!Se.test(Wt.type)||Wt.checked)){var gt=Rt(Wt);void 0!==gt&&E(B(gt)?gt:[gt],function(Ce){var tt;Ct+=(tt=Ce,"&"+encodeURIComponent(Wt.name)+"="+encodeURIComponent(tt).replace(re,"+"))})}})}),Ct.substr(1)},u.val=function(Ct){return void 0===Ct?this[0]&&Rt(this[0]):this.each(function(kt,jt){var Wt=yt.test(jt.type),gt=null===Ct?Wt?[]:"":Ct;Wt&&B(gt)?E(jt.options,function(Ce){Ce.selected=gt.indexOf(Ce.value)>=0}):jt.value=gt})},u.clone=function(){return this.map(function(Ct,kt){return kt.cloneNode(!0)})},u.detach=function(){return this.each(function(Ct,kt){kt.parentNode&&kt.parentNode.removeChild(kt)})};var He,Sn=/^\s*<(\w+)[^>]*>/,jn=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/;function bn(Ct){if(function(){if(!He){var Wt=nt.createElement("table"),gt=nt.createElement("tr");He={"*":nt.createElement("div"),tr:nt.createElement("tbody"),td:gt,th:gt,thead:Wt,tbody:Wt,tfoot:Wt}}}(),!M(Ct))return[];if(jn.test(Ct))return[nt.createElement(RegExp.$1)];var kt=Sn.test(Ct)&&RegExp.$1,jt=He[kt]||He["*"];return jt.innerHTML=Ct,et(jt.childNodes).detach().get()}function $n(Ct,kt,jt){if(void 0!==kt){var Wt=M(kt);!Wt&&kt.length?E(kt,function(gt){return $n(Ct,gt,jt)}):E(Ct,Wt?function(gt){gt.insertAdjacentHTML(jt?"afterbegin":"beforeend",kt)}:function(gt,Ce){return Ze=gt,tt=Ce?kt.cloneNode(!0):kt,void(jt?Ze.insertBefore(tt,Ze.childNodes[0]):Ze.appendChild(tt));var Ze,tt})}}et.parseHTML=bn,u.empty=function(){var Ct=this[0];if(Ct)for(;Ct.firstChild;)Ct.removeChild(Ct.firstChild);return this},u.append=function(){var Ct=this;return E(arguments,function(kt){$n(Ct,kt)}),this},u.appendTo=function(Ct){return $n(et(Ct),this),this},u.html=function(Ct){if(void 0===Ct)return this[0]&&this[0].innerHTML;var kt=Ct.nodeType?Ct[0].outerHTML:Ct;return this.each(function(jt,Wt){Wt.innerHTML=kt})},u.insertAfter=function(Ct){var kt=this;return et(Ct).each(function(jt,Wt){var gt=Wt.parentNode;kt.each(function(Ce,Ze){gt.insertBefore(jt?Ze.cloneNode(!0):Ze,Wt.nextSibling)})}),this},u.after=function(){var Ct=this;return E(N.apply(arguments),function(kt){N.apply(et(kt).slice()).insertAfter(Ct)}),this},u.insertBefore=function(Ct){var kt=this;return et(Ct).each(function(jt,Wt){var gt=Wt.parentNode;kt.each(function(Ce,Ze){gt.insertBefore(jt?Ze.cloneNode(!0):Ze,Wt)})}),this},u.before=function(){var Ct=this;return E(arguments,function(kt){et(kt).insertBefore(Ct)}),this},u.prepend=function(){var Ct=this;return E(arguments,function(kt){$n(Ct,kt,!0)}),this},u.prependTo=function(Ct){return $n(et(Ct),N.apply(this.slice()),!0),this},u.remove=function(){return this.detach().off()},u.replaceWith=function(Ct){var kt=this;return this.each(function(jt,Wt){var gt=Wt.parentNode;if(gt){var Ce=jt?et(Ct).clone():et(Ct);if(!Ce[0])return kt.remove(),!1;gt.replaceChild(Ce[0],Wt),et(Ce[0]).after(Ce.slice(1))}})},u.replaceAll=function(Ct){return et(Ct).replaceWith(this),this},u.text=function(Ct){return void 0===Ct?this[0]?this[0].textContent:"":this.each(function(kt,jt){jt.textContent=Ct})};var At=nt&&nt.documentElement;u.offset=function(){var Ct=this[0];if(Ct){var kt=Ct.getBoundingClientRect();return{top:kt.top+pt.pageYOffset-At.clientTop,left:kt.left+pt.pageXOffset-At.clientLeft}}},u.offsetParent=function(){return et(this[0]&&this[0].offsetParent)},u.position=function(){var Ct=this[0];if(Ct)return{left:Ct.offsetLeft,top:Ct.offsetTop}},u.children=function(Ct){var kt=[];return this.each(function(jt,Wt){H.apply(kt,Wt.children)}),kt=et(Mt(kt)),Ct?kt.filter(function(jt,Wt){return T(Wt,Ct)}):kt},u.contents=function(){var Ct=[];return this.each(function(kt,jt){H.apply(Ct,"IFRAME"===jt.tagName?[jt.contentDocument]:jt.childNodes)}),et(Ct.length&&Mt(Ct))},u.find=function(Ct){for(var kt=[],jt=0,Wt=this.length;jt<Wt;jt++){var gt=st(Ct,this[jt]);gt.length&&H.apply(kt,gt)}return et(kt.length&&Mt(kt))},u.has=function(Ct){var kt=M(Ct)?function(jt,Wt){return!!st(Ct,Wt).length}:function(jt,Wt){return Wt.contains(Ct)};return this.filter(kt)},u.is=function(Ct){if(!Ct||!this[0])return!1;var kt=ot(Ct),jt=!1;return this.each(function(Wt,gt){return!(jt=kt(Wt,gt,Ct))}),jt},u.next=function(){return et(this[0]&&this[0].nextElementSibling)},u.not=function(Ct){if(!Ct||!this[0])return this;var kt=ot(Ct);return this.filter(function(jt,Wt){return!kt(jt,Wt,Ct)})},u.parent=function(){var Ct=[];return this.each(function(kt,jt){jt&&jt.parentNode&&Ct.push(jt.parentNode)}),et(Mt(Ct))},u.index=function(Ct){var kt=Ct?et(Ct)[0]:this[0],jt=Ct?this:et(kt).parent().children();return rt.call(jt,kt)},u.closest=function(Ct){return Ct&&this[0]?this.is(Ct)?this.filter(Ct):this.parent().closest(Ct):et()},u.parents=function(Ct){var kt,jt=[];return this.each(function(Wt,gt){for(kt=gt;kt&&kt.parentNode&&kt!==nt.body.parentNode;)kt=kt.parentNode,(!Ct||Ct&&T(kt,Ct))&&jt.push(kt)}),et(Mt(jt))},u.prev=function(){return et(this[0]&&this[0].previousElementSibling)},u.siblings=function(){var Ct=this[0];return this.parent().children().filter(function(kt,jt){return jt!==Ct})};const Be=et},2097:(R,at,ct)=>{"use strict";ct.d(at,{AU:()=>Mt,BC:()=>K,C8:()=>x,Ch:()=>T,Ci:()=>G,D8:()=>rt,G2:()=>q,GW:()=>m,GZ:()=>_,I6:()=>X,LJ:()=>ot,Sc:()=>mt,X6:()=>ut,Xy:()=>E,YZ:()=>H,ZQ:()=>F,a_:()=>st,af:()=>u,bG:()=>$,cx:()=>N,ir:()=>w,kk:()=>U,on:()=>Lt,rp:()=>B,v$:()=>M,yL:()=>et,zN:()=>V});var nt=ct(5706),pt=function(St,Pt,Jt){if(Jt||2===arguments.length)for(var de,zt=0,he=Pt.length;zt<he;zt++)!de&&zt in Pt||(de||(de=Array.prototype.slice.call(Pt,0,zt)),de[zt]=Pt[zt]);return St.concat(de||Array.prototype.slice.call(Pt))},rt="transitionend oTransitionEnd transitionend webkitTransitionEnd",F=function(St){return St?.nodeType===Node.DOCUMENT_NODE},H=function(St){var Pt=St&&St.parentNode;Pt&&Pt.removeChild(St)};function N(){for(var St=[],Pt=0;Pt<arguments.length;Pt++)St[Pt]=arguments[Pt];return(Array.isArray(St[0])?St[0]:pt([],St,!0)).filter(Boolean).join(" ")}var X=function(St,Pt){return St.querySelectorAll(Pt)},ut=function(St,Pt){return void 0===Pt&&(Pt={}),St&&St.setAttribute&&(0,nt.each)(Pt,function(Jt,de){return St.setAttribute(de,Jt)})},V=function(St){var Pt;return St&&!!(St.offsetWidth||St.offsetHeight||null!==(Pt=St.getClientRects)&&void 0!==Pt&&Pt.call(St).length)},$=function(St,Pt){var Jt;null===(Jt=St.parentNode)||void 0===Jt||Jt.replaceChild(Pt,St)},mt=function(St,Pt,Jt){var de=St.childNodes,zt=de.length,he=(0,nt.isUndefined)(Jt)?zt:Jt;(0,nt.isString)(Pt)&&(St.insertAdjacentHTML("beforeEnd",Pt),St.removeChild(Pt=St.lastChild)),he>=zt?St.appendChild(Pt):St.insertBefore(Pt,de[he])},K=function(St,Pt){return mt(St,Pt)},st=function(St,Pt,Jt){void 0===Pt&&(Pt={});var de=document.createElement(St);return Pt&&(0,nt.each)(Pt,function(zt,he){return de.setAttribute(he,zt)}),Jt&&((0,nt.isString)(Jt)?de.innerHTML=Jt:de.appendChild(Jt)),de},_=function(St){return document.createTextNode(St)},et=function(St,Pt){var Jt,de=St.type;try{Jt=new window[Pt](de,St)}catch{(Jt=document.createEvent(Pt)).initEvent(de,!0,!0)}return Jt._parentEvent=St,0===de.indexOf("key")&&(Jt.keyCodeVal=St.keyCode,["keyCode","which"].forEach(function(zt){Object.defineProperty(Jt,zt,{get:function(){return this.keyCodeVal}})})),Jt},u=function(St,Pt){void 0===Pt&&(Pt=[]),(Array.isArray(Pt)?Pt:[Pt]).forEach(function(Jt){var zt=Jt.attributes||{},he=document.createElement(Jt.tag||"div");(0,nt.each)(zt,function(Qt,Ue){he.setAttribute(Ue,Qt)}),St.appendChild(he)})},w=function(St){return St?.nodeType===Node.TEXT_NODE},m=function(St){return St&&!w(St)&&(Pt=St,!(Pt?.nodeType===Node.COMMENT_NODE));var Pt},x=function(St){var Pt,Jt={top:0,left:0,width:0,height:0};if(!St)return Jt;if(w(St)){var de=document.createRange();de.selectNode(St),Pt=de.getBoundingClientRect(),de.detach()}return Pt||(St.getBoundingClientRect?St.getBoundingClientRect():Jt)},E=function(St){var Pt=St?.ownerDocument||document,Jt=Pt.documentElement,de=Pt.defaultView||window;return{x:(de.pageXOffset||Jt.scrollLeft||0)-(Jt.clientLeft||0),y:(de.pageYOffset||Jt.scrollTop||0)-(Jt.clientTop||0)}},A=function(St){return St.which||St.keyCode},T=function(St){return String.fromCharCode(A(St))},q=function(St){return St.touches&&St.touches[0]?St.touches[0]:St},M=function(St){return 27===A(St)},G=function(St){return 13===A(St)},B=function(St){return St.ctrlKey||St.metaKey},ot=function(St){if(!St)return"";var Pt=St.name,Jt=St.publicId,de=St.systemId,zt=Jt?' PUBLIC "'.concat(Jt,'"'):"",he=!Jt&&de?' SYSTEM "'.concat(de,'"'):"";return"<!DOCTYPE ".concat(Pt).concat(zt).concat(he,">")},U=function(St){void 0===St&&(St={});var Pt=[];return(0,nt.each)(St,function(Jt,de){return Pt.push("".concat(de,'="').concat(Jt,'"'))}),Pt.join(" ")},Lt=function(St,Pt,Jt,de){var zt=Pt.split(/\s+/),he=(0,nt.isArray)(St)?St:[St];zt.forEach(function(Qt){he.forEach(function(Ue){return Ue?.addEventListener(Qt,Jt,de)})})},Mt=function(St,Pt,Jt,de){var zt=Pt.split(/\s+/),he=(0,nt.isArray)(St)?St:[St];zt.forEach(function(Qt){he.forEach(function(Ue){return Ue?.removeEventListener(Qt,Jt,de)})})}},9195:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{appendStyles:()=>x,buildBase64UrlFromSvg:()=>Ke,camelCase:()=>q,capitalize:()=>de,createId:()=>We,deepMerge:()=>Mt,escape:()=>U,escapeNodeContent:()=>Lt,find:()=>ot,get:()=>X,getComponentModel:()=>me,getComponentView:()=>Ue,getElement:()=>B,getGlobal:()=>_,getModel:()=>St,getUiClass:()=>m,getUnitFromValue:()=>A,getViewEl:()=>he,hasDnd:()=>G,hasWin:()=>st,isBultInMethod:()=>V,isComponent:()=>Qt,isDef:()=>K,isEmptyObj:()=>Jt,isObject:()=>Pt,isRule:()=>zt,matches:()=>w,normalizeFloat:()=>M,normalizeKey:()=>$,serialize:()=>ut,setViewEl:()=>Ee,shallowDiff:()=>E,stringToPath:()=>N,toLowerCase:()=>et,upFirst:()=>T,wait:()=>mt});var nt=ct(5706),pt=ct(2097),J=function(){return J=Object.assign||function(le){for(var Kt,Ie=1,ue=arguments.length;Ie<ue;Ie++)for(var Fe in Kt=arguments[Ie])Object.prototype.hasOwnProperty.call(Kt,Fe)&&(le[Fe]=Kt[Fe]);return le},J.apply(this,arguments)},rt={},F=/\\(\\)?/g,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N=function(le){var Kt=[];return 46===le.charCodeAt(0)&&Kt.push(""),le.replace(H,function(Ie,ue,Fe,Me){return Kt.push(Fe?Me.replace(F,"$1"):ue||Ie),""}),Kt},X=function(le,Kt,Ie){for(var ue,Fe=(gn=le,(0,nt.isArray)(mn=Kt)?mn:gn.hasOwnProperty(mn)?[mn]:N(mn)),Me=Fe.length,sn=0;null!=le&&sn<Me;)le=le["".concat(Fe[sn++])];var mn,gn;return null!==(ue=sn&&sn==Me?le:void 0)&&void 0!==ue?ue:Ie},ut=function(le){return JSON.parse(JSON.stringify(le))},V=function(le){return(0,nt.isFunction)(rt[le])},$=function(le){return V(le)?"_".concat(le):le},mt=function(le){return void 0===le&&(le=0),new Promise(function(Kt){return setTimeout(Kt,le)})},K=function(le){return void 0!==le},st=function(){return typeof window<"u"},_=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:ct.g},et=function(le){return(le||"").toLowerCase()},u=st()?window.Element.prototype:{},w=u.matches||u.webkitMatchesSelector||u.mozMatchesSelector||u.msMatchesSelector,m=function(le,Kt){var Ie=le.getConfig();return[Ie.customUI&&"".concat(Ie.stylePrefix,"cui"),Kt].filter(function(Fe){return Fe}).join(" ")},x=function(le,Kt){void 0===Kt&&(Kt={});var Ie=(0,nt.isArray)(le)?function(le,Kt,Ie){if(Ie||2===arguments.length)for(var ue,Fe=0,Me=Kt.length;Fe<Me;Fe++)!ue&&Fe in Kt||(ue||(ue=Array.prototype.slice.call(Kt,0,Fe)),ue[Fe]=Kt[Fe]);return le.concat(ue||Array.prototype.slice.call(Kt))}([],le,!0):[le];if(Ie.length){var ue=Ie.shift();if(ue&&(!Kt.unique||!document.querySelector('link[href="'.concat(ue,'"]')))){var Fe=document.head,Me=document.createElement("link");Me.href=ue,Me.rel="stylesheet",Kt.prepand?Fe.insertBefore(Me,Fe.firstChild):Fe.appendChild(Me)}x(Ie)}},E=function(le,Kt){var Ie={},ue=(0,nt.keys)(Kt);for(var Fe in le)if(le.hasOwnProperty(Fe)){var Me=le[Fe],sn=Kt[Fe];ue.indexOf(Fe)>=0?Me!==sn&&(Ie[Fe]=sn):Ie[Fe]=null}for(var Fe in Kt)Kt.hasOwnProperty(Fe)&&(0,nt.isUndefined)(le[Fe])&&(Ie[Fe]=Kt[Fe]);return Ie},A=function(le){return le.replace(parseFloat(le),"")},T=function(le){return le[0].toUpperCase()+le.toLowerCase().slice(1)},q=function(le){return le.replace(/-./g,function(Kt){return Kt[1].toUpperCase()})},M=function(le,Kt,Ie){void 0===Kt&&(Kt=1),void 0===Ie&&(Ie=0);var ue=0;if(isNaN(le))return Ie;if(le=parseFloat(le),Math.floor(le)!==le){var Fe=Kt.toString().split(".")[1];ue=Fe?Fe.length:0}return ue?parseFloat(le.toFixed(ue)):le},G=function(le){return"draggable"in document.createElement("i")&&(!le||le.config.nativeDnD)},B=function(le){return(0,nt.isElement)(le)||(0,pt.ir)(le)?le:le&&le.getEl?le.getEl():void 0},ot=function(le,Kt){var Ie=null;return le.some(function(ue,Fe){return Kt(ue,Fe,le)?(Ie=ue,1):0}),Ie},U=function(le){return void 0===le&&(le=""),"".concat(le).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},Lt=function(le){return void 0===le&&(le=""),"".concat(le).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},Mt=function(){for(var le=[],Kt=0;Kt<arguments.length;Kt++)le[Kt]=arguments[Kt];for(var Ie=J({},le[0]),ue=1;ue<le.length;ue++){var Fe=J({},le[ue]);for(var Me in Fe){var sn=Ie[Me],mn=Fe[Me];Ie[Me]=Pt(sn)&&Pt(mn)?Mt(sn,mn):mn}}return Ie},St=function(le,Kt){var Ie;return!Kt&&le&&le.__cashData?Ie=le.__cashData.model:Kt&&(0,nt.isElement)(le)&&(Ie=Kt(le).data("model")),Ie},Pt=function(le){return le&&!Array.isArray(le)&&"object"==typeof le},Jt=function(le){return Object.keys(le).length<=0},de=function(le){return void 0===le&&(le=""),le&&le.charAt(0).toUpperCase()+le.substring(1)},zt=function(le){return le&&le.toCSS},he=function(le){return le?.__gjsv},Qt=function(le){return!!le?.toHTML},Ue=function(le){return he(le)},me=function(le){var Kt;return null===(Kt=Ue(le))||void 0===Kt?void 0:Kt.model},Ee=function(le,Kt){le.__gjsv=Kt},We=function(le){void 0===le&&(le=16);for(var Kt="",Fe=0;Fe<le;Fe++)Kt+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return Kt},Ke=function(le){if(le&&"<svg"===le.substr(0,4)){var Kt="";return st()?Kt=window.btoa(le):typeof Buffer<"u"&&(Kt=Buffer.from(le,"utf8").toString("base64")),Kt?"data:image/svg+xml;base64,".concat(Kt):le}return le}},3253:(R,at,ct)=>{"use strict";ct.d(at,{h:()=>ht});var nt,pt=ct(3161),J=(nt=function(rt,F){return(nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,N){H.__proto__=N}||function(H,N){for(var X in N)Object.prototype.hasOwnProperty.call(N,X)&&(H[X]=N[X])})(rt,F)},function(rt,F){if("function"!=typeof F&&null!==F)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function H(){this.constructor=rt}nt(rt,F),rt.prototype=null===F?Object.create(F):(H.prototype=F.prototype,new H)}),ht=function(rt){function F(){var H=null!==rt&&rt.apply(this,arguments)||this;return H.displayCache=new Map,H}return J(F,rt),F.prototype.getChildren=function(){return this.getDisplayedChildren()},F.prototype.getDisplayedChildren=function(){var H=this;return this.model.components().filter(function(N){return H.isChildDisplayed(N)}).map(function(N){return new H.constructor(N)})},F.prototype.isChildDisplayed=function(H){if(this.displayCache.has(H))return this.displayCache.get(H);var X,N=!!(X=H.getEl())&&"object"==typeof X&&X.nodeType===Node.ELEMENT_NODE&&"none"!==window.getComputedStyle(X).display&&X.offsetWidth>0&&X.offsetHeight>0;return this.displayCache.set(H,N),N},F.prototype.getParent=function(){var H=this.model.parent();return H?new this.constructor(H):null},F.prototype.addChildAt=function(H,N,X){var ut,V,$,mt,K,st,_,et;if(void 0===X&&(X={action:"add-component"}),(null===(V=null===(ut=this.model)||void 0===ut?void 0:ut.isInstanceOf)||void 0===V?void 0:V.call(ut,"text"))&&(null===(mt=null===($=H?.model)||void 0===$?void 0:$.get)||void 0===mt?void 0:mt.call($,"textable")))return null===(et=null===(_=null===(st=null===(K=this.model)||void 0===K?void 0:K.getView)||void 0===st?void 0:st.call(K))||void 0===_?void 0:_.insertComponent)||void 0===et?void 0:et.call(_,H?.model,{action:X.action});var u=this.model.components().add(H.model,{at:this.getRealIndex(N),action:X.action});return new this.constructor(u)},F.prototype.removeChildAt=function(H,N){void 0===N&&(N={temporary:!1});var X=this.model.components().at(this.getRealIndex(H));X&&this.model.components().remove(X,N)},F.prototype.indexOfChild=function(H){return this.getDisplayIndex(H)},F.prototype.getDisplayIndex=function(H){var N=this.getDisplayedChildren();return N?N.findIndex(function(X){return X.model===H.model}):-1},F.prototype.getRealIndex=function(H){if(-1===H)return-1;for(var N=0,X=this.model.components(),ut=0;ut<X.length;ut++){var V=X.at(ut);if(this.isChildDisplayed(V)&&N++,N===H+1)return ut}return-1},F.prototype.canMove=function(H,N){return this.model.em.Components.canMove(this.model,H.model,this.getRealIndex(N)).result},F.prototype.restNodeState=function(){this.clearState();var H=this.model;this.setContentEditable(!1),H.em.getEditing()===H&&this.disableEditing()},F.prototype.setContentEditable=function(H){this.element&&this.isTextNode()&&(this.element.contentEditable=H?"true":"false")},F.prototype.disableEditing=function(){var H,N;null===(N=null===(H=this.view)||void 0===H?void 0:H.disableEditing)||void 0===N||N.call(H)},F.prototype.clearState=function(){var H,N;null===(N=(H=this.model).set)||void 0===N||N.call(H,"status","")},F.prototype.setSelectedParentState=function(){var H,N;null===(N=(H=this.model).set)||void 0===N||N.call(H,"status","selected-parent")},F.prototype.isTextNode=function(){var H,N;return null===(N=(H=this.model).isInstanceOf)||void 0===N?void 0:N.call(H,"text")},F.prototype.isTextable=function(){var H,N;return null===(N=(H=this.model).get)||void 0===N?void 0:N.call(H,"textable")},F}(pt.$)},6778:(R,at,ct)=>{"use strict";ct.d(at,{A:()=>ht});var nt,pt=ct(3253),J=(nt=function(rt,F){return(nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,N){H.__proto__=N}||function(H,N){for(var X in N)Object.prototype.hasOwnProperty.call(N,X)&&(H[X]=N[X])})(rt,F)},function(rt,F){if("function"!=typeof F&&null!==F)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function H(){this.constructor=rt}nt(rt,F),rt.prototype=null===F?Object.create(F):(H.prototype=F.prototype,new H)});const ht=function(rt){function F(){var H=null!==rt&&rt.apply(this,arguments)||this;return H._dropAreaConfig={ratio:.8,minUndroppableDimension:1,maxUndroppableDimension:15},H}return J(F,rt),Object.defineProperty(F.prototype,"view",{get:function(){var H,N;return null===(N=(H=this.model).getView)||void 0===N?void 0:N.call(H)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"element",{get:function(){var H,N;return null===(N=(H=this.model).getEl)||void 0===N?void 0:N.call(H)},enumerable:!1,configurable:!0}),F}(pt.h)},3161:(R,at,ct)=>{"use strict";ct.d(at,{$:()=>nt});var nt=function(){function pt(J,ht){void 0===ht&&(ht={}),this._dropAreaConfig={ratio:1,minUndroppableDimension:0,maxUndroppableDimension:0},this._model=J,this._dragSource=ht}return Object.defineProperty(pt.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),Object.defineProperty(pt.prototype,"dragSource",{get:function(){return this._dragSource},enumerable:!1,configurable:!0}),Object.defineProperty(pt.prototype,"dropArea",{get:function(){var J,ht;return this.getParent()?null===(ht=this.nodeDimensions)||void 0===ht?void 0:ht.getDropArea(this._dropAreaConfig):null===(J=this.nodeDimensions)||void 0===J?void 0:J.clone()},enumerable:!1,configurable:!0}),pt.prototype.isWithinDropBounds=function(J,ht){return!!this.dropArea&&this.dropArea.isWithinBounds(J,ht)},pt.prototype.equals=function(J){return!!J?._model&&this._model===J._model},pt.prototype.adjustDimensions=function(J){var ht,rt;0===J.topDifference&&0===J.leftDifference||(null===(ht=this.nodeDimensions)||void 0===ht||ht.adjustDimensions(J),null===(rt=this.childrenDimensions)||void 0===rt||rt.forEach(function(F){return F.adjustDimensions(J)}))},pt}()},2128:(R,at,ct)=>{"use strict";var nt,pt;ct.d(at,{A:()=>nt}),(pt=nt||(nt={})).Vertical="Vertical",pt.Horizontal="Horizontal",pt.BothDirections="BothDirections"},585:(R,at,ct)=>{var nt={"./CanvasClear":371,"./CanvasClear.ts":371,"./CanvasMove":6301,"./CanvasMove.ts":6301,"./CommandAbstract":5301,"./CommandAbstract.ts":5301,"./ComponentDelete":8542,"./ComponentDelete.ts":8542,"./ComponentDrag":1319,"./ComponentDrag.ts":1319,"./ComponentEnter":1859,"./ComponentEnter.ts":1859,"./ComponentExit":3709,"./ComponentExit.ts":3709,"./ComponentNext":2860,"./ComponentNext.ts":2860,"./ComponentPrev":4944,"./ComponentPrev.ts":4944,"./ComponentStyleClear":767,"./ComponentStyleClear.ts":767,"./CopyComponent":2126,"./CopyComponent.ts":2126,"./ExportTemplate":4860,"./ExportTemplate.ts":4860,"./Fullscreen":1085,"./Fullscreen.ts":1085,"./MoveComponent":9622,"./MoveComponent.ts":9622,"./OpenAssets":8481,"./OpenAssets.ts":8481,"./OpenBlocks":3666,"./OpenBlocks.ts":3666,"./OpenLayers":5838,"./OpenLayers.ts":5838,"./OpenStyleManager":8692,"./OpenStyleManager.ts":8692,"./OpenTraitManager":9163,"./OpenTraitManager.ts":9163,"./PasteComponent":9298,"./PasteComponent.ts":9298,"./Preview":8594,"./Preview.ts":8594,"./Resize":7604,"./Resize.ts":7604,"./SelectComponent":4596,"./SelectComponent.ts":4596,"./SelectPosition":2983,"./SelectPosition.ts":2983,"./ShowOffset":9490,"./ShowOffset.ts":9490,"./SwitchVisibility":1396,"./SwitchVisibility.ts":1396};function pt(ht){var rt=J(ht);return ct(rt)}function J(ht){if(!ct.o(nt,ht)){var rt=new Error("Cannot find module '"+ht+"'");throw rt.code="MODULE_NOT_FOUND",rt}return nt[ht]}pt.keys=function(){return Object.keys(nt)},pt.resolve=J,R.exports=pt,pt.id=585},5706:(R,at,ct)=>{"use strict";ct.r(at),ct.d(at,{VERSION:()=>pt,after:()=>Nr,all:()=>W,allKeys:()=>Be,any:()=>d,assign:()=>Bn,before:()=>mo,bind:()=>eo,bindAll:()=>fi,chain:()=>Wo,chunk:()=>Fr,clone:()=>Sr,collect:()=>Yr,compact:()=>br,compose:()=>pi,constant:()=>Me,contains:()=>C,countBy:()=>Ut,create:()=>Cr,debounce:()=>vo,default:()=>Rr,defaults:()=>Zn,defer:()=>Li,delay:()=>Ur,detect:()=>Oo,difference:()=>Pn,drop:()=>pr,each:()=>yo,escape:()=>In,every:()=>W,extend:()=>Br,extendOwn:()=>Bn,filter:()=>vr,find:()=>Oo,findIndex:()=>hi,findKey:()=>Lo,findLastIndex:()=>gi,findWhere:()=>Kr,first:()=>Re,flatten:()=>Mn,foldl:()=>bi,foldr:()=>Fi,forEach:()=>yo,functions:()=>rn,get:()=>Gn,groupBy:()=>_t,has:()=>Dr,head:()=>Re,identity:()=>Ir,include:()=>C,includes:()=>C,indexBy:()=>It,indexOf:()=>Zo,initial:()=>ir,inject:()=>bi,intersection:()=>_o,invert:()=>Qe,invoke:()=>P,isArguments:()=>Ie,isArray:()=>Ke,isArrayBuffer:()=>Jt,isBoolean:()=>M,isDataView:()=>We,isDate:()=>Lt,isElement:()=>G,isEmpty:()=>xe,isEqual:()=>At,isError:()=>St,isFinite:()=>ue,isFunction:()=>he,isMap:()=>Te,isMatch:()=>Se,isNaN:()=>Fe,isNull:()=>T,isNumber:()=>U,isObject:()=>A,isRegExp:()=>Mt,isSet:()=>Nt,isString:()=>ot,isSymbol:()=>Pt,isTypedArray:()=>dt,isUndefined:()=>q,isWeakMap:()=>Oe,isWeakSet:()=>oe,iteratee:()=>_r,keys:()=>re,last:()=>Jn,lastIndexOf:()=>si,map:()=>Yr,mapObject:()=>Pr,matcher:()=>Qr,matches:()=>Qr,max:()=>b,memoize:()=>_i,methods:()=>rn,min:()=>O,mixin:()=>Mr,negate:()=>Eo,noop:()=>No,now:()=>to,object:()=>kn,omit:()=>qn,once:()=>ii,pairs:()=>un,partial:()=>xo,partition:()=>Gt,pick:()=>hn,pluck:()=>c,property:()=>kr,propertyOf:()=>So,random:()=>To,range:()=>Lr,reduce:()=>bi,reduceRight:()=>Fi,reject:()=>ie,rest:()=>pr,restArguments:()=>E,result:()=>go,sample:()=>I,select:()=>vr,shuffle:()=>L,size:()=>tn,some:()=>d,sortBy:()=>Z,sortedIndex:()=>Ti,tail:()=>pr,take:()=>Re,tap:()=>Or,template:()=>Wn,templateSettings:()=>$t,throttle:()=>Xo,times:()=>cr,toArray:()=>ye,toPath:()=>fr,transpose:()=>no,unescape:()=>Dt,union:()=>wr,uniq:()=>Er,unique:()=>Er,uniqueId:()=>zr,unzip:()=>no,values:()=>we,where:()=>g,without:()=>Wr,wrap:()=>fo,zip:()=>Fo});var nt={};ct.r(nt),ct.d(nt,{VERSION:()=>pt,after:()=>Nr,all:()=>W,allKeys:()=>Be,any:()=>d,assign:()=>Bn,before:()=>mo,bind:()=>eo,bindAll:()=>fi,chain:()=>Wo,chunk:()=>Fr,clone:()=>Sr,collect:()=>Yr,compact:()=>br,compose:()=>pi,constant:()=>Me,contains:()=>C,countBy:()=>Ut,create:()=>Cr,debounce:()=>vo,default:()=>Oi,defaults:()=>Zn,defer:()=>Li,delay:()=>Ur,detect:()=>Oo,difference:()=>Pn,drop:()=>pr,each:()=>yo,escape:()=>In,every:()=>W,extend:()=>Br,extendOwn:()=>Bn,filter:()=>vr,find:()=>Oo,findIndex:()=>hi,findKey:()=>Lo,findLastIndex:()=>gi,findWhere:()=>Kr,first:()=>Re,flatten:()=>Mn,foldl:()=>bi,foldr:()=>Fi,forEach:()=>yo,functions:()=>rn,get:()=>Gn,groupBy:()=>_t,has:()=>Dr,head:()=>Re,identity:()=>Ir,include:()=>C,includes:()=>C,indexBy:()=>It,indexOf:()=>Zo,initial:()=>ir,inject:()=>bi,intersection:()=>_o,invert:()=>Qe,invoke:()=>P,isArguments:()=>Ie,isArray:()=>Ke,isArrayBuffer:()=>Jt,isBoolean:()=>M,isDataView:()=>We,isDate:()=>Lt,isElement:()=>G,isEmpty:()=>xe,isEqual:()=>At,isError:()=>St,isFinite:()=>ue,isFunction:()=>he,isMap:()=>Te,isMatch:()=>Se,isNaN:()=>Fe,isNull:()=>T,isNumber:()=>U,isObject:()=>A,isRegExp:()=>Mt,isSet:()=>Nt,isString:()=>ot,isSymbol:()=>Pt,isTypedArray:()=>dt,isUndefined:()=>q,isWeakMap:()=>Oe,isWeakSet:()=>oe,iteratee:()=>_r,keys:()=>re,last:()=>Jn,lastIndexOf:()=>si,map:()=>Yr,mapObject:()=>Pr,matcher:()=>Qr,matches:()=>Qr,max:()=>b,memoize:()=>_i,methods:()=>rn,min:()=>O,mixin:()=>Mr,negate:()=>Eo,noop:()=>No,now:()=>to,object:()=>kn,omit:()=>qn,once:()=>ii,pairs:()=>un,partial:()=>xo,partition:()=>Gt,pick:()=>hn,pluck:()=>c,property:()=>kr,propertyOf:()=>So,random:()=>To,range:()=>Lr,reduce:()=>bi,reduceRight:()=>Fi,reject:()=>ie,rest:()=>pr,restArguments:()=>E,result:()=>go,sample:()=>I,select:()=>vr,shuffle:()=>L,size:()=>tn,some:()=>d,sortBy:()=>Z,sortedIndex:()=>Ti,tail:()=>pr,take:()=>Re,tap:()=>Or,template:()=>Wn,templateSettings:()=>$t,throttle:()=>Xo,times:()=>cr,toArray:()=>ye,toPath:()=>fr,transpose:()=>no,unescape:()=>Dt,union:()=>wr,uniq:()=>Er,unique:()=>Er,uniqueId:()=>zr,unzip:()=>no,values:()=>we,where:()=>g,without:()=>Wr,wrap:()=>fo,zip:()=>Fo});var pt="1.13.1",J="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},ht=Array.prototype,rt=Object.prototype,F=typeof Symbol<"u"?Symbol.prototype:null,H=ht.push,N=ht.slice,X=rt.toString,ut=rt.hasOwnProperty,V=typeof ArrayBuffer<"u",$=typeof DataView<"u",mt=Array.isArray,K=Object.keys,st=Object.create,_=V&&ArrayBuffer.isView,et=isNaN,u=isFinite,w=!{toString:null}.propertyIsEnumerable("toString"),m=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],x=Math.pow(2,53)-1;function E(ft,Ot){return Ot=null==Ot?ft.length-1:+Ot,function(){for(var qt=Math.max(arguments.length-Ot,0),ne=Array(qt),fe=0;fe<qt;fe++)ne[fe]=arguments[fe+Ot];switch(Ot){case 0:return ft.call(this,ne);case 1:return ft.call(this,arguments[0],ne);case 2:return ft.call(this,arguments[0],arguments[1],ne)}var ve=Array(Ot+1);for(fe=0;fe<Ot;fe++)ve[fe]=arguments[fe];return ve[Ot]=ne,ft.apply(this,ve)}}function A(ft){var Ot=typeof ft;return"function"===Ot||"object"===Ot&&!!ft}function T(ft){return null===ft}function q(ft){return void 0===ft}function M(ft){return!0===ft||!1===ft||"[object Boolean]"===X.call(ft)}function G(ft){return!(!ft||1!==ft.nodeType)}function B(ft){var Ot="[object "+ft+"]";return function(qt){return X.call(qt)===Ot}}const ot=B("String"),U=B("Number"),Lt=B("Date"),Mt=B("RegExp"),St=B("Error"),Pt=B("Symbol"),Jt=B("ArrayBuffer");var de=B("Function");"object"!=typeof Int8Array&&"function"!=typeof(J.document&&J.document.childNodes)&&(de=function(ft){return"function"==typeof ft||!1});const he=de,Qt=B("Object");var Ue=$&&Qt(new DataView(new ArrayBuffer(8))),me=typeof Map<"u"&&Qt(new Map),Ee=B("DataView");const We=Ue?function(ft){return null!=ft&&he(ft.getInt8)&&Jt(ft.buffer)}:Ee,Ke=mt||B("Array");function le(ft,Ot){return null!=ft&&ut.call(ft,Ot)}var Kt=B("Arguments");!function(){Kt(arguments)||(Kt=function(ft){return le(ft,"callee")})}();const Ie=Kt;function ue(ft){return!Pt(ft)&&u(ft)&&!isNaN(parseFloat(ft))}function Fe(ft){return U(ft)&&et(ft)}function Me(ft){return function(){return ft}}function sn(ft){return function(Ot){var qt=ft(Ot);return"number"==typeof qt&&qt>=0&&qt<=x}}function mn(ft){return function(Ot){return Ot?.[ft]}}const gn=mn("byteLength"),ce=sn(gn);var se=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const dt=V?function(ft){return _?_(ft)&&!We(ft):ce(ft)&&se.test(X.call(ft))}:Me(!1),yt=mn("length");function Rt(ft,Ot){Ot=function($e){for(var ln={},tr=$e.length,lr=0;lr<tr;++lr)ln[$e[lr]]=!0;return{contains:function(Hr){return ln[Hr]},push:function(Hr){return ln[Hr]=!0,$e.push(Hr)}}}(Ot);var qt=m.length,ne=ft.constructor,fe=he(ne)&&ne.prototype||rt,ve="constructor";for(le(ft,ve)&&!Ot.contains(ve)&&Ot.push(ve);qt--;)(ve=m[qt])in ft&&ft[ve]!==fe[ve]&&!Ot.contains(ve)&&Ot.push(ve)}function re(ft){if(!A(ft))return[];if(K)return K(ft);var Ot=[];for(var qt in ft)le(ft,qt)&&Ot.push(qt);return w&&Rt(ft,Ot),Ot}function xe(ft){if(null==ft)return!0;var Ot=yt(ft);return"number"==typeof Ot&&(Ke(ft)||ot(ft)||Ie(ft))?0===Ot:0===yt(re(ft))}function Se(ft,Ot){var qt=re(Ot),ne=qt.length;if(null==ft)return!ne;for(var fe=Object(ft),ve=0;ve<ne;ve++){var $e=qt[ve];if(Ot[$e]!==fe[$e]||!($e in fe))return!1}return!0}function He(ft){return ft instanceof He?ft:this instanceof He?void(this._wrapped=ft):new He(ft)}function Sn(ft){return new Uint8Array(ft.buffer||ft,ft.byteOffset||0,gn(ft))}He.VERSION=pt,He.prototype.valueOf=He.prototype.toJSON=He.prototype.value=function(){return this._wrapped},He.prototype.toString=function(){return String(this._wrapped)};var jn="[object DataView]";function bn(ft,Ot,qt,ne){if(ft===Ot)return 0!==ft||1/ft==1/Ot;if(null==ft||null==Ot)return!1;if(ft!=ft)return Ot!=Ot;var fe=typeof ft;return("function"===fe||"object"===fe||"object"==typeof Ot)&&$n(ft,Ot,qt,ne)}function $n(ft,Ot,qt,ne){ft instanceof He&&(ft=ft._wrapped),Ot instanceof He&&(Ot=Ot._wrapped);var fe=X.call(ft);if(fe!==X.call(Ot))return!1;if(Ue&&"[object Object]"==fe&&We(ft)){if(!We(Ot))return!1;fe=jn}switch(fe){case"[object RegExp]":case"[object String]":return""+ft==""+Ot;case"[object Number]":return+ft!=+ft?+Ot!=+Ot:0==+ft?1/+ft==1/Ot:+ft==+Ot;case"[object Date]":case"[object Boolean]":return+ft==+Ot;case"[object Symbol]":return F.valueOf.call(ft)===F.valueOf.call(Ot);case"[object ArrayBuffer]":case jn:return $n(Sn(ft),Sn(Ot),qt,ne)}var ve="[object Array]"===fe;if(!ve&&dt(ft)){if(gn(ft)!==gn(Ot))return!1;if(ft.buffer===Ot.buffer&&ft.byteOffset===Ot.byteOffset)return!0;ve=!0}if(!ve){if("object"!=typeof ft||"object"!=typeof Ot)return!1;var $e=ft.constructor,ln=Ot.constructor;if($e!==ln&&!(he($e)&&$e instanceof $e&&he(ln)&&ln instanceof ln)&&"constructor"in ft&&"constructor"in Ot)return!1}ne=ne||[];for(var tr=(qt=qt||[]).length;tr--;)if(qt[tr]===ft)return ne[tr]===Ot;if(qt.push(ft),ne.push(Ot),ve){if((tr=ft.length)!==Ot.length)return!1;for(;tr--;)if(!bn(ft[tr],Ot[tr],qt,ne))return!1}else{var lr,Hr=re(ft);if(tr=Hr.length,re(Ot).length!==tr)return!1;for(;tr--;)if(!le(Ot,lr=Hr[tr])||!bn(ft[lr],Ot[lr],qt,ne))return!1}return qt.pop(),ne.pop(),!0}function At(ft,Ot){return bn(ft,Ot)}function Be(ft){if(!A(ft))return[];var Ot=[];for(var qt in ft)Ot.push(qt);return w&&Rt(ft,Ot),Ot}function Ct(ft){var Ot=yt(ft);return function(qt){if(null==qt)return!1;var ne=Be(qt);if(yt(ne))return!1;for(var fe=0;fe<Ot;fe++)if(!he(qt[ft[fe]]))return!1;return ft!==Ze||!he(qt[kt])}}var kt="forEach",Wt=["clear","delete"],gt=["get","has","set"],Ce=Wt.concat(kt,gt),Ze=Wt.concat(gt),tt=["add"].concat(Wt,kt,"has");const Te=me?Ct(Ce):B("Map"),Oe=me?Ct(Ze):B("WeakMap"),Nt=me?Ct(tt):B("Set"),oe=B("WeakSet");function we(ft){for(var Ot=re(ft),qt=Ot.length,ne=Array(qt),fe=0;fe<qt;fe++)ne[fe]=ft[Ot[fe]];return ne}function un(ft){for(var Ot=re(ft),qt=Ot.length,ne=Array(qt),fe=0;fe<qt;fe++)ne[fe]=[Ot[fe],ft[Ot[fe]]];return ne}function Qe(ft){for(var Ot={},qt=re(ft),ne=0,fe=qt.length;ne<fe;ne++)Ot[ft[qt[ne]]]=qt[ne];return Ot}function rn(ft){var Ot=[];for(var qt in ft)he(ft[qt])&&Ot.push(qt);return Ot.sort()}function Hn(ft,Ot){return function(qt){var ne=arguments.length;if(Ot&&(qt=Object(qt)),ne<2||null==qt)return qt;for(var fe=1;fe<ne;fe++)for(var ve=arguments[fe],$e=ft(ve),ln=$e.length,tr=0;tr<ln;tr++){var lr=$e[tr];Ot&&void 0!==qt[lr]||(qt[lr]=ve[lr])}return qt}}const Br=Hn(Be),Bn=Hn(re),Zn=Hn(Be,!0);function or(ft){if(!A(ft))return{};if(st)return st(ft);var Ot=function(){};Ot.prototype=ft;var qt=new Ot;return Ot.prototype=null,qt}function Cr(ft,Ot){var qt=or(ft);return Ot&&Bn(qt,Ot),qt}function Sr(ft){return A(ft)?Ke(ft)?ft.slice():Br({},ft):ft}function Or(ft,Ot){return Ot(ft),ft}function fr(ft){return Ke(ft)?ft:[ft]}function Vn(ft){return He.toPath(ft)}function Vr(ft,Ot){for(var qt=Ot.length,ne=0;ne<qt;ne++){if(null==ft)return;ft=ft[Ot[ne]]}return qt?ft:void 0}function Gn(ft,Ot,qt){var ne=Vr(ft,Vn(Ot));return q(ne)?qt:ne}function Dr(ft,Ot){for(var qt=(Ot=Vn(Ot)).length,ne=0;ne<qt;ne++){var fe=Ot[ne];if(!le(ft,fe))return!1;ft=ft[fe]}return!!qt}function Ir(ft){return ft}function Qr(ft){return ft=Bn({},ft),function(Ot){return Se(Ot,ft)}}function kr(ft){return ft=Vn(ft),function(Ot){return Vr(Ot,ft)}}function uo(ft,Ot,qt){if(void 0===Ot)return ft;switch(qt??3){case 1:return function(ne){return ft.call(Ot,ne)};case 3:return function(ne,fe,ve){return ft.call(Ot,ne,fe,ve)};case 4:return function(ne,fe,ve,$e){return ft.call(Ot,ne,fe,ve,$e)}}return function(){return ft.apply(Ot,arguments)}}function Io(ft,Ot,qt){return null==ft?Ir:he(ft)?uo(ft,Ot,qt):A(ft)&&!Ke(ft)?Qr(ft):kr(ft)}function _r(ft,Ot){return Io(ft,Ot,1/0)}function an(ft,Ot,qt){return He.iteratee!==_r?He.iteratee(ft,Ot):Io(ft,Ot,qt)}function Pr(ft,Ot,qt){Ot=an(Ot,qt);for(var ne=re(ft),fe=ne.length,ve={},$e=0;$e<fe;$e++){var ln=ne[$e];ve[ln]=Ot(ft[ln],ln,ft)}return ve}function No(){}function So(ft){return null==ft?No:function(Ot){return Gn(ft,Ot)}}function cr(ft,Ot,qt){var ne=Array(Math.max(0,ft));Ot=uo(Ot,qt,1);for(var fe=0;fe<ft;fe++)ne[fe]=Ot(fe);return ne}function To(ft,Ot){return null==Ot&&(Ot=ft,ft=0),ft+Math.floor(Math.random()*(Ot-ft+1))}He.toPath=fr,He.iteratee=_r;const to=Date.now||function(){return(new Date).getTime()};function di(ft){var Ot=function(ve){return ft[ve]},qt="(?:"+re(ft).join("|")+")",ne=RegExp(qt),fe=RegExp(qt,"g");return function(ve){return ne.test(ve=null==ve?"":""+ve)?ve.replace(fe,Ot):ve}}const qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},In=di(qe),Dt=di(Qe(qe)),$t=He.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var je=/(.)^/,fn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Tn=/\\|'|\r|\n|\u2028|\u2029/g;function cn(ft){return"\\"+fn[ft]}var sr=/^\s*(\w|\$)+\s*$/;function Wn(ft,Ot,qt){!Ot&&qt&&(Ot=qt),Ot=Zn({},Ot,He.templateSettings);var ne=RegExp([(Ot.escape||je).source,(Ot.interpolate||je).source,(Ot.evaluate||je).source].join("|")+"|$","g"),fe=0,ve="__p+='";ft.replace(ne,function(lr,Hr,ro,ko,Mo){return ve+=ft.slice(fe,Mo).replace(Tn,cn),fe=Mo+lr.length,Hr?ve+="'+\n((__t=("+Hr+"))==null?'':_.escape(__t))+\n'":ro?ve+="'+\n((__t=("+ro+"))==null?'':__t)+\n'":ko&&(ve+="';\n"+ko+"\n__p+='"),lr}),ve+="';\n";var $e,ln=Ot.variable;if(ln){if(!sr.test(ln))throw new Error("variable is not a bare identifier: "+ln)}else ve="with(obj||{}){\n"+ve+"}\n",ln="obj";ve="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+ve+"return __p;\n";try{$e=new Function(ln,"_",ve)}catch(lr){throw lr.source=ve,lr}var tr=function(lr){return $e.call(this,lr,He)};return tr.source="function("+ln+"){\n"+ve+"}",tr}function go(ft,Ot,qt){var ne=(Ot=Vn(Ot)).length;if(!ne)return he(qt)?qt.call(ft):qt;for(var fe=0;fe<ne;fe++){var ve=ft?.[Ot[fe]];void 0===ve&&(ve=qt,fe=ne),ft=he(ve)?ve.call(ft):ve}return ft}var qr=0;function zr(ft){var Ot=++qr+"";return ft?ft+Ot:Ot}function Wo(ft){var Ot=He(ft);return Ot._chain=!0,Ot}function Ar(ft,Ot,qt,ne,fe){if(!(ne instanceof Ot))return ft.apply(qt,fe);var ve=or(ft.prototype),$e=ft.apply(ve,fe);return A($e)?$e:ve}var wo=E(function(ft,Ot){var qt=wo.placeholder,ne=function(){for(var fe=0,ve=Ot.length,$e=Array(ve),ln=0;ln<ve;ln++)$e[ln]=Ot[ln]===qt?arguments[fe++]:Ot[ln];for(;fe<arguments.length;)$e.push(arguments[fe++]);return Ar(ft,ne,this,this,$e)};return ne});wo.placeholder=He;const xo=wo,eo=E(function(ft,Ot,qt){if(!he(ft))throw new TypeError("Bind must be called on a function");var ne=E(function(fe){return Ar(ft,ne,Ot,this,qt.concat(fe))});return ne}),io=sn(yt);function qo(ft,Ot,qt,ne){if(ne=ne||[],Ot||0===Ot){if(Ot<=0)return ne.concat(ft)}else Ot=1/0;for(var fe=ne.length,ve=0,$e=yt(ft);ve<$e;ve++){var ln=ft[ve];if(io(ln)&&(Ke(ln)||Ie(ln)))if(Ot>1)qo(ln,Ot-1,qt,ne),fe=ne.length;else for(var tr=0,lr=ln.length;tr<lr;)ne[fe++]=ln[tr++];else qt||(ne[fe++]=ln)}return ne}const fi=E(function(ft,Ot){var qt=(Ot=qo(Ot,!1,!1)).length;if(qt<1)throw new Error("bindAll must be passed function names");for(;qt--;){var ne=Ot[qt];ft[ne]=eo(ft[ne],ft)}return ft});function _i(ft,Ot){var qt=function(ne){var fe=qt.cache,ve=""+(Ot?Ot.apply(this,arguments):ne);return le(fe,ve)||(fe[ve]=ft.apply(this,arguments)),fe[ve]};return qt.cache={},qt}const Ur=E(function(ft,Ot,qt){return setTimeout(function(){return ft.apply(null,qt)},Ot)}),Li=xo(Ur,He,1);function Xo(ft,Ot,qt){var ne,fe,ve,$e,ln=0;qt||(qt={});var tr=function(){ln=!1===qt.leading?0:to(),ne=null,$e=ft.apply(fe,ve),ne||(fe=ve=null)},lr=function(){var Hr=to();ln||!1!==qt.leading||(ln=Hr);var ro=Ot-(Hr-ln);return fe=this,ve=arguments,ro<=0||ro>Ot?(ne&&(clearTimeout(ne),ne=null),ln=Hr,$e=ft.apply(fe,ve),ne||(fe=ve=null)):ne||!1===qt.trailing||(ne=setTimeout(tr,ro)),$e};return lr.cancel=function(){clearTimeout(ne),ln=0,ne=fe=ve=null},lr}function vo(ft,Ot,qt){var ne,fe,ve,$e,ln,tr=function(){var Hr=to()-fe;Ot>Hr?ne=setTimeout(tr,Ot-Hr):(ne=null,qt||($e=ft.apply(ln,ve)),ne||(ve=ln=null))},lr=E(function(Hr){return ln=this,ve=Hr,fe=to(),ne||(ne=setTimeout(tr,Ot),qt&&($e=ft.apply(ln,ve))),$e});return lr.cancel=function(){clearTimeout(ne),ne=ve=ln=null},lr}function fo(ft,Ot){return xo(Ot,ft)}function Eo(ft){return function(){return!ft.apply(this,arguments)}}function pi(){var ft=arguments,Ot=ft.length-1;return function(){for(var qt=Ot,ne=ft[Ot].apply(this,arguments);qt--;)ne=ft[qt].call(this,ne);return ne}}function Nr(ft,Ot){return function(){if(--ft<1)return Ot.apply(this,arguments)}}function mo(ft,Ot){var qt;return function(){return--ft>0&&(qt=Ot.apply(this,arguments)),ft<=1&&(Ot=null),qt}}const ii=xo(mo,2);function Lo(ft,Ot,qt){Ot=an(Ot,qt);for(var ne,fe=re(ft),ve=0,$e=fe.length;ve<$e;ve++)if(Ot(ft[ne=fe[ve]],ne,ft))return ne}function Si(ft){return function(Ot,qt,ne){qt=an(qt,ne);for(var fe=yt(Ot),ve=ft>0?0:fe-1;ve>=0&&ve<fe;ve+=ft)if(qt(Ot[ve],ve,Ot))return ve;return-1}}const hi=Si(1),gi=Si(-1);function Ti(ft,Ot,qt,ne){for(var fe=(qt=an(qt,ne,1))(Ot),ve=0,$e=yt(ft);ve<$e;){var ln=Math.floor((ve+$e)/2);qt(ft[ln])<fe?ve=ln+1:$e=ln}return ve}function ai(ft,Ot,qt){return function(ne,fe,ve){var $e=0,ln=yt(ne);if("number"==typeof ve)ft>0?$e=ve>=0?ve:Math.max(ve+ln,$e):ln=ve>=0?Math.min(ve+1,ln):ve+ln+1;else if(qt&&ve&&ln)return ne[ve=qt(ne,fe)]===fe?ve:-1;if(fe!=fe)return(ve=Ot(N.call(ne,$e,ln),Fe))>=0?ve+$e:-1;for(ve=ft>0?$e:ln-1;ve>=0&&ve<ln;ve+=ft)if(ne[ve]===fe)return ve;return-1}}const Zo=ai(1,hi,Ti),si=ai(-1,gi);function Oo(ft,Ot,qt){var ne=(io(ft)?hi:Lo)(ft,Ot,qt);if(void 0!==ne&&-1!==ne)return ft[ne]}function Kr(ft,Ot){return Oo(ft,Qr(Ot))}function yo(ft,Ot,qt){var ne,fe;if(Ot=uo(Ot,qt),io(ft))for(ne=0,fe=ft.length;ne<fe;ne++)Ot(ft[ne],ne,ft);else{var ve=re(ft);for(ne=0,fe=ve.length;ne<fe;ne++)Ot(ft[ve[ne]],ve[ne],ft)}return ft}function Yr(ft,Ot,qt){Ot=an(Ot,qt);for(var ne=!io(ft)&&re(ft),fe=(ne||ft).length,ve=Array(fe),$e=0;$e<fe;$e++){var ln=ne?ne[$e]:$e;ve[$e]=Ot(ft[ln],ln,ft)}return ve}function jo(ft){return function(Ot,qt,ne,fe){var ve=arguments.length>=3;return function($e,ln,tr,lr){var Hr=!io($e)&&re($e),ro=(Hr||$e).length,ko=ft>0?0:ro-1;for(lr||(tr=$e[Hr?Hr[ko]:ko],ko+=ft);ko>=0&&ko<ro;ko+=ft){var Mo=Hr?Hr[ko]:ko;tr=ln(tr,$e[Mo],Mo,$e)}return tr}(Ot,uo(qt,fe,4),ne,ve)}}const bi=jo(1),Fi=jo(-1);function vr(ft,Ot,qt){var ne=[];return Ot=an(Ot,qt),yo(ft,function(fe,ve,$e){Ot(fe,ve,$e)&&ne.push(fe)}),ne}function ie(ft,Ot,qt){return vr(ft,Eo(an(Ot)),qt)}function W(ft,Ot,qt){Ot=an(Ot,qt);for(var ne=!io(ft)&&re(ft),fe=(ne||ft).length,ve=0;ve<fe;ve++){var $e=ne?ne[ve]:ve;if(!Ot(ft[$e],$e,ft))return!1}return!0}function d(ft,Ot,qt){Ot=an(Ot,qt);for(var ne=!io(ft)&&re(ft),fe=(ne||ft).length,ve=0;ve<fe;ve++){var $e=ne?ne[ve]:ve;if(Ot(ft[$e],$e,ft))return!0}return!1}function C(ft,Ot,qt,ne){return io(ft)||(ft=we(ft)),("number"!=typeof qt||ne)&&(qt=0),Zo(ft,Ot,qt)>=0}const P=E(function(ft,Ot,qt){var ne,fe;return he(Ot)?fe=Ot:(Ot=Vn(Ot),ne=Ot.slice(0,-1),Ot=Ot[Ot.length-1]),Yr(ft,function(ve){var $e=fe;if(!$e){if(ne&&ne.length&&(ve=Vr(ve,ne)),null==ve)return;$e=ve[Ot]}return null==$e?$e:$e.apply(ve,qt)})});function c(ft,Ot){return Yr(ft,kr(Ot))}function g(ft,Ot){return vr(ft,Qr(Ot))}function b(ft,Ot,qt){var ne,fe,ve=-1/0,$e=-1/0;if(null==Ot||"number"==typeof Ot&&"object"!=typeof ft[0]&&null!=ft)for(var ln=0,tr=(ft=io(ft)?ft:we(ft)).length;ln<tr;ln++)null!=(ne=ft[ln])&&ne>ve&&(ve=ne);else Ot=an(Ot,qt),yo(ft,function(lr,Hr,ro){((fe=Ot(lr,Hr,ro))>$e||fe===-1/0&&ve===-1/0)&&(ve=lr,$e=fe)});return ve}function O(ft,Ot,qt){var ne,fe,ve=1/0,$e=1/0;if(null==Ot||"number"==typeof Ot&&"object"!=typeof ft[0]&&null!=ft)for(var ln=0,tr=(ft=io(ft)?ft:we(ft)).length;ln<tr;ln++)null!=(ne=ft[ln])&&ne<ve&&(ve=ne);else Ot=an(Ot,qt),yo(ft,function(lr,Hr,ro){((fe=Ot(lr,Hr,ro))<$e||fe===1/0&&ve===1/0)&&(ve=lr,$e=fe)});return ve}function I(ft,Ot,qt){if(null==Ot||qt)return io(ft)||(ft=we(ft)),ft[To(ft.length-1)];var ne=io(ft)?Sr(ft):we(ft),fe=yt(ne);Ot=Math.max(Math.min(Ot,fe),0);for(var ve=fe-1,$e=0;$e<Ot;$e++){var ln=To($e,ve),tr=ne[$e];ne[$e]=ne[ln],ne[ln]=tr}return ne.slice(0,Ot)}function L(ft){return I(ft,1/0)}function Z(ft,Ot,qt){var ne=0;return Ot=an(Ot,qt),c(Yr(ft,function(fe,ve,$e){return{value:fe,index:ne++,criteria:Ot(fe,ve,$e)}}).sort(function(fe,ve){var $e=fe.criteria,ln=ve.criteria;if($e!==ln){if($e>ln||void 0===$e)return 1;if($e<ln||void 0===ln)return-1}return fe.index-ve.index}),"value")}function vt(ft,Ot){return function(qt,ne,fe){var ve=Ot?[[],[]]:{};return ne=an(ne,fe),yo(qt,function($e,ln){var tr=ne($e,ln,qt);ft(ve,$e,tr)}),ve}}const _t=vt(function(ft,Ot,qt){le(ft,qt)?ft[qt].push(Ot):ft[qt]=[Ot]}),It=vt(function(ft,Ot,qt){ft[qt]=Ot}),Ut=vt(function(ft,Ot,qt){le(ft,qt)?ft[qt]++:ft[qt]=1}),Gt=vt(function(ft,Ot,qt){ft[qt?0:1].push(Ot)},!0);var Xt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function ye(ft){return ft?Ke(ft)?N.call(ft):ot(ft)?ft.match(Xt):io(ft)?Yr(ft,Ir):we(ft):[]}function tn(ft){return null==ft?0:io(ft)?ft.length:re(ft).length}function en(ft,Ot,qt){return Ot in qt}const hn=E(function(ft,Ot){var qt={},ne=Ot[0];if(null==ft)return qt;he(ne)?(Ot.length>1&&(ne=uo(ne,Ot[1])),Ot=Be(ft)):(ne=en,Ot=qo(Ot,!1,!1),ft=Object(ft));for(var fe=0,ve=Ot.length;fe<ve;fe++){var $e=Ot[fe],ln=ft[$e];ne(ln,$e,ft)&&(qt[$e]=ln)}return qt}),qn=E(function(ft,Ot){var qt,ne=Ot[0];return he(ne)?(ne=Eo(ne),Ot.length>1&&(qt=Ot[1])):(Ot=Yr(qo(Ot,!1,!1),String),ne=function(fe,ve){return!C(Ot,ve)}),hn(ft,ne,qt)});function ir(ft,Ot,qt){return N.call(ft,0,Math.max(0,ft.length-(null==Ot||qt?1:Ot)))}function Re(ft,Ot,qt){return null==ft||ft.length<1?null==Ot||qt?void 0:[]:null==Ot||qt?ft[0]:ir(ft,ft.length-Ot)}function pr(ft,Ot,qt){return N.call(ft,null==Ot||qt?1:Ot)}function Jn(ft,Ot,qt){return null==ft||ft.length<1?null==Ot||qt?void 0:[]:null==Ot||qt?ft[ft.length-1]:pr(ft,Math.max(0,ft.length-Ot))}function br(ft){return vr(ft,Boolean)}function Mn(ft,Ot){return qo(ft,Ot,!1)}const Pn=E(function(ft,Ot){return Ot=qo(Ot,!0,!0),vr(ft,function(qt){return!C(Ot,qt)})}),Wr=E(function(ft,Ot){return Pn(ft,Ot)});function Er(ft,Ot,qt,ne){M(Ot)||(ne=qt,qt=Ot,Ot=!1),null!=qt&&(qt=an(qt,ne));for(var fe=[],ve=[],$e=0,ln=yt(ft);$e<ln;$e++){var tr=ft[$e],lr=qt?qt(tr,$e,ft):tr;Ot&&!qt?($e&&ve===lr||fe.push(tr),ve=lr):qt?C(ve,lr)||(ve.push(lr),fe.push(tr)):C(fe,tr)||fe.push(tr)}return fe}const wr=E(function(ft){return Er(qo(ft,!0,!0))});function _o(ft){for(var Ot=[],qt=arguments.length,ne=0,fe=yt(ft);ne<fe;ne++){var ve=ft[ne];if(!C(Ot,ve)){var $e;for($e=1;$e<qt&&C(arguments[$e],ve);$e++);$e===qt&&Ot.push(ve)}}return Ot}function no(ft){for(var Ot=ft&&b(ft,yt).length||0,qt=Array(Ot),ne=0;ne<Ot;ne++)qt[ne]=c(ft,ne);return qt}const Fo=E(no);function kn(ft,Ot){for(var qt={},ne=0,fe=yt(ft);ne<fe;ne++)Ot?qt[ft[ne]]=Ot[ne]:qt[ft[ne][0]]=ft[ne][1];return qt}function Lr(ft,Ot,qt){null==Ot&&(Ot=ft||0,ft=0),qt||(qt=Ot<ft?-1:1);for(var ne=Math.max(Math.ceil((Ot-ft)/qt),0),fe=Array(ne),ve=0;ve<ne;ve++,ft+=qt)fe[ve]=ft;return fe}function Fr(ft,Ot){if(null==Ot||Ot<1)return[];for(var qt=[],ne=0,fe=ft.length;ne<fe;)qt.push(N.call(ft,ne,ne+=Ot));return qt}function $r(ft,Ot){return ft._chain?He(Ot).chain():Ot}function Mr(ft){return yo(rn(ft),function(Ot){var qt=He[Ot]=ft[Ot];He.prototype[Ot]=function(){var ne=[this._wrapped];return H.apply(ne,arguments),$r(this,qt.apply(He,ne))}}),He}yo(["pop","push","reverse","shift","sort","splice","unshift"],function(ft){var Ot=ht[ft];He.prototype[ft]=function(){var qt=this._wrapped;return null!=qt&&(Ot.apply(qt,arguments),"shift"!==ft&&"splice"!==ft||0!==qt.length||delete qt[0]),$r(this,qt)}}),yo(["concat","join","slice"],function(ft){var Ot=ht[ft];He.prototype[ft]=function(){var qt=this._wrapped;return null!=qt&&(qt=Ot.apply(qt,arguments)),$r(this,qt)}});const Oi=He;var ao=Mr(nt);ao._=ao;const Rr=ao}},Ae={};function Xe(R){var at=Ae[R];if(void 0!==at)return at.exports;var ct=Ae[R]={exports:{}};return k[R].call(ct.exports,ct,ct.exports,Xe),ct.exports}Xe.n=R=>{var at=R&&R.__esModule?()=>R.default:()=>R;return Xe.d(at,{a:at}),at},Xe.d=(R,at)=>{for(var ct in at)Xe.o(at,ct)&&!Xe.o(R,ct)&&Object.defineProperty(R,ct,{enumerable:!0,get:at[ct]})},Xe.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),Xe.o=(R,at)=>Object.prototype.hasOwnProperty.call(R,at),Xe.r=R=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(R,"__esModule",{value:!0})};var wt={};return(()=>{"use strict";Xe.d(wt,{default:()=>$_});var R=Xe(5706),at=Xe(9195);function ct(a){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var e=a.raw;return e.reduce(function(n,o,l){var h=r[l-1],v=e[l-1];return Array.isArray(h)?h=h.join(""):v&&"$"===v.slice(-1)?n=n.slice(0,-1):h=(0,at.escape)(h),n+h+o})}var rt,pt=Xe(4193),J=Xe.n(pt),ht=Xe(6411),F=Xe(1749),H=(rt=function(a,r){return(rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(a,r)},function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=a}rt(a,r),a.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}),N=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return H(r,a),r}(F.Kx);const X=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return H(r,a),r.prototype.getByComponent=function(t){var e=this;return this.filter(function(n){return e.getComponent(n)===t})[0]},r.prototype.addComponent=function(t,e){var n=this,o=((0,R.isArray)(t)?t:[t]).filter(function(l){return!n.hasComponent(l)}).map(function(l){return new N({component:l})})[0];return this.push(o,e)},r.prototype.getComponent=function(t){return t.get("component")},r.prototype.hasComponent=function(t){var e=this.getByComponent(t);return e&&this.contains(e)},r.prototype.lastComponent=function(){var t=this.last();return t?this.getComponent(t):void 0},r.prototype.allComponents=function(){var t=this;return this.map(function(e){return t.getComponent(e)}).filter(function(e){return e})},r.prototype.removeComponent=function(t,e){var n=this,o=((0,R.isArray)(t)?t:[t]).map(function(l){return n.getByComponent(l)});return this.remove(o,e)},r}(F.pM);var a,ut=(a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)},function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),V=function(){return V=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},V.apply(this,arguments)},mt=function(){function a(r,t,e){this.debounced=[],this.collections=[],this.cls=[],this._em=r,this._name=t;var n=this.name.charAt(0).toLowerCase()+this.name.slice(1),o=(0,R.isUndefined)(r.config[n])?r.config[this.name]:r.config[n],l=!0===o?{}:o||{};l.pStylePrefix=r.config.pStylePrefix||"",(0,R.isUndefined)(o)||o||(l._disable=1),l.em=r,this._config=(0,at.deepMerge)(e||{},l)}return Object.defineProperty(a.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),a.prototype.render=function(r){},a.prototype.postLoad=function(r){},Object.defineProperty(a.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),a.prototype.getConfig=function(r){return r?this.config[r]:this.config},a.prototype.__logWarn=function(r,t){void 0===t&&(t={}),this.em.logWarning("[".concat(this.name,"]: ").concat(r),t)},a.prototype.destroy=function(){this.__destroy()},a.prototype.__destroy=function(){var r,t,e;null===(r=this.view)||void 0===r||r.remove(),null===(t=this.state)||void 0===t||t.stopListening(),null===(e=this.state)||void 0===e||e.clear(),this.debounced.forEach(function(n){return n.cancel()}),this.collections.forEach(function(n){n.stopListening(),n.reset()})},a.prototype.__appendTo=function(){var r=this.getConfig().appendTo;if(r){var t=(0,R.isElement)(r)?r:document.querySelector(r);if(!t)return this.__logWarn('"appendTo" element not found');t.appendChild(this.render())}},a}();const K=mt;var st=function(a){function r(t,e,n,o,l,h){void 0===h&&(h={});var v=a.call(this,t,e,l)||this;return v.cls=[],v.private=!1,v.all=n,v.events=o,!h.skipListen&&v.__initListen(),v}return ut(r,a),r.prototype.postLoad=function(t){},r.prototype.render=function(t){},r.prototype.getProjectData=function(t){var e={},n=this.storageKey;return n&&(e[n]=t||this.getAll()),e},r.prototype.loadProjectData=function(t,e){void 0===t&&(t={}),void 0===e&&(e={});var o=e.onResult,l=e.reset,v={action:"load"},j=e.all||this.all,S=t[this.storageKey];if("string"==typeof S)try{S=JSON.parse(S)}catch{this.__logWarn("Data parsing failed",{input:S})}return l&&S&&j.reset(void 0,v),o?S&&o(S,v):S&&(0,at.isDef)(S.length)&&j.reset(S,v),S},r.prototype.clear=function(t){void 0===t&&(t={});var e=this.all;return e&&e.reset(void 0,t),this},r.prototype.getAll=function(){return function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))}([],this.all.models,!0)},r.prototype.getAllMap=function(){return this.getAll().reduce(function(t,e){return t[e.get(e.idAttribute)]=e,t},{})},r.prototype.__initListen=function(t){void 0===t&&(t={});var e=this,n=e.all,o=e.em,l=e.events;n&&o&&n.on("add",function(h,v,j){return o.trigger(l.add,h,j)}).on("remove",function(h,v,j){return o.trigger(l.remove,h,j)}).on("change",function(h,v){return o.trigger(l.update,h,h.changedAttributes(),v)}).on("all",this.__catchAllEvent,this),this.cls=[n].concat(t.collections||[]),(t.propagate||[]).forEach(function(h){var j=h.event;h.entity.on("all",function(S,Y,lt,xt){var Ft=V({event:S},xt||lt);[o,n].map(function(Bt){return Bt.trigger(j,Y,Ft)})})})},r.prototype.__remove=function(t,e){var n=this;void 0===e&&(e={});var o=this.em,l=(0,R.isString)(t)?this.get(t):t,h=function(){return l&&n.all.remove(l,e),l};return!e.silent&&o?.trigger(this.events.removeBefore,l,h,e),!e.abort&&h()},r.prototype.__catchAllEvent=function(t,e,n,o){var l=this.em,h=this.events;l&&h.all&&l.trigger(h.all,{event:t,model:e,options:o||n}),this.__onAllEvent()},r.prototype.__appendTo=function(t){var e=this.config.appendTo;if(e){var n=(0,R.isElement)(e)?e:document.querySelector(e);if(!n)return this.__logWarn('"appendTo" element not found');n.appendChild(this.render(t))}},r.prototype.__onAllEvent=function(){},r.prototype._createId=function(t){void 0===t&&(t=16);var e,n=this.getAll().length+t,o=this.getAllMap();do{e=(0,at.createId)(n)}while(o[e]);return e},r.prototype.__listenAdd=function(t,e){var n=this;t.on("add",function(o,l,h){return n.em.trigger(e,o,h)})},r.prototype.__listenRemove=function(t,e){var n=this;t.on("remove",function(o,l,h){return n.em.trigger(e,o,h)})},r.prototype.__listenUpdate=function(t,e){var n=this;t.on("change",function(o,l){return n.em.trigger(e,o,o.changedAttributes(),l)})},r.prototype.__destroy=function(){var t;this.cls.forEach(function(e){e.stopListening(),e.reset()}),null===(t=this.view)||void 0===t||t.remove(),this.view=void 0},r}(mt),et=Xe(3023),w=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const m=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return w(r,a),r.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},r.prototype.initialize=function(){var t=this;null===this.get("widthMedia")&&this.set("widthMedia",this.get("width")),null===this.get("width")&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0),["width","height","widthMedia"].forEach(function(e){return t.checkUnit(e)})},r.prototype.checkUnit=function(t){var e=this.get(t)||"";(parseFloat(e)||0).toString()===e.toString()&&this.set(t,"".concat(e,"px"))},r.prototype.getName=function(){return this.get("name")||this.get("id")},r.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},r}(F.Kx);var x=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),E=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return x(r,a),r}(F.pM);const A=E;E.prototype.model=m;var T=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),M=function(a){function r(t){var e=a.call(this,t)||this;return e.config=t.config||{},e.em=e.config.em,e.ppfx=e.config.pStylePrefix||"",e.listenTo(e.em,"change:device",e.updateSelect),e}return T(r,a),r.prototype.template=function(t){var e=t.ppfx,n=t.label;return ct(B||(B=function(a,r){return Object.defineProperty?Object.defineProperty(a,"raw",{value:r}):a.raw=r,a}(['\n      <div class="','device-label">','</div>\n      <div class="',"field ",'select">\n        <span id="','input-holder">\n          <select class="','devices"></select>\n        </span>\n        <div class="','sel-arrow">\n          <div class="','d-s-arrow"></div>\n        </div>\n      </div>\n      <button style="display:none" class="','add-trasp" data-add-trasp>+</button>\n    '],['\n      <div class="','device-label">','</div>\n      <div class="',"field ",'select">\n        <span id="','input-holder">\n          <select class="','devices"></select>\n        </span>\n        <div class="','sel-arrow">\n          <div class="','d-s-arrow"></div>\n        </div>\n      </div>\n      <button style="display:none" class="','add-trasp" data-add-trasp>+</button>\n    '])),e,n,e,e,e,e,e,e,e)},r.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},r.prototype.startAdd=function(){},r.prototype.updateDevice=function(){var t=this.em;if(t){var e=this.devicesEl;t.set("device",e?e.val():"")}},r.prototype.updateSelect=function(){var t=this.em,e=this.devicesEl;if(t&&t.getDeviceModel&&e){var n=t.getDeviceModel();e.val(n?n.get("id"):"")}},r.prototype.getOptions=function(){var e=this.em,n="";return this.collection.forEach(function(o){var l=o.attributes,h=l.name,v=l.id,j=e&&e.t&&e.t("deviceManager.devices.".concat(v))||h;n+='<option value="'.concat(v||h,'">').concat(j,"</option>")}),n},r.prototype.render=function(){var t=this,e=t.em,n=t.ppfx,o=t.$el,l=t.el,h=e&&e.t&&e.t("deviceManager.device");return o.html(this.template({ppfx:n,label:h})),this.devicesEl=o.find(".".concat(n,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(e.get("device")),l.className="".concat(n,"devices-c"),this},r}(F.Ss);const G=M;var B,ot=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),U=function(){return U=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},U.apply(this,arguments)},Mt="".concat("device",":"),St="".concat(Mt,"select"),Pt=("".concat(St,":before"),"".concat(Mt,"update")),Jt="".concat(Mt,"add"),de=("".concat(Jt,":before"),"".concat(Mt,"remove")),zt="".concat(de,":before"),Qt={all:"device",select:St,update:Pt,add:Jt,remove:de,removeBefore:zt},Ue=function(a){function r(t){var e,n=a.call(this,t,"DeviceManager",new A,Qt,{default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]})||this;return n.Device=m,n.Devices=A,n.storageKey="",n.devices=n.all,null===(e=n.config.devices)||void 0===e||e.forEach(function(o){return n.add(o,{silent:!0})}),n.select(n.config.default||n.devices.at(0)),t.on("change:device",n._onSelect,n),n}return ot(r,a),r.prototype._onSelect=function(t,e,n){var o=this.em,l=this.events,h=t.previous("device"),v=this.get(e),j=l.select;o.trigger(j,v,this.get(h)),this.__catchAllEvent(j,v,n)},r.prototype.add=function(t,e){var n;void 0===e&&(e={});var o=e;if((0,R.isString)(t)){var l=e;n=U(U({},o=arguments[2]||{}),{id:t,name:o.name||t,width:l})}else n=t;return n.id||(n.id=n.name||this._createId()),this.devices.add(n,o)},r.prototype.get=function(t){return this.getAll().filter(function(e){return e.get("name")===t})[0]||this.devices.get(t)||null},r.prototype.remove=function(t,e){return void 0===e&&(e={}),this.__remove(t,e)},r.prototype.getDevices=function(){return this.devices.models},r.prototype.select=function(t,e){void 0===e&&(e={});var n=(0,R.isString)(t)?this.get(t):t;return n&&this.em.set("device",n.get("id"),e),this},r.prototype.getSelected=function(){return this.get(this.em.get("device"))},r.prototype.getAll=function(){return this.devices},r.prototype.render=function(){var t,e=this.em;return null===(t=this.view)||void 0===t||t.remove(),this.view=new G({collection:this.devices,config:U({em:e},this.config)}),this.view.render().el},r.prototype.destroy=function(){this.__destroy()},r}(st);const me=Ue;var Ee;!function(a){a.add="page:add",a.addBefore="page:add:before",a.remove="page:remove",a.removeBefore="page:remove:before",a.select="page:select",a.selectBefore="page:select:before",a.update="page:update",a.all="page"}(Ee||(Ee={}));const We=Ee;var Ke=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),le=function(a){function r(t,e,n){return a.call(this,e,{module:t,modelConstructor:n})||this}return Ke(r,a),r.prototype.add=function(t,e){var n,o=this,l=(0,R.isArray)(t)?t:(0,R.isUndefined)(t)?void 0:[t];return l=null!==(n=l?.map(function(h){return h instanceof o.newModel?h:new o.newModel(o.module,h)}))&&void 0!==n?n:[void 0],a.prototype.add.call(this,(0,R.isArray)(t)?l:l[0],e)},r.prototype.preinitialize=function(t,e){this.newModel=e.modelConstructor,this.module=e.module},r}(F.pM);const Kt=le;var Ie=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),ue=function(){return ue=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},ue.apply(this,arguments)},Fe=function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))},mn=function(a,r){var t,e=a.get(r),n=null===(t=a.view)||void 0===t?void 0:t.el["width"===r?"offsetWidth":"offsetHeight"];return(0,R.isNumber)(e)?e:(0,R.isString)(e)&&e.endsWith("px")?parseFloat(e):n||0},gn=function(a){function r(t,e){var n=a.call(this,t,e)||this,o=n.em,l=n.attributes,h=l.styles,v=l.component,j=o.Components,S=j.getConfig(),Y=o.Css.getAll(),lt={},xt={em:o,config:S,frame:n,idMap:lt};if(!(0,at.isComponent)(v)){var Ft=(0,at.isObject)(v)?v:{components:v};!Ft.type&&(Ft.type="wrapper");var Bt=j.getType("wrapper").model;n.set("component",new Bt(Ft,xt))}if(h){if(!(0,at.isObject)(h)){var te=h;(0,R.keys)(lt).length&&(te=(0,R.isString)(te)?o.Parser.parseCss(te):te,o.Css.checkId(te,{idMap:lt})),Y.add(te),n.set("styles",Y)}}else n.set("styles",Y);return!e.width&&n.set("__aw",1),!e.height&&n.set("__ah",1),!n.id&&n.set("id",(0,at.createId)()),n}return Ie(r,a),r.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(r.prototype,"width",{get:function(){return mn(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return mn(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"root",{get:function(){var t=this.refFrame;return t?.getComponent()||this.getComponent()},enumerable:!1,configurable:!0}),r.prototype.initRefs=function(){var t=this.refFrame;if((0,R.isString)(t)){var e=this.module.framesById[t];e&&this.set({refFrame:e},{silent:!0})}},r.prototype.getBoxRect=function(){var t=this.attributes;return{x:t.x,y:t.y,width:this.width,height:this.height}},r.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},r.prototype.changesUp=function(t){void 0===t&&(t={}),t.temporary||t.noCount||t.avoidStore||this.set("changesCount",this.get("changesCount")+1)},r.prototype.getComponent=function(){return this.get("component")},r.prototype.getStyles=function(){return this.get("styles")},r.prototype.disable=function(){this.trigger("disable")},r.prototype.remove=function(){var t;null===(t=this.view)||void 0===t||t.remove(),this.view=void 0;var e=this.collection;return e&&e.remove(this)},r.prototype.getHead=function(){return Fe([],this.head,!0)},r.prototype.setHead=function(t){return this.set("head",Fe([],t,!0))},r.prototype.addHeadItem=function(t){this.head.push(t)},r.prototype.getHeadByAttr=function(t,e,n){return this.head.filter(function(o){return o.attributes&&o.attributes[t]==e&&(!n||n===o.tag)})[0]},r.prototype.removeHeadByAttr=function(t,e,n){var o=this.getHeadByAttr(t,e,n),l=this.head.indexOf(o);l>=0&&this.head.splice(l,1)},r.prototype.addLink=function(t){var e="link";!this.getHeadByAttr("href",t,e)&&this.addHeadItem({tag:e,attributes:{href:t,rel:"stylesheet"}})},r.prototype.removeLink=function(t){this.removeHeadByAttr("href",t,"link")},r.prototype.addScript=function(t){var e="script";!this.getHeadByAttr("src",t,e)&&this.addHeadItem({tag:e,attributes:{src:t}})},r.prototype.removeScript=function(t){this.removeHeadByAttr("src",t,"script")},r.prototype.getPage=function(){var t;return null===(t=this.collection)||void 0===t?void 0:t.page},r.prototype._emitUpdated=function(t){void 0===t&&(t={}),this.em.trigger("frame:updated",ue({frame:this},t))},r.prototype.hasAutoHeight=function(){return!("auto"!==this.attributes.height&&!this.config.infiniteCanvas)},r.prototype.toJSON=function(t){void 0===t&&(t={});var e=et.A.prototype.toJSON.call(this,t),n=(0,R.result)(this,"defaults");return t.fromUndo&&delete e.component,delete e.styles,delete e.changesCount,e.__aw&&delete e.width,e.__ah&&delete e.height,e.refFrame&&(e.refFrame=e.refFrame.id,delete e.component),(0,R.forEach)(e,function(o,l){0===l.indexOf("_")&&delete e[l]}),(0,R.forEach)(n,function(o,l){e[l]===o&&delete e[l]}),(0,R.forEach)(["attributes","head"],function(o){(0,R.isEmpty)(e[o])&&delete e[o]}),e},r}(et.A);const ce=gn;var se=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const dt=function(a){function r(t,e){void 0===e&&(e=[]);var n=a.call(this,t,e,ce)||this;return n.loadedItems=0,n.itemsToLoad=0,(0,R.bindAll)(n,"itemLoaded"),n.on("add",n.onAdd),n.on("reset",n.onReset),n.on("remove",n.onRemove),n.forEach(function(o){return n.onAdd(o)}),n}return se(r,a),r.prototype.onAdd=function(t){this.module.framesById[t.id]=t},r.prototype.onReset=function(t,e){var n=this;(e?.previousModels||[]).map(function(o){return n.onRemove(o)})},r.prototype.onRemove=function(t){t.onRemove(),delete this.module.framesById[t.id]},r.prototype.initRefs=function(){this.forEach(function(t){return t.initRefs()})},r.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},r.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},r.prototype.listenToLoadItems=function(t){var e=this;this.forEach(function(n){return n[t?"on":"off"]("loaded",e.itemLoaded)})},r}(Kt);var yt=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rt=function(a){function r(t){var e=this,n=t.em,o=t.config;return(e=a.call(this,t,{scripts:o.scripts,styles:o.styles})||this).set("frames",new dt(t)),e.on("change:zoom",e.onZoomChange),e.on("change:x change:y",e.onCoordsChange),e.on("change:pointer change:pointerScreen",e.onPointerChange),e.listenTo(n,"change:device ".concat(Pt),e.updateDevice),e.listenTo(n,We.select,e._pageUpdated),e}return yt(r,a),r.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:F.lK,pointerScreen:F.lK}},Object.defineProperty(r.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),r.prototype.init=function(){var t=this.em.Pages._initPage();this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},r.prototype._pageUpdated=function(t,e){var n=this.em;n.setSelected(),n.get("readyCanvas")&&n.stopDefault(),e?.getFrames().map(function(o){return o.disable()}),this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},r.prototype.updateDevice=function(t){void 0===t&&(t={});var e=this.em,n=e.getDeviceModel(),o=t.frame||e.getCurrentFrameModel();if(o&&n){var l=n.attributes;o.set({width:l.width,height:l.height,minHeight:l.minHeight},{noUndo:1})}},r.prototype.onZoomChange=function(t,e,n){var o=this.em,l=this.module;this.get("zoom")<1&&this.set("zoom",1),o.trigger(l.events.zoom,{options:n})},r.prototype.onCoordsChange=function(){this.em.trigger(this.module.events.coords)},r.prototype.onPointerChange=function(){this.em.trigger(this.module.events.pointer)},r.prototype.getPointerCoords=function(t){void 0===t&&(t=F.x2.World);var e=this.attributes;return t===F.x2.World?e.pointer:e.pointerScreen},r}(et.A);const re=Rt;var xe=Xe(2820),Se=Xe(3172),He=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sn=function(a){function r(t,e){void 0===e&&(e=[]);var n=a.call(this,t,e,xe.A)||this;n.on("add",n.onAdd),n.on("change",n.onChange),n.on("remove",n.onRemove);var o=n.em;n.refreshDbn=(0,R.debounce)(function(){return n.refresh()},0);var l="component:resize styleable:change component:input ".concat(Se.I.update," frame:updated undo redo");return n.listenTo(o,l,function(){return n.refreshDbn()}),n}return He(r,a),Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),r.prototype.refresh=function(){this.em.trigger(this.events.spot)},r.prototype.onAdd=function(t){this.__trgEvent(this.events.spotAdd,{spot:t})},r.prototype.onChange=function(t){this.__trgEvent(this.events.spotUpdate,{spot:t})},r.prototype.onRemove=function(t){this.__trgEvent(this.events.spotRemove,{spot:t})},r.prototype.__trgEvent=function(t,e){this.module.em.trigger(t,e),this.refreshDbn()},r}(Kt);const jn=Sn;var bn;!function(a){a.dragEnter="canvas:dragenter",a.dragOver="canvas:dragover",a.dragEnd="canvas:dragend",a.dragData="canvas:dragdata",a.drop="canvas:drop",a.spot="canvas:spot",a.spotAdd="canvas:spot:add",a.spotUpdate="canvas:spot:update",a.spotRemove="canvas:spot:remove",a.coords="canvas:coords",a.zoom="canvas:zoom",a.pointer="canvas:pointer",a.refresh="canvas:refresh",a.frameLoad="canvas:frame:load",a.frameLoadHead="canvas:frame:load:head",a.frameLoadBody="canvas:frame:load:body"}(bn||(bn={}));const $n=bn;var At=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Be=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return At(r,a),Object.defineProperty(r.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"module",{get:function(){var t,e;return null!==(e=null===(t=this.model)||void 0===t?void 0:t.module)&&void 0!==e?e:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),r.prototype.preinitialize=function(t){this.className=""},r}(F.Ss);const Ct=Be;var kt=Xe(2097),jt=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const Wt=function(a){function r(t,e){void 0===t&&(t={}),void 0===e&&(e=!1);var n=a.call(this,t)||this;return n.itemsView="",n.itemType="type",n.reuseView=!1,n.viewCollection=[],e&&n.listenTo(n.collection,"add",n.addTo),n}return jt(r,a),r.prototype.addTo=function(t){this.add(t)},r.prototype.itemViewNotFound=function(t){},r.prototype.add=function(t,e){var n,o=this.reuseView,l=this.viewCollection,h=e||null,v=t.get(this.itemType);n=t.view&&o?t.view:this.renderView(t,v),l.push(n);var j=n.render().el;h?h.appendChild(j):this.$el.append(j)},r.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(n){return t.add(n,e)}),this.$el.append(e),this.onRender(),this},r.prototype.onRender=function(){},r.prototype.onRemoveBefore=function(t,e){},r.prototype.onRemove=function(t,e){},r.prototype.remove=function(t){void 0===t&&(t={});var e=this.viewCollection;return this.onRemoveBefore(e,t),this.clearItems(),F.Ss.prototype.remove.apply(this,t),this.onRemove(e,t),this},r.prototype.clearItems=function(){},r}(Ct);var gt=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const Ce=function(a){function r(t){void 0===t&&(t={});var e=a.call(this,t)||this;e.config=t.config||{};var n=e.model;return e.listenTo(n,"change",e.render),e.listenTo(n,"destroy remove",e.remove),e.listenTo(n.get("selectors"),"change",e.render),n.setView(e),e}return gt(r,a),Object.defineProperty(r.prototype,"frameView",{get:function(){return this.config.frameView},enumerable:!1,configurable:!0}),r.prototype.remove=function(){return a.prototype.remove.call(this),this.model.removeView(this),this},r.prototype.updateStyles=function(){this.render()},r.prototype.tagName=function(){return"style"},r.prototype.render=function(){var t=this.model,e=this.el,n=t.get("important");return e.innerHTML=t.toCSS({important:n}),this},r}(F.Ss);var Ze=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const tt=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Ze(r,a),r.prototype._createElement=function(){return document.createTextNode("")},r.prototype.render=function(){var t=this.model,e=t.get("important");return this.el.textContent=t.getDeclaration({important:e}),this},r}(Ce);var Te=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Oe=function(a,r){return"".concat(a).concat(r?"-".concat(parseFloat(r)):"")},Nt=function(a){function r(t){var e=a.call(this,t)||this;(0,R.bindAll)(e,"sortRules");var n=t.config||{};e.atRules={},e.config=n,e.em=n.em,e.pfx=n.stylePrefix||"",e.className=e.pfx+"rules";var o=e.collection;return e.listenTo(o,"add",e.addTo),e.listenTo(o,"reset",e.render),e}return Te(r,a),r.prototype.addTo=function(t){this.addToCollection(t)},r.prototype.addToCollection=function(t,e){if(this.renderStarted){var n,o,l=e||null,h={model:t,config:this.config};if("keyframes"===t.get("atRuleType")){var v=t.getAtRule(),j=this.atRules[v];if(!j){var S=document.createElement("style");j=document.createTextNode(""),S.appendChild(document.createTextNode("".concat(v,"{"))),S.appendChild(j),S.appendChild(document.createTextNode("}")),this.atRules[v]=j,n=S}o=new tt(h),j.appendData(o.render().el.textContent)}else n=(o=new Ce(h)).render().el;var Y=this.className,lt=t.get("mediaText"),xt=Oe(Y),Ft=xt;if(lt&&(Ft=Oe(Y,this.getMediaWidth(lt))),n){var Bt=l||this.el,te=void 0;try{te=Bt.querySelector("#".concat(Ft))}catch{}te||(te=Bt.querySelector("#".concat(xt))),te?.appendChild(n)}return n}},r.prototype.getMediaWidth=function(t){return t&&t.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},r.prototype.sortRules=function(t,e){var n=-1!==(this.em.getConfig().mediaCondition||"").indexOf("min-width");return n?(n?t:e)-(n?e:t):0},r.prototype.render=function(){var t=this;this.renderStarted=!0,this.atRules={};var e=this,n=e.em,o=e.$el,l=e.collection,h=this.className,v=document.createDocumentFragment();o.empty();var j=n.Devices.getAll().pluck("priority").sort(this.sortRules);return j.every(function(S){return S})&&j.unshift(0),j.forEach(function(S){return v.appendChild((0,kt.a_)("div",{id:Oe(h,S)}))}),l.each(function(S){return t.addToCollection(S,v)}),o.append(v),o.attr("class",h),this},r}(F.Ss);const oe=Nt;var Qe,we="text/html",un=we;!function(a){a.html="parse:html",a.htmlRoot="parse:html:root",a.htmlBefore="parse:html:before",a.css="parse:css",a.cssBefore="parse:css:before",a.all="parse"}(Qe||(Qe={}));var rn=function(){return rn=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},rn.apply(this,arguments)};const Br=function(a,r){return void 0===r&&(r={}),{compTypes:[],modelAttrStart:"data-gjs-",getPropAttribute:function(t,e){var n=t.replace(this.modelAttrStart,""),o=e?.length||0,l=e?.substring(0,1),h=e?.substring(o-1),v="true"===e||"false"!==e&&e;try{v="{"==l&&"}"==h||"["==l&&"]"==h?JSON.parse(v):v}catch{}return{name:n,value:v}},splitPropsFromAttr:function(t){var e=this;void 0===t&&(t={});var n={},o={};return(0,R.each)(t,function(l,h){if(0===h.indexOf(e.modelAttrStart)){var v=e.getPropAttribute(h,l);n[v.name]=v.value}else o[h]=l}),{props:n,attrs:o}},parseStyle:function(t){for(var e={};t.indexOf("/*")>=0;){var n=t.indexOf("/*"),o=t.indexOf("*/")+2;t=t.replace(t.slice(n,o),"")}for(var l=t.split(";"),h=0,v=l.length;h<v;h++){var j=l[h].trim();if(j){var S=j.split(":"),Y=S[0].trim(),lt=S.slice(1).join(":").trim();e[Y]?((0,R.isArray)(e[Y])||(e[Y]=[e[Y]]),e[Y].push(lt)):e[Y]=lt}}return e},parseClass:function(t){for(var e=[],n=t.split(" "),o=0,l=n.length;o<l;o++){var h=n[o].trim();h&&e.push(h)}return e},parseNodeAttr:function(t,e){for(var n=e||{},o=t.attributes||[],l=o.length,h=0;h<l;h++){var v=o[h].nodeName,j=o[h].nodeValue;if("style"==v)n.style=this.parseStyle(j);else if("class"==v)n.classes=this.parseClass(j);else{if("contenteditable"==v)continue;if(0===v.indexOf(this.modelAttrStart)){var S=this.getPropAttribute(v,j);n[S.name]=S.value}else""===j&&!0===t[v]&&(j=!0),n.attributes||(n.attributes={}),n.attributes[v]=j}}return n},detectNode:function(t,e){var n;void 0===e&&(e={});var o=this.compTypes,l={};if(o){var h=null===(n=t.getAttribute)||void 0===n?void 0:n.call(t,"".concat(this.modelAttrStart,"type"));if(h)l={type:h};else for(var v=0;v<o.length;v++){var j=o[v],S=j.model.isComponent(t,e);if(S){"object"!=typeof S&&(S={type:j.id}),l=S;break}}}return l},parseNode:function(t,e){var n;void 0===e&&(e={});var o=(null===(n=t.content)||void 0===n?void 0:n.childNodes)||t.childNodes,l=o.length,h=this.detectNode(t,e);if(!h.tagName){var v=t.tagName||"";h.tagName=v&&"http://www.w3.org/1999/xhtml"===(t.namespaceURI||"")?v.toLowerCase():v}if(h=this.parseNodeAttr(t,h),l||"/>"!=="".concat(t.outerHTML).slice(-2)||(h.void=!0),l&&!h.components&&!e.skipChildren){var S=o[0];1===l&&3===S.nodeType?(!h.type&&(h.type="text"),h.components={type:"textnode",content:S.nodeValue}):h.components=this.parseNodes(t,rn(rn({},e),{inSvg:e.inSvg||"svg"===h.type}))}var Y=h.components;if(!h.type&&Y?.length){for(var lt=r.textTypes,xt=void 0===lt?[]:lt,Ft=r.textTags,Bt=void 0===Ft?[]:Ft,te=!0,Vt=!1,ke=0;ke<Y.length;ke++){var ze=Y[ke],on=ze.type;if(!xt.includes(on)&&!Bt.includes(ze.tagName)){te=!1;break}"textnode"===on&&(Vt=!0)}te&&Vt&&(h.type="text")}return h},parseNodes:function(t,e){var n;void 0===e&&(e={});for(var o=[],l=(null===(n=t.content)||void 0===n?void 0:n.childNodes)||t.childNodes,h=l.length,v=0;v<h;v++){var j=l[v],S=o[o.length-1],Y=this.parseNode(j,e);if("textnode"===Y.type){if("textnode"===S?.type){S.content+=Y.content;continue}if(!e.keepEmptyTextNodes){var lt=j.nodeValue||"",xt=0===v||v===h-1,Ft=lt.includes("\n");if(" "!=lt&&!lt.trim()&&(xt||Ft))continue}}!Y.tagName&&(0,R.isUndefined)(Y.content)||o.push(Y)}return o},parse:function(t,e,n){var o,l,h;void 0===n&&(n={});var v=a?.get("Config")||{},j=a?.Parser,S={html:[]},Y=rn(rn({},r),n),lt=rn(rn(rn({},r.optionsHtml),{htmlType:(null===(o=r.optionsHtml)||void 0===o?void 0:o.htmlType)||r.htmlType}),n),xt=rn(rn({},lt),{asDocument:this.__checkAsDocument(t,lt)}),Ft=xt.preParser,Bt=xt.asDocument,te={input:(0,R.isFunction)(Ft)?Ft(t,{editor:a?.getEditor()}):t};j?.__emitEvent(Qe.htmlBefore,te);var Vt=te.input,ke=(0,R.isFunction)(Y.parserHtml)?Y.parserHtml(Vt,xt):function(ci,ui){void 0===ui&&(ui={});var Ji,la=new DOMParser,Ss=ui.htmlType||un,is=Ss===we,as=is?ci:"<div>".concat(ci,"</div>"),Pa=la.parseFromString(as,Ss);if(is){if(ui.asDocument)return Pa;var ss=Pa.head,Na=Pa.body,Ep=ss.querySelectorAll("script");(0,R.each)(Ep,function(sc){return Na.appendChild(sc)});var of=[];(0,R.each)(ss.children,function(sc){return of.push(sc)}),(0,R.each)(of,function(sc,jp){return Na.insertBefore(sc,Na.children[jp])}),Ji=Na}else Ji=Pa.firstChild;return Ji}(Vt,xt),ze=ke,on=ke;Bt&&(ze=on.documentElement,S.doctype=(0,kt.LJ)(on.doctype));var _n=ze.querySelectorAll("script"),An=_n.length;if(!((0,R.isUndefined)(v.allowScripts)?xt.allowScripts:v.allowScripts))for(;An--;)null===(l=_n[An].parentNode)||void 0===l||l.removeChild(_n[An]);if(xt.allowUnsafeAttr&&xt.allowUnsafeAttrValue||this.__sanitizeNode(ze,xt),e){for(var er=ze.querySelectorAll("style"),Un=er.length,mr="";Un--;)mr=er[Un].innerHTML+mr,null===(h=er[Un].parentNode)||void 0===h||h.removeChild(er[Un]);mr&&(S.css=e.parse(mr))}j?.__emitEvent(Qe.htmlRoot,{input:Vt,root:ze});var xr=[];if(Bt)S.head=this.parseNode(on.head,Y),S.root=this.parseNodeAttr(ze),xr=this.parseNode(on.body,Y);else{var Uo=this.parseNodes(ze,Y);xr=1!==Uo.length||Y.returnArray?Uo:Uo[0]}return S.html=xr,j?.__emitEvent(Qe.html,{input:Vt,output:S,options:xt}),S},__sanitizeNode:function(t,e){var n=this,l=t.childNodes||[],h=[];(0,R.each)(t.attributes||[],function(v){var j=v.nodeName||"",S=v.nodeValue||"";!e.allowUnsafeAttr&&j.startsWith("on")&&h.push(j),!e.allowUnsafeAttrValue&&S.startsWith("javascript:")&&h.push(j)}),h.map(function(v){return t.removeAttribute(v)}),(0,R.each)(l,function(v){return n.__sanitizeNode(v,e)})},__checkAsDocument:function(t,e){return(0,at.isDef)(e.asDocument)?e.asDocument:(0,R.isFunction)(e.detectDocument)?!!e.detectDocument(t):e.detectDocument?t.toLowerCase().trim().startsWith("<!doctype"):void 0}}};var Bn;!function(a){a.add="data:add",a.addBefore="data:add:before",a.remove="data:remove",a.removeBefore="data:remove:before",a.update="data:update",a.path="data:path",a.all="data"}(Bn||(Bn={}));var Zn=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),or="data-variable",Cr=function(a){function r(t,e){var n=a.call(this,t,e)||this;return n.em=e.em,n}return Zn(r,a),r.prototype.defaults=function(){return{type:or,defaultValue:"",path:""}},r.prototype.getDataValue=function(){var t,e=this.attributes;return null===(t=this.em)||void 0===t?void 0:t.DataSources.getValue(e.path,e.defaultValue)},r}(F.Kx);const Sr=Cr;var Or="data-collection",fr="data-collection-variable",Vn="collectionDef",Vr="__is_data_collection_item",Gn="__collections_state_map",Dr=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ir=function(){return Ir=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Ir.apply(this,arguments)},Qr=function(a){function r(t,e){var n=a.call(this,t,e)||this;return n.em=e.em,n.collectionsStateMap=e.collectionsStateMap,n.updateDataVariable(),n}return Dr(r,a),r.prototype.defaults=function(){return{type:fr,collectionId:void 0,variableType:void 0,path:void 0,value:void 0}},r.prototype.hasDynamicValue=function(){return!!this.dataVariable},r.prototype.getDataValue=function(){var t=this.updateDataVariable().resolvedValue;return t?.type===or?this.dataVariable.getDataValue():t},r.prototype.updateDataVariable=function(){var t,e=this;if(!this.collectionsStateMap)return{resolvedValue:void 0};var n,o=function(l,h,v){var j=l.collectionId,S=l.variableType;if(h){var lt=h[j];return lt?S?"currentItem"===S?function(xt,Ft,Bt,te){var Vt=xt.currentItem;if(!Vt)return te.logError("Current item is missing for collection: ".concat(Bt)),"";if(Vt.type===or){var ke=Vt.path?"".concat(Vt.path,".").concat(Ft):Ft;return Ir(Ir({},Vt),{path:ke})}return Ft&&!Vt[Ft]?(te.logError("Path not found in current item: ".concat(Ft," for collection: ").concat(Bt)),""):Ft?Vt[Ft]:Vt}(lt,l.path,j,v):lt[S]:(v.logError("Missing collection variable type for collection: ".concat(j)),""):""}}(this.attributes,this.collectionsStateMap,this.em);return o?.type===or&&(n=new Sr(o,{em:this.em}),this.dataVariable=n,null===(t=this.resolverListener)||void 0===t||t.destroy(),this.resolverListener=new wo({em:this.em,resolver:n,onUpdate:function(){var l;e.set("value",null===(l=e.dataVariable)||void 0===l?void 0:l.getDataValue())}})),this.set("value",o),{resolvedValue:o,dataVariable:n}},r.prototype.updateCollectionsStateMap=function(t){this.collectionsStateMap=t,this.updateDataVariable()},r.prototype.destroy=function(){var t,e;return null===(t=this.resolverListener)||void 0===t||t.destroy(),null===(e=this.dataVariable)||void 0===e||e.destroy(),a.prototype.destroy.call(this)},r.prototype.toJSON=function(t){var e=a.prototype.toJSON.call(this,t);return delete e.value,!e.collectionId&&delete e.collectionId,e},r}(F.Kx);const kr=Qr;function uo(a){return"object"==typeof a&&[or,zr,fr].includes(a?.type)}function Io(a){return a?.type===or}function _r(a,r){return Io(a)?new Sr(a,{em:r}).getDataValue():a}function an(a,r){var t,e=a.type;switch(e){case or:t=new Sr(a,r);break;case zr:t=new Wo(a,r);break;case fr:t=new kr(a,r);break;default:throw new Error("Unsupported dynamic type: ".concat(e))}return t}function Pr(a,r){return an(a,r).getDataValue()}var No,So=function(){function a(r,t,e){this.operator=r,this.statements=t,this.em=e.em}return a.prototype.evaluate=function(){var r=this,t=this.statements.map(function(e){return new Wn({condition:e},{em:r.em}).evaluate()});return this.operator.evaluate(t)},a}(),cr=function(a,r){this.operation=a,this.em=r.em},To=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();!function(a){a.equals="equals",a.isTruthy="isTruthy",a.isFalsy="isFalsy",a.isDefined="isDefined",a.isNull="isNull",a.isUndefined="isUndefined",a.isArray="isArray",a.isObject="isObject",a.isString="isString",a.isNumber="isNumber",a.isBoolean="isBoolean",a.isDefaultValue="isDefaultValue"}(No||(No={}));var to,di=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return To(r,a),r.prototype.evaluate=function(t,e){var n;switch(this.operation){case"equals":return t===e;case"isTruthy":return!!t;case"isFalsy":return!t;case"isDefined":return null!=t;case"isNull":return null===t;case"isUndefined":return void 0===t;case"isArray":return Array.isArray(t);case"isObject":return"object"==typeof t&&null!==t;case"isString":return"string"==typeof t;case"isNumber":return"number"==typeof t;case"isBoolean":return"boolean"==typeof t;case"isDefaultValue":return t instanceof Sr&&t.get("defaultValue")===e;default:return null===(n=this.em)||void 0===n||n.logError("Unsupported generic operation: ".concat(this.operation)),!1}},r}(cr),qe=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();!function(a){a.and="and",a.or="or",a.xor="xor"}(to||(to={}));var In,Dt=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return qe(r,a),r.prototype.evaluate=function(t){if(!t?.length)return!1;switch(this.operation){case to.and:return t.every(Boolean);case to.or:return t.some(Boolean);case to.xor:return 1===t.filter(Boolean).length;default:return this.em.logError("Unsupported boolean operation: ".concat(this.operation)),!1}},r}(cr),$t=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();!function(a){a.greaterThan=">",a.lessThan="<",a.greaterThanOrEqual=">=",a.lessThanOrEqual="<=",a.equals="=",a.notEquals="!="}(In||(In={}));var je,fn=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return $t(r,a),r.prototype.evaluate=function(t,e){switch(this.operation){case In.greaterThan:return t>e;case In.lessThan:return t<e;case In.greaterThanOrEqual:return t>=e;case In.lessThanOrEqual:return t<=e;case In.equals:return t===e;case In.notEquals:return t!==e;default:return this.em.logError("Unsupported number operation: ".concat(this.operation)),!1}},r}(cr),Tn=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();!function(a){a.contains="contains",a.startsWith="startsWith",a.endsWith="endsWith",a.matchesRegex="matchesRegex",a.equalsIgnoreCase="equalsIgnoreCase",a.trimEquals="trimEquals"}(je||(je={}));var cn=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Tn(r,a),r.prototype.evaluate=function(t,e){switch(this.operation){case je.contains:return t.includes(e);case je.startsWith:return t.startsWith(e);case je.endsWith:return t.endsWith(e);case je.matchesRegex:return e||this.em.logError("Regex pattern must be provided."),new RegExp(e).test(t);case je.equalsIgnoreCase:return t.toLowerCase()===e.toLowerCase();case je.trimEquals:return t.trim()===e.trim();default:return this.em.logError("Unsupported string operation: ".concat(this.operation)),!1}},r}(cr),sr=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wn=function(a){function r(t,e){var n=a.call(this,t)||this;return n.em=e.em,n}return sr(r,a),r.prototype.evaluate=function(){var t=this.em,e=this.get("condition");if("boolean"==typeof e)return e;if(this.isLogicGroup(e)){var o=e.statements,l=new Dt(e.logicalOperator,{em:t});return new So(l,o,{em:t}).evaluate()}if(this.isExpression(e)){var v=(l=e.operator,e.right),j=_r(e.left,this.em),S=_r(v,this.em);return this.getOperator(j,l).evaluate(j,S)}return this.em.logError("Invalid condition type."),!1},r.prototype.getOperator=function(t,e){var n=this.em;if(this.isOperatorInEnum(e,No))return new di(e,{em:n});if("number"==typeof t)return new fn(e,{em:n});if("string"==typeof t)return new cn(e,{em:n});throw new Error("Unsupported data type: ".concat(typeof t))},r.prototype.getDependentDataVariables=function(){var t=this.get("condition");return t?this.extractDataVariables(t):[]},r.prototype.extractDataVariables=function(t){var e=this,n=[];return this.isExpression(t)?(Io(t.left)&&n.push(t.left),Io(t.right)&&n.push(t.right)):this.isLogicGroup(t)&&t.statements.forEach(function(o){return n.push.apply(n,e.extractDataVariables(o))}),n},r.prototype.isLogicGroup=function(t){return t&&void 0!==t.logicalOperator&&Array.isArray(t.statements)},r.prototype.isExpression=function(t){return t&&void 0!==t.left&&"string"==typeof t.operator},r.prototype.isOperatorInEnum=function(t,e){return Object.values(e).includes(t)},r.prototype.toJSON=function(t){var e=this.get("condition");return"object"==typeof e?JSON.parse(JSON.stringify(e)):e},r}(F.Kx),go=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),qr=function(){return qr=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},qr.apply(this,arguments)},zr="data-condition",Wo=function(a){function r(t,e){var n=this;(0,R.isUndefined)(t.condition)&&e.em.logError("No condition was provided to a conditional component.");var o=new Wn({condition:t.condition},{em:e.em});return(n=a.call(this,qr(qr({type:zr},t),{condition:o}))||this).resolverListeners=[],n.em=e.em,n.listenToDataVariables(),n._onValueChange=e.onValueChange,n.on("change:condition change:ifTrue change:ifFalse",function(){var l;n.listenToDataVariables(),null===(l=n._onValueChange)||void 0===l||l.call(n)}),n}return go(r,a),Object.defineProperty(r.prototype,"conditionEvaluator",{get:function(){return this.get("condition")},enumerable:!1,configurable:!0}),r.prototype.getCondition=function(){var t;return null===(t=this.get("condition"))||void 0===t?void 0:t.get("condition")},r.prototype.getIfTrue=function(){return this.get("ifTrue")},r.prototype.getIfFalse=function(){return this.get("ifFalse")},r.prototype.isTrue=function(){return this.conditionEvaluator.evaluate()},r.prototype.getDataValue=function(t){void 0===t&&(t=!1);var e=this.get("ifTrue"),n=this.get("ifFalse"),o=this.isTrue();return t?o?e:n:_r(o?e:n,this.em)},Object.defineProperty(r.prototype,"onValueChange",{set:function(t){this._onValueChange=t},enumerable:!1,configurable:!0}),r.prototype.setCondition=function(t){var e=new Wn({condition:t},{em:this.em});this.set("condition",e)},r.prototype.setIfTrue=function(t){this.set("ifTrue",t)},r.prototype.setIfFalse=function(t){this.set("ifFalse",t)},r.prototype.listenToDataVariables=function(){var t=this,e=this.em;e&&(this.cleanupListeners(),this.getDependentDataVariables().forEach(function(n){var o=new wo({em:e,resolver:new Sr(n,{em:t.em}),onUpdate:function(){var l;null===(l=t._onValueChange)||void 0===l||l.call(t)}.bind(t)});t.resolverListeners.push(o)}))},r.prototype.getDependentDataVariables=function(){var t=this.conditionEvaluator.getDependentDataVariables(),e=this.get("ifTrue"),n=this.get("ifFalse");return Io(e)&&t.push(e),Io(n)&&t.push(n),t},r.prototype.cleanupListeners=function(){this.resolverListeners.forEach(function(t){return t.destroy()}),this.resolverListeners=[]},r.prototype.toJSON=function(){var t=this.get("ifTrue"),e=this.get("ifFalse");return{type:zr,condition:this.conditionEvaluator,ifTrue:t,ifFalse:e}},r}(F.Kx),Ar=function(){function a(r){var t=this;this.listeners=[],this.model=new F.Kx,this.onChange=function(){var e=t.resolver.getDataValue();t.onUpdate(e)},this.em=r.em,this.resolver=r.resolver,this.onUpdate=r.onUpdate,this.listenToResolver()}return a.prototype.createListener=function(r,t,e){return void 0===e&&(e=this.onChange),{obj:r,event:t,callback:e}},a.prototype.listenToResolver=function(){var r=this.resolver,t=this.model;this.removeListeners();var e=[];switch(r.attributes.type){case fr:e=this.listenToDataCollectionVariable(r);break;case or:e=this.listenToDataVariable(r);break;case zr:e=this.listenToConditionalVariable(r)}e.forEach(function(n){return t.listenTo(n.obj,n.event,n.callback)}),this.listeners=e},a.prototype.listenToConditionalVariable=function(r){var t=this,e=this.em;return r.getDependentDataVariables().flatMap(function(n){return t.listenToDataVariable(new Sr(n,{em:e}))})},a.prototype.listenToDataVariable=function(r){var t=this,e=this.em,n=r.attributes.path,o=(0,at.stringToPath)(n||"").join("."),l=e.DataSources.fromPath(n),h=l[0],v=l[1],j=[];return h&&j.push(this.createListener(h.records,"add remove reset")),v&&j.push(this.createListener(v,"change")),j.push(this.createListener(r,"change:path",function(){t.listenToResolver(),t.onChange()}),this.createListener(r,"change:defaultValue"),this.createListener(e.DataSources.all,"add remove reset"),this.createListener(e,"".concat(Bn.path,":").concat(o))),j},a.prototype.listenToDataCollectionVariable=function(r){return[this.createListener(r,"change:value")]},a.prototype.removeListeners=function(){var r=this;this.listeners.forEach(function(t){return r.model.stopListening(t.obj,t.event,t.callback)}),this.listeners=[]},a.prototype.destroy=function(){this.removeListeners()},a}();const wo=Ar;var xo=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),eo=function(){return eo=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},eo.apply(this,arguments)},io=Br(),qo=function(a){return(0,R.isArray)(a)?a[a.length-1]:a},fi=function(a){function r(t,e){void 0===e&&(e={});var n=a.call(this,t,e)||this;return n.views=[],n.styleResolverListeners={},n.em=e.em,n}return xo(r,a),r.prototype.parseStyle=function(t){return io.parseStyle(t)},r.prototype.extendStyle=function(t){return eo(eo({},this.getStyle("",{skipResolve:!0})),t)},r.prototype.getStyle=function(t,e){void 0===e&&(e={});var n=this.get("style")||{},o=eo({},n);if(this.em&&!e.skipResolve){var l=this.getResolvedStyles(eo({},o));return t&&(0,R.isString)(t)?l[t]:l}return t&&(0,R.isString)(t)?o[t]:o},r.prototype.setStyle=function(t,e){var n=this;void 0===t&&(t={}),void 0===e&&(e={}),(0,R.isString)(t)&&(t=this.parseStyle(t));var o=this.getStyle(e);e.partial||e.avoidStore?(e.avoidStore=!0,t.__p=!0):delete t.__p;var l=eo({},t),h=eo({},l);(0,R.keys)(h).forEach(function(j){if(""!==h[j]){var S=h[j];if(uo(S)){var Y=an(S,{em:n.em});Y&&(h[j]=Y,n.listenToDataResolver(Y,j))}}else delete h[j]}),this.set("style",h,e);var v=(0,at.shallowDiff)(o,h);return delete v.__p,(0,R.keys)(v).forEach(function(j){var S=n.em;e.noEvent||(n.trigger("change:style:".concat(j)),S&&(S.trigger("styleable:change",n,j,e),S.trigger("styleable:change:".concat(j),n,j,e)))}),h},r.prototype.listenToDataResolver=function(t,e){var n=this,o=this.styleResolverListeners[e];o?o.listenToResolver():this.styleResolverListeners[e]=new wo({em:this.em,resolver:t,onUpdate:function(){return n.updateView()}})},r.prototype.getView=function(t){var e=this.views,n=this.em,o=t||n?.getCurrentFrameModel();return o?e.find(function(l){return l.frameView===o.view}):e[0]},r.prototype.setView=function(t){var e=this.views;!e.includes(t)&&e.push(t)},r.prototype.removeView=function(t){var e=this.views;e.splice(e.indexOf(t),1)},r.prototype.updateView=function(){this.views.forEach(function(t){return t.updateStyles()})},r.prototype.getResolvedStyles=function(t){var e=this,n=eo({},t);return(0,R.keys)(n).forEach(function(o){var l,h=n[o];"string"==typeof h||Array.isArray(h)||(uo(h)&&(n[o]=Pr(h,{em:e.em})),((l=h)instanceof Sr||l instanceof Wo)&&(n[o]=h.getDataValue()))}),n},r.prototype.addStyle=function(t,e,n){var o;void 0===e&&(e=""),void 0===n&&(n={}),"string"==typeof t?((o={})[t]=e,t=o):n=e||{},n.addStyle=t,t=this.extendStyle(t),this.setStyle(t,n)},r.prototype.removeStyle=function(t){var e=this.getStyle();delete e[t],this.setStyle(e)},r.prototype.styleToString=function(t){void 0===t&&(t={});var e=[],n=this.getStyle(t),o=t.important,l=function(v){var j=(0,R.isArray)(o)?o.indexOf(v)>=0:o;if("__"===v.substring(0,2))return"continue";var S=n[v];((0,R.isArray)(S)?S:[S]).forEach(function(Y){var lt="".concat(Y).concat(j?" !important":"");lt&&e.push("".concat(v,":").concat(lt,";"))})};for(var h in n)l(h);return e.join("")},r.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},r.prototype.getSelectorsString=function(t){return this.selectorsToString?this.selectorsToString(t):this.getSelectors().getFullString()},r}(F.Kx);const _i=fi;var Ur=function(){return Ur=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Ur.apply(this,arguments)},Li=function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))},Xo=function(a){return(0,R.isArray)(a.get(ao))},vo=function(a){return!!a.get(Rr)},fo=function(a){return!(!Xo(a)&&!vo(a))},Eo=function(a){var r=a.parent();return fo(a)&&(!r||!fo(r))},pi=function(a){a.__symbReady||(a.on("change",a.__upSymbProps),a.__symbReady=!0)},Nr=function(a){var r=a.get(Rr);if(r&&(0,R.isString)(r)){var t=a.__getAllById()[r];t?(r=t,a.set(Rr,t)):r=0}return r||void 0},mo=function(a){var r=a?.get(ao);return r&&(0,R.isArray)(r)&&(r.forEach(function(t,e){t&&(0,R.isString)(t)&&(r[e]=a.__getAllById()[t])}),r=r.filter(function(t){return t&&!(0,R.isString)(t)})),r||void 0},ii=function(a,r){void 0===r&&(r="");var t=a?.get(ft),e=r.split(":")[0],n=r!==e?[r,e]:[r];return!0===t||(0,R.isArray)(t)&&n.some(function(o){return t.indexOf(o)>=0})},Lo=function(a,r){void 0===r&&(r={});var e=r.changed;if(r.fromInstance||r.noPropagate||r.fromUndo||e&&ii(a,e))return[];var n=mo(a)||[],o=Nr(a);return(o?Li([o],mo(o)||[],!0):n).filter(function(l){return l!==a}).filter(function(l){return!(e&&ii(l,e))})},Si=function(a,r){for(var t=a,e=a.parent(r);e&&fo(e);)t=e,e=e.parent(r);return t},hi=function(a,r){void 0===r&&(r={});var t=Nr(a),e=t&&mo(t);!r.skipRefs&&e&&t.set(ao,e.filter(function(n){return n!==a})),a.set(Rr,0),a.components().forEach(function(n){return hi(n,r)})},gi=function(a,r,t,e){void 0===e&&(e={});var n=Nr(a),o=mo(a);(n||o)&&a.em.log(r,{model:a,toUp:t,context:"symbols",opts:e})},ai=function(a,r){(0,R.keys)(a).forEach(function(t){Zo(a,t,r)||delete a[t]})},Zo=function(a,r,t){var n,e="attributes"===r?Object.values(a.attributes).some(function(l){return l?.type===fr}):(null===(n=a[r])||void 0===n?void 0:n.type)===fr;return!ii(t,r)||e},si=function(a,r,t,e){var n=e||t||{},o={fromInstance:n.fromInstance,fromUndo:n.fromUndo},l=r.opt.temporary;if(e)if(e.add){var h=[],v=!!mo(a);if((ke=Lo(a,Ur(Ur({},o),{changed:"components:add"}))).length){var j=Nr(r);h=mo(j||r)||[],(h=Li([],h,!0)).push(j||r)}!l&&gi(a,"add",ke,{opts:e,addedInstances:h.map(function(_n){return _n.cid}),added:r.cid}),ke.forEach(function(_n){var An=Si(_n),er=h.filter(function(Un){var mr=Si(Un,{prev:1});return An&&mr&&mr===An})[0]||r.clone({symbol:!0,symbolInv:v});_n.append(er,Ur({fromInstance:a},e))})}else{var S=Nr(r);if(S&&!e.temporary&&S.set(ao,mo(S).filter(function(_n){return _n!==r})),!Eo(r)&&!e.skipRefsUp){var Y="components:remove",lt=e.index,xt=r.parent(),Ft=Ur({fromInstance:r},e),Bt=Eo(r),te=function(_n){var An=_n.parent();An&&!ii(An,Y)&&_n.remove(Ft)};ke=ii(xt,Y)?[]:Lo(r,o),Bt&&(ke=xt&&Lo(xt,Ur(Ur({},o),{changed:Y})),te=function(_n){var An=_n.components().at(lt);An&&An.remove(Ur({fromInstance:xt},Ft))}),!l&&gi(a,"remove",ke,{opts:e,removed:r.cid,isSymbNested:Bt}),ke.forEach(te)}}else{var Vt=r,ke=Lo(a,Ur(Ur({},o),{changed:"components:reset"})),ze=Vt.models,on=new Set;gi(a,"reset",ke,{components:ze}),ke.forEach(function(_n){var An=_n.components(),er=ze.map(function(Un,mr){return a.get(Vn)?Un.clone({symbol:fo(Un)}):!fo(Un)||on.has(Un)?(on.add(Un),Un.clone({symbol:!0})):An.at(mr)});An.reset(er,Ur({fromInstance:a},t))})}a.__changesUp(n)},Oo=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kr=function(){return Kr=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Kr.apply(this,arguments)},yo=function(a,r){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&r.indexOf(e)<0&&(t[e]=a[e]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(e=Object.getOwnPropertySymbols(a);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(a,e[n])&&(t[e[n]]=a[e[n]])}return t},Yr=function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))},jo=function(a,r){return void 0===r&&(r=[]),a?(((0,R.isArray)(a)||(0,R.isFunction)(a.map)?a:[a]).map(function(t){r.push(t.getId()),jo(t.components().models,r)}),r):[]},bi=function(a,r,t){void 0===r&&(r={}),void 0===t&&(t={}),t.visitedCmps=t.visitedCmps||{};var e=t.visitedCmps;return((0,R.isArray)(a)?a:[a]).map(function(n){var o=n.attributes,l=void 0===o?{}:o,h=n.components,v=n.tagName,j=n.style,S=l.id,Y=yo(l,["id","draggable"]),lt=n;if(S)if(e[S])e[S].push(lt),S=fe.getNewId(r),lt.attributes.id=S;else if(e[S]=[],r[S]){var xt=lt=r[S];v&&xt.set({tagName:v},Kr(Kr({},t),{silent:!0})),(0,R.keys)(Y).length&&xt.addAttributes(Y,Kr({},t)),(0,R.keys)(j).length&&xt.addStyle(j,t)}var Ft=(0,R.isFunction)(lt.components)?lt:null;if(h){var Bt=bi(h,r,t);Ft?Ft.components().reset(Bt,t):lt.components=Bt}else Ft&&Ft.components().reset([],t);return lt})},Fi=function(a){function r(t,e){var n=a.call(this,t,e)||this;n.opt=e,n.listenTo(n,"add",n.onAdd),n.listenTo(n,"remove",n.removeChildren),n.listenTo(n,"reset",n.resetChildren);var o=e.em;return n.config=e.config,n.em=o,n.domc=e.domc||o?.Components,n}return Oo(r,a),Object.defineProperty(r.prototype,"events",{get:function(){var t;return null===(t=this.domc)||void 0===t?void 0:t.events},enumerable:!1,configurable:!0}),r.prototype.resetChildren=function(t,e){var n=this;void 0===e&&(e={});var o=this,l=e.previousModels||[],h=l.filter(function(S){return!t.get(S.cid)}),v=jo(t),j=jo(l).filter(function(S){return v.indexOf(S)>=0});e.keepIds=(e.keepIds||[]).concat(j),h.forEach(function(S){return n.removeChildren(S,o,e)}),t.each(function(S){return n.onAdd(S)})},r.prototype.resetFromString=function(t,e){var n,o;void 0===t&&(t=""),void 0===e&&(e={}),e.keepIds=jo(this);var l=this,h=l.domc,v=l.em,j=l.parent,S=v?.Css,Y=h?.allById()||{},lt=this.parseString(t,e),xt=bi(lt,Y,e),Ft=e.visitedCmps,Bt=void 0===Ft?{}:Ft;Object.keys(Bt).forEach(function(te){var Vt=Bt[te];if(Vt.length){var ke=S?.getRules("#".concat(te))||[];ke.length&&Vt.forEach(function(ze){ke.forEach(function(on){var _n=on.clone();_n.set("selectors",["#".concat(ze.attributes.id)]),S.getAll().add(_n)})})}}),this.reset(xt,e),v?.trigger("component:content",j,e,t),null===(o=(n=j).__checkInnerChilds)||void 0===o||o.call(n)},r.prototype.removeChildren=function(t,e,n){var o=this;if(void 0===n&&(n={}),t){var l=this.domc,h=this.em,v=n.temporary||n.fromUndo;if(t.prevColl=this,!v){var j=t.getId(),S=h.Selectors.getAll(),Y=h.Css.getAll(),lt=(n.keepIds||[]).indexOf(j)<0;delete(l?l.allById():{})[j];var xt=lt?Y.remove(Y.filter(function(Vt){return Vt.getSelectors().getFullString()==="#".concat(j)}),n):[];S.remove(xt.map(function(Vt){return Vt.getSelectors().at(0)})),t.opt.temporary||(h.Commands.run("core:component-style-clear",{target:t}),t.views.forEach(function(Vt){Vt.scriptContainer&&t.emitWithEditor(Se.I.scriptUnmount,{component:t,view:Vt,el:Vt.el})}),t.removed(),t.trigger("removed"),h.trigger(Se.I.remove,t),l&&vo(t)&&Eo(t)&&l.symbols.__trgEvent(l.events.symbolInstanceRemove,{component:t},!0));var Ft=t.components();Ft.forEach(function(Vt){si(Vt,Vt,Ft,Kr(Kr({},n),{skipRefsUp:!0})),o.removeChildren(Vt,e,n)})}var Bt=t.components();if(h.stopListening(Bt),h.stopListening(t),h.stopListening(t.get("classes")),t.__postRemove(),!t.opt.temporary){var te=function(Vt){Vt.emitWithEditor(Se.I.removed,Vt,{removeOptions:n}),Vt.components().forEach(function(ke){return te(ke)})};te(t)}}},r.prototype.model=function(t,e){var n,o=e.collection.opt,l=o.em,h=l.Components.componentTypes;e.em=l,e.config=o.config,e.componentTypes=h,e.domc=o.domc;for(var v=0;v<h.length;v++)if(h[v].id==t.type){n=h[v].model;break}return n||(n=h[h.length-1].model,l&&t.type&&l.logWarning("Component type '".concat(t.type,"' not found"),{attrs:t,options:e})),new n(t,e)},r.prototype.parseString=function(t,e){void 0===e&&(e={});var n=this,o=n.em,l=n.domc,h=n.parent,v=h?.is("wrapper"),S=o.Css,Y=o.Parser.parseHtml(t,Kr({asDocument:e.asDocument&&v},e.parserOptions)),lt=Y.html;if(v&&Y.doctype){var xt=h,Ft=Y.html||{},Bt=Ft.components,te=void 0===Bt?[]:Bt,Vt=yo(Ft,["components"]),ke=Y.head||{},ze=ke.components,on=yo(ke,["components"]);lt=te,xt.set(Vt,e),xt.head.set(on,e),xt.head.components(ze,e),xt.docEl.set(Y.root,e),xt.set({doctype:Y.doctype})}if(fe.checkId(lt,Y.css,l.componentsById,e),Y.css&&S&&!e.temporary){var _n=yo(e,["at"]);S.addCollection(Y.css,Kr(Kr({},_n),{extend:1}))}return lt},r.prototype.add=function(t,e){var n=this;if(void 0===e&&(e={}),null!=t){e.keepIds=Yr(Yr([],e.keepIds||[],!0),jo(e.previousModels),!0),(0,R.isString)(t)?t=this.parseString(t,e):(0,R.isArray)(t)&&t.forEach(function(l,h){if((0,R.isString)(l)){var v=n.parseString(l,e);t[h]=(0,R.isArray)(v)&&!v.length?null:v}});var o=((0,R.isArray)(t)?t:[t]).filter(Boolean).map(function(l){return n.processDef(l)});return t=(0,R.isArray)(t)?(0,R.flatten)(o,1):o[0],a.prototype.add.call(this,t,e)}},r.prototype.processDef=function(t){if(t.cid&&t.ccid)return t;var e=this.em,n=this.config,o=(void 0===n?{}:n).processor,l=t;if(o){var h=o(l=Kr({},l));h&&((0,R.each)(l,function(xt,Ft){return delete l[Ft]}),(0,R.extend)(l,h))}if(l.$$typeof&&"object"==typeof l.props){(l=Kr({},l)).props=Kr({},l.props);var v=e.Components,j=e.Parser.parserHtml;(0,R.each)(l,function(xt,Ft){(0,R.includes)(["props","type"],Ft)||delete l[Ft]});var S=l.props,Y=S.children;delete S.children,delete l.props;var lt=j.splitPropsFromAttr(S);l.attributes=lt.attrs,Y&&(l.components=Y),l.type?v.getType(l.type)||(l.tagName=l.type,delete l.type):l.type="textnode",(0,R.extend)(l,lt.props)}return l},r.prototype.onAdd=function(t,e,n){void 0===n&&(n={});var o=this.domc,l=this.em,h=t.getStyle(),v=l&&l.getConfig().avoidInlineStyle;if(o&&o.Component.ensureInList(t),!(0,R.isEmpty)(h)&&!v&&l&&l.getConfig().forceClass&&!n.temporary){var j=t.cid;l.Css.setClassRule(j,h),t.setStyle({}),t.addClass(j)}if(t.__postAdd({recursive:!0}),l&&!n.temporary){var S=function(Y){l.trigger(Se.I.add,Y,n),Y.components().forEach(function(lt){return S(lt)})};S(t),o&&vo(t)&&Eo(t)&&o.symbols.__trgEvent(o.events.symbolInstanceAdd,{component:t},!0)}},r}(F.pM);const vr=Fi;var ie=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),C=function(a){function r(t,e){void 0===e&&(e={});var n=a.call(this,t,e)||this,o=e.config,l=void 0===o?{}:o,h=n.get("name"),v=n.get("label");h?v||n.set("label",h):n.set("name",v);var j=n.get("name"),S=l.escapeName,Y=S?S(j):r.escapeName(j);return n.set("name",Y),n.em=e.em,n}return ie(r,a),r.prototype.defaults=function(){return{name:"",label:"",type:1,active:!0,private:!1,protected:!1,_undo:!0}},r.prototype.isId=function(){return 2===this.get("type")},r.prototype.isClass=function(){return 1===this.get("type")},r.prototype.getFullName=function(t){void 0===t&&(t={});var e=t.escape,n=this.get("name"),o="";switch(this.get("type")){case 1:o=".";break;case 2:o="#"}return o+(e?e(n):n)},r.prototype.toString=function(){return this.getFullName()},r.prototype.getName=function(){return this.get("name")||""},r.prototype.getLabel=function(){return this.get("label")||""},r.prototype.setLabel=function(t){return this.set("label",t)},r.prototype.getActive=function(){return!!this.get("active")},r.prototype.setActive=function(t){return this.set("active",t)},r.prototype.toJSON=function(t){void 0===t&&(t={});var e=this.em,n=F.Kx.prototype.toJSON.call(this,[t]),o=(0,R.result)(this,"defaults");if(e?.getConfig().avoidDefaults){(0,R.forEach)(o,function(h,v){n[v]===h&&delete n[v]}),n.label===n.name&&delete n.label;var l=(0,R.keys)(n).length;1===l&&n.name&&(n=n.name),2===l&&n.name&&n.type&&(n=this.getFullName())}return n},r.escapeName=function(t){return"".concat(t).trim().replace(/\s+/g,"-")},r.TYPE_CLASS=1,r.TYPE_ID=2,r}(F.Kx);const P=C;C.prototype.idAttribute="name";var c=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),g=function(a,r){return a.reduce(function(t,e,n){return t.concat(g(a.slice(n+1),"".concat(r).concat(e)))},[r])},b=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return c(r,a),r.prototype.modelId=function(t){return"".concat(t.name,"_").concat(t.type||P.TYPE_CLASS)},r.prototype.getStyleable=function(){return(0,R.filter)(this.models,function(t){return t.getActive()&&!t.get("private")})},r.prototype.getValid=function(t){var e=(void 0===t?{}:t).noDisabled;return(0,R.filter)(this.models,function(n){return!n.get("private")}).filter(function(n){return e?n.get("active"):1})},r.prototype.getFullString=function(t,e){void 0===e&&(e={});var n=[];return(t||this).forEach(function(o){return n.push(o.getFullName(e))}),e.sort&&n.sort(),n.join("").trim()},r.prototype.getFullName=function(t){void 0===t&&(t={});var e=t.combination,n=t.array,o=[],l=this.map(function(h){return h.getFullName(t)}).sort();return e?l.forEach(function(h,v){o=o.concat(g(l.slice(v+1),h))}):o=l,n?o:o.join(e?",":"")},r}(F.pM);const O=b;b.prototype.model=P;var I=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),L=function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))};const Z=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return I(r,a),r.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},r.prototype.getId=function(){return this.get("id")},r.prototype.getLabel=function(){return this.get("label")},r}(F.Kx);function vt(a){var r=new Set,t=new Map,e={items:[]};a.forEach(function(o){var l=o.category;if(l){r.add(l);var h=t.get(l);h?h.push(o):t.set(l,[o])}else e.items.push(o)});var n=Array.from(r).map(function(o){return{category:o,items:t.get(o)||[]}});return L(L([],n,!0),[e],!1)}var _t=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),It="category",Ut=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return _t(r,a),r.prototype.initCategory=function(t){var e=t.get(It),n=e instanceof Z;if(e&&!n){(0,R.isString)(e)?e={id:e,label:e}:(0,at.isObject)(e)&&!e.id&&(e.id=e.label);var o=this.getCategories().add(e);return t.set(It,o,{silent:!0}),o}if(n)return o=e,this.getCategories().add(o),o},r}(F.pM),Gt=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xt=function(a){function r(t,e){void 0===e&&(e={});var n=a.call(this,t,e)||this,o=e.events,l=e.em,h=o?.update;return l&&h&&n.on("change",function(v,j){return l.trigger(h,{category:v,changes:v.changedAttributes(),options:j})}),n}return Gt(r,a),r.prototype.add=function(t,e){return((0,R.isArray)(t)?t:[t]).forEach(function(n){return n&&(n.id=(0,at.normalizeKey)("".concat(n.id)))}),a.prototype.add.call(this,t,e)},r.prototype.get=function(t){return a.prototype.get.call(this,(0,R.isString)(t)?(0,at.normalizeKey)(t):t)},r}(F.pM);const ye=Xt;var tn;Xt.prototype.model=Z,function(a){a.select="trait:select",a.value="trait:value",a.categoryUpdate="trait:category:update",a.custom="trait:custom",a.all="trait"}(tn||(tn={}));const en=tn;var hn=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),qn=function(){return qn=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},qn.apply(this,arguments)},ir=function(a){function r(t,e){var n=a.call(this,t)||this,o=n.attributes,l=o.target,h=o.name;return!n.get("id")&&n.set("id",h),l&&n.setTarget(l),n.em=e,n}return hn(r,a),r.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(r.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"category",{get:function(){var t=this.get("category");return t instanceof Z?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),r.prototype.setTarget=function(t){if(t){var e=this.attributes,n=e.name,o=e.changeProp,l=e.value,h=e.getValue;this.target=t,this.unset("target");var v=o?"change:".concat(n):"change:attributes:".concat(n);this.listenTo(t,v,this.targetUpdated);var j=l||(h?void 0:this.getValue());!(0,R.isUndefined)(j)&&this.set({value:j},{silent:!0})}},r.prototype.getId=function(){return this.get("id")},r.prototype.getType=function(){return this.get("type")},r.prototype.getName=function(){return this.get("name")},r.prototype.getLabel=function(t){var e;void 0===t&&(t={});var n=t.locale,o=void 0===n||n,l=this.getId(),h=this.get("label")||this.getName();return o&&(null===(e=this.em)||void 0===e?void 0:e.t("traitManager.traits.labels.".concat(l)))||h},r.prototype.getValue=function(t){return this.getTargetValue(t)},r.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={});var l=this.em,h=e.partial,v={},j=this.attributes.setValue;j?j({value:t,component:this.component,editor:l?.getEditor(),trait:this,partial:!!h,options:e,emitUpdate:function(){return n.targetUpdated()}}):(h&&(v.avoidStore=!0),this.setTargetValue(t,v))},r.prototype.getDefault=function(){return this.get("default")},r.prototype.getOptions=function(){return this.get("options")||[]},r.prototype.getOption=function(t){var e=this,n=(0,at.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(o){return e.getOptionId(o)===n})[0]},r.prototype.getOptionId=function(t){return t.id||t.value},r.prototype.getOptionLabel=function(t,e){var n;void 0===e&&(e={});var o=e.locale,l=void 0===o||o,h=(0,R.isString)(t)?this.getOption(t):t,v=this.getOptionId(h),j=h.label||h.name||v,S=this.getName();return l&&(null===(n=this.em)||void 0===n?void 0:n.t("traitManager.traits.options.".concat(S,".").concat(v)))||j},r.prototype.getCategoryLabel=function(t){void 0===t&&(t={});var e=this.em,n=this.category,o=t.locale,l=void 0===o||o,h=n?.getId(),v=n?.getLabel();return l&&e?.t("traitManager.categories.".concat(h))||v||""},r.prototype.runCommand=function(){var t=this.em,e=this.attributes.command;if(e&&t)return(0,R.isString)(e)?t.Commands.run(e):e(t.Editor,this)},r.prototype.props=function(){return this.attributes},r.prototype.targetUpdated=function(){var t=this.component,e=this.em,n=this.getTargetValue({useType:!0});this.set({value:n},{fromTarget:1});var o={trait:this,component:t,value:n};t.trigger(en.value,o),e?.trigger(en.value,o),e?.trigger("trait:update",o)},r.prototype.getTargetValue=function(t){void 0===t&&(t={});var e,n=this.component,o=this.em,l=this.getName(),h=this.get("getValue");if(e=h?h({editor:o?.getEditor(),trait:this,component:n}):this.changeProp?n.get(l):n.getAttributes()[l],t.useType&&"checkbox"===this.getType()){var v=this.attributes,j=v.valueTrue,S=v.valueFalse;(0,R.isUndefined)(j)||j!==e?(0,R.isUndefined)(S)||S!==e||(e=!1):e=!0}return(0,R.isUndefined)(e)?"":e},r.prototype.setTargetValue=function(t,e){var n;void 0===e&&(e={});var o=this.component,l=this.attributes,h=this.getName();if(!(0,R.isUndefined)(t)){var v=t;if("false"===t?v=!1:"true"===t&&(v=!0),"checkbox"===this.getType()){var j=l.valueTrue,S=l.valueFalse;v&&!(0,R.isUndefined)(j)&&(v=j),v||(0,R.isUndefined)(S)||(v=S)}var Y=((n={})[h]=v,n);Y.__p=e.avoidStore?null:void 0,this.changeProp?o.set(Y,e):o.addAttributes(Y,e)}},r.prototype.setValueFromInput=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n={});var o={value:t};this.set(o,qn(qn({},n),{avoidStore:1})),e&&(this.set("value","",n),this.set(o,n))},r.prototype.getInitValue=function(){var t,e=this.component,n=this.getName();if(e){var o=e.get("attributes");t=this.changeProp?e.get(n):o[n]}return t||this.get("value")||this.get("default")},r}(F.Kx);const Re=ir;var pr=function(){function a(r){void 0===r&&(r={}),this.config=r}return a.prototype.build=function(r,t){return(0,R.isString)(r)?this.buildFromString(r,t):new Re(r,t)},a.prototype.buildFromString=function(r,t){var e={name:r,type:"text"};return"target"===r&&(e.type="select",e.default=!1,e.options=this.config.optionsTarget),new Re(e,t)},a}();const Jn=pr;var br=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mn=function(a){function r(t,e){var n=a.call(this,t)||this;n.categories=new ye;var o=e.em;n.em=o,n.categories=new ye([],{em:o,events:{update:en.categoryUpdate}}),n.on("add",n.handleAdd),n.on("reset",n.handleReset);var l=n.module,h=l?.getConfig();return n.tf=new Jn(h),n}return br(r,a),Object.defineProperty(r.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),r.prototype.getCategories=function(){return this.categories},r.prototype.handleReset=function(t,e){var n=(void 0===e?{}:e).previousModels;(void 0===n?[]:n).forEach(function(o){return o.trigger("remove")})},r.prototype.handleAdd=function(t){t.em=this.em;var e=this.target;e&&(t.target=e),this.initCategory(t)},r.prototype.setTarget=function(t){this.target=t,this.models.forEach(function(e){return e.setTarget(t)})},r.prototype.add=function(t,e){if(null!=t){var n=this.target,o=this.em;if((0,R.isArray)(t)){for(var l=[],h=0,v=t.length;h<v;h++){var j=t[h];l[h]=j instanceof Re?j:this.tf.build(j,o),l[h].setTarget(n)}return a.prototype.add.call(this,l,e)}var S=t instanceof Re?t:this.tf.build(t,o);return S.setTarget(n),a.prototype.add.call(this,S,e)}},r}(Ut);const Pn=Mn;var Wr=function(){return Wr=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Wr.apply(this,arguments)},Er=function(){function a(r,t,e){this.component=r,this.updateFn=t,this.resolverListeners={},this.em=e.em,this.collectionsStateMap=e.collectionsStateMap}return a.prototype.bindComponent=function(r){this.component=r},a.prototype.updateCollectionStateMap=function(r){var t=this;this.collectionsStateMap=r;var e=this.getDynamicValuesOfType(fr).reduce(function(l,h){return l[h]=null,l},{}),n=this.getSerializableValues(e),o=this.addDynamicValues(n);Object.keys(o).forEach(function(l){t.updateFn(t.component,l,o[l])})},a.prototype.setDynamicValues=function(r,t){return void 0===t&&(t={}),t.skipWatcherUpdates||t.fromDataSource||this.removeListeners(),this.addDynamicValues(r,t)},a.prototype.addDynamicValues=function(r,t){if(void 0===t&&(t={}),!r)return{};var e=this.evaluateValues(r);return t.skipWatcherUpdates||t.fromDataSource||this.updateListeners(r),e},a.prototype.updateListeners=function(r){var t=this,e=this.em,n=this.collectionsStateMap;this.removeListeners(Object.keys(r));for(var o=Object.keys(r),l=function(j){var S=o[j],Y=r[S];if(!uo(Y))return"continue";var lt=an(Y,{em:e,collectionsStateMap:n});h.resolverListeners[S]=new wo({em:e,resolver:lt,onUpdate:function(xt){return t.updateFn.bind(t)(t.component,S,xt)}})},h=this,v=0;v<o.length;v++)l(v)},a.prototype.evaluateValues=function(r){for(var t=this.em,e=this.collectionsStateMap,n=Wr({},r),o=Object.keys(r),l=0;l<o.length;l++){var h=o[l],v=r[h];uo(v)&&(n[h]=Pr(v,{em:t,collectionsStateMap:e}))}return n},a.prototype.removeListeners=function(r){var t=this,e=r||Object.keys(this.resolverListeners);return e.forEach(function(n){var o,l;t.resolverListeners[n]&&(null===(l=(o=t.resolverListeners[n]).destroy)||void 0===l||l.call(o),delete t.resolverListeners[n])}),e},a.prototype.getSerializableValues=function(r){if(!r)return{};for(var t=Wr({},r),e=Object.keys(t),n=0;n<e.length;n++){var o=e[n],l=this.resolverListeners[o];l&&(t[o]=l.resolver.toJSON())}return t},a.prototype.getAllSerializableValues=function(){for(var r={},t=Object.keys(this.resolverListeners),e=0;e<t.length;e++){var n=t[e];r[n]=this.resolverListeners[n].resolver.toJSON()}return r},a.prototype.getDynamicValuesOfType=function(r){var t=this;return Object.keys(this.resolverListeners).filter(function(e){return t.resolverListeners[e].resolver.get("type")===r})},a.prototype.destroy=function(){this.removeListeners()},a}(),_o={fromDataSource:!0,avoidStore:!0},no=function(){function a(r,t){this.component=r,this.propertyWatcher=new Er(r,this.onPropertyUpdate,t),this.attributeWatcher=new Er(r,this.onAttributeUpdate,t)}return a.prototype.onPropertyUpdate=function(r,t,e){r?.set(t,e,_o)},a.prototype.onAttributeUpdate=function(r,t,e){var n;r?.addAttributes(((n={})[t]=e,n),_o)},a.prototype.bindComponent=function(r){this.component=r,this.propertyWatcher.bindComponent(r),this.attributeWatcher.bindComponent(r),this.updateSymbolOverride()},a.prototype.updateCollectionStateMap=function(r){this.propertyWatcher.updateCollectionStateMap(r),this.attributeWatcher.updateCollectionStateMap(r)},a.prototype.addProps=function(r,t){var e=this;void 0===t&&(t={});var n=["components"],o=Object.fromEntries(Object.entries(r).map(function(h){var v,j=h[0],S=h[1];return n.includes(j)?[j,S]:[j,e.propertyWatcher.addDynamicValues((v={},v[j]=S,v),t)[j]]}));if(r.attributes){var l=this.attributeWatcher.setDynamicValues(r.attributes,t);o.attributes=l}return t.skipWatcherUpdates||t.fromDataSource||this.updateSymbolOverride(),o},a.prototype.removeAttributes=function(r){this.attributeWatcher.removeListeners(r),this.updateSymbolOverride()},a.prototype.updateSymbolOverride=function(){if(this.component&&this.component.get(Vr)){var r=this.propertyWatcher.getDynamicValuesOfType(fr),t=this.attributeWatcher.getDynamicValuesOfType(fr),e=function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))}([Gn,"locked"],r,!0);Object.keys(t).length&&e.push("attributes"),Lo(this.component).forEach(function(n){n.setSymbolOverride(e,{fromDataSource:!0})}),this.component.setSymbolOverride(e,{fromDataSource:!0})}},a.prototype.getDynamicPropsDefs=function(){return this.propertyWatcher.getAllSerializableValues()},a.prototype.getDynamicAttributesDefs=function(){return this.attributeWatcher.getAllSerializableValues()},a.prototype.getPropsDefsOrValues=function(r){return this.propertyWatcher.getSerializableValues(r)},a.prototype.getAttributesDefsOrValues=function(r){return this.attributeWatcher.getSerializableValues(r)},a.prototype.destroy=function(){this.propertyWatcher.destroy(),this.attributeWatcher.destroy()},a}(),Fo=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),kn=function(){return kn=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},kn.apply(this,arguments)},Fr=function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))},$r=function(a){return a.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},Mr=function(a){return!!a?.getConfig().avoidInlineStyle},Oi="component:drag",ao="__symbols",Rr="__symbol",ft="__symbol_ovrd",Ot=Se.I.update,qt=Se.I.updateInside,ne=function(a){function r(t,e){void 0===t&&(t={});var n=this,o=new no(void 0,{em:e.em,collectionsStateMap:t[Gn]});(n=a.call(this,t,kn(kn({},e),{dataResolverWatchers:o}))||this).collectionStateListeners=[],o.bindComponent(n),n.dataResolverWatchers=o,(0,R.bindAll)(n,"__upSymbProps","__upSymbCls","__upSymbComps");var l=e.em,h=n.parent(),v=h?.attributes,j=n.get("propagate");if(j&&n.set("propagate",(0,R.isArray)(j)?j:[j]),v&&v.propagate&&!j){var S={},Y=v.propagate;Y.forEach(function(Vt){return S[Vt]=h.get(Vt)}),S.propagate=Y,n.set(kn(kn({},S),t))}e&&e.config&&e.config.voidElements.indexOf(n.get("tagName"))>=0&&n.set("void",!0),e.em=l,n.opt=e,n.em=l,n.config=e.config||{};var lt=n.dataResolverWatchers.getDynamicAttributesDefs();if(n.setAttributes(kn(kn(kn({},(0,R.result)(n,"defaults").attributes||{}),n.get("attributes")||{}),lt)),n.ccid=r.createId(n,e),n.preInit(),n.initClasses(),n.initComponents(),n.initTraits(),n.initToolbar(),n.initScriptProps(),n.listenTo(n,"change:script",n.scriptUpdated),n.listenTo(n,"change:tagName",n.tagUpdated),n.listenTo(n,"change:attributes",n.attrUpdated),n.listenTo(n,"change:attributes:id",n._idUpdated),n.on("change:toolbar",n.__emitUpdateTlb),n.on("change",n.__onChange),n.on(qt,n.__propToParent),n.set("status",""),n.views=[],["classes","traits","components"].forEach(function(Vt){var ke="add remove ".concat("components"!==Vt?"change":"");n.listenTo(n.get(Vt),ke.trim(),function(){for(var ze=[],on=0;on<arguments.length;on++)ze[on]=arguments[on];return n.emitUpdate.apply(n,Fr([Vt],ze,!1))})}),!e.temporary){var xt=l&&l.Css,Ft=n.attributes,Bt=Ft.styles;Bt&&xt&&xt.addCollection(Bt,{avoidUpdateStyle:!0},{group:"cmp:".concat(Ft.type)}),n.__postAdd(),n.init(),fo(n)&&pi(n),l?.trigger(Se.I.create,n,e)}return n}return Fo(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){var t;return(t={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null})[Rr]=0,t[ao]=0,t[ft]=0,t._undo=!0,t._undoexc=["status","open"],t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"content",{get:function(){var t;return null!==(t=this.get("content"))&&void 0!==t?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frame",{get:function(){return this.opt.frame},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"page",{get:function(){var t;return null===(t=this.frame)||void 0===t?void 0:t.getPage()},enumerable:!1,configurable:!0}),r.prototype.preInit=function(){},r.prototype.init=function(){},r.prototype.updated=function(t,e,n){},r.prototype.removed=function(){},r.prototype.set=function(t,e,n){var o,l,h={skipWatcherUpdates:!1,fromDataSource:!1};"object"==typeof t?(l=t,h=e||h):"string"==typeof t?((o={})[t]=e,l=o,h=n||h):(l={},h=n||h),this.dataResolverWatchers=this.dataResolverWatchers||h.dataResolverWatchers;var v=this.dataResolverWatchers.addProps(l,h);return a.prototype.set.call(this,v,h)},r.prototype.__postAdd=function(t){void 0===t&&(t={});var e=this.em,n=e?.UndoManager,o=this.components();n&&!this.__hasUm&&(n.add(o),n.add(this.getSelectors()),this.__hasUm=!0),t.recursive&&o.map(function(l){return l.__postAdd(t)})},r.prototype.__postRemove=function(){var t=this.em,e=t?.UndoManager;e&&(e.remove(this.components()),e.remove(this.getSelectors()),delete this.__hasUm)},r.prototype.__onChange=function(t,e){var n=this,o=this.changedAttributes()||{};(0,R.keys)(o).forEach(function(l){return n.emitUpdate(l)}),["status","open","toolbar","traits"].forEach(function(l){return delete o[l]}),(0,at.isEmptyObj)(o)||(this.__changesUp(e),this.__propSelfToParent({component:this,changed:o,options:e}))},r.prototype.__onStyleChange=function(t){var e=this,n=this.em;if(n){var o="component:styleUpdate",l=(0,R.keys)(t),h={style:t};n.trigger(o,this,h),l.forEach(function(v){return n.trigger("".concat(o,":").concat(v),e,h)})}},r.prototype.__changesUp=function(t){[this.frame,this.em].forEach(function(n){return n&&n.changesUp(t)})},r.prototype.__propSelfToParent=function(t){this.trigger(Ot,t),this.__propToParent(t)},r.prototype.__propToParent=function(t){var e=this.parent();e&&e.trigger(qt,t)},r.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},r.prototype.__getAllById=function(){var t=this.em;return t?t.Components.allById():{}},r.prototype.__upSymbProps=function(t,e){void 0===e&&(e={}),function(n,o){void 0===o&&(o={});var l=n.dataResolverWatchers.getPropsDefsOrValues(Ur({},n.changedAttributes())),h=n.dataResolverWatchers.getAttributesDefsOrValues(Ur({},l.attributes));if(function(a,r){["status","open",ao,Rr,ft,"attributes"].forEach(function(t){return delete a[t]}),delete r.id,(0,at.isEmptyObj)(r)||(a.attributes=r)}(l,h),!(0,at.isEmptyObj)(l)){var v=Lo(n,o);ai(l,n),gi(n,"props",v,{opts:o,changed:l}),v.forEach(function(j){var S=Ur({},l);ai(S,j),j.set(S,Ur({fromInstance:n},o))})}}(this,e)},r.prototype.__upSymbCls=function(t,e,n){void 0===n&&(n={}),function(o,l){void 0===l&&(l={});var h=Lo(o,l);gi(o,"classes",h,{opts:l}),h.forEach(function(v){v.set("classes",o.get("classes"),{fromInstance:o})}),o.__changesUp(l)}(this,n)},r.prototype.__upSymbComps=function(t,e,n){si(this,t,e,n)},r.prototype.is=function(t){return this.get("type")==t},r.prototype.props=function(){return this.attributes},r.prototype.index=function(){var t=this.collection;return t?t.indexOf(this):0},r.prototype.setDragMode=function(t){return this.set("dmode",t)},r.prototype.getDragMode=function(){return this.get("dmode")||""},r.prototype.setSymbolOverride=function(t,e){var n,o;void 0===e&&(e={}),this.set(((n={})[ft]=null!==(o=(0,R.isString)(t)?[t]:t)&&void 0!==o?o:0,n),e)},r.prototype.getSymbolOverride=function(){return this.get(ft)},r.prototype.find=function(t){var e,n=[],o=null===(e=this.view)||void 0===e?void 0:e.$el.find(t);return o?.each(function(l){var h=o.eq(l).data("model");h&&n.push(h)}),n},r.prototype.findType=function(t){var e=[],n=function(o){return o.forEach(function(l){l.is(t)&&e.push(l),n(l.components())})};return n(this.components()),e},r.prototype.findFirstType=function(t){return this.findType(t).at(0)},r.prototype.closest=function(t){var e,n=null===(e=this.view)||void 0===e?void 0:e.$el.closest(t);return n?.length?n.data("model"):void 0},r.prototype.closestType=function(t){for(var e=this.parent();e&&!e.is(t);)e=e.parent();return e},r.prototype.contains=function(t){var e=!1;if(!t)return e;var n=function(o){!e&&o.forEach(function(l){l===t&&(e=!0),!e&&n(l.components())})};return n(this.components()),e},r.prototype.tagUpdated=function(){this.trigger("rerender")},r.prototype.replaceWith=function(t,e){void 0===e&&(e={});var n=this.collection,o=n.indexOf(this);n.remove(this);var l=n.add(t,kn(kn({},e),{at:o}));return(0,R.isArray)(l)?l:[l]},r.prototype.attrUpdated=function(t,e,n){var o=this;void 0===n&&(n={});var l=this.get("attributes"),h=l.class;h&&this.setClass(h),delete l.class;var v=l.style;v&&this.setStyle(v,n),delete l.style;var j=kn({},this.previous("attributes")),S=(0,at.shallowDiff)(j,this.get("attributes"));(0,R.keys)(S).forEach(function(Y){var lt,xt="attributes:".concat(Y);o.trigger("change:".concat(xt),o,S[Y],n),null===(lt=o.em)||void 0===lt||lt.trigger("".concat(Ot,":").concat(xt),o,S[Y],n)})},r.prototype.setAttributes=function(t,e){return void 0===e&&(e={skipWatcherUpdates:!1,fromDataSource:!1}),this.set("attributes",kn({},t),e),this},r.prototype.addAttributes=function(t,e){void 0===e&&(e={});var n=this.dataResolverWatchers.getDynamicAttributesDefs();return this.setAttributes(kn(kn(kn({},this.getAttributes({noClass:!0})),n),t),e)},r.prototype.removeAttributes=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={});var n=Array.isArray(t)?t:[t];this.dataResolverWatchers.removeAttributes(n);var o=this.getAttributes();return n.map(function(l){return delete o[l]}),this.setAttributes(o,e)},r.prototype.getStyle=function(t,e){void 0===t&&(t={}),void 0===e&&(e={});var n=this.em,o=(0,R.isString)(t)?t:"",l=o?e:t;if(Mr(n)&&!l.inline){var h=n.get("state"),v=n.Css.getIdRule(this.getId(),kn({state:h},l));return this.rule=v,v?v.getStyle(o):{}}return a.prototype.getStyle.call(this,o)},r.prototype.setStyle=function(t,e){var n=this;void 0===t&&(t={}),void 0===e&&(e={});var o=this.opt,l=this.em;if(!Mr(l)||o.temporary||e.inline)t=a.prototype.setStyle.apply(this,arguments);else{var h=this.get("style")||{};t=(0,R.isString)(t)?this.parseStyle(t):t,t=kn(kn({},t),h);var v=l.get("state"),j=l.Css,S=this.getStyle(e);this.rule=j.setIdRule(this.getId(),t,kn({state:v},e));var Y=(0,at.shallowDiff)(S,t);this.set("style","",{silent:!0}),(0,R.keys)(Y).forEach(function(lt){return n.trigger("change:style:".concat(lt))})}return o.temporary||this.__onStyleChange(e.addStyle||t),t},r.prototype.getAttributes=function(t){void 0===t&&(t={});var e=this.em,n=[],o=kn({},this.get("attributes")),l=e?.Selectors,h=this.getId();if(t.noClass?delete o.class:(this.classes.forEach(function(S){return n.push((0,R.isString)(S)?S:S.getName())}),n.length&&(o.class=n.join(" "))),!t.noStyle){var v=this.getStyle({inline:!0});(0,at.isObject)(v)&&!(0,at.isEmptyObj)(v)&&(o.style=this.styleToString({inline:!0}))}if(!(0,R.has)(o,"id")){var j=!1;!Mr(e)&&(0,R.isEmpty)(this.getStyle())||(j=!!l?.get(h,l.Selector.TYPE_ID)),(fo(this)||this.get("script-export")||this.get("script"))&&(j=!0),j&&(o.id=h)}return o},r.prototype.addClass=function(t){var e=this.em.Selectors.addClass(t);return this.classes.add(e)},r.prototype.setClass=function(t){return this.classes.reset(),this.addClass(t)},r.prototype.removeClass=function(t){var e=[];t=(0,R.isArray)(t)?t:[t];var n=this.classes,o=P.TYPE_CLASS;return t.forEach(function(l){l.split(" ").forEach(function(h){var v=n.where({name:h,type:o})[0];v&&e.push(n.remove(v))})}),e},r.prototype.getClasses=function(){var t=this.getAttributes().class;return t?t.split(" "):[]},r.prototype.initClasses=function(t,e,n){void 0===n&&(n={});var o=this.get("attributes")||{},l=o.class,h=function(a,r){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&r.indexOf(e)<0&&(t[e]=a[e]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(e=Object.getOwnPropertySymbols(a);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(a,e[n])&&(t[e[n]]=a[e[n]])}return t}(o,["class"]),v=[this,"change:classes",this.initClasses],j=this.get("classes")||l||[],S=(0,R.isString)(j)?j.split(" "):j;this.stopListening.apply(this,v);var Y=this.normalizeClasses(S),lt=new O([]);return this.set("classes",lt,n),lt.add(Y),lt.on("add remove reset",this.__upSymbCls),l&&Y.length&&this.set("attributes",h),this.listenTo.apply(this,v),this},r.prototype.initComponents=function(){var t=[this,"change:components",this.initComponents];this.stopListening.apply(this,t);var e=new vr([],this.opt);e.parent=this;var n=this.get("components"),o=!this.opt.avoidChildren;return this.set("components",e),o&&n&&e.add((0,R.isFunction)(n)?n(this):n,this.opt),e.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,t),this},r.prototype.initTraits=function(t){var e=this,n=this.em,o="change:traits";this.off(o,this.initTraits),this.__loadTraits();var l=kn({},this.get("attributes")),h=this.traits;h.each(function(j){var S=j.getName(),Y=j.getInitValue();j.changeProp?(0,R.isUndefined)(e.get(S))&&e.set(S,Y):S&&Y&&(l[S]=Y)});var v=this.dataResolverWatchers.getDynamicAttributesDefs();return h.length&&this.setAttributes(kn(kn({},l),v)),this.on(o,this.initTraits),t&&n&&n.trigger("component:toggled"),this},r.prototype.initScriptProps=function(){if(!this.opt.temporary){var t="script-props",e=["change:".concat(t),this.initScriptProps];this.off.apply(this,e);var n=this.previous(t)||[],o=this.get(t)||[],l=n.map(function(v){return"change:".concat(v)}).join(" "),h=o.map(function(v){return"change:".concat(v)}).join(" ");l&&this.off(l,this.__scriptPropsChange),h&&this.on(h,this.__scriptPropsChange),this.on.apply(this,e)}},r.prototype.__scriptPropsChange=function(t,e,n){void 0===n&&(n={}),n.avoidStore||this.trigger("rerender")},r.prototype.append=function(t,e){void 0===e&&(e={});var n=((0,R.isArray)(t)?Fr([],t,!0):[t]).map(function(o){return(0,R.isString)(o)||o.collection&&o.collection.remove(o,{temporary:!0}),o});return this.components().add(n,kn({action:Se.t.add},e))},r.prototype.components=function(t,e){void 0===e&&(e={});var n=this.get("components");return(0,R.isUndefined)(t)?n:(n.reset(void 0,e),t?this.append(t,e):[])},r.prototype.getChildAt=function(t){return this.components().at(t||0)||void 0},r.prototype.getLastChild=function(){var t=this.components();return t.at(t.length-1)||null},r.prototype.empty=function(t){return void 0===t&&(t={}),this.components().reset(void 0,t),this},r.prototype.parent=function(t){void 0===t&&(t={});var e=this.collection||t.prev&&this.prevColl;return e?e.parent:void 0},r.prototype.parents=function(){var t=this.parent();return t?[t].concat(t.parents()):[]},r.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},r.prototype.initToolbar=function(){var t=this.em,e=this,n=t&&t.getConfig().stylePrefix||"";if(!e.get("toolbar")&&t){var o=[];e.collection&&o.push({label:t.getIcon("arrowUp"),command:function(l){return l.runCommand("core:component-exit",{force:1})}}),e.get("draggable")&&o.push({attributes:{class:"".concat(n,"no-touch-actions"),draggable:!0},label:t.getIcon("move"),command:"tlb-move"}),e.get("copyable")&&o.push({label:t.getIcon("copy"),command:"tlb-clone"}),e.get("removable")&&o.push({label:t.getIcon("delete"),command:"tlb-delete"}),e.set("toolbar",o)}},r.prototype.__loadTraits=function(t,e){void 0===e&&(e={});var n=t||this.traits;if(!(n instanceof Pn)){n=(0,R.isFunction)(n)?n(this):n;var o=new Pn([],this.opt);o.setTarget(this),n.length&&o.add(n),this.set({traits:o},e)}return this},r.prototype.getTraits=function(){return this.__loadTraits(),Fr([],this.traits.models,!0)},r.prototype.setTraits=function(t){var e=(0,R.isArray)(t)?t:[t];return this.set({traits:e}),this.getTraits()},r.prototype.getTrait=function(t){return this.getTraits().filter(function(e){return e.get("id")===t||e.get("name")===t})[0]||null},r.prototype.updateTrait=function(t,e){var n,o=this.getTrait(t);return o&&o.set(e),null===(n=this.em)||void 0===n||n.trigger("component:toggled"),this},r.prototype.getTraitIndex=function(t){var e=this.getTrait(t);return e?this.traits.indexOf(e):-1},r.prototype.removeTrait=function(t){var e,n=this,o=((0,R.isArray)(t)?t:[t]).map(function(v){return n.getTrait(v)}),h=o.length?this.traits.remove(o):[];return null===(e=this.em)||void 0===e||e.trigger("component:toggled"),(0,R.isArray)(h)?h:[h]},r.prototype.addTrait=function(t,e){var n;void 0===e&&(e={}),this.__loadTraits();var o=this.traits.add(t,e);return null===(n=this.em)||void 0===n||n.trigger("component:toggled"),(0,R.isArray)(o)?o:[o]},r.prototype.normalizeClasses=function(t){var e=[],n=this.em,o=n?.Selectors;return o?t.models?Fr([],t.models,!0):(t.forEach(function(l){return e.push(o.add(l))}),e):[]},r.prototype.clone=function(t){void 0===t&&(t={});var e=this.em,n=kn(kn({},this.attributes),this.dataResolverWatchers.getDynamicPropsDefs()),o=kn({},this.opt),l=this.getId(),h=e?.Css;n.attributes=kn({},n.attributes?this.dataResolverWatchers.getAttributesDefsOrValues(n.attributes):void 0),n.components=[],n.classes=[],n.traits=[],Eo(this)&&(t.symbol=!0),this.get("components").each(function(xt,Ft){n.components[Ft]=xt.clone(kn(kn({},t),{_inner:1}))}),this.get("traits").each(function(xt,Ft){n.traits[Ft]=xt.clone()}),this.get("classes").each(function(xt,Ft){n.classes[Ft]=xt.get("name")}),n.status="",o.collection=null,o.forCloning=!0;var v=new this.constructor(n,o),j="#".concat(v.getId());(h?h.getRules("#".concat(l)):[]).forEach(function(xt){var Ft=xt.clone();Ft.set("selectors",[j]),h.getAll().add(Ft)}),v.set(ao,0);var S=Nr(this),Y=mo(this);t.symbol||!S&&!Y?S?(S.set(ao,Fr(Fr([],mo(S),!0),[v],!1)),pi(v)):t.symbol&&(Xo(this)?(this.set(ao,Fr(Fr([],Y,!0),[v],!1)),v.set(Rr,this),pi(v)):t.symbolInv?(this.set(ao,[v]),v.set(Rr,this),[this,v].map(function(xt){return pi(xt)})):(v.set(ao,[this]),[this,v].map(function(xt){return pi(xt)}),this.set(Rr,v))):(v.set(Rr,0),v.set(ao,0));var lt="component:clone";return e&&e.trigger(lt,v),this.trigger(lt,v),v},r.prototype.getName=function(t){void 0===t&&(t={});var e=this.em,n=this.attributes,o=n.type,l=n.tagName,h=n.name,v=o||l,j=o?"":l,S="domComponents.names.",Y=h&&e?.t("".concat(S).concat(h)),lt=j&&e?.t("".concat(S).concat(j)),xt=e&&(e.t("".concat(S).concat(o))||e.t("".concat(S).concat(l))),Ft=this.get("custom-name");return(t.noCustom?"":Ft)||Y||h||lt||(0,at.capitalize)(j)||xt||(0,at.capitalize)(v)},r.prototype.setName=function(t,e){void 0===e&&(e={}),this.set("custom-name",t,e)},r.prototype.getIcon=function(){var t=this.get("icon");return t?t+" ":""},r.prototype.toHTML=function(t){void 0===t&&(t={});var e=t.tag||this.get("tagName");delete t.tag;var n=this.__attrToString(t),o=n?" ".concat(n):"",l=this.getInnerHTML(t),h=!l&&this.get("void"),v="<".concat(e).concat(o).concat(h?"/":"",">").concat(l);return!h&&(v+="</".concat(e,">")),v},r.prototype.getInnerHTML=function(t){return this.__innerHTML(t)},r.prototype.__innerHTML=function(t){void 0===t&&(t={});var e=this.components();return e.length?e.map(function(n){return n.toHTML(t)}).join(""):this.content},r.prototype.__attrToString=function(t){void 0===t&&(t={});var e=[],n=t.attributes,o=this.getAttrToHTML(t);if(n&&((0,R.isFunction)(n)?o=n(this,o)||{}:(0,at.isObject)(n)&&(o=n)),t.withProps){var l=this.toJSON();(0,R.forEach)(l,function(Y,lt){"_"!==lt[0]&&["classes","attributes","components"].indexOf(lt)<0&&(o["data-gjs-".concat(lt)]=(0,R.isArray)(Y)||(0,at.isObject)(Y)?JSON.stringify(Y):(0,R.isBoolean)(Y)?"".concat(Y):Y)})}for(var h in o){var v=o[h];if(!(0,R.isUndefined)(v)&&null!==v)if((0,R.isBoolean)(v))v&&e.push(h);else{var j="";if(t.altQuoteAttr&&(0,R.isString)(v)&&v.indexOf('"')>=0)j="'".concat(v.replace(/'/g,"&apos;"),"'");else{var S=(0,R.isString)(v)?v.replace(/"/g,"&quot;"):v;j='"'.concat(S,'"')}e.push("".concat(h,"=").concat(j))}}return e.join(" ")},r.prototype.getAttrToHTML=function(t){var e=this.getAttributes();return Mr(this.em)&&!0!==t?.keepInlineStyle&&delete e.style,e},r.prototype.toJSON=function(t){void 0===t&&(t={});var e=pt.Model.prototype.toJSON.call(this,t);if((e=kn(kn({},e),this.dataResolverWatchers.getDynamicPropsDefs())).attributes=this.dataResolverWatchers.getAttributesDefsOrValues(this.getAttributes()),delete e.dataResolverWatchers,delete e.attributes.class,delete e.toolbar,delete e.traits,delete e.status,delete e.open,delete e._undoexc,delete e.delegate,this.get(Vr)&&(delete e[Rr],delete e[ft],delete e[ao],delete e[Gn],delete e[Vr],delete e.attributes.id),!t.fromUndo){var n=e[Rr],o=e[ao];o&&(0,R.isArray)(o)&&(e[ao]=o.filter(function(l){return l}).map(function(l){return l.getId?l.getId():l})),n&&!(0,R.isString)(n)&&(e[Rr]=n.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(e),e},r.prototype.getChangedProps=function(t){var e=t||pt.Model.prototype.toJSON.apply(this),n=(0,R.result)(this,"defaults");return(0,R.forEach)(n,function(o,l){-1===["type"].indexOf(l)&&e[l]===o&&delete e[l]}),(0,R.isEmpty)(e.type)&&delete e.type,(0,R.forEach)(["attributes","style"],function(o){(0,R.isEmpty)(n[o])&&(0,R.isEmpty)(e[o])&&delete e[o]}),(0,R.forEach)(["classes","components"],function(o){(!e[o]||(0,R.isEmpty)(n[o])&&!e[o].length)&&delete e[o]}),e},r.prototype.getId=function(){return(this.get("attributes")||{}).id||this.ccid||this.cid},r.prototype.setId=function(t,e){return this.addAttributes({id:t},e),this},r.prototype.getEl=function(t){var e=this.getView(t);return e&&e.el},r.prototype.getView=function(t){var e=this,n=e.view,o=e.views,l=e.em,h=t||l?.getCurrentFrameModel();return h&&(n=o.filter(function(v){return v.frameView===h.view})[0]),n},r.prototype.getCurrentView=function(){var t=this.em.getCurrentFrame(),e=t?.model;return this.getView(e)},r.prototype.__getScriptProps=function(){var t=this.props();return(this.get("script-props")||[]).reduce(function(e,n){return e[n]=t[n],e},{})},r.prototype.getScriptString=function(t){var e=this,n=t||this.get("script")||"";if(!n)return n;if(this.get("script-props"))n=n.toString().trim();else{if((0,R.isFunction)(n)){var o=n.toString().trim();n=(o=o.slice(o.indexOf("{")+1,o.lastIndexOf("}"))).trim()}var l=this.em.getConfig(),h=$r(l.tagVarStart||"{[ "),v=$r(l.tagVarEnd||" ]}"),j=new RegExp("".concat(h,"([\\w\\d-]*)").concat(v),"g");n=n.replace(j,function(S,Y){e.scriptUpdated();var lt=e.attributes[Y]||"";return(0,R.isArray)(lt)||"object"==typeof lt?JSON.stringify(lt):lt})}return n},r.prototype.emitUpdate=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var l=this.em,h=Ot+(t?":".concat(t):""),v=t&&this.get(t);t&&this.updated.apply(this,Fr([t,v,t&&this.previous(t)],n,!1)),this.trigger.apply(this,Fr([h],n,!1)),l&&l.trigger.apply(l,Fr([h,this],n,!1)),["components","classes"].indexOf(t)>=0&&this.__propSelfToParent({component:this,changed:(e={},e[t]=v,e),options:n[2]||n[1]||{}})},r.prototype.emitWithEditor=function(t,e,n){[this.em,this].forEach(function(o){return o?.trigger(t,e,n)})},r.prototype.onAll=function(t){return(0,R.isFunction)(t)&&(t(this),this.components().forEach(function(e){return e.onAll(t)})),this},r.prototype.forEachChild=function(t){(0,R.isFunction)(t)&&this.components().forEach(function(e){t(e),e.forEachChild(t)})},r.prototype.remove=function(t){var e=this;void 0===t&&(t={});var n=this.em,o=this.collection,l=function(){o&&o.remove(e,kn({action:Se.t.remove},t)),o||(e.components("",t),e.components().removeChildren(e,void 0,t))},h=kn({},t);return[this,n].map(function(v){return v.trigger(Se.I.removeBefore,e,l,h)}),!h.abort&&l(),this},r.prototype.destroy=function(t){return this.dataResolverWatchers.destroy(),a.prototype.destroy.call(this,t)},r.prototype.move=function(t,e){if(void 0===e&&(e={}),t){var n=e.at,o=this.index(),l=t===this.parent();if(!l||o!==n&&o!==n-1){l&&n&&n>o&&(e.at=n-1);var h=Se.t.move;this.remove({action:h,temporary:1}),t.append(this,kn({action:h},e)),this.emitUpdate()}}return this},r.prototype.isInstanceOf=function(t){var e,n,o=null===(n=null===(e=this.em)||void 0===e?void 0:e.Components.getType(t))||void 0===n?void 0:n.model;return!!o&&(this instanceof o||this.constructor.typeExtends.has(t))},r.prototype.isChildOf=function(t){for(var e=(0,R.isString)(t),n=this.parent();n;){if(e){if(n.isInstanceOf(t))return!0}else if(n===t)return!0;n=n.parent()}return!1},r.prototype.resetId=function(t){void 0===t&&(t={});var e=this.em,n=this.getId();if(!n)return this;var o=r.createId(this);this.setId(o);var l=e?.Css.getIdRule(n),h=l?.get("selectors").at(0);return h?.set("name",o),this},r.prototype._getStyleRule=function(t){var n=this.em,o=(void 0===t?{}:t).id||this.getId();return n?.Css.getIdRule(o)},r.prototype._getStyleSelector=function(t){var e=this._getStyleRule(t);return e?.get("selectors").at(0)},r.prototype._idUpdated=function(t,e,n){if(void 0===n&&(n={}),!n.idUpdate){var o=this.ccid,l=(this.get("attributes")||{}).id,h=(this.previous("attributes")||{}).id||o,v=r.getList(this);if(v[l]||!l&&h)return this.setId(h,{idUpdate:!0});delete v[h],v[l]=this,this.ccid=l;var j=this._getStyleSelector({id:h});j&&j.set({name:l,label:l})}},r.getDefaults=function(){return(0,R.result)(this.prototype,"defaults")},r.isComponent=function(t,e){return{tagName:(0,at.toLowerCase)(t.tagName)}},r.ensureInList=function(t){var e=r.getList(t),n=t.getId(),o=e[n];if(o){if(o!==t){var l=r.getIncrementId(n,e);t.setId(l),e[l]=t}}else e[n]=t;t.components().forEach(function(h){return r.ensureInList(h)})},r.createId=function(t,e){void 0===e&&(e={});var n,o=r.getList(t),l=e.idMap,h=void 0===l?{}:l,v=t.get("attributes").id;return v?(n=r.getIncrementId(v,o,e),t.setId(n),v!==n&&(h[v]=n)):n=r.getNewId(o),o[n]=t,n},r.getNewId=function(t){for(var e=Object.keys(t).length.toString().length+2,n=(Math.random()+1.1).toString(36).slice(-e),o="i".concat(n);t[o];)o=r.getNewId(t);return o},r.getIncrementId=function(t,e,n){void 0===n&&(n={});var o=n.keepIds,l=1,h=t;if((void 0===o?[]:o).indexOf(t)<0)for(;e[h];)l++,h="".concat(t,"-").concat(l);return h},r.getList=function(t){var e,n=t.em,o=n?.Components;return null!==(e=o?.componentsById)&&void 0!==e?e:{}},r.checkId=function(t,e,n,o){void 0===e&&(e=[]),void 0===n&&(n={}),void 0===o&&(o={});var l=(0,R.isArray)(t)?t:[t],h=o.keepIds,v=void 0===h?[]:h,j=o.idMap,S=void 0===j?{}:j;l.forEach(function(Y){var lt=Y.attributes,xt=void 0===lt?{}:lt,Ft=Y.components,Bt=xt.id;if(Bt&&n[Bt]&&v.indexOf(Bt)<0){var te=r.getIncrementId(Bt,n);S[Bt]=te,xt.id=te,(0,R.isArray)(e)&&e.forEach(function(Vt){var ke=Vt.selectors;ke.forEach(function(ze,on){ze==="#".concat(Bt)&&(ke[on]="#".concat(te))})})}Ft&&r.checkId(Ft,e,n,o)})},r.typeExtends=new Set,r}(_i);const fe=ne;var ve=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),$e=function(){return $e=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},$e.apply(this,arguments)},ln="head",tr=["title","style","base","link","meta","script","noscript"],lr=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return ve(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return $e($e({},a.prototype.defaults),{type:ln,tagName:ln,draggable:!1,highlightable:!1,droppable:function(t){var e=t.tagName;return!e||tr.includes((0,at.toLowerCase)(e))}})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,at.toLowerCase)(t.tagName)===ln},r}(fe);const Hr=lr;var ro=Xe(2128),ko=Xe(6778),Mo=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),qi=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Mo(r,a),r.prototype.canMove=function(t,e){var n=this,o=this.getRealIndex(e),l=t._dragSource,h=l.model,v=l.content,j=l.dragDef,S=!h||!this.isSourceSameSymbol(h),Y=((0,R.isFunction)(v)?j:v)||t.model;return Array.isArray(Y)?S&&Y.every(function(lt,xt){return n.canMoveSingleContent(lt,o+xt)}):S&&this.canMoveSingleContent(Y,o)},r.prototype.canMoveSingleContent=function(t,e){return this.model.em.Components.canMove(this.model,t,e).result},r.prototype.addChildAt=function(t,e){var n=t._dragSource.content,o=this.isTextNode()&&t.isTextable(),l=(0,R.isFunction)(n)?n():n;return Array.isArray(l)?this.addMultipleChildren(l,e,o):this.addSingleChild(l,e,o)},r.prototype.addSingleChild=function(t,e,n){var o,l,h,v,j;return j=n?null===(v=null===(h=null===(l=null===(o=this.model)||void 0===o?void 0:o.getView)||void 0===l?void 0:l.call(o))||void 0===h?void 0:h.insertComponent)||void 0===v?void 0:v.call(h,t,{action:"add-component"}):this.model.components().add(t,{at:this.getRealIndex(e),action:"add-component"}),new this.constructor(j)},r.prototype.addMultipleChildren=function(t,e,n){var o,l=this;return t.forEach(function(h,v){o=l.addSingleChild(h,e+v,n)}),o},r.prototype.isSourceSameSymbol=function(t){if(fo(this.model)){var e=Si(this.model);if((Xo(e)?e:Nr(e))===t)return!0}return!1},Object.defineProperty(r.prototype,"content",{set:function(t){this._dragSource.content=t},enumerable:!1,configurable:!0}),r}(ko.A);const Va=qi;var Ki=function(){return Ki=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Ki.apply(this,arguments)},Es=function(){function a(r,t){var e=this;this.em=r,this.canvas=r.Canvas;var n=t||this.canvas.getFrames().map(function(l){return l.getComponent().getEl()}),o=Array.isArray(n)?n:[n];this.el=o[0],this.counter=0,(0,R.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave","handleDragEnd"),o.forEach(function(l){return e.toggleEffects(l,!0)})}return a.prototype.toggleEffects=function(r,t){var e={on:kt.on,off:kt.AU},n=t?"on":"off";e[n](r,"dragenter",this.handleDragEnter),e[n](r,"dragover",this.handleDragOver),e[n](r,"drop",this.handleDrop),e[n](r,"dragleave",this.handleDragLeave)},a.prototype.__customTglEff=function(r){var t,e=r?kt.on:kt.AU,n=this.el.ownerDocument,o=null===(t=n.defaultView)||void 0===t?void 0:t.frameElement;this.getSorterOptions=r?function(l){return{legacyOnStartSort:function(){(0,kt.on)(o,"pointermove",l.onMove)},legacyOnEnd:function(){(0,kt.AU)(o,"pointermove",l.onMove)},customTarget:function(h){var v=h.event;return n.elementFromPoint(v.clientX,v.clientY)}}}:void 0,e(o,"pointerenter",this.handleDragEnter),e(o,"pointermove",this.handleDragOver),e(document,"pointerup",this.handleDrop),e(o,"pointerout",this.handleDragLeave)},a.prototype.startCustom=function(){this.__customTglEff(!0)},a.prototype.endCustom=function(r){this.over?this.endDrop(r):this.__customTglEff(!1)},a.prototype.endDrop=function(r,t){var e=this.em,n=this.dragStop;this.counter=0,n&&n(r||!this.over),this.__customTglEff(!1),e.trigger("canvas:dragend",t)},a.prototype.handleDragLeave=function(r){this.updateCounter(-1,r)},a.prototype.updateCounter=function(r,t){this.counter+=r,0===this.counter&&this.endDrop(!0,t)},a.prototype.handleDragEnter=function(r){var t,e,n,o=this,l=this.em,h=this.canvas,v=r.dataTransfer,j=l.get("dragSource");if((j?.content||h.getConfig().allowExternalDrop)&&(this.updateCounter(1,r),!this.over)){this.over=!0;var S,Y=l.Utils,lt=j?.content||"<br>";if(l.stopDefault(),l.inAbsoluteMode()){var xt=l.Components.getWrapper(),Ft=xt.append({})[0],Bt=l.Commands.run("core:component-drag",{event:r,guidesInfo:1,center:1,target:Ft,onEnd:function(on,_n,An){var er;if(!An.cancelled&&lt){er=xt.append(lt)[0];var Un=h.getOffset(),mr=Ft.getStyle(),xr=mr.top,Uo=mr.left,ci=mr.position,ui=(0,kt.Xy)(on.target),Ji=parseInt("".concat(parseFloat(Uo)+ui.x-Un.left),10),la=parseInt("".concat(parseFloat(xr)+ui.y-Un.top),10);er.addStyle({left:Ji+"px",top:la+"px",position:ci})}o.handleDragEnd(er,v),Ft.remove()}});S=function(on){return Bt.stop(r,{cancel:on})},this.setAbsoluteDragContent=function(on){return lt=on}}else{var te=new Y.ComponentSorter({em:l,treeClass:Va,containerContext:{container:this.el,containerSel:"*",itemSel:"*",pfx:"gjs-",placeholderElement:h.getPlacerEl(),document:this.el.ownerDocument},dragBehavior:{dragDirection:ro.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnEndMove:this.handleDragEnd}}),Vt=null===(t=this.getSorterOptions)||void 0===t?void 0:t.call(this,te);Vt&&(te.eventHandlers.legacyOnStartSort=Vt.legacyOnStart,te.eventHandlers.legacyOnEnd=Vt.legacyOnEnd,te.containerContext.customTarget=Vt.customTarget);var ke=null===(e=this.getTempDropModel(lt).view)||void 0===e?void 0:e.el;te.startSort(ke?[{element:ke,dragSource:j}]:[]),this.sorter=te,this.draggedNode=null===(n=te.sourceNodes)||void 0===n?void 0:n[0],S=function(on){on?te.cancelDrag():te.endDrag()}}this.dragStop=S,l.trigger("canvas:dragenter",v,lt)}},a.prototype.getTempDropModel=function(r){var t,e=this.em.Components.getComponents(),n={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},o=e.add(r,Ki(Ki({},n),{temporary:!0})),l=e.remove(o,Ki(Ki({},n),{temporary:!0}));return null===(t=(l=l instanceof Array?l[0]:l).view)||void 0===t||t.$el.data("model",l),l},a.prototype.handleDragEnd=function(r,t){var e=this.em;this.over=!1,r&&(e.set("dragResult",r),e.trigger("canvas:drop",t,r)),e.runDefault({preserveSelected:1})},a.prototype.handleDragOver=function(r){r.preventDefault(),this.em.trigger("canvas:dragover",r)},a.prototype.handleDrop=function(r){var t;r.preventDefault();var n=this.getContentByData(r.dataTransfer).content;this.draggedNode&&(this.draggedNode.content=n),null===(t=this.setAbsoluteDragContent)||void 0===t||t.call(this,n),this.endDrop(!n,r)},a.prototype.getContentByData=function(r){var t=this.em,e=r&&r.types,n=r&&r.files||[],o=t.get("dragSource"),l=r&&r.getData("text");if(n.length){l=[];for(var h=0;h<n.length;h++){var v=n[h],j=v.type.split("/")[0];"image"==j&&l.push({type:j,file:v,attributes:{alt:v.name}})}}else if(o?.content)l=o.content;else if((0,R.indexOf)(e,"text/html")>=0)l=r&&r.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,R.indexOf)(e,"text/uri-list")>=0)l={type:"link",attributes:{href:l},content:l};else if((0,R.indexOf)(e,"text/json")>=0){var S=r&&r.getData("text/json");S&&(l=JSON.parse(S))}else 1===e.length&&"text/plain"===e[0]&&(l="<div>".concat(l,"</div>"));var Y={content:l};return t.trigger("canvas:dragdata",r,Y),Y},a}();const js=Es;var Al=function(){function a(r,t){var e;void 0===r&&(r=50),this.dragging=!1,this.lastMaxHeight=0,this.zoom=1,this.rectIsInScrollIframe=!1,this.autoscrollLimit=r,this.lastMaxHeight=null!==(e=t?.lastMaxHeight)&&void 0!==e?e:0,this.onScroll=t?.onScroll,this.rectIsInScrollIframe=!!t?.rectIsInScrollIframe,(0,R.bindAll)(this,"start","autoscroll","updateClientY","stop")}return a.prototype.start=function(r,t,e){var n=this;this.eventEl=r,this.scrollEl=t,this.lastMaxHeight=e?.lastMaxHeight||Number.POSITIVE_INFINITY,this.zoom=e?.zoom||1,setTimeout(function(){n.toggleAutoscrollFx(!0),requestAnimationFrame(n.autoscroll)},0)},a.prototype.autoscroll=function(){var r,t,e=this.scrollEl;if(this.dragging&&e){var n=null!==(r=this.lastClientY)&&void 0!==r?r:0,o=this.autoscrollLimit,l=this.getEventElHeight()-o,h=0;n<o&&(h+=n-o),n>l&&(h+=n-l);var v=this.getElScrollTop(e);void 0!==this.lastClientY&&0!==h&&this.lastMaxHeight-h>v&&(e.scrollBy({top:h,left:0,behavior:"auto"}),null===(t=this.onScroll)||void 0===t||t.call(this)),requestAnimationFrame(this.autoscroll)}},a.prototype.getEventElHeight=function(){var r=this.eventEl;return r?r.getBoundingClientRect().height:0},a.prototype.updateClientY=function(r){var t=this.scrollEl;r.preventDefault();var e=this.rectIsInScrollIframe?0:this.getElScrollTop(t);this.lastClientY=(0,kt.G2)(r).clientY*this.zoom-e},a.prototype.getElScrollTop=function(r){return(r instanceof HTMLElement?r.scrollTop:r?.scrollY)||0},a.prototype.toggleAutoscrollFx=function(r){this.dragging=r;var t=this.eventEl;if(t){var e=r?"on":"off",n={on:kt.on,off:kt.AU};n[e](t,"mousemove dragover",this.updateClientY),n[e](t,"mouseup",this.stop)}},a.prototype.stop=function(){this.toggleAutoscrollFx(!1)},a}();const za=Al;var Ds=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ht=function(){return Ht=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Ht.apply(this,arguments)},De=function(a){function r(t,e){var n=a.call(this,{model:t})||this;n.dragging=!1,n.loaded=!1,n.lastMaxHeight=0,n.tools={},(0,R.bindAll)(n,"startAutoscroll","stopAutoscroll","_emitUpdate");var o=n.el;n.module._config=Ht(Ht({},n.config||{}),{frameView:n}),n.frameWrapView=e,n.showGlobalTools=(0,R.debounce)(n.showGlobalTools.bind(n),50);var l=n.getCanvasModel();return n.listenTo(t,"change:head",n.updateHead),n.listenTo(l,"change:styles",n.renderStyles),t.view=n,(0,at.setViewEl)(o,n),n.autoScroller=new za(n.config.autoscrollLimit,{rectIsInScrollIframe:!0,onScroll:function(){n.getGlobalToolsEl().style.opacity="0",n.showGlobalTools(),n.em.Canvas.spots.refreshDbn()}}),n}return Ds(r,a),Object.defineProperty(r.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),r.prototype.getBoxRect=function(){var t=this.el,e=this.module,n=e.getCanvasView(),o=e.getCoords(),l=t.getBoundingClientRect(),h=n.getCanvasOffset(),v=n.getViewportDelta(),j=e.getZoomMultiplier();return{x:(l.x-h.left-v.x-o.x)*j,y:(l.y-h.top-v.y-o.y)*j,width:l.width*j,height:l.height*j}},r.prototype.updateHead=function(){var t=this.model,e=this.getHead(),n=[],o=[],l=t.head,h=t.previous("head"),v=function(S){return void 0===S&&(S={}),Object.keys(S).sort().map(function(Y){return"[".concat(Y,'="').concat(S[Y],'"]')}).join("")},j=function(S,Y,lt){S.forEach(function(xt){var Ft=xt.tag,Bt=xt.attributes;!Y.some(function(te){return te.tag===Ft&&v(te.attributes)===v(Bt)})&&lt.push(xt)})};j(l,h,o),j(h,l,n),n.forEach(function(S){var Y,lt=e.querySelector("".concat(S.tag).concat(v(S.attributes)));null===(Y=lt?.parentNode)||void 0===Y||Y.removeChild(lt)}),(0,kt.af)(e,o)},r.prototype.getEl=function(){return this.el},r.prototype.getCanvasModel=function(){var t;return null===(t=null==this?void 0:this.em.Canvas)||void 0===t?void 0:t.getModel()},r.prototype.getWindow=function(){return this.getEl().contentWindow},r.prototype.getDoc=function(){return this.getEl().contentDocument},r.prototype.getHead=function(){return this.getDoc().querySelector("head")},r.prototype.getBody=function(){return this.getDoc().querySelector("body")},r.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},r.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,kt.a_)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},r.prototype.getToolsEl=function(){var t;return null===(t=this.frameWrapView)||void 0===t?void 0:t.elTools},r.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},r.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},r.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},r.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},r.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},r.prototype.getOffsetRect=function(){var t=this.el,e=this.getBody(),n=e.scrollTop,o=e.scrollLeft,l=t.offsetHeight,h=t.offsetWidth;return{top:t.offsetTop,left:t.offsetLeft,height:l,width:h,scrollTop:n,scrollLeft:o,scrollBottom:n+l,scrollRight:o+h}},r.prototype._getTool=function(t){var e=this.tools,n=this.getToolsEl();return e[t]||(e[t]=n.querySelector(t)),e[t]},r.prototype.remove=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._toggleEffects(!1),this.tools={},null===(t=this.wrapper)||void 0===t||t.remove(),Ct.prototype.remove.apply(this,e),this},r.prototype.startAutoscroll=function(){this.autoScroller.start(this.el,this.getWindow(),{lastMaxHeight:this.getWrapper().offsetHeight-this.el.offsetHeight,zoom:this.em.getZoomDecimal()})},r.prototype.stopAutoscroll=function(){this.autoScroller.stop()},r.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},r.prototype.render=function(){var t=this,o=t.em;return t.$el.attr({class:"".concat(t.ppfx,"frame")}),this.renderScripts(),o.trigger("frame:render",this),this},r.prototype.renderScripts=function(){var t=this,e=this,n=e.el,l=e.em,h="frame:load",v={el:n,model:e.model,view:this},j=this.getCanvasModel(),S=function(Y){var lt;if(Y.length>0){var xt=Y.shift(),Ft=(0,kt.a_)("script",Ht({type:"text/javascript"},(0,R.isString)(xt)?{src:xt}:xt));null===(lt=n.contentDocument)||void 0===lt||lt.head.appendChild(Ft),Ft.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?S(Y):Ft.onerror=Ft.onload=S.bind(null,Y)}else l?.trigger($n.frameLoadHead,v),t.renderBody(),l?.trigger($n.frameLoadBody,v),l?.trigger(h,v)};n.onload=function(){var Y=t.config.frameContent;if(Y){var lt=t.getDoc();lt.open(),lt.write(Y),lt.close()}v.window=t.getWindow(),l?.trigger("".concat(h,":before"),v),l?.trigger($n.frameLoad,v),t.renderHead(),S(function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))}([],j.get("scripts"),!0))}},r.prototype.renderStyles=function(t){void 0===t&&(t={});var e=this.getHead(),n=this.getCanvasModel(),o=function(Y){return void 0===Y&&(Y=[]),Y.map(function(lt){return{tag:"link",attributes:Ht({rel:"stylesheet"},(0,R.isString)(lt)?{href:lt}:lt)}})},l=o(t.prev||n.previous("styles")),h=o(n?.get("styles")),v=[],j=[],S=function(Y,lt,xt){Y.forEach(function(Ft){var Bt=Ft.attributes.href;!lt.some(function(te){return te.attributes.href===Bt})&&xt.push(Ft)})};S(h,l,j),S(l,h,v),v.forEach(function(Y){var lt,xt=e.querySelector('link[href="'.concat(Y.attributes.href,'"]'));null===(lt=xt?.parentNode)||void 0===lt||lt.removeChild(xt)}),(0,kt.af)(e,j)},r.prototype.renderHead=function(){var t,n=this.em,o=this.model.root,l=null===(t=n?.Components)||void 0===t?void 0:t.getType(ln).view;l&&(this.headView=new l({el:this.getHead(),model:o.head,config:Ht(Ht({},o.config),{frameView:this})}).render())},r.prototype.renderBody=function(){var t,e,n,o=this,l=this,h=l.config,v=l.em,j=l.model,S=l.ppfx,Y=this.getDoc(),lt=this.getBody(),xt=this.getWindow(),Ft=j.hasAutoHeight(),Bt=v.config;xt._isEditor=!0,this.renderStyles({prev:[]}),(0,kt.BC)(lt,"<style>\n      ".concat(Bt.baseCss||h.frameStyle||"","\n\n      ").concat(Ft?"body { overflow: hidden }":"",'\n\n      [data-gjs-type="wrapper"] {\n        ').concat(Ft?"":"min-height: 100vh;","\n        padding-top: 0.001em;\n      }\n\n      .").concat(S,"dashed *[data-gjs-highlightable] {\n        outline: 1px dashed rgba(170,170,170,0.7);\n        outline-offset: -2px;\n      }\n\n      .").concat(S,"selected {\n        outline: 2px solid #3b97e3 !important;\n        outline-offset: -2px;\n      }\n\n      .").concat(S,"selected-parent {\n        outline: 2px solid ").concat("#ffca6f"," !important\n      }\n\n      .").concat(S,"no-select {\n        user-select: none;\n        -webkit-user-select:none;\n        -moz-user-select: none;\n      }\n\n      .").concat(S,"freezed {\n        opacity: 0.5;\n        pointer-events: none;\n      }\n\n      .").concat(S,"no-pointer {\n        pointer-events: none;\n      }\n\n      .").concat(S,"pointer-init {\n        pointer-events: initial;\n      }\n\n      .").concat(S,"plh-image {\n        background: #f5f5f5;\n        border: none;\n        height: 100px;\n        width: 100px;\n        display: block;\n        outline: 3px solid #ffca6f;\n        cursor: pointer;\n        outline-offset: -2px\n      }\n\n      .").concat(S,"grabbing {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n      }\n\n      .").concat(S,"is__grabbing {\n        overflow-x: hidden;\n      }\n\n      .").concat(S,"is__grabbing,\n      .").concat(S,"is__grabbing * {\n        cursor: grabbing !important;\n      }\n\n      ").concat(Bt.canvasCss||"","\n      ").concat(Bt.protectedCss||"","\n    </style>"));var te=j.root,Vt=((null===(t=v?.Components)||void 0===t?void 0:t.getType("wrapper"))||{}).view;Vt&&(this.wrapper=new Vt({model:te,config:Ht(Ht({},te.config),{em:v,frameView:this})}).render(),(0,kt.BC)(lt,null===(e=this.wrapper)||void 0===e?void 0:e.el),(0,kt.BC)(lt,new oe({collection:j.getStyles(),config:Ht(Ht({},v.Css.getConfig()),{frameView:this})}).render().el),(0,kt.BC)(lt,this.getJsContainer()),(0,kt.on)(lt,"click",function(ke){var ze;return ke&&"A"==(null===(ze=ke.target)||void 0===ze?void 0:ze.tagName)&&ke.preventDefault()}),(0,kt.on)(lt,"submit",function(ke){return ke&&ke.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!h.infiniteCanvas}}].forEach(function(ke){return ke.event.split(" ").forEach(function(ze){Y.addEventListener(ze,function(on){return o.el.dispatchEvent((0,kt.yL)(on,ke.class))},ke.opts)})}),this._toggleEffects(!0),(0,at.hasDnd)(v)&&(this.droppable=new js(v,null===(n=this.wrapper)||void 0===n?void 0:n.el)),this.loaded=!0,j.trigger("loaded"))},r.prototype._toggleEffects=function(t){var e=t?kt.on:kt.AU,n=this.getWindow();n&&e(n,"".concat(kt.D8," resize"),this._emitUpdate)},r.prototype._emitUpdate=function(){this.model._emitUpdated()},r}(Ct);const Pe=De;var Ge=Xe(5633),wn=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cn=function(){return Cn=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Cn.apply(this,arguments)},Dn=function(a){function r(t,e){var n=a.call(this,{model:t})||this;return(0,R.bindAll)(n,"onScroll","frameLoaded","updateOffset","remove","startDrag"),Cn(Cn({},t.config),{frameWrapView:n}),n.cv=e,n.frame=new Pe(t,n),n.classAnim="".concat(n.ppfx,"frame-wrapper--anim"),n.updateOffset=(0,R.debounce)(n.updateOffset.bind(n),0),n.updateSize=(0,R.debounce)(n.updateSize.bind(n),0),n.listenTo(t,"loaded",n.frameLoaded),n.listenTo(t,"change:x change:y",n.updatePos),n.listenTo(t,"change:width change:height",n.updateSize),n.listenTo(t,"destroy remove",n.remove),n.updatePos(),n.setupDragger(),n}return wn(r,a),r.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},r.prototype.setupDragger=function(){var t,e,n,o=this,l=this.module,h=this.model,v=function(j){l.toggleFramesEvents(j)};this.dragger=new Ge.A({onStart:function(){var j=h.attributes,S=j.x,Y=j.y;n=o.em.getZoomMultiplier(),t=S,e=Y,v(!1)},onEnd:function(){return v(!0)},setPosition:function(j){h.set({x:t+j.x*n,y:e+j.y*n})}})},r.prototype.startDrag=function(t){var e;t&&(null===(e=this.dragger)||void 0===e||e.start(t))},r.prototype.__clear=function(t){var e=this.frame;e&&e.remove(t),(0,kt.YZ)(this.elTools)},r.prototype.remove=function(t){var e,n=this;return null===(e=this.sizeObserver)||void 0===e||e.disconnect(),this.__clear(t),Ct.prototype.remove.apply(this,t),["frame","dragger","cv","elTools"].forEach(function(o){return n[o]=0}),this},r.prototype.updateOffset=function(){var t,e=this,n=e.em,o=e.$el,l=e.frame;n&&!n.destroyed&&(n.runDefault({preserveSelected:1}),o.removeClass(this.classAnim),null===(t=l?.model)||void 0===t||t._emitUpdated())},r.prototype.updatePos=function(t){var o=this.model.attributes,l=o.x,h=o.y,v=this.el.style;this.frame.rect=void 0,v.left=isNaN(l)?l:"".concat(l,"px"),v.top=isNaN(h)?h:"".concat(h,"px"),t&&this.updateOffset()},r.prototype.updateSize=function(){this.updateDim()},r.prototype.updateDim=function(){var t=this,e=t.em,n=t.el,o=t.$el,l=t.model,h=t.classAnim,v=t.frame;if(v){v.rect=void 0,o.addClass(h);var j=this.__handleSize(),S=j.noChanges,Y=j.width,lt=j.height;((0,R.isNull)(Y)||(0,R.isNull)(lt))&&l.set(Cn(Cn({},Y?{}:{width:n.offsetWidth}),lt?{}:{height:n.offsetHeight}),{silent:1}),e.stopDefault({preserveSelected:1}),S?this.updateOffset():setTimeout(this.updateOffset,350)}},r.prototype.onScroll=function(){var t=this.frame;this.em.trigger("frame:scroll",{frame:t,body:t.getBody(),target:t.getWindow()})},r.prototype.frameLoaded=function(){this.frame.getWindow().onscroll=this.onScroll,this.updateDim()},r.prototype.__handleSize=function(){var t,n=this.model,o=this.el.style,l=n.attributes,h=l.width,v=l.height,Y=h||"",lt=v||"",xt=(o.width||"")==Y&&(o.height||"")==lt,Ft=(0,R.isNumber)(Y)?"".concat(Y).concat("px"):Y,Bt=(0,R.isNumber)(lt)?"".concat(lt).concat("px"):lt;if(o.width=Ft,null===(t=this.sizeObserver)||void 0===t||t.disconnect(),n.hasAutoHeight()){var te=this.frame.el.contentDocument;if(te){var Vt=new ResizeObserver(function(){var ke=parseFloat(n.get("minHeight"))||0,ze=Math.max(te.body.scrollHeight,ke);o.height="".concat(ze,"px")});Vt.observe(te.body),this.sizeObserver=Vt}}else o.height=Bt,delete this.sizeObserver;return{noChanges:xt,width:h,height:v,newW:Y,newH:lt}},r.prototype.render=function(){var t=this,e=t.frame,n=t.$el,o=t.ppfx,l=t.cv,h=t.model,v=t.el,j=h.attributes.onRender;this.__clear(),this.__handleSize(),e.render(),n.empty().attr({class:"".concat(o,"frame-wrapper")}).append('\n      <div class="'.concat(o,'frame-wrapper__top gjs-two-color" data-frame-top>\n        <div class="').concat(o,'frame-wrapper__name" data-action-move>\n          ').concat(h.get("name")||"",'\n        </div>\n        <div class="').concat(o,'frame-wrapper__top-r">\n          <div class="').concat(o,'frame-wrapper__icon" data-action-remove style="display: none">\n            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(o,'frame-wrapper__right" data-frame-right></div>\n      <div class="').concat(o,'frame-wrapper__left" data-frame-left></div>\n      <div class="').concat(o,'frame-wrapper__bottom" data-frame-bottom></div>\n      ')).append(e.el);var S=(0,kt.a_)("div",{class:"".concat(o,"tools"),style:"pointer-events:none; display: none"},'\n      <div class="'.concat(o,'highlighter" data-hl></div>\n      <div class="').concat(o,'badge" data-badge></div>\n      <div class="').concat(o,'placeholder">\n        <div class="').concat(o,'placeholder-int"></div>\n      </div>\n      <div class="').concat(o,'ghost"></div>\n      <div class="').concat(o,'toolbar" style="pointer-events:all"></div>\n      <div class="').concat(o,'resizer"></div>\n      <div class="').concat(o,'offset-v" data-offset>\n        <div class="gjs-marginName" data-offset-m>\n          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>\n          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>\n          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>\n          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>\n        </div>\n        <div class="gjs-paddingName" data-offset-m>\n          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>\n          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>\n          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>\n          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>\n        </div>\n      </div>\n      <div class="').concat(o,'offset-fixed-v"></div>\n    '));this.elTools=S;var Y=l?.toolsWrapper;return Y&&Y.appendChild(S),j&&j({el:v,elTop:v.querySelector("[data-frame-top]"),elRight:v.querySelector("[data-frame-right]"),elBottom:v.querySelector("[data-frame-bottom]"),elLeft:v.querySelector("[data-frame-left]"),frame:h,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},r}(Ct);const En=Dn;var hr=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),ar=function(a){function r(t,e){void 0===t&&(t={});var n=a.call(this,t,!0)||this;return n.listenTo(n.collection,"reset",n.render),n.canvasView=e.canvasView,n._module=e.module,n}return hr(r,a),r.prototype.onRemoveBefore=function(t,e){void 0===e&&(e={}),t.forEach(function(n){return n.remove(e)})},r.prototype.onRender=function(){this.$el.attr({class:"".concat(this.ppfx,"frames")})},r.prototype.clearItems=function(){(this.viewCollection||[]).forEach(function(t){return t.remove()}),this.viewCollection=[]},r.prototype.renderView=function(t,e){return new En(t,this.canvasView)},r}(Wt);const dr=ar;var yr=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kn=function(){return Kn=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Kn.apply(this,arguments)},so=function(a){function r(t){var e=a.call(this,{model:t})||this;e.ready=!1,(0,R.bindAll)(e,"clearOff","onKeyPress","onWheel","onPointer");var o=e.em,l=e.pfx,h=e.ppfx,v=e.module.events;return e.className="".concat(l,"canvas ").concat(h,"no-touch-actions").concat(o.config.customUI?"":" ".concat(l,"canvas-bg")),e.clsUnscale="".concat(l,"unscale"),e._initFrames(),e.listenTo(o,v.refresh,e.clearOff),e.listenTo(o,"component:selected",e.checkSelected),e.listenTo(o,"".concat(v.coords," ").concat(v.zoom),e.updateFrames),e.listenTo(t,"change:frames",e._onFramesUpdate),e.toggleListeners(!0),e}return yr(r,a),r.prototype.template=function(){var t=this.pfx;return'\n      <div class="'.concat(t,'canvas__frames" data-frames>\n        <div class="').concat(t,'canvas__spots" data-spots></div>\n      </div>\n      <div id="').concat(t,'tools" class="').concat(t,'canvas__tools" data-tools></div>\n      <style data-canvas-style></style>\n    ')},r.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},r.prototype._initFrames=function(){var t=this,e=t.frames,o=t.config,l=t.em,h=t.model.frames;l.set("readyCanvas",0),h.once("loaded:all",function(){return l.set("readyCanvas",1)}),e?.remove(),this.frames=new dr({collection:h},Kn(Kn({},o),{canvasView:this}))},r.prototype.checkSelected=function(t,e){var n;void 0===e&&(e={});var o=e.scroll,l=this.em.getCurrentFrame();o&&(null===(n=t.views)||void 0===n||n.forEach(function(h){h.frameView===l&&h.scrollIntoView(o)}))},r.prototype.remove=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return clearTimeout(this.timerZoom),null===(t=this.frames)||void 0===t||t.remove(),this.frames=void 0,Ct.prototype.remove.apply(this,e),this.toggleListeners(!1),this},r.prototype.preventDefault=function(t){var e;t&&(t.preventDefault(),null===(e=t._parentEvent)||void 0===e||e.preventDefault())},r.prototype.toggleListeners=function(t){var e=this.el,n=this.config,o=t?kt.on:kt.AU;o(document,"keypress",this.onKeyPress),o(window,"scroll resize",this.clearOff),o(e,"wheel",this.onWheel,{passive:!n.infiniteCanvas}),o(e,"pointermove",this.onPointer)},r.prototype.screenToWorld=function(t,e){var n=this.module,o=n.getCoords(),l=n.getZoomMultiplier(),h=this.getViewportDelta();return{x:(t-o.x-h.x)*l,y:(e-o.y-h.y)*l}},r.prototype.onPointer=function(t){if(this.config.infiniteCanvas){var e=this.getCanvasOffset(),n=(0,kt.Xy)(),o={x:t.clientX-e.left+n.x,y:t.clientY-e.top+n.y};if(t._parentEvent){var l=t.target.getBoundingClientRect(),h=this.module.getZoomDecimal();o.x=l.left-e.left+n.x+t.clientX*h,o.y=l.top-e.top+n.y+t.clientY*h}this.model.set({pointerScreen:o,pointer:this.screenToWorld(o.x,o.y)})}},r.prototype.onKeyPress=function(t){var e=this.em;" "!==(0,kt.Ch)(t)||1===e.getZoomDecimal()||e.Canvas.isInputFocused()||(this.preventDefault(t),e.Editor.runCommand("core:canvas-move"))},r.prototype.onWheel=function(t){var e=this.module;if(this.config.infiniteCanvas){this.preventDefault(t);var n=t.deltaX,o=t.deltaY,l=e.getZoomDecimal(),h=(0,kt.rp)(t),v=e.getCoords();if(h){var j=l-o*l*.01;e.setZoom(100*j);var S=this.model.getPointerCoords(F.x2.Screen),Y=this.getCanvasOffset(),lt=S.x-Y.width/2,xt=S.y-Y.height/2,Ft=j/l;e.setCoords(lt-(lt-v.x)*Ft,xt-(xt-v.y)*Ft)}else this.onPointer(t),e.setCoords(v.x-n,v.y-o)}},r.prototype.updateFrames=function(t){var e=this.em,n=this.toolsWrapper,o={preserveSelected:1};this.updateFramesArea(),this.clearOff(),n.style.display="none",e.trigger("canvas:update",t),clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){e.stopDefault(o),e.runDefault(o),n.style.display=""},300)},r.prototype.updateFramesArea=function(){var t=this,e=t.framesArea,n=t.model,o=t.module,l=t.cvStyle,h=t.clsUnscale,v=o.getZoomMultiplier();if(e){var j=n.attributes,S=j.x,Y=j.y,lt=o.getZoomDecimal();e.style.transform="scale(".concat(lt,") translate(").concat(S*v,"px, ").concat(Y*v,"px)")}l&&(l.innerHTML="\n        .".concat(h," { scale: ").concat(v," }\n      "))},r.prototype.fitViewport=function(t){var e,n,o;void 0===t&&(t={});var l=this,h=l.em,v=l.module,j=l.model;this.clearOff();var S=this.getCanvasOffset(),Y=t.el,lt=Y&&(null===(e=(0,at.getComponentView)(Y))||void 0===e?void 0:e.frameView),xt=lt?lt.model:t.frame||h.getCurrentFrameModel()||j.frames.at(0),Ft=xt.attributes,Vt={x:Ft.x??0,y:Ft.y??0,width:xt.width,height:xt.height};if(Y){var ke=this.getElBoxRect(Y);Vt.x=Vt.x+ke.x,Vt.y=Vt.y+ke.y,Vt.width=ke.width,Vt.height=ke.height}var ze=t.ignoreHeight,on=null!==(n=t.gap)&&void 0!==n?n:0,_n=(0,R.isNumber)(on),An=_n?on:on.x,er=_n?on:on.y,Un=Vt.width+2*An,mr=Vt.height+2*er,xr=S.width,Uo=S.height,ci=xr/Un,Ji=100*(ze?ci:Math.min(ci,Uo/mr)),la=null!==(o=(0,R.isFunction)(t.zoom)?t.zoom(Ji):t.zoom)&&void 0!==o?o:Ji;v.setZoom(la,{from:"fitViewport"});var Ss=(xt.width>=xr?xr/2-Un/2:-An)-Vt.x,is=Uo/2-Vt.y-mr/2,as=v.getZoomDecimal(),Pa={x:(Ss+An)*as,y:(is+er)*as};if(ze){var ss=v.getZoomMultiplier();Pa.y=(-Vt.y+er)*as-(Uo*ss-Uo)/2/ss}v.setCoords(Pa.x,Pa.y)},r.prototype.isElInViewport=function(t){var e=(0,at.getElement)(t),n=(0,kt.C8)(e),o=this.getFrameOffset(e),l=n.top,h=n.left;return l>=0&&h>=0&&l<=o.height&&h<=o.width},r.prototype.offset=function(t,e){void 0===e&&(e={});var n=e.noScroll,o=(0,kt.C8)(t),l=n?{x:0,y:0}:(0,kt.Xy)(t);return{top:o.top+l.y,left:o.left+l.x,width:o.width,height:o.height}},r.prototype.getRectToScreen=function(t){var e,n,o,l,h=this.getCanvasScroll(),v=this.module.getZoomDecimal(),j=this.module.getCoords(),S=this.getViewportDelta();return{x:(null!==(e=t.x)&&void 0!==e?e:0)*v-h.scrollLeft+j.x+S.x||0,y:(null!==(n=t.y)&&void 0!==n?n:0)*v-h.scrollTop+j.y+S.y||0,width:(null!==(o=t.width)&&void 0!==o?o:0)*v,height:(null!==(l=t.height)&&void 0!==l?l:0)*v}},r.prototype.getElBoxRect=function(t,e){var n,o,l;void 0===e&&(e={});var h=this.module,v=(0,kt.C8)(t),j=v.width,S=v.height,Y=v.left,lt=v.top,xt=null===(n=(0,at.getComponentView)(t))||void 0===n?void 0:n.frameView,Ft=xt?.getBoxRect(),Bt=h.getZoomMultiplier(),te=null!==(o=Ft?.x)&&void 0!==o?o:0,Vt=null!==(l=Ft?.y)&&void 0!==l?l:0,ke=this.el,ze=(0,kt.Xy)(),on={x:Y+te+(ke.scrollLeft+ze.x)*Bt,y:lt+Vt+(ke.scrollTop+ze.y)*Bt,width:j,height:S};return e.local&&(on.x=Y,on.y=lt),e.toScreen?this.getRectToScreen(on):on},r.prototype.getViewportRect=function(t){void 0===t&&(t={});var e=this.getCanvasOffset(),n=e.top,o=e.left,l=e.width,h=e.height,v=this.module;if(t.toWorld){var j=v.getZoomMultiplier(),S=v.getCoords(),Y=this.getViewportDelta();return{x:(-S.x-Y.x||0)*j,y:(-S.y-Y.y||0)*j,width:l*j,height:h*j}}return{x:o,y:n,width:l,height:h}},r.prototype.getViewportDelta=function(t){void 0===t&&(t={});var e=this.module.getZoomMultiplier(),n=this.getCanvasOffset(),o=n.width,l=n.height;return{x:(o*e-o)/2/e,y:(l*e-l)/2/e}},r.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},r.prototype.getFrameOffset=function(t){var e;if(!this.frmOff||t){var n=null===(e=this.frame)||void 0===e?void 0:e.el,o=t?.ownerDocument.defaultView;this.frmOff=this.offset((o?o.frameElement:n)||n)}return this.frmOff},r.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},r.prototype.getElementPos=function(t,e){void 0===e&&(e={});var n=this.module.getZoomDecimal(),o=this.getFrameOffset(t),l=this.el,h=this.getCanvasOffset(),v=this.offset(t,e),Y=e.avoidFrameZoom?v.top:v.top*n,lt=e.avoidFrameZoom?v.left:v.left*n;return{top:e.avoidFrameOffset?Y:Y+(e.avoidFrameOffset?0:o.top)-h.top+l.scrollTop,left:e.avoidFrameOffset?lt:lt+(e.avoidFrameOffset?0:o.left)-h.left+l.scrollLeft,height:e.avoidFrameZoom?v.height:v.height*n,width:e.avoidFrameZoom?v.width:v.width*n,zoom:n,rect:v}},r.prototype.getElementOffsets=function(t){if(!t||(0,kt.ir)(t))return{};var e={},n=window.getComputedStyle(t),o=this.module.getZoomDecimal();return["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"].forEach(function(l){e[l]=parseFloat(n[l])*o}),e},r.prototype.getPosition=function(t){var e;void 0===t&&(t={});var n=null===(e=this.frame)||void 0===e?void 0:e.el.contentDocument;if(!n)return{top:0,left:0,width:0,height:0};var o=n.body,l=this.module.getZoomDecimal(),h=this.getFrameOffset(),v=this.getCanvasOffset(),j=t.noScroll;return{top:h.top+(j?0:o.scrollTop)*l-v.top,left:h.left+(j?0:o.scrollLeft)*l-v.left,width:v.width,height:v.height}},r.prototype.getCanvasScroll=function(){return this.config.scrollableCanvas?{scrollTop:this.el.scrollTop,scrollLeft:this.el.scrollLeft}:{scrollTop:0,scrollLeft:0}},r.prototype.updateScript=function(t){var e=t.model,n=e.getId(),o={component:e,view:t,el:t.el};if(!t.scriptContainer){t.scriptContainer=(0,kt.a_)("div",{"data-id":n});var l=this.getJsContainer();l?.appendChild(t.scriptContainer)}t.el.id=n,t.scriptContainer.innerHTML="";var h=document.createElement("script"),v=e.getScriptString(),j=e.get("script-props")?v:"function(){\n".concat(v,"\n;}"),S=JSON.stringify(e.__getScriptProps());h.innerHTML="\n      setTimeout(function() {\n        var item = document.getElementById('".concat(n,"');\n        if (!item) return;\n        var script = (").concat(j,").bind(item);\n        script(").concat(S,", { el: item });\n      }, 1);"),setTimeout(function(){e.emitWithEditor(Se.I.scriptMountBefore,o);var Y=t.scriptContainer;Y?.appendChild(h),e.emitWithEditor(Se.I.scriptMount,o)},0)},r.prototype.getJsContainer=function(t){var e=this.getFrameView(t);return e?.getJsContainer()},r.prototype.getFrameView=function(t){return t?.frameView||this.em.getCurrentFrame()},r.prototype._renderFrames=function(){if(this.ready){var t=this,n=t.frames,o=t.em,l=t.framesArea,h=t.model.frames;h.listenToLoad(),n.render();var v=h.at(0),j=v?.view;o.setCurrentFrame(j),l?.appendChild(n.el),this.frame=j,this.updateFramesArea()}},r.prototype.renderFrames=function(){this._renderFrames()},r.prototype.render=function(){var t=this,e=t.el,n=t.$el,o=t.ppfx,l=t.config,h=t.em;n.html(this.template());var v=n.find("[data-frames]");this.framesArea=v.get(0);var j=n.find("[data-tools]");return this.toolsWrapper=j.get(0),j.append('\n      <div class="'.concat(o,"tools ").concat(o,'tools-gl" style="pointer-events:none">\n        <div class="').concat(o,'placeholder">\n          <div class="').concat(o,'placeholder-int"></div>\n        </div>\n      </div>\n      <div id="').concat(o,'tools" style="pointer-events:none">\n        ').concat(l.extHl?'<div class="'.concat(o,'highlighter-sel"></div>'):"",'\n        <div class="').concat(o,'badge"></div>\n        <div class="').concat(o,'ghost"></div>\n        <div class="').concat(o,'toolbar" style="pointer-events:all"></div>\n        <div class="').concat(o,'resizer"></div>\n        <div class="').concat(o,'offset-v"></div>\n        <div class="').concat(o,'offset-fixed-v"></div>\n      </div>\n    ')),this.toolsEl=e.querySelector("#".concat(o,"tools")),this.hlEl=e.querySelector(".".concat(o,"highlighter")),this.badgeEl=e.querySelector(".".concat(o,"badge")),this.placerEl=e.querySelector(".".concat(o,"placeholder")),this.ghostEl=e.querySelector(".".concat(o,"ghost")),this.toolbarEl=e.querySelector(".".concat(o,"toolbar")),this.resizerEl=e.querySelector(".".concat(o,"resizer")),this.offsetEl=e.querySelector(".".concat(o,"offset-v")),this.fixedOffsetEl=e.querySelector(".".concat(o,"offset-fixed-v")),this.toolsGlobEl=e.querySelector(".".concat(o,"tools-gl")),this.spotsEl=e.querySelector("[data-spots]"),this.cvStyle=e.querySelector("[data-canvas-style]"),e.className=(0,at.getUiClass)(h,this.className),!0===l.scrollableCanvas&&(e.style.overflow="auto"),this.ready=!0,this._renderFrames(),this},r}(Ct);const vi=so;var Jo=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Co=function(){return Co=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Co.apply(this,arguments)},ua=function(a){function r(t){var e=a.call(this,t,"Canvas",{stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:"\n    body { background-color: #fff }\n    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }\n    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }\n    * ::-webkit-scrollbar { width: 10px }\n  ",notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0})||this;return e.events=bn,e.framesById={},e.canvas=new re(e),e.spots=new jn(e),e.model=e.canvas,e.startAutoscroll=e.startAutoscroll.bind(e),e.stopAutoscroll=e.stopAutoscroll.bind(e),e.autoScroller=new za,e}return Jo(r,a),r.prototype.getCanvasView=function(){return this.canvasView},r.prototype.postLoad=function(){this.model.init()},r.prototype.getModel=function(){return this.canvas},r.prototype.getElement=function(){return this.getCanvasView().el},r.prototype.getFrame=function(t){return this.getFrames()[t||0]},r.prototype.getFrameEl=function(){var t=(this.canvasView||{}).frame;return t?.el},r.prototype.getFramesEl=function(){var t;return null===(t=this.canvasView)||void 0===t?void 0:t.framesArea},r.prototype.getWindow=function(){var t=(this.canvasView||{}).frame;return t?.getWindow()},r.prototype.getDocument=function(){var t=this.getFrameEl();return t?.contentDocument},r.prototype.getBody=function(){var t=this.getDocument();return t?.body},r.prototype._getLocalEl=function(t,e,n){var o=t,l=e?.frameView;return l?l[n]():o},r.prototype.getGlobalToolsEl=function(){var t;return null===(t=this.canvasView)||void 0===t?void 0:t.toolsGlobEl},r.prototype.getToolsEl=function(t){return this._getLocalEl(this.getCanvasView().toolsEl,t,"getToolsEl")},r.prototype.getHighlighter=function(t){return this._getLocalEl(this.getCanvasView().hlEl,t,"getHighlighter")},r.prototype.getBadgeEl=function(t){return this._getLocalEl(this.getCanvasView().badgeEl,t,"getBadgeEl")},r.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},r.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},r.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},r.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},r.prototype.getOffsetViewerEl=function(t){return this._getLocalEl(this.getCanvasView().offsetEl,t,"getOffsetViewerEl")},r.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},r.prototype.getSpotsEl=function(){var t;return null===(t=this.canvasView)||void 0===t?void 0:t.spotsEl},r.prototype.render=function(){var t;return null===(t=this.canvasView)||void 0===t||t.remove(),this.canvasView=new vi(this.canvas),this.canvasView.render().el},r.prototype.getOffset=function(){var t=this.offset(this.getFrameEl()),e=this.offset(this.getElement());return{top:t.top-e.top,left:t.left-e.left}},r.prototype.offset=function(t){return this.getCanvasView().offset(t)},r.prototype.setCustomBadgeLabel=function(t){this.config.customBadgeLabel=t},r.prototype.getElementPos=function(t,e){return this.getCanvasView().getElementPos(t,e)},r.prototype.getElementOffsets=function(t){return this.getCanvasView().getElementOffsets(t)},r.prototype.getRect=function(){var t,e=null!==(t=this.getCanvasView().getPosition())&&void 0!==t?t:{},n=e.top,o=void 0===n?0:n,l=e.left,h=void 0===l?0:l;return Co(Co({},this.getCanvasView().getCanvasOffset()),{topScroll:o,leftScroll:h})},r.prototype.getTargetToElementDim=function(t,e,n){void 0===n&&(n={});var o=n||{},l=this.getCanvasView().getPosition();if(l){var h=o.elPos||this.getCanvasView().getElementPos(e),v=n.toRight||0,Y=o.event||null,lt=h.top-(o.targetHeight||t.offsetHeight),xt=h.left;xt+=v?h.width:0;var Ft=(xt=v?xt-(o.targetWidth||t.offsetWidth):xt)<l.left?l.left:xt,Bt=lt<l.top?l.top:lt,te={top:Bt=Bt>h.top+h.height?h.top+h.height:Bt,left:Ft,elementTop:h.top,elementLeft:h.left,elementWidth:h.width,elementHeight:h.height,targetWidth:t.offsetWidth,targetHeight:t.offsetHeight,canvasTop:l.top,canvasLeft:l.left,canvasWidth:l.width,canvasHeight:l.height};return Y&&this.em&&this.em.trigger(Y,te),te}},r.prototype.canvasRectOffset=function(t,e,n){var o=this;void 0===n&&(n={});var l=function(h,v,j){void 0===v&&(v=1);var mr,S=o.em.getZoomDecimal(),Y=v?"top":"left",lt=h.ownerDocument,xt=n.offset?(mr=lt.defaultView,mr?.frameElement):{},Ft=xt.offsetTop,te=xt.offsetLeft,ke=lt.body||{},ze=ke.scrollTop,_n=ke.scrollLeft;return j[Y]-((v?void 0===ze?0:ze:void 0===_n?0:_n)-(v?void 0===Ft?0:Ft:void 0===te?0:te))*S};return{top:l(t,1,e),left:l(t,0,e)}},r.prototype.getTargetToElementFixed=function(t,e,n){void 0===n&&(n={});var o=n.pos||this.getElementPos(t,{noScroll:!0}),l=n.canvasOff||this.canvasRectOffset(t,o),h=e.offsetHeight||0,v=e.offsetWidth||0,j=this.getCanvasView(),S=j.getCanvasScroll(),Y=S.scrollTop,lt=S.scrollLeft,xt=j.getPosition(),Ft=n.event,Bt=o.width-v,te=-h,Vt=(0,R.isUndefined)(n.left)?Bt:n.left,ke=Math.max(-o.left+lt,0);Vt=Math.max(Vt,ke),Vt=Math.min(Vt,o.width-v),Vt=Math.min(Vt,xt.width+lt-v-o.left);var _n=te;if(l.top<h+Y){var An=o.height+h;if(An<xt.height)_n+=An;else{var er=-l.top+Y;_n=er<o.height?er:o.height}}var Un={top:_n,left:Vt,canvasOffsetTop:l.top,canvasOffsetLeft:l.left,elRect:o,canvasOffset:l,canvasRect:xt,targetWidth:v,targetHeight:h};return Ft&&this.em.trigger(Ft,Un),Un},r.prototype.getMouseRelativePos=function(t,e){void 0===e&&(e={});var n=e.subWinOffset,o=t.target,l=o.nodeType===Node.DOCUMENT_NODE?o:o.ownerDocument,h=l.defaultView||l.parentWindow,v=h.frameElement,j=n?h.pageYOffset:0,S=n?h.pageXOffset:0,Y=this.getZoomMultiplier(),lt=0,xt=0;if(v){var Ft=v.getBoundingClientRect();lt=Ft.top||0,xt=Ft.left||0}return{y:(t.clientY+lt-j)*Y,x:(t.clientX+xt-S)*Y}},r.prototype.getMouseRelativeCanvas=function(t,e){var n,o=this.getZoomDecimal(),l=this.getCanvasView(),h=null!==(n=l.getPosition(e))&&void 0!==n?n:{top:0,left:0},v=l.getCanvasScroll();return{y:t.clientY*o+(h.top+v.scrollTop),x:t.clientX*o+(h.left+v.scrollLeft)}},r.prototype.startDrag=function(t){this.em.set("dragSource",t)},r.prototype.endDrag=function(){this.em.set({dragResult:null,dragSource:void 0})},r.prototype.hasFocus=function(){return this.getDocument().hasFocus()},r.prototype.isInputFocused=function(){var t=this.getDocument(),e=this.getFrameEl(),n=function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))}(["body"],this.config.notTextable,!0),o=e&&document.activeElement===e?t&&t.activeElement:document.activeElement;return o&&!n.some(function(l){return o.matches(l)})},r.prototype.scrollTo=function(t,e){void 0===e&&(e={});var n=(0,at.getElement)(t),o=n&&(0,at.getViewEl)(n);o&&o.scrollIntoView(e)},r.prototype.startAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();if(e&&e.startAutoscroll(),this.config.scrollableCanvas){var n=this.getCanvasView().el;this.autoScroller.start(n,n,{zoom:this.em.getZoomDecimal()})}},r.prototype.stopAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.stopAutoscroll(),this.config.scrollableCanvas&&this.autoScroller.stop()},r.prototype.setZoom=function(t,e){return void 0===e&&(e={}),this.canvas.set("zoom","string"==typeof t?parseFloat(t):t,e),this},r.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},r.prototype.setCoords=function(t,e,n){var o;void 0===n&&(n={});var l=t||0===t,h=e||0===e,v={x:this.canvas.get("x"),y:this.canvas.get("y")};if(l&&(v.x=parseFloat("".concat(t))),h&&(v.y=parseFloat("".concat(e))),n.toWorld){var j=null===(o=this.canvasView)||void 0===o?void 0:o.getViewportDelta();j&&(l&&(v.x=v.x-j.x),h&&(v.y=v.y-j.y))}return this.canvas.set(v),this},r.prototype.getCoords=function(){var t=this.canvas.attributes;return{x:t.x,y:t.y}},r.prototype.getPointer=function(t){var e=this.canvas.attributes;return t?e.pointerScreen:e.pointer},r.prototype.getZoomDecimal=function(){return this.getZoom()/100},r.prototype.getZoomMultiplier=function(){var t=this.getZoomDecimal();return t?1/t:1},r.prototype.fitViewport=function(t){var e;null===(e=this.canvasView)||void 0===e||e.fitViewport(t)},r.prototype.toggleFramesEvents=function(t){this.getFramesEl().style.pointerEvents=t?"":"none"},r.prototype.getFrames=function(){return this.canvas.frames.map(function(t){return t})},r.prototype.addFrame=function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),this.canvas.frames.add(new ce(this,Co({},t)),e)},r.prototype.getLastDragResult=function(){return this.em.get("dragResult")},r.prototype.addSpot=function(t,e){var n;void 0===e&&(e={});var o=t,l=this.getSpots(o);if(l.length){var h=l[0];return h.set(o),h}var v=o.componentView||(null===(n=o.component)||void 0===n?void 0:n.view),j=new xe.A(this,Co(Co({},o),{id:o.id||"cs_".concat(o.type,"_").concat(v?.cid),type:o.type||""}));return this.spots.add(j,e),j},r.prototype.getSpots=function(t){return void 0===t&&(t={}),this.spots.where(t.id?{id:t.id}:t)},r.prototype.removeSpots=function(t){void 0===t&&(t={});var e=(0,R.isArray)(t)?t:this.getSpots(t);return this.spots.remove(e)},r.prototype.hasCustomSpot=function(t){var e=this.config.customSpots;return!!(!0===e||e&&t&&e[t])},r.prototype.getWorldRectToScreen=function(t){var e;return null===(e=this.canvasView)||void 0===e?void 0:e.getRectToScreen(t)},r.prototype.refresh=function(t){void 0===t&&(t={});var e=this,n=e.em,o=e.events,l=e.canvasView;l?.clearOff(),(t.spots||t.all)&&(this.refreshSpots(),n.trigger("canvas:updateTools")),n.set("canvasOffset",this.getOffset()),n.trigger(o.refresh,t)},r.prototype.refreshSpots=function(){this.spots.refresh()},r.prototype.destroy=function(){var t,e=this;this.canvas.stopListening(),null===(t=this.canvasView)||void 0===t||t.remove(),["model","droppable"].forEach(function(n){return e[n]={}})},r}(K);const Qo=ua;var El=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),li=function(){return li=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},li.apply(this,arguments)},Ua=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return El(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return li(li({},a.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(){var t=this.content,e=this.parent();return e?.is("script")?t:this.__escapeContent(t)},r.prototype.__escapeContent=function(t){return(0,at.escapeNodeContent)(t)},r.isComponent=function(t){var e;if(3===t.nodeType)return{type:"textnode",content:null!==(e=t.textContent)&&void 0!==e?e:""}},r}(fe);const wi=Ua;var La=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),da=function(){return da=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},da.apply(this,arguments)},Gs=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return La(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return da({},a.prototype.defaults)},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(){return"\x3c!--".concat(this.content,"--\x3e")},r.isComponent=function(t){var e;if(8==t.nodeType)return{type:"comment",content:null!==(e=t.textContent)&&void 0!==e?e:""}},r}(wi);const hc=Gs;var gc=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fa=function(){return Fa=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Fa.apply(this,arguments)},Ys="iframe";const vc=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return gc(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return Fa(Fa({},a.prototype.defaults),{type:Ys,tagName:Ys,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,at.toLowerCase)(t.tagName)===Ys},r}(fe);var Xs=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zs=function(){return Zs=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Zs.apply(this,arguments)},Js='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',mc=function(a){function r(t,e){void 0===t&&(t={});var n=a.call(this,t,e)||this,o=n.get("attributes").src;return o&&(0,at.buildBase64UrlFromSvg)((0,R.result)(n,"defaults").src)!==o&&n.set("src",o,{silent:!0}),n}return Xs(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return Zs(Zs({},a.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(Js,'>\n        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>\n      </svg>'),fallback:"<svg ".concat(Js,'>\n        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>\n      </svg>'),file:""})},enumerable:!1,configurable:!0}),r.prototype.initToolbar=function(){a.prototype.initToolbar.call(this);var t=this.em;if(t){var e="image-editor";if(t.Commands.has(e)){for(var n=!1,o=this.get("toolbar"),l=0;l<o.length;l++)if("image-editor"===o[l].command){n=!0;break}n||(o.push({attributes:{class:"fa fa-pencil"},command:e}),this.set("toolbar",o))}}},r.prototype.getAttrToHTML=function(){var t=a.prototype.getAttrToHTML.call(this),e=this.getSrcResult();return e&&(t.src=e),t},r.prototype.getSrcResult=function(t){void 0===t&&(t={});var e=this.get(t.fallback?"fallback":"src")||"",n=e;return e&&"<svg"===e.substr(0,4)&&(n=(0,at.buildBase64UrlFromSvg)(e)),n},r.prototype.isDefaultSrc=function(){var t=this.get("src"),e=(0,R.result)(this,"defaults").src;return t===e||t===(0,at.buildBase64UrlFromSvg)(e)},r.prototype.toJSON=function(t){var e=a.prototype.toJSON.call(this,t),n=e.attributes;return n&&e.src===n.src&&delete e.src,e},r.prototype.parseUri=function(t){var e={};if((0,at.hasWin)())(e=document.createElement("a")).href=t;else if(typeof URL<"u")try{e=new URL(t)}catch{}return{hostname:e.hostname||"",pathname:e.pathname||"",protocol:e.protocol||"",search:e.search||"",hash:e.hash||"",port:e.port||"",query:function(n){void 0===n&&(n="");for(var o={},l=n.substring(1).split("&"),h=0;h<l.length;h++){var v=l[h].split("="),j=decodeURIComponent(v[0]);j&&(o[j]=decodeURIComponent(v[1]||""))}return o}(e.search)}},r.isComponent=function(t){return"img"===(0,at.toLowerCase)(t.tagName)},r}(fe);const Wa=mc;var jl=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),$i=function(){return $i=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},$i.apply(this,arguments)};const us=function(a){function r(t,e){void 0===t&&(t={});var n=a.call(this,t,e)||this;return n.__checkInnerChilds(),n}return jl(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return $i($i({},a.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),r.prototype.__checkInnerChilds=function(){var t=this.em.Components.config.disableTextInnerChilds;if(t){var e=function(n){n.isInstanceOf("textnode")||n.set({locked:!0,layerable:!1})};(0,R.isFunction)(t)?this.forEachChild(function(n){t(n)&&e(n)}):this.forEachChild(e)}},r}(fe);var Dl=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ma=function(){return Ma=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Ma.apply(this,arguments)},qa="label";const Il=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Dl(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return Ma(Ma({},a.prototype.defaults),{type:qa,tagName:qa,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,at.toLowerCase)(t.tagName)===qa},r}(us);var ou=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),ds=function(){return ds=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},ds.apply(this,arguments)},fs=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return ou(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return ds(ds({},a.prototype.defaults),{type:"link",tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t,e){var n;if(void 0===e&&(e={}),"a"===(0,at.toLowerCase)(t.tagName)){var o=e.textTags||[];n={type:"link",editable:!1};var l=t.childNodes;l.length||delete n.editable,(0,R.forEach)(l,function(h){var v=h.tagName;(3==h.nodeType&&""!==h.textContent.trim()||v&&o.indexOf((0,at.toLowerCase)(v))>=0)&&delete n.editable})}return n},r}(us);const Is=fs;var iu=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ka=function(){return Ka=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Ka.apply(this,arguments)},yc=function(a){function r(t,e){void 0===t&&(t={});var n=a.call(this,t,e)||this;return n.get("src")?n.parseFromSrc():n.updateSrc(),n.listenTo(n,"change:address change:zoom change:mapType",n.updateSrc),n}return iu(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){var t=a.prototype.defaults;return Ka(Ka({},t),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:t.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),r.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},r.prototype.getMapUrl=function(){var t=this.get("address"),e=this.get("zoom"),n=this.get("mapType");return t=t?"&q="+t:"",e=e?"&z="+e:"",n=n?"&t="+n:"",this.get("mapUrl")+"?"+t+e+n+"&output=embed"},r.prototype.parseFromSrc=function(){var t=this.parseUri(this.get("src")).query;t.q&&this.set("address",t.q),t.z&&this.set("zoom",t.z),t.t&&this.set("mapType",t.t)},r.isComponent=function(t){if("iframe"==(0,at.toLowerCase)(t.tagName)&&/maps\.google\.com/.test(t.src))return{type:"map",src:t.src}},r}(Wa);const Ps=yc;var _c=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),fa=function(){return fa=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},fa.apply(this,arguments)},$a="script";const Ga=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return _c(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return fa(fa({},a.prototype.defaults),{type:$a,tagName:$a,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,at.toLowerCase)(t.tagName)===$a},r}(fe);var Ns=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ta=function(){return Ta=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Ta.apply(this,arguments)};const Pl=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Ns(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return Ta(Ta({},a.prototype.defaults),{type:"svg",tagName:"svg",highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),r.prototype.getName=function(){var t=this.get("tagName"),e=this.get("custom-name");return t=t.charAt(0).toUpperCase()+t.slice(1),e||t},r.isComponent=function(t){return"svg"===(0,at.toLowerCase)(t.tagName)},r}(fe);var bc=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),tl=function(){return tl=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},tl.apply(this,arguments)};const Ya=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return bc(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return tl(tl({},a.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),r.isComponent=function(t,e){return void 0===e&&(e={}),!!e.inSvg},r}(Pl);var Xa=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Za=function(){return Za=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Za.apply(this,arguments)},Nl="table";const Wu=function(a){function r(t,e){void 0===t&&(t={});var n=a.call(this,t,e)||this,o=n.get("components");return!o.length&&o.add({type:"tbody"}),n}return Xa(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return Za(Za({},a.prototype.defaults),{type:Nl,tagName:Nl,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,at.toLowerCase)(t.tagName)===Nl},r}(fe);var Ll=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),el=function(){return el=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},el.apply(this,arguments)},Fl="tbody";const yi=function(a){function r(t,e){void 0===t&&(t={});var n=a.call(this,t,e)||this,o=n.get("components"),l=n.get("columns"),h=n.get("rows");if(!o.length){for(var v=[];h--;){for(var j=[],S=l;S--;)j.push({type:"cell",classes:["cell"]});v.push({type:"row",classes:["row"],components:j})}o.add(v)}return n}return Ll(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return el(el({},a.prototype.defaults),{type:Fl,tagName:Fl,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,at.toLowerCase)(t.tagName)===Fl},r}(fe);var ti=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),ei=function(){return ei=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},ei.apply(this,arguments)};const Ao=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return ti(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return ei(ei({},a.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return["td","th"].indexOf((0,at.toLowerCase)(t.tagName))>=0},r}(fe);var Ls=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),ps=function(){return ps=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},ps.apply(this,arguments)},hs="tfoot";const wc=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Ls(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return ps(ps({},a.prototype.defaults),{type:hs,tagName:hs})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,at.toLowerCase)(t.tagName)===hs},r}(yi);var qu=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ml=function(){return Ml=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Ml.apply(this,arguments)},Fs="thead";const xc=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return qu(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return Ml(Ml({},a.prototype.defaults),{type:Fs,tagName:Fs})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,at.toLowerCase)(t.tagName)===Fs},r}(yi);var Rl=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),nl=function(){return nl=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},nl.apply(this,arguments)};const Ja=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Rl(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return nl(nl({},a.prototype.defaults),{tagName:"tr",draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return"tr"===(0,at.toLowerCase)(t.tagName)},r}(fe);var Cc=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),ol=function(){return ol=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},ol.apply(this,arguments)},ea="video",Qa="yt",ha="vi",gs="ytnc",ki=function(a){return a&&"0"!==a},Sc=function(a){function r(t,e){void 0===t&&(t={});var n=a.call(this,t,e)||this;return n.get("src")&&n.parseFromSrc(),n.updatePropsFromAttr(),n.updateTraits(),n.on("change:provider",n.updateTraits),n.on("change:videoId change:provider",n.updateSrc),n}return Cc(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return ol(ol({},a.prototype.defaults),{type:ea,tagName:ea,videoId:"",void:!1,provider:"so",ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:0,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),r.prototype.updatePropsFromAttr=function(){if("so"===this.get("provider")){var t=this.get("attributes"),e=t.controls,n=t.autoplay,o=t.loop,l={};(0,at.isDef)(e)&&(l.controls=!!e),(0,at.isDef)(n)&&(l.autoplay=!!n),(0,at.isDef)(o)&&(l.loop=!!o),(0,at.isEmptyObj)(l)||this.set(l)}},r.prototype.updateTraits=function(){var t,e=this.em,n="iframe";switch(this.get("provider")){case Qa:case gs:t=this.getYoutubeTraits();break;case ha:t=this.getVimeoTraits();break;default:n="video",t=this.getSourceTraits()}this.set({tagName:n},{silent:!0}),this.set({traits:t}),e.get("ready")&&e.trigger("component:toggled")},r.prototype.parseFromSrc=function(){var t=this.get("provider"),e=this.parseUri(this.get("src")),n=e.query;switch(t){case Qa:case gs:case ha:this.set("videoId",e.pathname.split("/").pop()),n.list&&this.set("list",n.list),ki(n.autoplay)&&this.set("autoplay",!0),ki(n.loop)&&this.set("loop",!0),0===parseInt(n.controls)&&this.set("controls",!1),ki(n.color)&&this.set("color",n.color),"0"===n.rel&&this.set("rel",0),"1"===n.modestbranding&&this.set("modestbranding",1)}},r.prototype.updateSrc=function(){var t="";switch(this.get("provider")){case Qa:t=this.getYoutubeSrc();break;case gs:t=this.getYoutubeNoCookieSrc();break;case ha:t=this.getVimeoSrc()}this.set({src:t})},r.prototype.getAttrToHTML=function(){var t=a.prototype.getAttrToHTML.call(this);switch(this.get("provider")){case Qa:case gs:case ha:break;default:t.loop=!!this.get("loop"),t.autoplay=!!this.get("autoplay"),t.controls=!!this.get("controls")}return t},r.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:Qa,name:"Youtube"},{value:gs,name:"Youtube (no cookie)"},{value:ha,name:"Vimeo"}]}},r.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},r.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},r.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},r.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},r.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},r.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},r.prototype.getYoutubeSrc=function(){var t=this.get("videoId"),e=this.get("ytUrl"),n=this.get("list");return e+=t+(t.indexOf("?")<0?"?":""),e+=n?"&list=".concat(n):"",e+=this.get("autoplay")?"&autoplay=1&mute=1":"",e+=this.get("controls")?"":"&controls=0&showinfo=0",e+=this.get("loop")?"&loop=1&playlist=".concat(t):"",(e+=this.get("rel")?"":"&rel=0")+(this.get("modestbranding")?"&modestbranding=1":"")},r.prototype.getYoutubeNoCookieSrc=function(){return this.getYoutubeSrc().replace(this.get("ytUrl"),this.get("ytncUrl"))},r.prototype.getVimeoSrc=function(){var t=this.get("viUrl");return t+=this.get("videoId")+"?",t+=this.get("autoplay")?"&autoplay=1&muted=1":"",t+=this.get("loop")?"&loop=1":"",(t+=this.get("controls")?"":"&title=0&portrait=0&badge=0")+(this.get("color")?"&color="+this.get("color"):"")},r.isComponent=function(t){var e=t.tagName,n=t.src,o=/youtube\.com\/embed/.test(n),l=/youtube-nocookie\.com\/embed/.test(n),h=/player\.vimeo\.com\/video/.test(n),v=o||l||h;if((0,at.toLowerCase)(e)==ea||"iframe"==(0,at.toLowerCase)(e)&&v){var j={type:"video"};return n&&(j.src=n),v&&(o?j.provider=Qa:l?j.provider=gs:h&&(j.provider=ha)),j}},r}(Wa);const au=Sc;var Tc=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),ni=function(){return ni=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},ni.apply(this,arguments)},Xr=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Tc(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return ni(ni({},a.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),r.prototype.preInit=function(){var t,e,n=this.opt,o=this.attributes,l=null===(t=this.em)||void 0===t?void 0:t.Components,h=null===(e=l?.getType(ln))||void 0===e?void 0:e.model,v=l?.getType("default").model;if(h){var j=o.head,S=o.docEl;this.set({head:j&&j instanceof fe?j:new h(ni({},j),n),docEl:S&&S instanceof fe?S:new v(ni({tagName:"html"},S),n)},{silent:!0})}},Object.defineProperty(r.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),r.prototype.clone=function(t){var e=a.prototype.clone.call(this,t);return e.set("head",this.get("head").clone(t)),e.set("docEl",this.get("docEl").clone(t)),e},r.prototype.toHTML=function(t){void 0===t&&(t={});var e=this.doctype,n=(0,R.isUndefined)(t.asDocument)?!!e:t.asDocument,o=this.head,l=this.docEl,h=a.prototype.toHTML.call(this,t),v=n&&o?.toHTML(t)||"",j=n&&(0,kt.kk)(l?.getAttrToHTML())||"",S=j?" ".concat(j):"";return n?"".concat(e,"<html").concat(S,">").concat(v).concat(h,"</html>"):h},r.prototype.__postAdd=function(){var t,e=null===(t=this.em)||void 0===t?void 0:t.UndoManager;return!this.__hasUm&&e?.add(this),a.prototype.__postAdd.call(this)},r.prototype.__postRemove=function(){var t,e=null===(t=this.em)||void 0===t?void 0:t.UndoManager;return e?.remove(this),a.prototype.__postRemove.call(this)},r.isComponent=function(){return!1},r}(fe);const Gi=Xr;var Mi=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Oa=function(a){function r(){var t=null!==a&&a.apply(this,arguments)||this;return t.compView=lo,t}return Mi(r,a),r.prototype.initialize=function(t){this.opts=t||{},this.config=t.config||{},this.em=this.config.em;var e=this.collection;this.listenTo(e,"add",this.addTo),this.listenTo(e,"reset",this.resetChildren),this.listenTo(e,"remove",this.removeChildren)},r.prototype.removeChildren=function(t,e,n){var o=this;void 0===n&&(n={}),t.views.forEach(function(l){if(l){var h=l.childrenView,v=l.scriptContainer;h&&h.stopListening(),(0,kt.YZ)(v),l.remove.apply(l)}}),t.components().forEach(function(l){return o.removeChildren(l,e,n)})},r.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},r.prototype.addToCollection=function(t,e,n){for(var o=this,l=o.config,h=o.opts,v=o.em,j=l.frameView,S=j?.model&&t.getView(j.model),Y=h.componentTypes||v?.Components.getTypes(),lt=t.get("type")||"default",xt=this.compView,Ft=0;Ft<Y.length;Ft++)if(Y[Ft].id==lt){xt=Y[Ft].view;break}var Bt,te=S||new xt({model:t,config:l,componentTypes:Y});try{Bt=te.render().el}catch(on){Bt=document.createTextNode(""),v.logError(on)}if(e)e.appendChild(Bt);else{var Vt=this.parentEl,ke=Vt.childNodes;if((0,R.isUndefined)(n))Vt.appendChild(Bt);else{var ze=ke.length==n;ze&&n--,ze||!ke.length?Vt.appendChild(Bt):Vt.insertBefore(Bt,ke[n])}}return t.opt.temporary||null==v||v.trigger("component:mount",t),Bt},r.prototype.resetChildren=function(t,e){var n=this;void 0===e&&(e={});var o=e.previousModels;e.skipDomReset||(this.parentEl.innerHTML=""),o?.forEach(function(l){return n.removeChildren(l,n.collection)}),t.each(function(l){return n.addToCollection(l)})},r.prototype.render=function(t){var e=this,n=this.el,o=document.createDocumentFragment();return this.parentEl=t||this.el,this.collection.each(function(l){return e.addToCollection(l,o)}),n.innerHTML="",n.appendChild(o),this},r}(F.Ss);const Rs=Oa;var Hl=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),na=function(){return na=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},na.apply(this,arguments)},su=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Hl(r,a),r.prototype.className=function(){return this.getClasses()},r.prototype.tagName=function(){return this.model.get("tagName")},r.prototype.preinitialize=function(t){void 0===t&&(t={}),this.opts=t},r.prototype.initialize=function(t){void 0===t&&(t={});var e=this.model,n=t.config||{},o=n.em,l=e.opt||{},h=this.$el,v=this.el;this.opts=t,this.modelOpt=l,this.config=n,this.em=o,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.attr=e.get("attributes"),this.classe=this.attr.class||[],this.listenTo(e,"change:style",this.updateStyle),this.listenTo(e,"change:attributes",this.renderAttributes),this.listenTo(e,"change:highlightable",this.updateHighlight),this.listenTo(e,"change:status change:locked",this.updateStatus),this.listenTo(e,"change:script rerender",this.reset),this.listenTo(e,"change:content",this.updateContent),this.listenTo(e,"change",this.handleChange),this.listenTo(e,"active",this.onActive),this.listenTo(e,"disable",this.onDisable),h.data("model",e),(0,at.setViewEl)(v,this),e.view=this,this.frameView&&e.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=na(na({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!l.temporary&&this.init(this._clbObj())},Object.defineProperty(r.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"createDoc",{get:function(){var t,e,n=(null===(t=this.frameView)||void 0===t?void 0:t.getDoc())||document;return null!==(e=this.opts.config)&&void 0!==e&&e.useFrameDoc?n:document},enumerable:!1,configurable:!0}),r.prototype.__isDraggable=function(){return this.config.draggableComponents&&this.model.attributes.draggable},r.prototype._clbObj=function(){var t=this,e=t.em,n=t.model,o=t.el;return{editor:e?.getEditor(),model:n,el:o}},r.prototype.init=function(t){},r.prototype.removed=function(t){},r.prototype.onRender=function(t){},r.prototype.onActive=function(t){},r.prototype.onDisable=function(t){},r.prototype.remove=function(){var t;a.prototype.remove.call(this);var e=this.model,n=this.$el,o=e.views,l=this.frameView||{};return e.components().forEach(function(h){var v=h.getView(l.model);v?.remove()}),null===(t=this.childrenView)||void 0===t||t.remove(),o.splice(o.indexOf(this),1),this.removed(this._clbObj()),n.data({model:"",collection:"",view:""}),this},r.prototype.handleDragStart=function(t){if(!this.__isDraggable())return!1;t.stopPropagation(),t.preventDefault();var e=this.em.getSelectedAll(),n=e.includes(this.model)?e:[this.model];this.em.Commands.run("tlb-move",{target:n,event:t})},r.prototype.initClasses=function(){var t=this.model,e=t.classes,n="change:classes";e instanceof O&&(this.stopListening(t,n,this.initClasses),this.listenTo(t,n,this.initClasses),this.listenTo(e,"add remove change reset",this.updateClasses),e.length&&this.importClasses())},r.prototype.initComponents=function(t){void 0===t&&(t={});var e=this,n=e.model,o=e.$el,l=e.childrenView,h=n.get("components"),v=[n,"change:components",this.initComponents];h instanceof vr&&(o.data("collection",h),l&&l.remove(),this.stopListening.apply(this,v),!t.avoidRender&&this.renderChildren(),this.listenTo.apply(this,v))},r.prototype.handleChange=function(){var t=this.model,e=(0,R.keys)(t.changed);if(1!==e.length||"status"!==e[0])for(var n in t.emitUpdate(),t.changed)t.emitUpdate(n)},r.prototype.importClasses=function(){var n=this.em.Selectors;n&&this.model.classes.forEach(function(o){return n.add(o.getName())})},r.prototype.updateStatus=function(t){void 0===t&&(t={});var e=this,n=e.em,o=e.el,l=e.ppfx,h=e.model,v=n?.Canvas,j=v?.config.extHl,S=h.get("status"),Y="".concat(l,"selected"),lt="".concat(Y,"-parent"),xt="".concat(l,"freezed"),Ft="".concat(l,"hovered"),Bt="".concat(l,"no-pointer"),te="".concat(l,"pointer-init"),ke=j&&!t.noExtHl?"":Y;this.$el.removeClass([Y,lt,xt,Ft,Bt,te].join(" "));var ze=[o.getAttribute("class")||""],on=!v?.hasCustomSpot(xe.F.Select),_n=!v?.hasCustomSpot(xe.F.Target);switch(S){case"selected":on&&ze.push(ke);break;case"selected-parent":_n&&ze.push(lt);break;case"freezed":ze.push(xt);break;case"freezed-selected":ze.push(xt),on&&ze.push(ke);break;case"hovered":!t.avoidHover&&ze.push(Ft)}(0,R.isBoolean)(h.locked)&&ze.push(h.locked?Bt:te);var An=ze.filter(Boolean).join(" ");An&&o.setAttribute("class",An)},r.prototype.updateHighlight=function(){var t=this.model,e=t.get("textable"),n=t.get("highlightable")&&(e||!t.isChildOf("text"));this.setAttribute("data-gjs-highlightable",!!n||"")},r.prototype.updateStyle=function(t,e,n){void 0===n&&(n={});var o=this.model;if(Mr(this.em)&&!n.inline){var h=this.__cmpStyleOpts,v=o.getStyle(na({inline:!0},h));!(0,R.isEmpty)(v)&&o.setStyle(v,h)}else this.setAttribute("style",o.styleToString(n))},r.prototype.updateStyles=function(){this.updateStyle()},r.prototype.updateClasses=function(){var t=this.model.classes.pluck("name").join(" ");this.setAttribute("class",t),this.updateStatus(),this.onAttrUpdate()},r.prototype.setAttribute=function(t,e){var n=this.$el;e?n.attr(t,e):n.removeAttr(t)},r.prototype.getClasses=function(){return this.model.getClasses().join(" ")},r.prototype.updateAttributes=function(){var t=[],e=this,n=e.model,o=e.$el,l=e.el,h=n.attributes,v=h.textable,j=h.type,S=na(na({id:n.getId(),"data-gjs-type":j||"default"},this.__isDraggable()&&{draggable:!0}),v&&{contenteditable:"false"});(0,R.each)(l.attributes,function(lt){return t.push(lt.nodeName)}),t.forEach(function(lt){return o.removeAttr(lt)}),this.updateStyle(),this.updateHighlight();var Y=na(na({},S),n.getAttributes());(0,R.keys)(Y).forEach(function(lt){return!1===Y[lt]&&delete Y[lt]}),o.attr(Y)},r.prototype.updateContent=function(){var t=this.model.content,e=this.model.components().length;this.getChildrenContainer().innerHTML=e?"":t},r.prototype.prevDef=function(t){t.preventDefault()},r.prototype.updateScript=function(){var e=this.em;this.model.get("script")&&e?.Canvas.getCanvasView().updateScript(this)},r.prototype.getChildrenContainer=function(){var t=this.el;return"function"==typeof this.getChildrenSelector&&(t=this.el.querySelector(this.getChildrenSelector())),t},r.prototype.getOffsetRect=function(){var t={top:0,left:0,bottom:0,right:0},e=this.el,n=0,o=0,l=function(h){var v=h.offsetParent;v?(n+=v.offsetTop,o+=v.offsetLeft,l(v)):(t.top=e.offsetTop+n,t.left=e.offsetLeft+o,t.bottom=t.top+e.offsetHeight,t.right=t.left+e.offsetWidth)};return l(e),t},r.prototype.isInViewport=function(){var t=this,e=t.el,o=t.frameView,l=t.em.Canvas.getCanvasView().getElBoxRect(e,{local:!0}),h=o.el,v=h.clientHeight,j=h.clientWidth,S=l.y,Y=l.x,lt=S+l.height,xt=Y+l.width;return(S>=0&&S<v||lt>0&&lt<v)&&(xt>=0&&xt<j||Y>0&&Y<=j)},r.prototype.scrollIntoView=function(t){var e;if(void 0===t&&(t={}),!this.isInViewport()||t.force){var n=this.el;if("smooth"!==t.behavior){var o=this.getOffsetRect();null===(e=n.ownerDocument.defaultView)||void 0===e||e.scrollTo(0,o.top)}else n.scrollIntoView(na({behavior:"smooth",block:"nearest"},t))}},r.prototype.reset=function(){var t=this,e=t.el,n=t.model;t.scriptContainer&&n.emitWithEditor(Se.I.scriptUnmount,{component:n,view:t,el:e}),this.el="",this._ensureElement(),this._setData(),(0,kt.bG)(e,this.el),this.render()},r.prototype._setData=function(){var t=this.model,e=t.components();this.$el.data({model:t,collection:e,view:this})},r.prototype._createElement=function(t){return this.createDoc.createElement(t)},r.prototype.renderChildren=function(){this.updateContent();var t=this.getChildrenContainer(),e=this.childrenView||new Rs({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});e.render(t),this.childrenView=e;for(var n=Array.prototype.slice.call(e.el.childNodes),o=0,l=n.length;o<l;o++)t.appendChild(n.shift())},r.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},r.prototype.onAttrUpdate=function(){},r.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary||(this.renderChildren(),this.updateScript(),(0,at.setViewEl)(this.el,this),this.postRender()),this},r.prototype.postRender=function(){if(!this.modelOpt.temporary){var t=this.model,e=this.el;this.onRender(this._clbObj()),t.emitWithEditor(Se.I.render,{component:t,view:this,el:e})}},r.getEvents=function(){return(0,R.result)(this.prototype,"events")},r}(F.Ss);const lo=su;var Hs=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const Bl=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Hs(r,a),r.prototype._setAttributes=function(){},r.prototype.renderAttributes=function(){},r.prototype.updateStatus=function(){},r.prototype.updateClasses=function(){},r.prototype.setAttribute=function(){},r.prototype.updateAttributes=function(){},r.prototype.initClasses=function(){},r.prototype.initComponents=function(){},r.prototype.delegateEvents=function(){return this},r.prototype._createElement=function(){return document.createTextNode("")},r.prototype.render=function(){var t=this.model;return t.opt.temporary||(this.el.textContent=t.content),this},r}(lo);var Vl=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const ka=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Vl(r,a),r.prototype._createElement=function(){return document.createComment(this.model.content)},r}(Bl);var il=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const Oc=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return il(r,a),r.prototype.tagName=function(){return"div"},r.prototype.initialize=function(t){a.prototype.initialize.call(this,t),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},r.prototype.updateSrc=function(){var t=(0,kt.I6)(this.el,"iframe")[0];t&&(0,kt.X6)(t,{src:this.__getSrc()})},r.prototype.render=function(){a.prototype.render.call(this);var t=(0,kt.a_)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(t),this},r.prototype.__getSrc=function(){return this.model.getAttributes().src||""},r}(lo);var ts=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),al=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return ts(r,a),r.prototype.tagName=function(){return"img"},r.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},r.prototype.initialize=function(t){a.prototype.initialize.call(this,t),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},r.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var t=this.model,e=this.em,n=t.get("file");if(n&&e){var o=e.Assets.FileUploader();o?.uploadFile({dataTransfer:{files:[n]}},function(l){var h=l&&l.data&&l.data[0],v=h&&((0,R.isString)(h)?h:h.src);v&&t.set({src:v})}),t.set("file","")}}},r.prototype.updateSrc=function(){var t=this.model;t.addAttributes({src:t.getSrcResult()}),this.updateClasses()},r.prototype.updateClasses=function(){a.prototype.updateClasses.call(this);var t=this,e=t.el,n=t.classEmpty,o=t.model,l=o.getSrcResult()&&!o.isDefaultSrc()?"remove":"add";e.classList[l](n)},r.prototype.onActive=function(t){t?.stopPropagation();var e=this.em,n=this.model,o=e?.Assets;o&&n.get("editable")&&o.open({select:function(l,h){n.set({src:l.getSrc()}),h&&o.close()},target:n,types:["image"],accept:"image/*"})},r.prototype.onError=function(){var e=this.el,n=this.model.getSrcResult({fallback:!0});n&&(e.srcset&&(e.srcset=""),e.src=n)},r.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},r.prototype.noDrag=function(t){return t.preventDefault(),!1},r.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var t=this.$el,e=this.model,n=t.attr("class")||"";return!e.get("src")&&t.attr("class","".concat(n," ").concat(this.classEmpty).trim()),this.postRender(),this},r}(lo);const sl=al;var Aa=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),es=function(){return es=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},es.apply(this,arguments)},Bs=function(a,r,t,e){return new(t||(t=Promise))(function(n,o){function l(j){try{v(e.next(j))}catch(S){o(S)}}function h(j){try{v(e.throw(j))}catch(S){o(S)}}function v(j){var S;j.done?n(j.value):(S=j.value,S instanceof t?S:new t(function(Y){Y(S)})).then(l,h)}v((e=e.apply(a,r||[])).next())})},ll=function(a,r){var t,e,n,o,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function h(v){return function(j){return function(S){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,S[0]&&(l=0)),l;)try{if(t=1,e&&(n=2&S[0]?e.return:S[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,S[1])).done)return n;switch(e=0,n&&(S=[2&S[0],n.value]),S[0]){case 0:case 1:n=S;break;case 4:return l.label++,{value:S[1],done:!1};case 5:l.label++,e=S[1],S=[0];continue;case 7:S=l.ops.pop(),l.trys.pop();continue;default:if(!((n=(n=l.trys).length>0&&n[n.length-1])||6!==S[0]&&2!==S[0])){l=0;continue}if(3===S[0]&&(!n||S[1]>n[0]&&S[1]<n[3])){l.label=S[1];break}if(6===S[0]&&l.label<n[1]){l.label=n[1],n=S;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(S);break}n[2]&&l.ops.pop(),l.trys.pop();continue}S=r.call(a,l)}catch(Y){S=[6,Y],e=0}finally{t=n=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([v,j])}}},lu=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Aa(r,a),r.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},r.prototype.initialize=function(t){a.prototype.initialize.call(this,t),(0,R.bindAll)(this,"disableEditing","onDisable");var e=this.model,n=this.em;this.listenTo(e,"focus",this.onActive),this.listenTo(e,"change:content",this.updateContentText),this.listenTo(e,"sync:content",this.syncContent),this.rte=n?.RichTextEditor},r.prototype.updateContentText=function(t,e,n){void 0===n&&(n={}),!n.fromDisable&&this.disableEditing()},r.prototype.canActivate=function(){var t,e=this,n=e.model,o=e.rteEnabled,l=e.em,h=l?.getEditing()===n,v=!0,j=!1;if((o||!n.get("editable")||h||(j=n.isChildOf("text")))&&(v=!1,j&&!n.get("textable"))){for(var S=n.parent();S&&!S.isInstanceOf("text");)S=S.parent();S&&S.get("editable")?t=S:v=!0}return{result:v,delegate:t}},r.prototype.onActive=function(t){return Bs(this,void 0,void 0,function(){var e,n,o,l,v,j,S,Y,lt,xt,Ft;return ll(this,function(Bt){switch(Bt.label){case 0:return n=(e=this).rte,o=e.em,l=this.canActivate(),v=l.delegate,l.result?(null===(Ft=t?.stopPropagation)||void 0===Ft||Ft.call(t),j=this,[4,this.getContent()]):(v&&(null===(xt=t?.stopPropagation)||void 0===xt||xt.call(t),o.setSelected(v),v.trigger("active",t)),[2]);case 1:if(j.lastContent=Bt.sent(),!n)return[3,5];Bt.label=2;case 2:return Bt.trys.push([2,4,,5]),Y=this,[4,n.enable(S=this,this.activeRte,{event:t,view:S})];case 3:return Y.activeRte=Bt.sent(),[3,5];case 4:return lt=Bt.sent(),o.logError(lt),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},r.prototype.onDisable=function(t){this.disableEditing(t)},r.prototype.disableEditing=function(){return Bs(this,arguments,void 0,function(t){var e,n,o,l,h,v,j,S,Y;return void 0===t&&(t={}),ll(this,function(lt){switch(lt.label){case 0:return n=(e=this).model,o=e.rte,l=e.activeRte,h=e.em,v=n&&n.get("editable"),o?(j={},[4,this.getContent()]):[3,7];case 1:S=lt.sent(),lt.label=2;case 2:return lt.trys.push([2,4,,5]),[4,o.disable(this,l,t)];case 3:return j=lt.sent(),[3,5];case 4:return Y=lt.sent(),h.logError(Y),[3,5];case 5:return!v||S===this.lastContent&&!j.forceSync?[3,7]:[4,this.syncContent(es(es({},t),{content:S}))];case 6:lt.sent(),this.lastContent="",lt.label=7;case 7:return this.toggleEvents(),[2]}})})},r.prototype.getContent=function(){return Bs(this,void 0,void 0,function(){var t,e,n,o;return ll(this,function(l){switch(l.label){case 0:return e=(t=this).rte,n=t.activeRte,o="",e?[4,e.getContent(this,n)]:[3,2];case 1:o=l.sent(),l.label=2;case 2:return[2,o]}})})},r.prototype.syncContent=function(){return Bs(this,arguments,void 0,function(t){var e,n,o,l,h,v,j,S;return void 0===t&&(t={}),ll(this,function(Y){switch(Y.label){case 0:return n=(e=this).model,o=e.rte,e.rteEnabled||t.force?null===(S=t.content)||void 0===S?[3,1]:(h=S,[3,3]):[2];case 1:return[4,this.getContent()];case 2:h=Y.sent(),Y.label=3;case 3:return l=h,v=n.components(),j=es({fromDisable:1},t),n.set("content","",j),o?.customRte&&!o.customRte.parseContent?(v.length&&v.reset(void 0,es(es({},t),{keepIds:jo(v)})),n.set("content",l,j)):v.resetFromString(l,t),[2]}})})},r.prototype.insertComponent=function(t,e){var n;void 0===e&&(e={});var o=this.model,l=this.el.ownerDocument.getSelection();if(l?.rangeCount){var h=l.getRangeAt(0),v=h.startContainer,j=h.startOffset,S=(0,at.getComponentModel)(v),Y=[];if(S&&null!==(n=S.is)&&void 0!==n&&n.call(S,"textnode")){var lt=S.collection;lt.forEach(function(Bt){if(Bt===S){var te="textnode",Vt=e.useDomContent?v.textContent||"":Bt.content;Y.push({type:te,content:Vt.slice(0,j)}),Y.push(t),Y.push({type:te,content:Vt.slice(j)})}else Y.push(Bt)});var xt=Y.filter(Boolean),Ft=xt.indexOf(t);return lt.reset(xt,e),lt.at(Ft)}}return o.append(t,e)},r.prototype.onInput=function(){var t,e="component",n=["".concat(e,":update"),"".concat(e,":input")].join(" ");null===(t=this.em)||void 0===t||t.trigger(n,this.model)},r.prototype.disablePropagation=function(t){t.stopPropagation()},r.prototype.toggleEvents=function(t){var e=this,n=e.em,o=e.model,l=e.$el,h={on:kt.on,off:kt.AU},v=t?"on":"off";n.setEditing(!!t&&this),this.rteEnabled=!!t;var j=[this.el.ownerDocument,document];if(h.off(j,"mousedown",this.onDisable),h[v](j,"mousedown",this.onDisable),n[v]("toolbar:run:before",this.onDisable),o&&(o[v]("removed",this.onDisable),o.trigger("rte:".concat(t?"enable":"disable"))),l?.off("mousedown",this.disablePropagation),l&&l[v]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var S=this.el;S;)S.draggable=!t,(S=S.parentNode)&&"BODY"==S.tagName&&(S=0)},r}(lo);const Vs=lu;var kc=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const Ac=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return kc(r,a),r.prototype.render=function(){return a.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},r}(Vs);var cu=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const Ec=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return cu(r,a),r}(Ac);var ns=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const vs=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return ns(r,a),r.prototype.tagName=function(){return"div"},r.prototype.events=function(){return{}},r.prototype.initialize=function(t){a.prototype.initialize.call(this,t),this.classEmpty=this.ppfx+"plh-map"},r.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},r.prototype.getIframe=function(){if(!this.iframe){var t=document.createElement("iframe");t.src=this.model.get("src"),t.frameBorder="0",t.style.height="100%",t.style.width="100%",t.className=this.ppfx+"no-pointer",this.iframe=t}return this.iframe},r.prototype.render=function(){return a.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},r}(sl);var rs=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const jc=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return rs(r,a),r.prototype.tagName=function(){return"script"},r.prototype.events=function(){return{}},r}(lo);var zl=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),ms=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return zl(r,a),r.prototype._createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},r}(lo);const uu=ms;var ee=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const z=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return ee(r,a),r}(lo);var Et=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const ae=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Et(r,a),r}(lo);var Je=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const xn=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Je(r,a),r}(lo);var vn=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const gr=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return vn(r,a),r}(lo);var Ai=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const Hi=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Ai(r,a),r}(lo);var Ro=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const Ei=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Ro(r,a),r.prototype.events=function(){return{}},r}(lo);var Yi=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),os=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Yi(r,a),r.prototype.tagName=function(){return"div"},r.prototype.events=function(){return{}},r.prototype.initialize=function(){lo.prototype.initialize.apply(this,arguments);var t=this.model,e=["loop","autoplay","controls","color","rel","modestbranding","poster"].map(function(n){return"change:".concat(n)}).join(" ");this.listenTo(t,"change:provider",this.updateProvider),this.listenTo(t,"change:src",this.updateSrc),this.listenTo(t,e,this.updateVideo)},r.prototype.updateProvider=function(){var t=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(t))},r.prototype.updateSrc=function(){var t=this.model,e=this.videoEl;if(e){var n=t.get("provider"),o=t.get("src");switch(n){case"yt":o=t.getYoutubeSrc();break;case"ytnc":o=t.getYoutubeNoCookieSrc();break;case"vi":o=t.getVimeoSrc()}e.src=o}},r.prototype.updateVideo=function(){var t=this.model,e=this.videoEl;switch(t.get("provider")){case"yt":case"ytnc":case"vi":t.trigger("change:videoId");break;default:if(e){var n=e;n.loop=t.get("loop"),n.autoplay=t.get("autoplay"),n.controls=t.get("controls"),n.poster=t.get("poster")}}},r.prototype.renderByProvider=function(t){var e;switch(t){case"yt":e=this.renderYoutube();break;case"ytnc":e=this.renderYoutubeNoCookie();break;case"vi":e=this.renderVimeo();break;default:e=this.renderSource()}return this.videoEl=e,e},r.prototype.renderSource=function(){var t=document.createElement("video");return t.src=this.model.get("src"),this.initVideoEl(t),t},r.prototype.renderYoutube=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},r.prototype.renderYoutubeNoCookie=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeNoCookieSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},r.prototype.renderVimeo=function(){var t=document.createElement("iframe");return t.src=this.model.getVimeoSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},r.prototype.initVideoEl=function(t){t.className=this.ppfx+"no-pointer",t.style.height="100%",t.style.width="100%"},r.prototype.render=function(){lo.prototype.render.apply(this),this.updateClasses();var t=this.model.get("provider");return this.el.appendChild(this.renderByProvider(t)),this.updateVideo(),this},r}(sl);const Dc=os;var ga=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const gf=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return ga(r,a),r.prototype.tagName=function(){return"div"},r}(lo);var cl=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ul=function(){return Ul=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Ul.apply(this,arguments)},Ku=function(a){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=a.apply(this,t)||this;n.refreshDbn=(0,R.debounce)(function(){return n.refresh()},0);var o=n.events;return n.on(o.update,n.onUpdate),n.on(o.updateInside,n.onUpdateDeep),n}return cl(r,a),r.prototype.removeChildren=function(t,e,n){var o;void 0===n&&(n={}),a.prototype.removeChildren.call(this,t,e,n),null===(o=mo(t))||void 0===o||o.forEach(function(l){return hi(l,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:t})},r.prototype.onAdd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.prototype.onAdd.apply(this,t),this.__trgEvent(this.events.symbolMainAdd,{component:t[0]})},r.prototype.onUpdate=function(t){this.__trgEvent(this.events.symbolMainUpdate,t)},r.prototype.onUpdateDeep=function(t){this.__trgEvent(this.events.symbolMainUpdateDeep,t)},r.prototype.refresh=function(){this.em.trigger(this.events.symbol)},r.prototype.__trgEvent=function(t,e,n){void 0===n&&(n=!1);var o=this.em,l=this.events,h=n?l.symbolInstance:l.symbolMain;o.trigger(t,e),o.trigger(h,Ul(Ul({},e),{event:t})),this.refreshDbn()},r}(vr);const $u=Ku;var Wl=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),ys=function(){return ys=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},ys.apply(this,arguments)},ql=function(a){function r(t,e){var n=a.call(this,t,e)||this;return n.dataResolver=new Sr({type:t.type,path:t.path,defaultValue:t.defaultValue},e),n}return Wl(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return ys(ys({},a.prototype.defaults),{type:or,path:"",defaultValue:"",droppable:!1})},enumerable:!1,configurable:!0}),r.prototype.getPath=function(){return this.dataResolver.get("path")},r.prototype.getDefaultValue=function(){return this.dataResolver.get("defaultValue")},r.prototype.getDataValue=function(){return this.dataResolver.getDataValue()},r.prototype.getInnerHTML=function(){return this.getDataValue()},r.prototype.setPath=function(t){this.dataResolver.set("path",t)},r.prototype.setDefaultValue=function(t){this.dataResolver.set("defaultValue",t)},r.isComponent=function(t){return(0,at.toLowerCase)(t.tagName)===or},r}(fe);const Kl=ql;var Gu=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const vf=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Gu(r,a),r.prototype.initialize=function(t){var e=this;void 0===t&&(t={}),a.prototype.initialize.call(this,t),this.dataResolverListener=new wo({em:this.em,resolver:this.model.dataResolver,onUpdate:function(){return e.postRender()}})},r.prototype.remove=function(){return this.dataResolverListener.destroy(),a.prototype.remove.call(this)},r.prototype.postRender=function(){this.el.innerHTML=this.model.getDataValue(),a.prototype.postRender.call(this)},r}(lo);var Yu=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ea=function(){return Ea=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Ea.apply(this,arguments)};const ul=function(a){function r(t,e){var n=this,o=new Wo(t,{em:e.em});return(n=a.call(this,Ea(Ea({},t),{type:zr,components:o.getDataValue(),droppable:!1}),e)||this).dataResolver=o,n.dataResolver.onValueChange=n.handleConditionChange.bind(n),n}return Yu(r,a),r.prototype.getCondition=function(){return this.dataResolver.getCondition()},r.prototype.getIfTrue=function(){return this.dataResolver.getIfTrue()},r.prototype.getIfFalse=function(){return this.dataResolver.getIfFalse()},r.prototype.handleConditionChange=function(){this.components(this.dataResolver.getDataValue())},r.isComponent=function(t){return(0,at.toLowerCase)(t.tagName)===zr},r.prototype.setCondition=function(t){this.dataResolver.setCondition(t)},r.prototype.setIfTrue=function(t){this.dataResolver.setIfTrue(t)},r.prototype.setIfFalse=function(t){this.dataResolver.setIfFalse(t)},r.prototype.toJSON=function(){return this.dataResolver.toJSON()},r}(fe);var $l=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const mf=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return $l(r,a),r}(lo);var Xu=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ic=function(){return Ic=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Ic.apply(this,arguments)},yf=function(a){function r(t,e){var n;void 0===e&&(e={});var o=a.call(this,t,e)||this;return o.mutable=null===(n=t.mutable)||void 0===n||n,o.on("change",o.handleChange),o}return Xu(r,a),Object.defineProperty(r.prototype,"cl",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataSource",{get:function(){return this.cl.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"em",{get:function(){return this.dataSource.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"index",{get:function(){return this.cl.indexOf(this)},enumerable:!1,configurable:!0}),r.prototype.handleChange=function(){var t=this,e=this.changedAttributes();(0,R.keys)(e).forEach(function(n){return t.triggerChange(n)})},r.prototype.getPath=function(t,e){void 0===e&&(e={});var n=this,l=n.id,h=n.index,v=n.dataSource.id,j=t?".".concat(t):"";return"".concat(v,".").concat(e.useIndex?h:l).concat(j)},r.prototype.getPaths=function(t){return[this.getPath(t),this.getPath(t,{useIndex:!0})]},r.prototype.triggerChange=function(t){var n=this.em,o={dataSource:this.dataSource,dataRecord:this};this.getPaths(t).forEach(function(l){return n.trigger("".concat(Bn.path,":").concat(l),Ic(Ic({},o),{path:l}))})},r.prototype.set=function(t,e,n){var o,l,h=this;if(!this.isNew()&&!1===this.attributes.mutable)throw new Error("Cannot modify immutable record");var v=null===(l=null===(o=this.dataSource)||void 0===o?void 0:o.transformers)||void 0===l?void 0:l.onRecordSetValue,j=function(Ft,Bt,te){void 0===te&&(te={});var Vt=te?.avoidTransformers||!v?Bt:v({id:h.id,key:Ft,value:Bt});a.prototype.set.call(h,Ft,Vt,te),a.prototype.set.call(h,{__p:!!te.partial||void 0},te)};if("object"==typeof t&&null!==t)for(var Y=0,lt=Object.entries(t);Y<lt.length;Y++){var xt=lt[Y];j(xt[0],xt[1],e)}else j(t,e,n);return this},r}(F.Kx);const _f=yf;var Bi=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),du=function(a){function r(t,e){var n=a.call(this,t,e)||this;return n.dataSource=e.dataSource,n}return Bi(r,a),r}(F.pM);const Zu=du;du.prototype.model=_f;var bf=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pc=function(){return Pc=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Pc.apply(this,arguments)};const fu=function(a){function r(t,e){var n=a.call(this,Pc(Pc({},t),{records:[]}),e)||this,o=t.records;return n.transformers=t.transformers||{},o instanceof Zu||n.set({records:new Zu(o,{dataSource:n})}),n.listenTo(n.records,"add",n.onAdd),n.listenTo(n.records,F.e2,n.handleChanges),n}return bf(r,a),r.prototype.defaults=function(){return{records:[],transformers:{}}},Object.defineProperty(r.prototype,"records",{get:function(){return this.attributes.records},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"em",{get:function(){return this.collection.em},enumerable:!1,configurable:!0}),r.prototype.onAdd=function(t){t.triggerChange()},r.prototype.addRecord=function(t,e){return this.records.add(t,e)},r.prototype.getRecord=function(t){return this.records.get(t)},r.prototype.getRecords=function(){var t=this;return function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))}([],this.records.models,!0).map(function(e){return t.getRecord(e.id)})},r.prototype.removeRecord=function(t,e){var n=this.getRecord(t);if(!1===n?.mutable&&!e?.dangerously)throw new Error("Cannot remove immutable record");return this.records.remove(t,e)},r.prototype.setRecords=function(t){var e=this;this.records.reset([],{silent:!0}),t.forEach(function(n){e.records.add(n)})},r.prototype.handleChanges=function(t,e,n){this.em.changesUp(n||e)},r}(F.Kx);var Qu=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ko=function(){return Ko=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Ko.apply(this,arguments)},wf=function(a){function r(t,e){var n=this,o=t[Vn];if(e.forCloning)return a.call(this,t,e)||this;var l=e.em,h=Ko(Ko({},t),{components:void 0,droppable:!1}),v=n=a.call(this,h,e)||this;return o?(n.rebuildChildrenFromCollection(),(0,R.bindAll)(n,"rebuildChildrenFromCollection"),n.listenTo(n,"change:".concat(Vn),n.rebuildChildrenFromCollection),n.listenToDataSource(),v):(l.logError("missing collection definition"),v)}return Qu(r,a),r.prototype.getItemsCount=function(){var t,e,n=this.getDataSourceItems(),o=Math.max(0,null!==(t=this.getConfigStartIndex())&&void 0!==t?t:0),l=null!==(e=this.getConfigEndIndex())&&void 0!==e?e:Number.MAX_VALUE,h=Math.min(n.length-1,l)-o+1;return Math.max(0,h)},r.prototype.getConfigStartIndex=function(){return this.collectionConfig.startIndex},r.prototype.getConfigEndIndex=function(){return this.collectionConfig.endIndex},r.prototype.getComponentDef=function(){return this.getFirstChildJSON()},r.prototype.getDataSource=function(){var t,e;return null===(e=null===(t=this.collectionDef)||void 0===t?void 0:t.collectionConfig)||void 0===e?void 0:e.dataSource},r.prototype.getCollectionId=function(){var t,e;return null===(e=null===(t=this.collectionDef)||void 0===t?void 0:t.collectionConfig)||void 0===e?void 0:e.collectionId},r.prototype.setComponentDef=function(t){this.set(Vn,Ko(Ko({},this.collectionDef),{componentDef:t}))},r.prototype.setStartIndex=function(t){t<0?this.em.logError("Start index should be greater than or equal to 0"):this.updateCollectionConfig({startIndex:t})},r.prototype.setEndIndex=function(t){this.updateCollectionConfig({endIndex:t})},r.prototype.updateCollectionConfig=function(t){this.set(Vn,Ko(Ko({},this.collectionDef),{collectionConfig:Ko(Ko({},this.collectionConfig),t)}))},r.prototype.setDataSource=function(t){this.set(Vn,Ko(Ko({},this.collectionDef),{collectionConfig:Ko(Ko({},this.collectionConfig),{dataSource:t})}))},r.prototype.getDataSourceItems=function(){var t;return null!==(t=this.collectionDef)&&void 0!==t&&t.collectionConfig?function(e,n){var o=[];switch(!0){case(0,R.isArray)(e):o=e;break;case(0,at.isObject)(e)&&e instanceof fu:o=Ha(e.get("id"),n);break;case Io(e):o=1===e.path.split(".").length?Ha(e.path,n):n.DataSources.getValue(e.path,[])}return o}(this.collectionConfig.dataSource,this.em):[]},r.prototype.getCollectionStateMap=function(){return this.get(Gn)||{}},Object.defineProperty(r.prototype,"collectionDef",{get:function(){return this.get(Vn)||{}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"collectionConfig",{get:function(){var t;return(null===(t=this.collectionDef)||void 0===t?void 0:t.collectionConfig)||{}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"collectionDataSource",{get:function(){return this.collectionConfig.dataSource},enumerable:!1,configurable:!0}),r.prototype.getFirstChildJSON=function(){var t=this.components().at(0),e=t?(0,at.serialize)(t):this.collectionDef.componentDef;return null==e||delete e.draggable,null==e||delete e.removable,e},r.prototype.listenToDataSource=function(){var t,e=this.em,n=null===(t=this.collectionDataSource)||void 0===t?void 0:t.path;n&&(this.dataSourceWatcher=new wo({em:e,resolver:new Sr({type:or,path:n},{em:e}),onUpdate:this.rebuildChildrenFromCollection}))},r.prototype.rebuildChildrenFromCollection=function(){this.components().reset(this.getCollectionItems(),_o)},r.prototype.getCollectionItems=function(){var t,e,n,o=this.collectionDef,l=o.componentDef,h=o.collectionConfig;if(!function(Un,mr,xr){for(var ci=0,ui=[{property:Un,propertyPath:"collectionConfig"},{property:mr,propertyPath:"componentDef"},{property:Un?.collectionId,propertyPath:"collectionConfig.collectionId"},{property:Un?.dataSource,propertyPath:"collectionConfig.dataSource"}];ci<ui.length;ci++){var Ji=ui[ci];if(!Nc(Ji.property,Ji.propertyPath,xr))return[]}var la=Un?.startIndex;return void 0!==la&&(la<0||!Number.isInteger(la))&&xr.logError("Invalid startIndex: ".concat(la,". It must be a non-negative integer.")),!0}(h,l,this.em))return[];for(var j,S=[],Y=h.collectionId,lt=this.getDataSourceItems(),xt=null!==(e=this.getConfigStartIndex())&&void 0!==e?e:0,Ft=null!==(n=this.getConfigEndIndex())&&void 0!==n?n:Number.MAX_VALUE,Bt=Math.min(lt.length-1,Ft),te=Bt-xt+1,Vt=this.getCollectionStateMap(),ke=xt;ke<=Bt;ke++){var ze=ke===xt,on={collectionId:Y,currentIndex:ke,currentItem:lt[ke],startIndex:xt,endIndex:Bt,totalItems:te,remainingItems:te-(ke+1)};if(Vt[Y])return this.em.logError('The collection ID "'.concat(Y,'" already exists in the parent collection state. Overriding it is not allowed.')),[];var _n=Ko(Ko({},Vt),((t={})[Y]=on,t));ze&&(j=new((this.em.Components.getType(l?.type||"default")||this.em.Components.getType("default")).model)(Ko(Ko({},(0,at.serialize)(l)),{draggable:!1,removable:!1}),this.opt));var er=j.clone({symbol:!0});!ze&&er.set("locked",!0),Ra(_n,Y)(er),S.push(er)}return S},r.isComponent=function(t){return(0,at.toLowerCase)(t.tagName)===Or},r.prototype.toJSON=function(t){var e=a.prototype.toJSON.call(this,t);return e[Vn].componentDef=this.getFirstChildJSON(),delete e.components,delete e.droppable,e},r}(fe);const xf=wf;function Ra(a,r){return function(t){fl(a)(t);var e=function(l){Ra(a,r)(l)},n="_hasAddListener".concat(r?"_".concat(r):""),o=t.components();t.collectionStateListeners.includes(n)||(t.listenTo(o,"add",e),t.collectionStateListeners.push(n),t.listenTo(o,"remove",function(l){var h;l.stopListening(l.components(),"add",e),l.off("change:".concat(Gn),dl);var v=l.collectionStateListeners.indexOf(n);-1!==v&&l.collectionStateListeners.splice(v,1);var j=l.get(Gn);l.set(Gn,Ko(Ko({},j),((h={})[r]=void 0,h)))})),o?.toArray().forEach(function(l){Ra(a,r)(l)}),t.on("change:".concat(Gn),dl)}}function dl(){var a,r=this.get(Gn);null===(a=this.components())||void 0===a||a.toArray().forEach(function(t){fl(r)(t)})}function Nc(a,r,t){return!!a||(t.logError('The "'.concat(r,'" property is required in the collection definition.')),!1)}function fl(a){return function(r){r.set(Vr,!0);var t=Ko(Ko({},r.get(Gn)),a);if(r.set(Gn,t),r.dataResolverWatchers.updateCollectionStateMap(t),Object.keys(t).every(function(n){return t[n].currentIndex===t[n].startIndex})){var e=r.__onStyleChange.bind(r);r.__onStyleChange=function(n,o){void 0===o&&(o={}),e(n),Lo(r).forEach(function(l){l.addStyle(n,o)})},r.on("change:".concat(Vr),function(){r.__onStyleChange=e})}}}function Ha(a,r){var t=r.DataSources.getValue(a,[]);return Object.keys(t).map(function(e){return{type:or,path:a+"."+e}})}var Cf=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),pl=function(){return pl=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},pl.apply(this,arguments)},hl=function(a){function r(t,e){var n=a.call(this,t,e)||this;return n.dataResolver=new kr({type:t.type,variableType:t.variableType,path:t.path,collectionId:t.collectionId},pl(pl({},e),{collectionsStateMap:n.get(Gn)})),n.listenTo(n,"change:".concat(Gn),n.handleCollectionsMapStateUpdate),n}return Cf(r,a),Object.defineProperty(r.prototype,"defaults",{get:function(){return pl(pl({},a.prototype.defaults),{type:fr,collectionId:void 0,variableType:void 0,path:void 0,droppable:!1})},enumerable:!1,configurable:!0}),r.prototype.handleCollectionsMapStateUpdate=function(t,e,n){void 0===n&&(n={}),this.dataResolver.updateCollectionsStateMap(e)},r.prototype.getDataValue=function(){return this.dataResolver.getDataValue()},r.prototype.getInnerHTML=function(){return this.getDataValue()},r.isComponent=function(t){return(0,at.toLowerCase)(t.tagName)===fr},r}(fe);const td=hl;var ed=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const nd=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return ed(r,a),r.prototype.initialize=function(t){void 0===t&&(t={}),a.prototype.initialize.call(this,t),this.dataResolverListener=new wo({em:this.em,resolver:this.model.dataResolver,onUpdate:this.postRender.bind(this)})},r.prototype.postRender=function(){this.el.innerHTML=this.model.getDataValue(),a.prototype.postRender.call(this)},r}(lo);var Lc=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const gl=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Lc(r,a),r}(lo);var _s,pu=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),xi=function(){return xi=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},xi.apply(this,arguments)};!function(a){a[a.InvalidSource=0]="InvalidSource",a[a.SourceReject=1]="SourceReject",a[a.TargetReject=2]="TargetReject"}(_s||(_s={}));var rd=function(a){function r(t){var e=a.call(this,t,"DomComponents",new vr(void 0,{em:t}),Se.I,{stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]})||this;e.componentTypes=[{id:fr,model:td,view:nd},{id:Or,model:xf,view:gl},{id:zr,model:ul,view:mf},{id:or,model:Kl,view:vf},{id:"cell",model:Ao,view:ae},{id:"row",model:Ja,view:Hi},{id:"table",model:Wu,view:Ei},{id:"thead",model:xc,view:gr},{id:"tbody",model:yi,view:z},{id:"tfoot",model:wc,view:xn},{id:"map",model:Ps,view:vs},{id:"link",model:Is,view:Ac},{id:"label",model:Il,view:Ec},{id:"video",model:au,view:Dc},{id:"image",model:Wa,view:sl},{id:"script",model:Ga,view:jc},{id:"svg-in",model:Ya,view:uu},{id:"svg",model:Pl,view:uu},{id:"iframe",model:vc,view:Oc},{id:"comment",model:hc,view:ka},{id:"textnode",model:wi,view:Bl},{id:ln,model:Hr,view:lo},{id:"wrapper",model:Gi,view:gf},{id:"text",model:us,view:Vs},{id:"default",model:fe,view:lo}],e.componentsById={},e.Component=fe,e.Components=vr,e.ComponentView=lo,e.ComponentsView=Rs,e.storageKey="components",e.keySymbols="symbols",e.events=Se.I,e.symbols=new $u([],{em:t,config:e.config,domc:e}),t&&(e.config.components=t.config.components||e.config.components);var o=e.config.pStylePrefix;if(o&&(e.config.stylePrefix=o+e.config.stylePrefix),t){t.get("Parser").compTypes=e.componentTypes,t.on("change:componentHovered",e.componentHovered,e);var l=t.get("selected");t.listenTo(l,"add",function(h,v,j){return e.selectAdd(l.getComponent(h),j)}),t.listenTo(l,"remove",function(h,v,j){return e.selectRemove(l.getComponent(h),j)})}return e}return pu(r,a),r.prototype.postLoad=function(){this.em.UndoManager.add(this.symbols)},r.prototype.load=function(t){var e=this,n=this.loadProjectData(t,{onResult:function(o){var l=e.getWrapper();if(l||(e.em.Pages.add({},{select:!0}),l=e.getWrapper()),(0,R.isArray)(o))o.length&&l.components(o);else{var h=o.components,v=void 0===h?[]:h,j=function(a,r){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&r.indexOf(e)<0&&(t[e]=a[e]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(e=Object.getOwnPropertySymbols(a);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(a,e[n])&&(t[e[n]]=a[e[n]])}return t}(o,["components"]);l.set(j),l.components(v)}}});return this.symbols.reset(t[this.keySymbols]||[]),n},r.prototype.store=function(){var t;return(t={})[this.keySymbols]=this.symbols,t},r.prototype.getComponent=function(){var t=this.em.Pages.getSelected(),e=t?.getMainFrame();return e?.getComponent()},r.prototype.getWrapper=function(){return this.getComponent()},r.prototype.getComponents=function(){var t=this.getWrapper();return t?.components()},r.prototype.addComponent=function(t,e){return void 0===e&&(e={}),this.getComponents().add(t,e)},r.prototype.render=function(){var t;return null===(t=this.componentView)||void 0===t?void 0:t.render().el},r.prototype.clear=function(t){void 0===t&&(t={});var e=this.getComponents();return e?.filter(Boolean).forEach(function(n){return n.remove(t)}),this},r.prototype.setComponents=function(t,e){void 0===e&&(e={}),this.clear(e).addComponent(t,e)},r.prototype.addType=function(t,e){var n=this.em,o=e.model,l=void 0===o?{}:o,h=e.view,v=void 0===h?{}:h,j=e.isComponent,S=e.extend,Y=e.extendView,lt=e.extendFn,xt=void 0===lt?[]:lt,Ft=e.extendFnView,Bt=void 0===Ft?[]:Ft,te=e.block,Vt=this.getType(t),ke=this.getType(S),ze=this.getType(Y),on=ke||Vt||this.getType("default"),_n=on.model,An=ze?ze.view:on.view,er=function(ui,Ji,la){return ui.reduce(function(Ss,is){var as=Ji[is],Pa=la.prototype[is];return as&&Pa&&(Ss[is]=function(){for(var ss=[],Na=0;Na<arguments.length;Na++)ss[Na]=arguments[Na];Pa.bind(this).apply(void 0,ss),as.bind(this).apply(void 0,ss)}),Ss},{})};if("object"==typeof l){var Un={defaults:l.defaults};delete l.defaults;var mr=new Set(_n.typeExtends);mr.add(_n.getDefaults().type),e.model=_n.extend(xi(xi({},l),er(xt,l,_n)),{typeExtends:mr,isComponent:!Vt||ke||j?j||function(){return 0}:_n.isComponent}),Object.defineProperty(e.model.prototype,"defaults",{get:function(){return xi(xi({},(0,R.result)(_n.prototype,"defaults")||{}),(0,R.result)(Un,"defaults")||{})}})}if("object"==typeof v&&(e.view=An.extend(xi(xi({},v),er(Bt,v,An)))),Vt?(Vt.model=e.model,Vt.view=e.view):(e.id=t,this.componentTypes.unshift(e)),te){var xr={id:t,label:t,content:{type:t}},Uo=!0===te?xr:xi(xi({},xr),te);n.Blocks.add(Uo.id||t,Uo)}var ci="component:type:".concat(Vt?"update":"add");return n?.trigger(ci,Vt||e),this},r.prototype.getType=function(t){for(var e=this.componentTypes,n=0;n<e.length;n++)if(e[n].id==t)return e[n]},r.prototype.removeType=function(t){var e=this.componentTypes,n=this.getType(t);if(n){var o=e.indexOf(n);return e.splice(o,1),n}},r.prototype.getTypes=function(){return this.componentTypes},r.prototype.selectAdd=function(t,e){var n=this;void 0===e&&(e={}),t&&(t.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(o){return n.em.trigger(o,t,e)}))},r.prototype.selectRemove=function(t,e){var n=this;void 0===e&&(e={}),t&&(t.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(o){return n.em.trigger(o,t,e)}))},r.prototype.componentHovered=function(){var t=this.em,e=t.get("componentHovered"),n=t.previous("componentHovered"),o="hovered";n&&n.get("status")==o&&n.set({status:"",state:""}),e&&(0,R.isEmpty)(e.get("status"))&&e.set("status",o)},r.prototype.getShallowWrapper=function(){var t=this.shallow,e=this.em;if(!t&&e){var n=e.shallow;if(!n)return;var o=n.Components;if(o.componentTypes=this.componentTypes,t=o.getWrapper()){var l=[Ot,qt].join(" ");t.on(l,(0,R.debounce)(function(){return t?.components("")},100))}this.shallow=t}return t},r.prototype.isComponent=function(t){return(0,at.isComponent)(t)},r.prototype.addSymbol=function(t){if(!(0,R.isSymbol)(t)||Eo(t)){var e=t.clone({symbol:!0});return Xo(e)&&this.symbols.add(e),this.em.trigger("component:toggled"),e}},r.prototype.getSymbols=function(){return function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))}([],this.symbols.models,!0)},r.prototype.detachSymbol=function(t){vo(t)&&hi(t)},r.prototype.getSymbolInfo=function(t,e){void 0===e&&(e={});var n=Xo(t),o=Nr(t),l=!!o,h=mo(n?t:o)||[],v=o||(n?t:void 0),j=Lo(t,{changed:e.withChanges}),S=n||l;return{isSymbol:S,isMain:n,isInstance:l,isRoot:S&&Eo(t),main:v,instances:h,relatives:j||[]}},r.prototype.canMove=function(t,e,n){var o={result:!1,reason:_s.InvalidSource,target:t,source:null};if(!e||!t)return o;if(fo(t)&&e instanceof fe&&fo(e)){var l=Si(t),h=Xo(l)?l:Nr(l),v=Si(e);if(h===(Xo(v)?v:Nr(v))&&l!==v)return xi(xi({},o),{reason:_s.TargetReject})}var j=(0,at.isComponent)(e)?e:null;if(!j){var S=this.getShallowWrapper();j=S?.append(e,{temporary:!0})[0]||null}if(o.source=j,!j)return o;var Y=j.get("draggable");if((0,R.isFunction)(Y))Y=!!Y(j,t,n);else{var lt=t.getEl();Y=(0,R.isArray)(Y)?Y.join(","):Y,Y=(0,R.isString)(Y)?lt?.matches(Y):Y}if(!Y)return xi(xi({},o),{reason:_s.SourceReject});var xt=t.get("droppable");(0,R.isFunction)(xt)?xt=!!xt(j,t,n):!1===xt&&t.isInstanceOf("text")&&j.get("textable")?xt=!0:(lt=j.getEl(),xt=(0,R.isArray)(xt)?xt.join(","):xt,xt=(0,R.isString)(xt)?lt?.matches(xt):xt);var Ft=[t].concat(t.parents()).indexOf(j)>-1;return xi(xi({},o),!xt||Ft?{reason:_s.TargetReject}:{result:!0})},r.prototype.allById=function(){return this.componentsById},r.prototype.getById=function(t){return this.componentsById[t]||null},r.prototype.destroy=function(){var t,e=this.allById();Object.keys(e).forEach(function(n){return e[n]&&e[n].remove()}),null===(t=this.componentView)||void 0===t||t.remove(),[this.em,this.componentsById,this.componentView].forEach(function(n){return{}})},r}(st);const Tf=rd;var Fc=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Of=Number.MAX_VALUE,kf=function(a){function r(){var t=a.call(this)||this;return(0,R.bindAll)(t,"sortRules"),t.compCls=[],t.ids=[],t}return Fc(r,a),r.prototype.buildFromModel=function(t,e){var n=this;void 0===e&&(e={});var o="",l=this.em,h=l&&l.getConfig().avoidInlineStyle,v=t.styleToString(),j=t.classes;return this.ids.push("#".concat(t.getId())),j.forEach(function(S){return n.compCls.push(S.getFullName())}),!h&&v&&(o="#".concat(t.getId(),"{").concat(v,"}")),t.components().forEach(function(S){return o+=n.buildFromModel(S,e)}),o},r.prototype.build=function(t,e){var n=this;void 0===e&&(e={});var o=e.json,l=e.em,h=e.cssc||l?.Css;this.em=l,this.compCls=[],this.ids=[],this.model=t;var v=[],j=t?this.buildFromModel(t,e):"",S=(0,R.isUndefined)(e.clearStyles)&&l?l.getConfig().clearStyles:e.clearStyles;if(h){var Y=e.rules||h.getAll(),lt={},xt=[];e.onlyMatched&&t&&(0,at.hasWin)()&&(Y=this.matchedRules(t,Y)),Y.forEach(function(Ft){var Bt=Ft.getAtRule();if(Bt){var te=lt[Bt];te?te.push(Ft):lt[Bt]=[Ft]}else{var Vt=n.buildFromRule(Ft,xt,e);o?v.push(Vt):j+=Vt}}),this.sortMediaObject(lt).forEach(function(Ft){var Bt="",te=Ft.key;Ft.value.forEach(function(Vt){var ke=n.buildFromRule(Vt,xt,e);Vt.get("singleAtRule")?j+="".concat(te,"{").concat(ke,"}"):Bt+=ke,o&&v.push(ke)}),Bt&&(j+="".concat(te,"{").concat(Bt,"}"))}),l&&S&&Y.remove&&Y.remove(xt)}return o?v.filter(function(Ft){return Ft}):j},r.prototype.buildFromRule=function(t,e,n){var o,l=this;void 0===n&&(n={});var h,v="",j=this.model,S=t.selectorsToString({skipAdd:1}),Y=t.get("selectorsAdd"),lt=t.get("singleAtRule");if(null===(o=t.get("selectors"))||void 0===o||o.forEach(function(Ft){var Bt=Ft.getFullName();(l.compCls.indexOf(Bt)>=0||l.ids.indexOf(Bt)>=0||n.keepUnusedStyles)&&(h=1)}),S&&h||Y||lt||!j){var xt=t.getDeclaration({body:1});xt&&(n.json?v=t:v+=xt)}else e.push(t);return v},r.prototype.matchedRules=function(t,e){var n=this,o=t.getEl(),l=[];return e.forEach(function(h){try{h.selectorsToString().split(",").some(function(v){return o?.matches(n.__cleanSelector(v))})&&l.push(h)}catch{}}),t.components().forEach(function(h){l=l.concat(n.matchedRules(h,e))}),l=l.filter(function(h,v){return l.indexOf(h)===v})},r.prototype.getQueryLength=function(t){var e=/(-?\d*\.?\d+)\w{0,}/.exec(t);return e?parseFloat(e[1]):Of},r.prototype.sortMediaObject=function(t){var e=this;void 0===t&&(t={});var n=[];return(0,R.each)(t,function(o,l){return n.push({key:l,value:o})}),n.sort(function(o,l){var h=[o.key,l.key].every(function(S){return-1!==S.indexOf("min-width")}),j=h?l.key:o.key;return e.getQueryLength(h?o.key:l.key)-e.getQueryLength(j)})},r.prototype.sortRules=function(t,e){var n=function(v){return v.get("mediaText")||""},o=[n(t),n(e)].every(function(v){return-1!==v.indexOf("min-width")}),l=n(o?t:e),h=n(o?e:t);return this.getQueryLength(l)-this.getQueryLength(h)},r.prototype.__cleanSelector=function(t){return t.split(" ").map(function(e){return e.split(":")[0]}).join(" ")},r}(F.Kx);const Yl=kf;var id=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),vl=function(){return vl=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},vl.apply(this,arguments)},Xl=((0,at.hasWin)()?window:{}).CSS,ad=function(a){function r(t,e){void 0===e&&(e={});var n=a.call(this,t)||this;return n.views=[],n.config=t||{},n.opt=e,n.em=e.em,n.ensureSelectors(null,null,{}),n.on("change",n.__onChange),n.setStyle(n.get("style")),n}return id(r,a),r.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},r.prototype.__onChange=function(t,e){var n=this.em,o=this.changedAttributes();o&&!(0,at.isEmptyObj)(o)&&n?.changesUp(e)},r.prototype.clone=function(){var t=vl({},this.opt),e=vl({},this.attributes);return e.selectors=this.get("selectors").map(function(n){return n.clone()}),new this.constructor(e,t)},r.prototype.ensureSelectors=function(t,e,n){var o=this.em,l=o?.Selectors,h=[this,"change:selectors",this.ensureSelectors],v=this.getSelectors();if(this.stopListening.apply(this,h),v.models&&(v=function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))}([],v.models,!0)),v=(0,R.isString)(v)?[v]:v,Array.isArray(v)){var j=v.filter(function(S){return S}).map(function(S){return l?l.add(S):S});v=new O(j)}this.set("selectors",v,n),this.listenTo.apply(this,h)},r.prototype.getAtRule=function(){var t=this.get("atRuleType"),e=this.get("mediaText"),n=t?"@".concat(t):e?"@media":"";return n+(e&&n?" ".concat(e):"")},r.prototype.selectorsToString=function(t){void 0===t&&(t={});var e=[],n=this.get("state"),o=this.get("selectorsAdd"),l={escape:function(j){return Xl&&Xl.escape?Xl.escape(j):j}},h=this.getSelectors().getFullString(0,l),v=n&&!t.skipState?":".concat(n):"";return h&&e.push("".concat(h).concat(v)),o&&!t.skipAdd&&e.push(o),e.join(", ")},r.prototype.getDeclaration=function(t){void 0===t&&(t={});var e="",n=this.attributes.important,o=this.selectorsToString(t),l=this.styleToString(vl({important:n},t)),h=this.get("singleAtRule");return(o||h)&&(l||t.allowEmpty)&&(e=h?l:"".concat(o,"{").concat(l,"}")),e},r.prototype.getDevice=function(){var t=this.em,e=this.attributes,n=e.atRuleType,o=e.mediaText,l=t?.Devices.getDevices()||[],h=l.filter(function(v){return""===v.getWidthMedia()})[0];return"media"===n&&o?l.filter(function(v){return v.getWidthMedia()===((j=/(-?\d*\.?\d+)\w{0,}/.exec(o))?j[0]:"");var j})[0]||null:h||null},r.prototype.getState=function(){var t=this.em,e=this.get("state");return(t?.Selectors.getStates()||[]).filter(function(n){return n.getName()===e})[0]||null},r.prototype.getComponent=function(){var t,e=this.getSelectors(),n=1==e.length&&e.at(0),o=n&&n.isId()&&n.get("name");return o&&(null===(t=this.em)||void 0===t?void 0:t.Components.getById(o))||null},r.prototype.toCSS=function(t){void 0===t&&(t={});var e="",n=this.getAtRule(),o=this.getDeclaration(t);return(o||t.allowEmpty)&&(e=o),n&&e&&(e="".concat(n,"{").concat(e,"}")),e},r.prototype.toJSON=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=F.Kx.prototype.toJSON.apply(this,e);if(null!==(t=this.em)&&void 0!==t&&t.getConfig().avoidDefaults){var l=this.defaults();(0,R.forEach)(l,function(h,v){o[v]===h&&delete o[v]}),delete o.style.__p,(0,R.isEmpty)(o.selectors)&&delete o.selectors,(0,R.isEmpty)(o.style)&&delete o.style}return o},r.prototype.compare=function(t,e,n,o){var l;void 0===o&&(o={});var h=e||"",v=n||"",j=o.selectorsAdd||"",S=o.atRuleType||"";v&&!S&&(S="media");var Y=((0,R.isArray)(t)||t.models?t.models||t:[t]).map(function(Bt){return Bt.getFullName()}),lt=null===(l=this.get("selectors"))||void 0===l?void 0:l.map(function(Bt){return Bt.getFullName()}),xt=Y.slice().sort(),Ft=lt.slice().sort();return!(Y.length!==lt.length||!xt.every(function(Bt,te){return Bt===Ft[te]}))&&this.get("state")===h&&this.get("mediaText")===v&&this.get("selectorsAdd")===j&&this.get("atRuleType")===S},r}(_i);const sd=ad;var ld=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),hu=function(a){function r(t,e){var n=a.call(this,t)||this;return n.editor=e?.em,setTimeout(function(){n.on("remove",n.onRemove),n.on("add",n.onAdd)}),n}return ld(r,a),r.prototype.toJSON=function(t){return F.pM.prototype.toJSON.call(this,t).filter(function(e){return e.style&&!e.shallow})},r.prototype.onAdd=function(t,e,n){t.ensureSelectors(t,e,n)},r.prototype.onRemove=function(t){var e=this.editor;e.stopListening(t),e.UndoManager.remove(t)},r.prototype.add=function(t,e){return void 0===e&&(e={}),"string"==typeof t&&(t=this.editor.get("Parser").parseCss(t)),e.em=this.editor,F.pM.prototype.add.apply(this,[t,e])},r}(F.pM);const Zl=hu;hu.prototype.model=sd;var Jl=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),zs=function(){return zs=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},zs.apply(this,arguments)},Ef=function(a){function r(t){var e=a.call(this,t,"CssComposer",null,{},{stylePrefix:"css-",rules:[]})||this;e.Selectors=O,e.storageKey="styles";var n=e.config,o=n.pStylePrefix;return o&&(n.stylePrefix=o+n.stylePrefix),n.rules=e.em.config.style||n.rules||"",e.rules=new Zl([],n),e}return Jl(r,a),r.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},r.prototype.postLoad=function(){this.em.UndoManager.add(this.getAll())},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(t){return this.loadProjectData(t,{all:this.rules})},r.prototype.add=function(t,e,n,o,l){void 0===o&&(o={}),void 0===l&&(l={});var h=e||"",v=n||"",j=zs({},o),S=this.get(t,h,v,j);return S&&S.config&&!S.config.singleAtRule||(j.state=h,j.mediaText=v,j.selectors=[],v&&!j.atRuleType&&(j.atRuleType="media"),(S=new sd(j,this.config)).get("selectors").add(t,l),this.rules.add(S,l)),S},r.prototype.get=function(t,e,n,o){var l=t;if((0,R.isString)(t)){var h=this.em.Selectors,v=t.split(",")[0].trim(),j=this.em.Parser.parserCss.checkNode({selectors:v})[0];l=h.get(j.selectors)}return this.rules.find(function(S){return S.compare(l,e,n,o)})||null},r.prototype.getAll=function(){return this.rules},r.prototype.addCollection=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={});var o=this.em,l=[];(0,R.isString)(t)&&(t=o.Parser.parseCss(t));for(var h=t instanceof Array?t:[t],v=0,j=h.length;v<j;v++){var S=h[v]||{};if(S.selectors){var Y=o?.Selectors;Y||console.warn("Selector Manager not found");for(var lt=S.selectors,xt=lt instanceof Array?lt:[lt],Ft=[],Bt=0,te=xt.length;Bt<te;Bt++){var Vt=Y.add(xt[Bt]);Ft.push(Vt)}var ke=this.get(Ft,S.state,S.mediaText,S),ze=this.add(Ft,S.state,S.mediaText,S,e),on=!ke||!e.avoidUpdateStyle,_n=S.style||{};if((0,at.isObject)(n)&&ze.set(n,e),on){var An=e.extend?zs(zs({},ze.get("style")),_n):_n;ze.setStyle(An,e)}l.push(ze)}}return l},r.prototype.addRules=function(t){return this.addCollection(t)},r.prototype.setRule=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={});var o=n.atRuleType,l=n.atRuleParams,h=this.em.Parser.parserCss.checkNode({selectors:t,style:e})[0],v=h.state,j=h.selectorsAdd,S=this.em.Selectors.add(h.selectors),Y=this.add(S,v,l,{selectorsAdd:j,atRule:o});return n.addStyles?Y.addStyle(e,n):Y.setStyle(e,n),Y},r.prototype.getRule=function(t,e){void 0===e&&(e={});var n=this.em,o=n.Selectors,l=n.Parser.parserCss.checkNode({selectors:t})[0],h=o.get(l.selectors);return h?this.get(h,l.state,e.atRuleParams,{selectorsAdd:l.selectorsAdd,atRuleType:e.atRuleType}):void 0},r.prototype.getRules=function(t){var e=this.getAll();if(!t)return function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))}([],e.models,!0);var n={sort:!0},o=(0,R.isString)(t)?t.split(",").map(function(l){return l.trim()}):t;return e.filter(function(l){return o.indexOf(l.getSelectors().getFullString(null,n))>=0})},r.prototype.setIdRule=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={});var o=n.addOpts,l=void 0===o?{}:o,h=n.mediaText,v=n.state||"",j=(0,R.isUndefined)(h)?this.em.getCurrentMedia():h,S=this.em.Selectors.add({name:t,type:P.TYPE_ID},l),Y=this.add(S,v,j,{},l);return Y.setStyle(e,zs(zs({},n),l)),Y},r.prototype.getIdRule=function(t,e){void 0===e&&(e={});var n=e.mediaText,o=e.state||"",l=(0,R.isUndefined)(n)?this.em.getCurrentMedia():n,h=this.em.Selectors.get(t,P.TYPE_ID);return h&&this.get(h,o,l)},r.prototype.setClassRule=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={});var o=n.state||"",l=n.mediaText||this.em.getCurrentMedia(),h=this.em.Selectors.add({name:t,type:P.TYPE_CLASS}),v=this.add(h,o,l);return v.setStyle(e,n),v},r.prototype.getClassRule=function(t,e){void 0===e&&(e={});var n=e.state||"",o=e.mediaText||this.em.getCurrentMedia(),l=this.em.Selectors.get(t,P.TYPE_CLASS);return l&&this.get(l,n,o)},r.prototype.remove=function(t,e){var n=(0,R.isString)(t)?this.getRules(t):t,o=this.getAll().remove(n,e);return(0,R.isArray)(o)?o:[o]},r.prototype.clear=function(t){return void 0===t&&(t={}),this.getAll().reset([],t),this},r.prototype.getComponentRules=function(t,e){void 0===e&&(e={});var n=e.state,o=e.mediaText;e.current&&(n=this.em.get("state")||"",o=this.em.getCurrentMedia());var l=t.getId();return this.getAll().filter(function(h){return!(!(0,R.isUndefined)(n)&&h.get("state")!==n||!(0,R.isUndefined)(o)&&h.get("mediaText")!==o||h.getSelectorsString()!=="#".concat(l))})},r.prototype.render=function(){var t;return null===(t=this.rulesView)||void 0===t||t.remove(),this.rulesView=new oe({collection:this.rules,config:this.config}),this.rulesView.render().el},r.prototype.checkId=function(t,e){void 0===e&&(e={});var n=e.idMap,o=void 0===n?{}:n,l=[];return Object.keys(o).length&&(Array.isArray(t)?t:[t]).forEach(function(h){var v=h.selectors;if(v&&1==v.length){var j=v[0];if((0,R.isString)(j)){if("#"===j[0]){var S=j.substring(1),Y=o[S];S&&Y&&(v[0]="#".concat(Y),l.push(h))}}else j.name&&j.type===P.TYPE_ID&&(Y=o[j.name])&&(j.name=Y,l.push(h))}}),l},r.prototype.destroy=function(){var t;this.rules.reset(),this.rules.stopListening(),null===(t=this.rulesView)||void 0===t||t.remove()},r}(st);const cd=Ef;var Df=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const ud=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Df(r,a),r.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{},dragDef:{}}},Object.defineProperty(r.prototype,"category",{get:function(){var t=this.get("category");return t instanceof Z?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),r.prototype.getId=function(){return this.id},r.prototype.getLabel=function(){return this.get("label")},r.prototype.getMedia=function(){return this.get("media")},r.prototype.getContent=function(){return this.get("content")},r.prototype.getDragDef=function(){return this.get("dragDef")},r.prototype.getCategoryLabel=function(){var t=this.get("category");return(0,R.isFunction)(t?.get)?t.get("label"):t?.label?t?.label:t},r}(F.Kx);var If=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),vu=function(a){function r(t,e){var n=a.call(this,t)||this;return n.em=e.em,n.on("add",n.handleAdd),n}return If(r,a),r.prototype.getCategories=function(){return this.em.Blocks.getCategories()},r.prototype.handleAdd=function(t){this.initCategory(t)},r}(Ut);const Mc=vu;var Ql;vu.prototype.model=ud,function(a){a.add="block:add",a.remove="block:remove",a.removeBefore="block:remove:before",a.update="block:update",a.dragStart="block:drag:start",a.drag="block:drag",a.dragEnd="block:drag:stop",a.categoryUpdate="block:category:update",a.custom="block:custom",a.all="block"}(Ql||(Ql={}));var dd=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),bs=function(){return bs=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},bs.apply(this,arguments)},fd=function(a){function r(t,e){void 0===e&&(e={});var n=a.call(this,t)||this,o=n.model;return n.em=e.em,n.config=e,n.endDrag=n.endDrag.bind(n),n.ppfx=e.pStylePrefix||"",n.listenTo(o,"destroy remove",n.remove),n.listenTo(o,"change",n.render),n}return dd(r,a),r.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},r.prototype.__getModule=function(){return this.em.Blocks},r.prototype.handleClick=function(t){var e,n,o=this,l=o.config,h=o.model,v=o.em,j=h.get("onClick")||l.appendOnClick;if(v.trigger("block:click",h,t),j){if((0,R.isFunction)(j))return j(h,v?.getEditor(),{event:t});var S=null===(e=l.getSorter)||void 0===e?void 0:e.call(l);if(S){var Y,lt,xt=h.get("content"),Ft=null===(n=this.getTempDropModel(xt).view)||void 0===n?void 0:n.el,Bt=Ft?[{element:Ft,dragSource:{content:xt}}]:[],te=v.getSelected();if(te)if(S.validTarget(te.getEl(),Bt,0))Y=te;else{var ke=te.parent();ke&&S.validTarget(ke.getEl(),Bt,0)&&(Y=ke,lt=ke.components().indexOf(te)+1)}if(!Y){var ze=v.getWrapper();S.validTarget(ze.getEl(),Bt,0)&&(Y=ze)}var on=Y&&Y.append(xt,{at:lt})[0];on&&v.setSelected(on,{scroll:1})}}},r.prototype.startDrag=function(t){var e,n=this,o=n.config,l=n.em,h=n.model,v=h.get("disable");if(0===t.button&&o.getSorter&&!this.el.draggable&&!v){l.refreshCanvas();var j=o.getSorter();j.__currentBlock=h;var S=this.model.get("content"),Y=null===(e=this.getTempDropModel(S).view)||void 0===e?void 0:e.el;j.startSort(Y?[{element:Y,dragSource:{content:S}}]:[]),(0,kt.on)(document,"mouseup",this.endDrag)}},r.prototype.handleDragStart=function(t){this.__getModule().__startDrag(this.model,t)},r.prototype.handleDrag=function(t){this.__getModule().__drag(t)},r.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},r.prototype.endDrag=function(){var t,e;(0,kt.AU)(document,"mouseup",this.endDrag);var n=null===(e=(t=this.config).getSorter)||void 0===e?void 0:e.call(t);n&&n.endDrag()},r.prototype.getTempDropModel=function(t){var e,n=this.em.Components.getComponents(),o={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},l=n.add(t,bs(bs({},o),{temporary:!0})),h=n.remove(l,bs(bs({},o),{temporary:!0}));return null===(e=(h=h instanceof Array?h[0]:h).view)||void 0===e||e.$el.data("model",h),h},r.prototype.render=function(){var t,e=this,n=e.em,o=e.el,l=e.$el,h=e.ppfx,v=e.model,j=v.get("disable"),S=v.get("attributes")||{},Y=S.class||"",lt="".concat(h,"block"),xt=n&&n.t("blockManager.labels.".concat(v.id))||v.get("label"),Ft=v.get("render"),Bt=v.get("media"),te=j?"".concat(lt,"--disable"):"".concat(h,"four-color-h");l.attr(S),o.className="".concat(Y," ").concat(lt," ").concat(h,"one-bg ").concat(te).trim(),o.innerHTML="\n      ".concat(Bt?'<div class="'.concat(lt,'__media">').concat(Bt,"</div>"):"",'\n      <div class="').concat(lt,'-label">').concat(xt,"</div>\n    "),o.title=S.title||(null===(t=o.textContent)||void 0===t?void 0:t.trim()),o.setAttribute("draggable","".concat(!(!(0,at.hasDnd)(n)||j)));var Vt=Ft&&Ft({el:o,model:v,className:lt,prefix:h});return Vt&&(o.innerHTML=Vt),this},r}(F.Ss);const Pf=fd;var pd=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),hd=function(a){function r(t,e,n){var o=a.call(this,t)||this;o.config=e;var l=e.pStylePrefix||"";return o.em=e.em,o.catName=n,o.pfx=l,o.caretR="fa fa-caret-right",o.caretD="fa fa-caret-down",o.iconClass="".concat(l,"caret-icon"),o.activeClass="".concat(l,"open"),o.className="".concat(l).concat(n,"-category"),o.listenTo(o.model,"change:open",o.updateVisibility),o.model.view=o,o}return pd(r,a),r.prototype.events=function(){return{"click [data-title]":"toggle"}},r.prototype.template=function(t){var e=t.pfx,n=t.label,o=t.catName;return ct(gd||(gd=function(a,r){return Object.defineProperty?Object.defineProperty(a,"raw",{value:r}):a.raw=r,a}(['\n      <div class="','title" data-title>\n        <i class="','caret-icon"></i>\n        ','\n      </div>\n      <div class="',"",'s-c"></div>\n    '],['\n      <div class="','title" data-title>\n        <i class="','caret-icon"></i>\n        ','\n      </div>\n      <div class="',"",'s-c"></div>\n    '])),e,e,n,e,o)},r.prototype.attributes=function(){return this.model.get("attributes")||{}},r.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},r.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},r.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},r.prototype.toggle=function(){var t=this.model;t.set("open",!t.get("open"))},r.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},r.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},r.prototype.append=function(t){this.getTypeEl().appendChild(t)},r.prototype.render=function(){var t=this,n=t.el,o=t.$el,l=t.model,h=t.pfx,v=t.catName,j=t.em.t("".concat(v,"Manager.categories.").concat(l.id))||l.get("label");return n.innerHTML=this.template({pfx:h,label:j,catName:v}),o.addClass(this.className),o.css({order:l.get("order")}),this.updateVisibility(),this},r}(F.Ss);const tc=hd;var gd,Nf=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rc=function(){return Rc=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Rc.apply(this,arguments)},Do=function(a){function r(t,e){var n=a.call(this,t)||this;n.renderedCategories=new Map,(0,R.bindAll)(n,"getSorter","onDrag","onDrop","onMove"),n.config=e||{},n.categories=t.categories||"";var o=n.config.pStylePrefix||"";n.ppfx=o,n.noCatClass="".concat(o,"blocks-no-cat"),n.blockContClass="".concat(o,"blocks-c"),n.catsClass="".concat(o,"block-categories");var l=n.collection;return n.listenTo(l,"add",n.addTo),n.listenTo(l,"reset",n.render),n.em=n.config.em,n.em&&(n.config.getSorter=n.getSorter),n}return Nf(r,a),r.prototype.__getModule=function(){return this.em.Blocks},r.prototype.updateConfig=function(t){void 0===t&&(t={}),this.config=Rc(Rc({},this.config),t)},r.prototype.getSorter=function(){var t=this.em;if(t){if(!this.sorter){var n=t.Canvas;this.sorter=new t.Utils.ComponentSorter({em:t,treeClass:Va,containerContext:{container:n.getBody(),containerSel:"*",itemSel:"*",pfx:this.ppfx,placeholderElement:n.getPlacerEl(),document:n.getBody().ownerDocument},dragBehavior:{dragDirection:ro.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnStartSort:this.onDrag,legacyOnEndMove:this.onDrop,legacyOnMoveClb:this.onMove}})}return this.sorter}},r.prototype.onDrag=function(t){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,t)},r.prototype.onMove=function(t){this.__getModule().__drag(t)},r.prototype.onDrop=function(t){this.em.runDefault(),this.__getModule().__endDrag({component:t}),delete this.sorter.__currentBlock},r.prototype.addTo=function(t){this.add(t)},r.prototype.add=function(t,e){var n=this.config,o=this.renderedCategories,l=t.get("attributes"),h=new Pf({model:t,attributes:l},n).render().el,v=t.parent.initCategory(t);if(v&&this.categories&&!n.ignoreCategories){var j=v.getId(),S=this.getCategoriesEl(),Y=o.get(j);return!Y&&S&&(Y=new tc({model:v},n,"block").render(),o.set(j,Y),S.appendChild(Y.el)),void(null==Y||Y.append(h))}e?e.appendChild(h):this.append(h)},r.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},r.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},r.prototype.append=function(t){var e=this.getBlocksEl();e&&e.appendChild(t)},r.prototype.render=function(){var t=this,e=this.ppfx,n=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML='\n      <div class="'.concat(this.catsClass,'"></div>\n      <div class="').concat(this.noCatClass,'">\n        <div class="').concat(this.blockContClass,'"></div>\n      </div>\n    '),this.collection.each(function(l){return t.add(l,n)}),this.append(n);var o="".concat(this.blockContClass,"s ").concat(e,"one-bg ").concat(e,"two-color");return this.$el.addClass(o),this.rendered=!0,this},r}(F.Ss);const vd=Do;var mu=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),va=function(){return va=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},va.apply(this,arguments)},ja=function(a){function r(t){var e,n=a.call(this,t,"BlockManager",new Mc((null===(e=t.config.blockManager)||void 0===e?void 0:e.blocks)||[],{em:t}),Ql,{appendTo:"",blocks:[],appendOnClick:!1,custom:!1})||this;return n.events=Ql,n.Block=ud,n.Blocks=Mc,n.Category=Z,n.Categories=ye,n.storageKey="",n.blocks=n.all,n.blocksVisible=new Mc(n.blocks.models,{em:t}),n.categories=new ye([],{em:t,events:{update:Ql.categoryUpdate}}),n.blocks.on("add",function(o){return n.blocksVisible.add(o)}),n.blocks.on("remove",function(o){return n.blocksVisible.remove(o)}),n.blocks.on("reset",function(o){return n.blocksVisible.reset(o.models)}),n.__onAllEvent=(0,R.debounce)(function(){return n.__trgCustom()},0),n}return mu(r,a),r.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},r.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:e.container,dragStart:function(n,o){return t.startDrag(n,o)},drag:function(n){return t.__drag(n)},dragStop:function(n){return t.endDrag(n)}}},r.prototype.__startDrag=function(t,e){var n=this,o=n.em,l=n.events,h=n.blocks,v=t.getContent?t.getContent():t;this._dragBlock=t,o.set({dragResult:null,dragSource:{content:v,dragDef:t.getDragDef()}}),[o,h].map(function(j){return j.trigger(l.dragStart,t,e)})},r.prototype.__drag=function(t){var e=this,o=e.events,h=this._dragBlock;[e.em,e.blocks].map(function(v){return v.trigger(o.drag,h,t)})},r.prototype.__endDrag=function(t){void 0===t&&(t={});var e=this,n=e.em,o=e.events,l=e.blocks,h=this._dragBlock,v=t.component||n.get("dragResult");if(delete this._dragBlock,v&&h){var j="activeOnRender",S=v.get&&v.get(j),Y=h.get("activate")||S,lt=h.get("select"),xt=(0,R.isArray)(v)?v[0]:v;(lt||Y&&!1!==lt)&&n.setSelected(xt),Y&&(xt.trigger("active"),S&&xt.unset(j)),h.get("resetId")&&xt.onAll(function(Ft){return Ft.resetId()})}n.set({dragResult:null,dragSource:void 0}),h&&[n,l].map(function(Ft){return Ft.trigger(o.dragEnd,v,h)})},r.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(t){return t.view}).filter(Boolean)},r.prototype.__behaviour=function(t){return void 0===t&&(t={}),this._bhv=va(va({},this._bhv||{}),t)},r.prototype.__getBehaviour=function(){return this._bhv||{}},r.prototype.startDrag=function(t,e){this.__startDrag(t,e),this.__getFrameViews().forEach(function(n){var o;return null===(o=n.droppable)||void 0===o?void 0:o.startCustom()})},r.prototype.endDrag=function(t){this.__getFrameViews().forEach(function(e){var n;return null===(n=e.droppable)||void 0===n?void 0:n.endCustom(t)}),this.__endDrag()},r.prototype.postRender=function(){var t=this,o=t.em,l=this.blocksVisible;this.blocksView=new vd({collection:l,categories:t.categories},va(va({},t.config),{em:o})),this.__appendTo(l.models),this.__trgCustom()},r.prototype.add=function(t,e,n){void 0===n&&(n={});var o=e||{};return o.id=t,this.blocks.add(o,n)},r.prototype.get=function(t){return this.blocks.get(t)},r.prototype.getAll=function(){return this.blocks},r.prototype.getAllVisible=function(){return this.blocksVisible},r.prototype.remove=function(t,e){return void 0===e&&(e={}),this.__remove(t,e)},r.prototype.getCategories=function(){return this.categories},r.prototype.getContainer=function(){var t;return null===(t=this.blocksView)||void 0===t?void 0:t.el},r.prototype.getDragBlock=function(){return this._dragBlock},r.prototype.getBlocksByCategory=function(t){return vt(t||this.getAll().models)},r.prototype.render=function(t,e){void 0===e&&(e={});var n=this,o=n.categories,l=n.config,h=n.em,v=t||this.getAll().models;if(e.external){var j=new Mc(v,{em:h});return new vd({collection:j,categories:o},va(va({em:h},l),e)).render().el}return this.blocksView&&(this.blocksView.updateConfig(e),this.blocksView.collection.reset(v),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},r.prototype.destroy=function(){var t,e=[this.blocks,this.blocksVisible,this.categories];e.map(function(n){return n.stopListening()}),e.map(function(n){return n.reset()}),null===(t=this.blocksView)||void 0===t||t.remove()},r}(st);const Hc=ja;var md=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),_u=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return md(r,a),r.prototype.defaults=function(){return{name:"",label:""}},r.prototype.getName=function(){return this.get("name")},r.prototype.getLabel=function(){return this.get("label")||this.getName()},r}(F.Kx);const Bc=_u;_u.prototype.idAttribute="name";var yd=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),bd="contentEditable",bu=function(a){function r(t){void 0===t&&(t={});var e=a.call(this,t)||this,n=t.config||{};return e.config=n,e.module=t.module,e.coll=t.coll||null,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.em=n.em,e.listenTo(e.model,"change:active",e.updateStatus),e}return yd(r,a),r.prototype.template=function(){var t=this,e=t.pfx,o=t.config,l=t.model.get("label")||"";return ct(oo||(oo=function(a,r){return Object.defineProperty?Object.defineProperty(a,"raw",{value:r}):a.raw=r,a}(['\n      <span id="','checkbox" class="','tag-status" data-tag-status></span>\n      <span id="','tag-label" data-tag-name>','</span>\n      <span id="','close" class="','tag-close" data-tag-remove> $'," </span>\n    "],['\n      <span id="','checkbox" class="','tag-status" data-tag-status></span>\n      <span id="','tag-label" data-tag-name>','</span>\n      <span id="','close" class="','tag-close" data-tag-remove> $'," </span>\n    "])),e,e,e,l,e,e,o.iconTagRemove)},r.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},r.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},r.prototype.startEditTag=function(){var t=this.em,e=this.getInputEl();e[bd]="true",e.focus(),t?.setEditing(!0)},r.prototype.endEditTag=function(){var t=this.model,e=this.em,n=this.getInputEl(),o=n.textContent||"",l=e?.Selectors;n[bd]="false",e?.setEditing(!1),l&&l.rename(t,o)!==t&&(n.innerText=t.getLabel())},r.prototype.changeStatus=function(){var t=this.model;t.set("active",!t.getActive())},r.prototype.removeTag=function(){this.module.removeSelected(this.model)},r.prototype.updateStatus=function(){var t=this,e=t.model,n=t.$el,o=t.config,l=o.iconTagOn,h=o.iconTagOff,v=n.find("[data-tag-status]");e.get("active")?(v.html(l),n.removeClass("opac50")):(v.html(h),n.addClass("opac50"))},r.prototype.render=function(){var t=this,n=t.ppfx,o=t.$el,l=t.model,h="".concat(t.pfx,"tag"),v=["".concat(h," ").concat(n,"three-bg")];return l.get("protected")&&v.push("".concat(h,"-protected")),o.html(this.template()),o.attr("class",v.join(" ")),this.updateStatus(),this},r}(F.Ss);const wd=bu;var oo,xd=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),ec=function(a,r){return Object.defineProperty?Object.defineProperty(a,"raw",{value:r}):a.raw=r,a},yl=function(a){function r(t){void 0===t&&(t={});var e=a.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.className=e.pfx+"tags",e.stateInputId=e.pfx+"states",e.stateInputC=e.pfx+"input-c",e.states=e.config.states||[];var n=e.config.em,o=e.collection;e.target=n;var l=n.Selectors;e.module=l,e.em=n,e.componentChanged=(0,R.debounce)(e.componentChanged.bind(e),0),e.checkSync=(0,R.debounce)(e.checkSync.bind(e),0);var h=Se.I.update,v="".concat(h,":classes"),j="component:toggled ".concat(v),S="".concat(v," ").concat(h,":attributes:id change:state");return e.listenTo(n,j,e.componentChanged),e.listenTo(n,"styleManager:update",e.componentChanged),e.listenTo(n,S,e.__handleStateChange),e.listenTo(n,"styleable:change change:device",e.checkSync),e.listenTo(o,"add",e.addNew),e.listenTo(o,"reset",e.renderClasses),e.listenTo(o,"remove",e.tagRemoved),e.listenTo(l.getAll(),l.events.state,(0,R.debounce)(function(){return e.renderStates()},0)),e.delegateEvents(),e}return xd(r,a),r.prototype.template=function(t){var e=t.labelInfo,n=t.labelHead,o=t.iconSync,l=t.iconAdd,h=t.pfx,v=t.ppfx;return ct(nc||(nc=ec([' <div id="','up" class="','header">\n        <div id="','label" class="','header-label">','</div>\n        <div id="','status-c" class="','header-status">\n          <span id="','input-c" data-states-c>\n            <div class="',"field ",'select">\n              <span id="','input-holder">\n                <select id="','states" data-states></select>\n              </span>\n              <div class="','sel-arrow">\n                <div class="','d-s-arrow"></div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div id="','tags-field" class="','field">\n        <div id="','tags-c" data-selectors></div>\n        <input id="','new" data-input />\n        <span id="','add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',' </span>\n        <span class="',"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',' </span>\n      </div>\n      <div class="','sels-info">\n        <div class="','label-sel">',':</div>\n        <div class="','sels" data-selected></div>\n      </div>'],[' <div id="','up" class="','header">\n        <div id="','label" class="','header-label">','</div>\n        <div id="','status-c" class="','header-status">\n          <span id="','input-c" data-states-c>\n            <div class="',"field ",'select">\n              <span id="','input-holder">\n                <select id="','states" data-states></select>\n              </span>\n              <div class="','sel-arrow">\n                <div class="','d-s-arrow"></div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div id="','tags-field" class="','field">\n        <div id="','tags-c" data-selectors></div>\n        <input id="','new" data-input />\n        <span id="','add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',' </span>\n        <span class="',"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',' </span>\n      </div>\n      <div class="','sels-info">\n        <div class="','label-sel">',':</div>\n        <div class="','sels" data-selected></div>\n      </div>'])),h,h,h,h,n,h,h,h,v,v,v,h,v,v,h,v,h,h,h,h,h,l,h,h,o,h,h,e,h)},r.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},r.prototype.syncStyle=function(){var t,e=this.em,n=this.getTarget(),o=e.Css,l=this.getCommonSelectors({opts:{noDisabled:1}}),h=e.get("state"),v=e.getCurrentMedia(),j=[],S=o.get(l,h,v)||o.add(l,h,v);this.getTargets().forEach(function(Y){var lt=o.getIdRule(Y.getId(),{state:h,mediaText:v});t=lt.getStyle(),lt.setStyle({}),j.push(lt)}),t&&S.addStyle(t),e.trigger("component:toggled"),e.trigger("component:sync-style",{component:n,selectors:l,mediaText:v,rule:S,ruleComponents:j,state:h})},r.prototype.tagRemoved=function(t){this.updateStateVis()},r.prototype.addNew=function(t){this.addToClasses(t)},r.prototype.startNewTag=function(){var t,e;null===(t=this.$addBtn)||void 0===t||t.css({display:"none"}),null===(e=this.$input)||void 0===e||e.show().focus()},r.prototype.endNewTag=function(){var t,e;null===(t=this.$addBtn)||void 0===t||t.css({display:""}),null===(e=this.$input)||void 0===e||e.hide().val("")},r.prototype.onInputKeyUp=function(t){var e;13===t.keyCode?(t.preventDefault(),this.addNewTag(null===(e=this.$input)||void 0===e?void 0:e.val())):27===t.keyCode&&this.endNewTag()},r.prototype.checkStates=function(){var t=this.em.getState(),e=this.getStates();e&&e.val(t)},r.prototype.componentChanged=function(t){this.updateSelection((void 0===t?{}:t).targets)},r.prototype.updateSelection=function(t){var e=t||this.getTargets(),n=[];return(e=(0,R.isArray)(e)?e:[e])&&e.length&&(n=this.getCommonSelectors({targets:e}),this.checkSync({validSelectors:n})),this.collection.reset(n),this.updateStateVis(e),this.module.__trgCustom(),n},r.prototype.getCommonSelectors=function(t){var e=void 0===t?{}:t,o=e.opts,l=void 0===o?{}:o,h=e.targets||this.getTargets();return this.module.__getCommonSelectors(h,l)},r.prototype._commonSelectors=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.module).__common.apply(t,e)},r.prototype.checkSync=function(){var t,e=this,n=e.$btnSyncEl,o=e.config,l=e.collection,h=this.getTarget();if(h&&o.componentFirst&&l.length){var v=h.getStyle();t=!(0,R.isEmpty)(v)}n&&n[t?"show":"hide"]()},r.prototype.getTarget=function(){return this.target.getSelected()},r.prototype.getTargets=function(){return this.target.getSelectedAll()},r.prototype.updateStateVis=function(t){var e=this.em,n=e&&e.getConfig().avoidInlineStyle,o=this.collection.length||n?"":"none";this.getStatesC().css("display",o),this.updateSelector(t)},r.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},r.prototype.updateSelector=function(t){var e=this,n=this.el.querySelector("[data-selected]"),o=[],l=t||this.getTargets();(l=(0,R.isArray)(l)?l:[l]).forEach(function(h){return o.push(e.__getName(h))}),n&&(n.innerHTML=o.join(", ")),this.checkStates()},r.prototype.__getName=function(t){var e,n=this,o=n.pfx,l=n.config,h=n.em,v=l.selectedName,j=l.componentFirst;if((0,R.isString)(t))e=ct(Cd||(Cd=ec(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),o,t);else{var S=t?.getSelectors();if(!S)return"";var Y=S.getStyleable(),lt=h.get("state"),xt=t.getId?ct(Ho||(Ho=ec(['<span class="','sel-cmp">','</span>\n            <span class="','sel-id">#',"</span>"],['<span class="','sel-cmp">','</span>\n            <span class="','sel-id">#',"</span>"])),o,t.getName(),o,t.getId()):"";e=(e=this.collection.getFullString(Y))?ct(Sd||(Sd=ec(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),o,e):t.get("selectorsAdd")||xt,e=j&&xt?xt:e,e+=lt?ct(Td||(Td=ec(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),o,lt):"",e=v?v({result:e,state:lt,target:t}):e}return e&&'<span class="'.concat(o,'sel">').concat(e,"</span>")},r.prototype.stateChanged=function(t){this.em.set("state",t.target.value)},r.prototype.addNewTag=function(t){var e=t.trim();e&&(this.module.addSelected({label:e}),this.endNewTag())},r.prototype.addToClasses=function(t,e){var n=e,o=this.getClasses(),l=new wd({model:t,config:this.config,coll:this.collection,module:this.module}).render().el;return n?n.appendChild(l):o.append(l),l},r.prototype.renderClasses=function(){var t=this,e=document.createDocumentFragment(),n=this.getClasses();n.empty(),this.collection.each(function(o){return t.addToClasses(o,e)}),n.append(e)},r.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},r.prototype.getStates=function(){if(!this.$states){var t=this.$el.find("[data-states]");this.$states=t[0]&&t}return this.$states},r.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},r.prototype.renderStates=function(){var t=this.module,e=this.em,n=e.t("selectorManager.emptyState"),o=t.getStates().map(function(h){var v=e.t("selectorManager.states.".concat(h.id))||h.getLabel()||h.id;return'<option value="'.concat(h.id,'">').concat(v,"</option>")}).join(""),l=this.getStates();l&&l.html('<option value="">'.concat(n,"</option>").concat(o)),this.checkStates()},r.prototype.render=function(){var t=this,e=t.em,n=t.pfx,o=t.ppfx,l=t.config,h=t.$el,v=t.el,j=l.render,S={iconSync:l.iconSync,iconAdd:l.iconAdd,labelHead:e.t("selectorManager.label"),labelInfo:e.t("selectorManager.selected"),ppfx:o,pfx:n,el:v};h.html(this.template(S));var Y=j&&j(S);return Y&&Y!==v&&h.empty().append(Y),this.$input=h.find("[data-input]"),this.$addBtn=h.find("[data-add]"),this.$classes=h.find("#"+n+"tags-c"),this.$btnSyncEl=h.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),h.attr("class","".concat(this.className," ").concat(o,"one-bg ").concat(o,"two-color")),this},r}(F.Ss);const Lf=yl;var nc,Cd,Ho,Sd,Td,Ff=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),ws=function(){return ws=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},ws.apply(this,arguments)},i=function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))},s=function(a){return(0,R.isString)(a)&&"#"==a[0]},p=function(a){return(0,R.isString)(a)&&"."==a[0]},f="selector",y="".concat(f,":"),D="".concat(y,"add"),Q="".concat(y,"update"),it="".concat(y,"remove"),bt="".concat(it,":before"),Tt="".concat(y,"custom"),Yt="".concat(y,"state"),Zt={all:f,update:Q,add:D,remove:it,removeBefore:bt,state:Yt,custom:Tt},_e=function(a){function r(t){var e=a.call(this,t,"SelectorManager",new O([]),Zt,{stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1},{skipListen:!0})||this;e.Selector=P,e.Selectors=O,e.storageKey="",(0,R.bindAll)(e,"__updateSelectedByComponents");var n=e.config,o=n.pStylePrefix;o&&(n.stylePrefix=o+n.stylePrefix),e.all=new O(n.selectors),e.selected=new O([],{em:t,config:n}),e.states=new F.pM(n.states.map(function(v){return new Bc(v)}),{model:Bc}),e.model=new F.Kx({cFirst:n.componentFirst,_undo:!0}),e.__update=(0,R.debounce)(function(){return e.__trgCustom()},0),e.__initListen({collections:[e.states,e.selected],propagate:[{entity:e.states,event:e.events.state}]}),t.on("change:state",function(v,j){return t.trigger(Yt,j)}),e.model.on("change:cFirst",function(v,j){return t.trigger("selector:type",j)});var l="".concat(Se.I.update,":classes");t.on("component:toggled ".concat(l),e.__updateSelectedByComponents);var h="component:toggled ".concat(l," change:device styleManager:update selector:state selector:type style:target");return e.model.listenTo(t,h,function(){return e.__update()}),e}return Ff(r,a),r.prototype.__trgCustom=function(t){this.em.trigger(this.events.custom,this.__customData(t))},r.prototype.getAll=function(t){return void 0===t&&(t={}),this.all?t.array?i([],this.all.models,!0):this.all:[]},r.prototype.__customData=function(t){return void 0===t&&(t={}),this.__ctn=this.__ctn||t.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},r.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},r.prototype.select=function(t,e){void 0===e&&(e={});var n=Array.isArray(t)?t:[t],o=this.em.Styles.select(n,e);this.selected.reset(this.__getCommonSelectors(o));var l=this.selectorTags,h=o.filter(function(v){return v}).map(function(v){return(0,at.isComponent)(v)||(0,at.isRule)(v)&&!v.get("selectorsAdd")?v:v.getSelectorsString()});return l&&l.componentChanged({targets:h}),this},r.prototype.addSelector=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={});var o=ws({},e);(0,R.isObject)(t)?o=t:o.name=t,s(o.name)?(o.name=o.name.substr(1),o.type=P.TYPE_ID):p(o.name)&&(o.name=o.name.substr(1)),o.label&&!o.name&&(o.name=this.escapeName(o.label));var l=o.name,h=this.getConfig(),v=this.all,j=this.em,S=l?this.get(l,o.type):v.where(o)[0];if(!S){var Y=o instanceof P?o:new P(o,ws(ws({},n),{config:h,em:j}));return v.add(Y,n)}return S},r.prototype.getSelector=function(t,e){return void 0===e&&(e=P.TYPE_CLASS),s(t)?(t=t.substr(1),e=P.TYPE_ID):p(t)&&(t=t.substr(1)),this.all.where({name:t,type:e})[0]},r.prototype.add=function(t,e){var n=this;void 0===e&&(e={});var o=(0,R.isString)(t)?{}:e;return(0,R.isArray)(t)?t.map(function(l){return n.addSelector(l,e,o)}):this.addSelector(t,e,o)},r.prototype.addClass=function(t){var e=this,n=[];return(0,R.isString)(t)&&(t=t.trim().split(" ")),t.forEach(function(o){return n.push(e.addSelector(o))}),n},r.prototype.get=function(t,e){var n=this;if((0,R.isArray)(t)){var o=[];return t.map(function(l){return n.getSelector(l)}).filter(Boolean).forEach(function(l){return o.indexOf(l)<0&&o.push(l)}),o}return this.getSelector(t,e)},r.prototype.remove=function(t,e){return this.__remove(t,e)},r.prototype.rename=function(t,e,n){var o=this.escapeName(e);return this.get(o)||t.set({name:o,label:e},n)},r.prototype.setState=function(t){return this.em.setState(t),this},r.prototype.getState=function(){return this.em.getState()},r.prototype.getStates=function(){return i([],this.states.models,!0)},r.prototype.setStates=function(t,e){return this.states.reset(t.map(function(n){return new Bc(n)}),e)},r.prototype.getSelected=function(){return this.__getCommon()},r.prototype.getSelectedAll=function(){return i([],this.selected.models,!0)},r.prototype.addSelected=function(t){var e=this.add(t);this.em.getSelectedAll().forEach(function(n){n.getSelectors().add(e)})},r.prototype.removeSelected=function(t){this.em.getSelectedAll().forEach(function(e){!t.get("protected")&&e&&e.getSelectors().remove(t)})},r.prototype.duplicateSelected=function(t,e){var n=this;void 0===e&&(e={});var o=this.em,l=this.getSelected();if(!(l.indexOf(t)<0)){var h=this.getState(),v=o.getCurrentMedia(),j=o.Css.get(l,h,v),S=j?.getStyle();o.getSelectedAll().forEach(function(Y){var lt=Y.getSelectors();if(lt.includes(t)){var xt=e.suffix||" copy",Ft=t.getLabel(),Bt=n.addSelector("".concat(Ft).concat(xt)),te=lt.indexOf(t);lt.remove(t),lt.add(Bt,{at:te})}}),S&&o.Css.add(this.getSelected(),h,v).setStyle(S)}},r.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},r.prototype.setComponentFirst=function(t){this.getConfig().componentFirst=t,this.model.set({cFirst:t})},r.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},r.prototype.escapeName=function(t){var e=this.getConfig().escapeName;return e?e(t):P.escapeName(t)},r.prototype.render=function(t){var e=this.selectorTags,n=this.getConfig(),o=e?.el;return this.selected.reset(t),this.selectorTags=new Lf({el:o,collection:this.selected,module:this,config:n}),this.selectorTags.render().el},r.prototype.destroy=function(){var t=this.selectorTags;this.model.stopListening(),this.__update.cancel(),this.__destroy(),t?.remove(),this.selectorTags=void 0},r.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},r.prototype.__getCommonSelectors=function(t,e){void 0===e&&(e={});var n=t.map(function(o){return o.getSelectors&&o.getSelectors().getValid(e)}).filter(Boolean);return this.__common.apply(this,n)},r.prototype.__common=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length?1===e.length?e[0]:2===e.length?e[0].filter(function(o){return e[1].indexOf(o)>=0}):e.slice(1).reduce(function(o,l){return t.__common(o,l)},e[0]):[]},r.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},r}(st);const be=_e;var Ye,Zr=((Ye={})[4]="media",Ye[5]="font-face",Ye[6]="page",Ye[7]="keyframes",Ye[11]="counter-style",Ye[12]="supports",Ye[13]="document",Ye[14]="font-feature-values",Ye[15]="viewport",Ye),Vi=(0,R.keys)(Zr),bo=[5,6,11,15],ma=Vi.filter(function(a){return bo.indexOf(Number(a))<0}).map(function(a){return Zr[a]}).concat(["container","layer"]),Xi=bo.map(function(a){return Zr[a]}),Po=function(a){void 0===a&&(a="");for(var r=[],t=[],e=a.split(","),n=0,o=e.length;n<o;n++){var l=e[n].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(l)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(l)){var h=l.split(".").filter(Boolean);t.push(h)}else r.push(l)}return{result:t,add:r}},zi=function(a){for(var r=a.style,t={},e=0,n=r.length;e<n;e++){var o=r[e],l=r.getPropertyValue(o),h=r.getPropertyPriority(o);t[o]="".concat(l).concat(h?" !".concat(h):"")}return t},ji=function(a){return(a.conditionText||a.media&&a.media.mediaText||a.name||a.selectorText||"").trim()},Bo=function(a,r,t){void 0===r&&(r={}),void 0===t&&(t={});var e={},n=a.length,o=a[n-1],l=o?o.split(/:(.+)/):[],h=l[1],v=t.atRule,j=t.selectorsAdd,S=t.mediaText;return Xi.indexOf(v)>=0&&(e.singleAtRule=!0),v&&(e.atRuleType=v),j&&(e.selectorsAdd=j),S&&(e.mediaText=S),h&&(a[n-1]=l[0],e.state=h,l.splice(l.length-1,1)),e.selectors=a,e.style=r,e},Vo=function(a){var r=a.cssText,t=void 0===r?"":r;return ma.find(function(e){return 0===t.indexOf("@".concat(e))})},$o=function(a){for(var r=[],t=a.cssRules||[],e=0,n=t.length;e<n;e++){var o=t[e],l=o.type,h=!1,v="",j="",S=o.selectorText||o.keyText||"",Y=bo.indexOf(l)>=0;if(Y)h=!0,v=Zr[l],j=ji(o);else if(Vi.indexOf("".concat(l))>=0||!l&&Vo(o)){var lt=$o(o),xt=Zr[l]||Vo(o);j=ji(o);for(var Ft=0,Bt=lt.length;Ft<Bt;Ft++){var te=lt[Ft];j&&(te.mediaText=j),te.atRuleType=xt}r=r.concat(lt)}if(S||Y){for(var Vt=zi(o),ke=Po(S),ze=ke.add,on=ke.result,_n=void 0,An=0,er=on.length;An<er;An++){var Un=Bo(on[An],Vt,{atRule:Zr[l]});r.push(Un),_n=Un}if(ze.length){var mr=ze.join(", ");_n?_n.selectorsAdd=mr:(Un={selectors:[],selectorsAdd:mr,style:Vt},h&&(Un.singleAtRule=h),v&&(Un.atRuleType=v),j&&(Un.mediaText=j),r.push(Un))}}}return r},xs=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),ra=function(){return ra=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},ra.apply(this,arguments)},Di=function(a){function r(t){var e=a.call(this,t,"Parser",{textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1}})||this;e.events=Qe;var n=e.config;return e.parserCss=function(a,r){return void 0===r&&(r={}),{parse:function(t,e){var n=this;void 0===e&&(e={});var o,l=[],h=r.parserCss,v=a?.Editor,j=[],S=a?.Parser,Y={input:t};S?.__emitEvent(Qe.cssBefore,Y);var lt=Y.input;try{j=h?h(lt,v):function(xt){var Ft=document.createElement("style");Ft.innerHTML=xt,document.head.appendChild(Ft);var Bt=Ft.sheet;return document.head.removeChild(Ft),Bt?$o(Bt):[]}(lt)}catch(xt){if(o=xt,e.throwOnError)throw xt}return j.forEach(function(xt){return l=l.concat(n.checkNode(xt))}),S?.__emitEvent(Qe.css,{input:lt,output:l,nodes:j,error:o}),l},checkNode:function(t){var e=t.selectors,n=t.style,o=[t];if((0,R.isString)(e)){var l=[],h=t,v=Po(e),j=v.result,S=v.add.join(", "),Y={atRule:h.atRule,mediaText:h.params};j.length?j.forEach(function(lt){l.push(Bo(lt,n,Y))}):l.push(Bo([],n,Y)),S&&(l[l.length-1].selectorsAdd=S),o=l}return o}}}(t,n),e.parserHtml=Br(t,n),e}return xs(r,a),r.prototype.parseHtml=function(t,e){void 0===e&&(e={});var o=this.parserHtml;return o.compTypes=this.em.Components.getTypes()||[],o.parse(t,this.parserCss,e)},r.prototype.parseCss=function(t){return this.parserCss.parse(t)},r.prototype.__emitEvent=function(t,e){var n=this.em,o=this.events;n.trigger(t,e),n.trigger(o.all,ra({event:t},e))},r.prototype.destroy=function(){},r}(K);const ri=Di;var Ba=function(a,r,t,e){return new(t||(t=Promise))(function(n,o){function l(j){try{v(e.next(j))}catch(S){o(S)}}function h(j){try{v(e.throw(j))}catch(S){o(S)}}function v(j){var S;j.done?n(j.value):(S=j.value,S instanceof t?S:new t(function(Y){Y(S)})).then(l,h)}v((e=e.apply(a,r||[])).next())})},Cs=function(a,r){var t,e,n,o,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function h(v){return function(j){return function(S){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,S[0]&&(l=0)),l;)try{if(t=1,e&&(n=2&S[0]?e.return:S[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,S[1])).done)return n;switch(e=0,n&&(S=[2&S[0],n.value]),S[0]){case 0:case 1:n=S;break;case 4:return l.label++,{value:S[1],done:!1};case 5:l.label++,e=S[1],S=[0];continue;case 7:S=l.ops.pop(),l.trys.pop();continue;default:if(!((n=(n=l.trys).length>0&&n[n.length-1])||6!==S[0]&&2!==S[0])){l=0;continue}if(3===S[0]&&(!n||S[1]>n[0]&&S[1]<n[3])){l.label=S[1];break}if(6===S[0]&&l.label<n[1]){l.label=n[1],n=S;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(S);break}n[2]&&l.ops.pop(),l.trys.pop();continue}S=r.call(a,l)}catch(Y){S=[6,Y],e=0}finally{t=n=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([v,j])}}};const Us=function(){function a(){}return a.prototype.store=function(r){return Ba(this,arguments,void 0,function(t,e){return void 0===e&&(e={}),Cs(this,function(n){return this.hasLocal(e,!0)&&localStorage.setItem(e.key,JSON.stringify(t)),[2,t]})})},a.prototype.load=function(){return Ba(this,arguments,void 0,function(r){var t;return void 0===r&&(r={}),Cs(this,function(e){return t={},this.hasLocal(r,!0)&&(t=JSON.parse(localStorage.getItem(r.key)||"{}")),[2,t]})})},a.prototype.hasLocal=function(r,t){if(void 0===r&&(r={}),r.checkLocal&&(!(0,at.hasWin)()||!localStorage)){if(t)throw new Error("localStorage not available");return!1}return!0},a}();function Go(a){return(Go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(a)}function zp(a,r){this.name="AggregateError",this.errors=a,this.message=r||""}zp.prototype=Error.prototype;var Fg=setTimeout;function Up(a){return!(!a||void 0===a.length)}function Mg(){}function oi(a){if(!(this instanceof oi))throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],qp(a,this)}function Wp(a,r){for(;3===a._state;)a=a._value;0!==a._state?(a._handled=!0,oi._immediateFn(function(){var t=1===a._state?r.onFulfilled:r.onRejected;if(null!==t){var e;try{e=t(a._value)}catch(n){return void Cu(r.promise,n)}Mf(r.promise,e)}else(1===a._state?Mf:Cu)(r.promise,a._value)})):a._deferreds.push(r)}function Mf(a,r){try{if(r===a)throw new TypeError("A promise cannot be resolved with itself.");if(r&&("object"===Go(r)||"function"==typeof r)){var t=r.then;if(r instanceof oi)return a._state=3,a._value=r,void Rf(a);if("function"==typeof t)return void qp((e=t,n=r,function(){e.apply(n,arguments)}),a)}a._state=1,a._value=r,Rf(a)}catch(o){Cu(a,o)}var e,n}function Cu(a,r){a._state=2,a._value=r,Rf(a)}function Rf(a){2===a._state&&0===a._deferreds.length&&oi._immediateFn(function(){a._handled||oi._unhandledRejectionFn(a._value)});for(var r=0,t=a._deferreds.length;r<t;r++)Wp(a,a._deferreds[r]);a._deferreds=null}function Rg(a,r,t){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof r?r:null,this.promise=t}function qp(a,r){var t=!1;try{a(function(e){t||(t=!0,Mf(r,e))},function(e){t||(t=!0,Cu(r,e))})}catch(e){if(t)return;t=!0,Cu(r,e)}}oi.prototype.catch=function(a){return this.then(null,a)},oi.prototype.then=function(a,r){var t=new this.constructor(Mg);return Wp(this,new Rg(a,r,t)),t},oi.prototype.finally=function(a){var r=this.constructor;return this.then(function(t){return r.resolve(a()).then(function(){return t})},function(t){return r.resolve(a()).then(function(){return r.reject(t)})})},oi.all=function(a){return new oi(function(r,t){if(!Up(a))return t(new TypeError("Promise.all accepts an array"));var e=Array.prototype.slice.call(a);if(0===e.length)return r([]);var n=e.length;function o(h,v){try{if(v&&("object"===Go(v)||"function"==typeof v)){var j=v.then;if("function"==typeof j)return void j.call(v,function(S){o(h,S)},t)}e[h]=v,0==--n&&r(e)}catch(S){t(S)}}for(var l=0;l<e.length;l++)o(l,e[l])})},oi.any=function(a){var r=this;return new r(function(t,e){if(!a||void 0===a.length)return e(new TypeError("Promise.any accepts an array"));var n=Array.prototype.slice.call(a);if(0===n.length)return e();for(var o=[],l=0;l<n.length;l++)try{r.resolve(n[l]).then(t).catch(function(h){o.push(h),o.length===n.length&&e(new zp(o,"All promises were rejected"))})}catch(h){e(h)}})},oi.allSettled=function(a){return new this(function(r,t){if(!a||void 0===a.length)return t(new TypeError(Go(a)+" "+a+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(a);if(0===e.length)return r([]);var n=e.length;function o(h,v){if(v&&("object"===Go(v)||"function"==typeof v)){var j=v.then;if("function"==typeof j)return void j.call(v,function(S){o(h,S)},function(S){e[h]={status:"rejected",reason:S},0==--n&&r(e)})}e[h]={status:"fulfilled",value:v},0==--n&&r(e)}for(var l=0;l<e.length;l++)o(l,e[l])})},oi.resolve=function(a){return a&&"object"===Go(a)&&a.constructor===oi?a:new oi(function(r){r(a)})},oi.reject=function(a){return new oi(function(r,t){t(a)})},oi.race=function(a){return new oi(function(r,t){if(!Up(a))return t(new TypeError("Promise.race accepts an array"));for(var e=0,n=a.length;e<n;e++)oi.resolve(a[e]).then(r,t)})},oi._immediateFn="function"==typeof setImmediate&&function(a){setImmediate(a)}||function(a){Fg(a,0)},oi._unhandledRejectionFn=function(a){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",a)};const Hf=oi;(0,at.hasWin)()&&(window.Promise=window.Promise||Hf);const Kp="function"==typeof fetch?fetch.bind():function(a,r){return new Hf(function(t,e){var n=new XMLHttpRequest;for(var o in n.open(r.method||"get",a),n.withCredentials="include"==r.credentials,r.headers||{})n.setRequestHeader(o,r.headers[o]);n.onload=function(l){return t({status:n.status,statusText:n.statusText,text:function(){return Hf.resolve(n.responseText)}})},n.onerror=e,n.upload&&r.onProgress&&(n.upload.onprogress=r.onProgress),r.body?n.send(r.body):n.send()})};var Od=function(){return Od=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Od.apply(this,arguments)},$p=function(a,r,t,e){return new(t||(t=Promise))(function(n,o){function l(j){try{v(e.next(j))}catch(S){o(S)}}function h(j){try{v(e.throw(j))}catch(S){o(S)}}function v(j){var S;j.done?n(j.value):(S=j.value,S instanceof t?S:new t(function(Y){Y(S)})).then(l,h)}v((e=e.apply(a,r||[])).next())})},Gp=function(a,r){var t,e,n,o,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function h(v){return function(j){return function(S){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,S[0]&&(l=0)),l;)try{if(t=1,e&&(n=2&S[0]?e.return:S[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,S[1])).done)return n;switch(e=0,n&&(S=[2&S[0],n.value]),S[0]){case 0:case 1:n=S;break;case 4:return l.label++,{value:S[1],done:!1};case 5:l.label++,e=S[1],S=[0];continue;case 7:S=l.ops.pop(),l.trys.pop();continue;default:if(!((n=(n=l.trys).length>0&&n[n.length-1])||6!==S[0]&&2!==S[0])){l=0;continue}if(3===S[0]&&(!n||S[1]>n[0]&&S[1]<n[3])){l.label=S[1];break}if(6===S[0]&&l.label<n[1]){l.label=n[1],n=S;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(S);break}n[2]&&l.ops.pop(),l.trys.pop();continue}S=r.call(a,l)}catch(Y){S=[6,Y],e=0}finally{t=n=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([v,j])}}},Hg=function(){function a(){}return a.prototype.store=function(r){return $p(this,arguments,void 0,function(t,e){return void 0===e&&(e={}),Gp(this,function(n){switch(n.label){case 0:return[4,this.request(e.urlStore,this.__props(e,t),e)];case 1:return[2,n.sent()]}})})},a.prototype.load=function(){return $p(this,arguments,void 0,function(r){return void 0===r&&(r={}),Gp(this,function(t){switch(t.label){case 0:return[4,this.request(r.urlLoad,this.__props(r),r)];case 1:return[2,t.sent()]}})})},a.prototype.request=function(r,t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Kp(r,t).then(function(n){var o=n.text();return 1==(n.status/200|0)?o:o.then(Promise.reject)}).then(function(n){var o=n&&(0,R.isString)(n);return e.contentTypeJson&&o?JSON.parse(n):n})},a.prototype.__props=function(r,t){void 0===r&&(r={});var e,n=r.contentTypeJson,o=r.headers||{},l=r.fetchOptions||{},h="X-Requested-With",v="Content-Type";if((0,R.isUndefined)(o[h])&&(o[h]="XMLHttpRequest"),(0,R.isUndefined)(o[v])&&n&&(o[v]="application/json; charset=utf-8"),t)if(n)e=JSON.stringify(t);else for(var j in e=new FormData,t)e.append(j,t[j]);var S={method:e?"POST":"GET",credentials:r.credentials,headers:o,body:e};return Od(Od({},S),(0,R.isFunction)(l)?l(S):l)},a}();const Bg=Hg;var Bf;!function(a){a.start="storage:start",a.startStore="storage:start:store",a.startLoad="storage:start:load",a.load="storage:load",a.store="storage:store",a.after="storage:after",a.afterStore="storage:after:store",a.afterLoad="storage:after:load",a.end="storage:end",a.endStore="storage:end:store",a.endLoad="storage:end:load",a.error="storage:error",a.errorStore="storage:error:store",a.errorLoad="storage:error:load"}(Bf||(Bf={}));const oa=Bf;var Vg=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vc=function(){return Vc=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Vc.apply(this,arguments)},Vf=function(a,r,t,e){return new(t||(t=Promise))(function(n,o){function l(j){try{v(e.next(j))}catch(S){o(S)}}function h(j){try{v(e.throw(j))}catch(S){o(S)}}function v(j){var S;j.done?n(j.value):(S=j.value,S instanceof t?S:new t(function(Y){Y(S)})).then(l,h)}v((e=e.apply(a,r||[])).next())})},zf=function(a,r){var t,e,n,o,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function h(v){return function(j){return function(S){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,S[0]&&(l=0)),l;)try{if(t=1,e&&(n=2&S[0]?e.return:S[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,S[1])).done)return n;switch(e=0,n&&(S=[2&S[0],n.value]),S[0]){case 0:case 1:n=S;break;case 4:return l.label++,{value:S[1],done:!1};case 5:l.label++,e=S[1],S=[0];continue;case 7:S=l.ops.pop(),l.trys.pop();continue;default:if(!((n=(n=l.trys).length>0&&n[n.length-1])||6!==S[0]&&2!==S[0])){l=0;continue}if(3===S[0]&&(!n||S[1]>n[0]&&S[1]<n[3])){l.label=S[1];break}if(6===S[0]&&l.label<n[1]){l.label=n[1],n=S;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(S);break}n[2]&&l.ops.pop(),l.trys.pop();continue}S=r.call(a,l)}catch(Y){S=[6,Y],e=0}finally{t=n=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([v,j])}}},kd="local",zg=function(a){function r(t){var e=a.call(this,t,"StorageManager",{id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(a){return a},onLoad:function(a){return a},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(a){return a},onLoad:function(a){return a}}}})||this;e.storages={},e.events=oa;var n=e.config;return n._disable&&(n.type=void 0),e.storages={},e.add(kd,new Us),e.add("remote",new Bg),e.setCurrent(n.type),e}return Vg(r,a),r.prototype.isAutosave=function(){return!!this.config.autosave},r.prototype.setAutosave=function(t){return this.config.autosave=!!t,this},r.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},r.prototype.setStepsBeforeSave=function(t){return this.config.stepsBeforeSave=t,this},r.prototype.add=function(t,e){return this.storages[t]=e,this},r.prototype.get=function(t){return this.storages[t]},r.prototype.getStorages=function(){return this.storages},r.prototype.getCurrent=function(){return this.config.currentStorage},r.prototype.setCurrent=function(t){return this.getConfig().currentStorage=t,this},r.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},r.prototype.getStorageOptions=function(t){return this.getCurrentOptions(t)},r.prototype.store=function(t){return Vf(this,arguments,void 0,function(e,n){var o,l,h,v,j;return void 0===n&&(n={}),zf(this,function(S){switch(S.label){case 0:o=this.getCurrentStorage(),l=Vc(Vc({},this.getCurrentOptions()),n),h=this.getRecoveryStorage(),v=this.getCurrentOptions(kd),S.label=1;case 1:return S.trys.push([1,5,,9]),[4,this.__exec(o,l,e)];case 2:return S.sent(),h?[4,this.__exec(h,v,{})]:[3,4];case 3:S.sent(),S.label=4;case 4:return[3,9];case 5:return j=S.sent(),h?[4,this.__exec(h,v,e)]:[3,7];case 6:return S.sent(),[3,8];case 7:throw j;case 8:return[3,9];case 9:return[2,e]}})})},r.prototype.load=function(){return Vf(this,arguments,void 0,function(t){var e,n,o,l,h;return void 0===t&&(t={}),zf(this,function(v){switch(v.label){case 0:return e=this.getCurrentStorage(),n=Vc(Vc({},this.getCurrentOptions()),t),(o=this.getRecoveryStorage())?[4,this.__exec(o,this.getCurrentOptions(kd))]:[3,5];case 1:if(h=v.sent(),(0,R.isEmpty)(h))return[3,5];v.label=2;case 2:return v.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return v.sent(),l=h,[3,5];case 4:return v.sent(),[3,5];case 5:return l?[3,7]:[4,this.__exec(e,n)];case 6:l=v.sent(),v.label=7;case 7:return[2,l||{}]}})})},r.prototype.__askRecovery=function(){var t=this.em,e=this.getRecovery();return new Promise(function(n,o){(0,R.isFunction)(e)?e(n,o,t?.getEditor()):confirm(t?.t("storageManager.recover"))?n(null):o()})},r.prototype.getRecovery=function(){return this.config.recovery},r.prototype.getRecoveryStorage=function(){return this.getRecovery()&&"remote"===this.getCurrent()&&this.get(kd)},r.prototype.__exec=function(t,e,n){return Vf(this,void 0,void 0,function(){var o,l,h,v,j,S,Y,lt,xt,Ft,Bt,te,Vt,ke;return zf(this,function(ze){switch(ze.label){case 0:if(o=n?"store":"load",l=this.getConfig(),h=l.onStore,v=l.onLoad,!t)return[2,n||{}];this.onStart(o,n),ze.label=1;case 1:return ze.trys.push([1,14,,15]),S=null===(ke=this.em)||void 0===ke?void 0:ke.getEditor(),Y=void 0,n?(xt=h)?[4,h(n,S)]:[3,3]:[3,7];case 2:xt=ze.sent(),ze.label=3;case 3:return lt=xt||n,(Ft=e.onStore)?[4,e.onStore(lt,S)]:[3,5];case 4:Ft=ze.sent(),ze.label=5;case 5:return[4,t.store(lt=Ft||lt,e)];case 6:return Y=ze.sent(),j=n,[3,13];case 7:return[4,t.load(e)];case 8:return Y=ze.sent(),j=this.__clearKeys(Y),(Bt=e.onLoad)?[4,e.onLoad(j,S)]:[3,10];case 9:Bt=ze.sent(),ze.label=10;case 10:return j=Bt||j,(te=v)?[4,v(j,S)]:[3,12];case 11:te=ze.sent(),ze.label=12;case 12:j=te||j,ze.label=13;case 13:return this.onAfter(o,j,Y),this.onEnd(o,j,Y),[3,15];case 14:throw Vt=ze.sent(),this.onError(o,Vt),Vt;case 15:return[2,j]}})})},r.prototype.__clearKeys=function(t){void 0===t&&(t={});var e=this.getConfig(),n=new RegExp("^".concat(e.id)),o={};for(var l in t)o[l.replace(n,"")]=t[l];return o},r.prototype.getCurrentOptions=function(t){var e=this.getConfig(),n=t||this.getCurrent();return e.options[n]||{}},r.prototype.onStart=function(t,e){var n=this.em;if(n){var o="load"===t?oa.startLoad:oa.startStore;n.trigger(oa.start,t,e),n.trigger(o,e)}},r.prototype.onAfter=function(t,e,n){var o=this.em;if(o){var l="load"===t?oa.afterLoad:oa.afterStore;o.trigger(oa.after),o.trigger(l,e,n),o.trigger("load"===t?oa.load:oa.store,e,n)}},r.prototype.onEnd=function(t,e,n){var o=this.em;if(o){var l="load"===t?oa.endLoad:oa.endStore;o.trigger(oa.end,t,e,n),o.trigger(l,e,n)}},r.prototype.onError=function(t,e){var n=this.em;if(n){var o="load"===t?oa.errorLoad:oa.errorStore;n.trigger(oa.error,e,t),n.trigger(o,e),this.onEnd(t,e)}},r.prototype.canAutoload=function(){return!!this.getCurrentStorage()&&!!this.config.autoload},r.prototype.destroy=function(){this.storages={}},r}(K);const Ug=zg;var qg=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Su=function(){return Su=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Su.apply(this,arguments)},Xp=function(a){function r(t){void 0===t&&(t={});var e=a.call(this,t)||this;e.events={},e.appendInput=!0;var n=t.config,o=void 0===n?{}:n,h=e.model,v=e.eventCapture,j=h.target,S=h.attributes.type;return e.config=o,e.em=o.em,e.pfx=o.stylePrefix||"",e.ppfx=o.pStylePrefix||"",e.target=j,e.className=e.pfx+"trait",e.clsField="".concat(e.ppfx,"field ").concat(e.ppfx,"field-").concat(S),[["change:value",e.onValueChange],["remove",e.removeView]].forEach(function(Y){var lt=Y[0],xt=Y[1];h.off(lt,xt),e.listenTo(h,lt,xt)}),h.view=e,e.listenTo(h,"change:label",e.render),e.listenTo(h,"change:placeholder",e.rerender),e.events={},v.forEach(function(Y){return e.events[Y]="onChange"}),e.delegateEvents(),e.init(),e}return qg(r,a),r.prototype.attributes=function(){return this.model.get("attributes")||{}},r.prototype.templateLabel=function(t){var e=this.ppfx,n=this.getLabel();return'<div class="'.concat(e,'label" title="').concat(n,'">').concat(n,"</div>")},r.prototype.templateInput=function(t){return'<div class="'.concat(this.clsField,'" data-input></div>')},r.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},r.prototype.removeView=function(){this.remove(),this.removed()},r.prototype.init=function(){},r.prototype.removed=function(){},r.prototype.onRender=function(t){},r.prototype.onUpdate=function(t){},r.prototype.onEvent=function(t){},r.prototype.onChange=function(t){var e=this.getInputElem();e&&!(0,R.isUndefined)(e.value)&&this.model.set("value",e.value),this.onEvent(Su(Su({},this.getClbOpts()),{event:t}))},r.prototype.getValueForTarget=function(){return this.model.get("value")},r.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.value=t)},r.prototype.onValueChange=function(t,e,n){void 0===n&&(n={});var o=this.model,l=this.getValueForTarget();n.fromTarget?(this.setInputValue(l),this.postUpdate()):o.setValue(l,n)},r.prototype.renderLabel=function(){var t=this.$el,e=this.target,n=this.getLabel(),o=this.templateLabel(e);this.createLabel&&(o=this.createLabel({label:n,component:e,trait:this})||""),t.find("[data-label]").append(o)},r.prototype.getLabel=function(){var e=this.model.attributes,n=e.label,o=e.name;return this.em.t("traitManager.traits.labels.".concat(o))||(0,at.capitalize)(n||o).replace(/-/g," ")},r.prototype.getComponent=function(){return this.target},r.prototype.getInputEl=function(){if(!this.$input){var t=this.em,e=this.model,n=e,o=e.attributes.name,l=n.get("placeholder")||n.get("default")||"",h=n.get("type")||"text",v=n.get("min"),j=n.get("max"),S=this.getModelValue(),Y=(0,ht.default)('<input type="'.concat(h,'">')),lt=t.t("traitManager.traits.attributes.".concat(o))||{};Y.attr(Su({placeholder:l},lt)),(0,R.isUndefined)(S)||(n.set({value:S},{silent:!0}),Y.prop("value",S)),v&&Y.prop("min",v),j&&Y.prop("max",j),this.$input=Y}return this.$input.get(0)},r.prototype.getInputElem=function(){var e=this.$input;return this.input||e&&e.get&&e.get(0)||this.getElInput()},r.prototype.getModelValue=function(){return this.model.getValue()},r.prototype.getElInput=function(){return this.elInput},r.prototype.renderField=function(){var t=this,n=t.appendInput,o=t.model,l=t.$el.find("[data-input]"),h=l[l.length-1],v=o.el;v||(v=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,R.isString)(v)?(h.innerHTML=v,this.elInput=h.firstChild):(n?h.appendChild(v):h.insertBefore(v,h.firstChild),this.elInput=v),o.el=this.elInput},r.prototype.hasLabel=function(){return!this.noLabel&&!1!==this.model.attributes.label},r.prototype.rerender=function(){delete this.model.el,this.render()},r.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},r.prototype.render=function(){var t=this,e=t.$el,n=t.pfx,o=t.ppfx,l=t.model.attributes,h=l.type,v=l.id,j=this.hasLabel&&this.hasLabel(),S="".concat(n,"trait");delete this.$input;var Y='<div class="'.concat(S," ").concat(S,"--").concat(h,'">\n      ').concat(j?'<div class="'.concat(o,'label-wrp" data-label></div>'):"",'\n      <div class="').concat(o,"field-wrp ").concat(o,"field-wrp--").concat(h,'" data-input>\n        ').concat(this.templateInput?(0,R.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"","\n      </div>\n    </div>");return e.empty().append(Y),j&&this.renderLabel(),this.renderField(),this.el.className="".concat(S,"__wrp ").concat(S,"__wrp-").concat(v),this.postUpdate(),this.onRender(this.getClbOpts()),this},r}(F.Ss);const Ws=Xp;Xp.prototype.eventCapture=["change"];var Kg=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zp=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Kg(r,a),r.prototype.templateInput=function(){return""},r.prototype.onChange=function(){this.handleClick()},r.prototype.handleClick=function(){this.model.runCommand()},r.prototype.renderLabel=function(){this.model.get("label")&&Ws.prototype.renderLabel.apply(this)},r.prototype.getInputEl=function(){var e=this.ppfx,n=this.model.props(),h=n.full,v=n.labelButton||n.text,j="".concat(e,"btn");return'<button type="button" class="'.concat(j,"-prim").concat(h?" ".concat(j,"--full"):"",'">').concat(v,"</button>")},r}(Ws);const $g=Zp;Zp.prototype.eventCapture=["click button"];var Gg=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const Yg=function(a){function r(){var t=null!==a&&a.apply(this,arguments)||this;return t.appendInput=!1,t}return Gg(r,a),r.prototype.templateInput=function(){var t=this.ppfx;return'<label class="'.concat(this.clsField,'" data-input>\n    <i class="').concat(t,'chk-icon"></i>\n  </label>')},r.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},r.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.checked=!!t)},r.prototype.getInputEl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!this.$input,o=Ws.prototype.getInputEl.apply(this,t);if(n){var l=void 0,h=void 0,v=this.model,j=this.target,S=v.attributes.valueFalse,Y=v.getName();v.changeProp?h=l=j.get(Y):l=!(!(h=j.get("attributes")[Y])&&""!==h),(0,R.isUndefined)(S)||h!==S||(l=!1),o.checked=l}return o},r}(Ws);var Xg=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jp=function(a){function r(t){void 0===t&&(t={});var e=a.call(this,t)||this,n=t.ppfx||"";return e.opts=t,e.ppfx=n,e.em=t.target||{},!t.onChange&&e.listenTo(e.model,"change:value",e.handleModelChange),e}return Xg(r,a),r.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},r.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},r.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},r.prototype.elementUpdated=function(){this.model.trigger("el:change")},r.prototype.setValue=function(t,e){var o=t||this.model.get("defaults"),l=this.getInputEl();l&&(l.value=o)},r.prototype.handleModelChange=function(t,e,n){this.setValue(e,n)},r.prototype.handleChange=function(t){t.stopPropagation();var e=this.getInputEl().value;this.__onInputChange(e),this.elementUpdated()},r.prototype.__onInputChange=function(t){this.model.set({value:t},{fromInput:1})},r.prototype.getInputEl=function(){if(!this.inputEl){var t=this.model,e=this.opts.type||"text",n=t.get("placeholder")||t.get("defaults")||t.get("default")||"";this.inputEl=(0,ht.default)('<input type="'.concat(e,'" placeholder="').concat(n,'">'))}return this.inputEl.get(0)},r.prototype.render=function(){this.inputEl=null;var t=this.$el;return t.addClass(this.inputClass()),t.html(this.template()),t.find(".".concat(this.holderClass())).append(this.getInputEl()),this},r}(F.Ss);const Ad=Jp;Jp.prototype.events={change:"handleChange"};var Zg=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tu=function(){return Tu=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Tu.apply(this,arguments)};ht.default&&function(a,r){if((0,at.hasWin)()){var t={beforeShow:xr,move:xr,change:xr,show:xr,hide:xr,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},e=[],n=!!/msie/i.exec(window.navigator.userAgent),o=function(){function ge(Ve,nn){return!!~(""+Ve).indexOf(nn)}var Le=document.createElement("div").style;return Le.cssText="background-color:rgba(0,0,0,.5)",ge(Le.backgroundColor,"rgba")||ge(Le.backgroundColor,"hsla")}(),l=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),h=function(){var ge="";if(n)for(var Le=1;Le<=6;Le++)ge+="<div class='sp-"+Le+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",ge,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),v="spectrum.id";a.fn.spectrum=function(ge,Le){if("string"==typeof ge){var Ve=this,nn=Array.prototype.slice.call(arguments,1);return this.each(function(){var Nn=e[a(this).data(v)];if(Nn){var Xn=Nn[ge];if(!Xn)throw new Error("Spectrum: no such method: '"+ge+"'");"get"==ge?Ve=Nn.get():"container"==ge?Ve=Nn.container:"option"==ge?Ve=Nn.option.apply(Nn,nn):"destroy"==ge?(Nn.destroy(),a(this).removeData(v)):Xn.apply(Nn,nn)}}),Ve}return this.spectrum("destroy").each(function(){var Nn=function mr(ge,Le){var Ve,Xn,rr,Qn,pn=(rr=ge,(Qn=a.extend({},t,Le)).callbacks={move:ci(Qn.move,rr),change:ci(Qn.change,rr),show:ci(Qn.show,rr),hide:ci(Qn.hide,rr),beforeShow:ci(Qn.beforeShow,rr)},Qn),Tr=pn.flat,po=pn.showSelectionPalette,Wi=pn.localStorageKey,Qi=pn.theme,Gr=pn.callbacks,Yn=(Ve=fc,10,function(){var nr=this,rr=arguments;Xn||(Xn=setTimeout(function(){Xn=null,Ve.apply(nr,rr)},10))}),Jr=!1,ho=!1,wa=!0,Pi=0,Ni=0,Ri=0,xa=0,ls=0,xl=0,Ca=0,Fu=0,Mu=0,Ru=0,Os=1,sf=[],Hu=[],lf={},ks=pn.selectionPalette.slice(0),eb=pn.maxSelectionSize,bg="sp-dragging",Cl=null,Bu=ge.ownerDocument,Ci=a(ge),Dp=!1,jr=a(h,Bu).addClass(Qi),nb=jr.find(".sp-picker-container"),cf=jr.find(".sp-color"),uf=jr.find(".sp-dragger"),Ip=jr.find(".sp-hue"),df=jr.find(".sp-slider"),Vu=jr.find(".sp-alpha-inner"),wg=jr.find(".sp-alpha"),ff=jr.find(".sp-alpha-handle"),As=jr.find(".sp-input"),xg=jr.find(".sp-palette"),Cg=jr.find(".sp-initial"),Sg=jr.find(".sp-cancel"),Pp=jr.find(".sp-clear"),Tg=jr.find(".sp-choose"),Np=jr.find(".sp-palette-toggle"),pf=Ci.is("input"),rb=pf&&"color"===Ci.attr("type")&&Ji(),Lp=pf&&!Tr,Jc=Lp?a(l).addClass(Qi).addClass(pn.className).addClass(pn.replacerClassName):a([]),zu=Lp?Jc:Ci,Qc=Jc.find(".sp-preview-inner"),Uu=pn.color||pf&&Ci.val(),tu=!1,eu=pn.preferredFormat,ob=!pn.showButtons||pn.clickoutFiresChange,Sl=!Uu,cc=pn.allowEmpty&&!rb;function Fp(){if(pn.showPaletteOnly&&(pn.showPalette=!0),Np.text(pn.showPaletteOnly?pn.togglePaletteMoreText:pn.togglePaletteLessText),pn.palette){sf=pn.palette.slice(0),Hu=a.isArray(sf[0])?sf:[sf],lf={};for(var nr=0;nr<Hu.length;nr++)for(var rr=0;rr<Hu[nr].length;rr++){var Qn=Vt(Hu[nr][rr]).toRgbString();lf[Qn]=!0}}jr.toggleClass("sp-flat",Tr),jr.toggleClass("sp-input-disabled",!pn.showInput),jr.toggleClass("sp-alpha-enabled",pn.showAlpha),jr.toggleClass("sp-clear-enabled",cc),jr.toggleClass("sp-buttons-disabled",!pn.showButtons),jr.toggleClass("sp-palette-buttons-disabled",!pn.togglePaletteOnly),jr.toggleClass("sp-palette-disabled",!pn.showPalette),jr.toggleClass("sp-palette-only",pn.showPaletteOnly),jr.toggleClass("sp-initial-disabled",!pn.showInitial),jr.addClass(pn.className).addClass(pn.containerClassName),fc()}function Og(){if(Wi&&window.localStorage){try{var nr=window.localStorage[Wi].split(",#");nr.length>1&&(delete window.localStorage[Wi],a.each(nr,function(rr,Qn){Mp(Qn)}))}catch{}try{ks=window.localStorage[Wi].split(";")}catch{}}}function Mp(nr){if(po){var rr=Vt(nr).toRgbString();if(!lf[rr]&&-1===a.inArray(rr,ks))for(ks.push(rr);ks.length>eb;)ks.shift();if(Wi&&window.localStorage)try{window.localStorage[Wi]=ks.join(";")}catch{}}}function kg(){var nr=ca(),rr=a.map(Hu,function(Qn,ur){return Un(Qn,nr,"sp-palette-row sp-palette-row-"+ur,pn)});Og(),ks&&rr.push(Un(function(){var Qn=[];if(pn.showPalette)for(var ur=0;ur<ks.length;ur++){var ta=Vt(ks[ur]).toRgbString();lf[ta]||Qn.push(ks[ur])}return Qn.reverse().slice(0,pn.maxSelectionSize)}(),nr,"sp-palette-row sp-palette-row-selection",pn)),xg.html(rr.join(""))}function Ag(){if(pn.showInitial){var nr=tu,rr=ca();Cg.html(Un([nr,rr],rr,"sp-palette-row-initial",pn))}}function Rp(){(Ni<=0||Pi<=0||xa<=0)&&fc(),ho=!0,jr.addClass(bg),Cl=null,Ci.trigger("dragstart.spectrum",[ca()])}function Hp(){ho=!1,jr.removeClass(bg),Ci.trigger("dragstop.spectrum",[ca()])}function Bp(){var nr=As.val();if(null!==nr&&""!==nr||!cc){var rr=Vt(nr);rr.isValid()?(uc(rr),dc(!0)):As.addClass("sp-validation-error")}else uc(null),dc(!0)}function Eg(){Jr?Tl():Vp()}function Vp(){var nr=a.Event("beforeShow.spectrum");if(Jr)fc();else if(Ci.trigger("beforeShow.spectrum",[ca()]),!1!==Gr.beforeShow(ca())&&!nr.isDefaultPrevented()){(function(){for(var Qn=0;Qn<e.length;Qn++)e[Qn]&&e[Qn].hide()})(),Jr=!0;var rr=a(Bu);rr.bind("keydown.spectrum",jg),rr.bind("click.spectrum",Dg),a(window).bind("resize.spectrum",Yn),Jc.addClass("sp-active"),jr.removeClass("sp-hidden"),fc(),ru(),tu=ca(),Ag(),Gr.show(tu),Ci.trigger("show.spectrum",[tu])}}function jg(nr){27===nr.keyCode&&Tl()}function Dg(nr){2!=nr.button&&(ho||(ob?dc(!0):Ig(),Tl()))}function Tl(){Jr&&!Tr&&(Jr=!1,a(Bu).unbind("keydown.spectrum",jg),a(Bu).unbind("click.spectrum",Dg),a(window).unbind("resize.spectrum",Yn),Jc.removeClass("sp-active"),jr.addClass("sp-hidden"),Gr.hide(ca()),Ci.trigger("hide.spectrum",[ca()]))}function Ig(){uc(tu,!0)}function uc(nr,rr){var Qn,ur;Vt.equals(nr,ca())?ru():(!nr&&cc?Sl=!0:(Sl=!1,wa=!nr,ur=(Qn=Vt(nr)).toHsv(),Fu=ur.h%360/360,Mu=ur.s,Ru=ur.v,Os=ur.a),ru(),Qn&&Qn.isValid()&&!rr&&(eu=pn.preferredFormat||Qn.getFormat()))}function ca(nr){return nr=nr||{},cc&&Sl?null:Vt.fromRatio({h:Fu,s:Mu,v:Ru,a:Math.round(100*Os)/100},{format:nr.format||eu})}function nu(){ru(),Gr.move(ca()),Ci.trigger("move.spectrum",[ca()])}function ru(){As.removeClass("sp-validation-error"),Pg();var nr=Vt.fromRatio({h:Fu,s:1,v:1});cf.css("background-color",nr.toHexString());var rr=eu;Os<1&&(0!==Os||"name"!==rr)&&("hex"!==rr&&"hex3"!==rr&&"hex6"!==rr&&"name"!==rr||(rr="rgb"));var Qn=ca({format:rr}),ur="";if(Qc.removeClass("sp-clear-display"),Qc.css("background-color","transparent"),!Qn&&cc)Qc.addClass("sp-clear-display");else{var ta=Qn.toHexString(),cs=Qn.toRgbString();if(o||1===Qn.alpha?Qc.css("background-color",cs):(Qc.css("background-color","transparent"),Qc.css("filter",Qn.toFilter())),pn.showAlpha){var Ol=Qn.toRgb();Ol.a=0;var kl=Vt(Ol).toRgbString(),Sa="linear-gradient(left, "+kl+", "+ta+")";n?Vu.css("filter",Vt(kl).toFilter({gradientType:1},ta)):(Vu.css("background","-webkit-"+Sa),Vu.css("background","-moz-"+Sa),Vu.css("background","-ms-"+Sa),Vu.css("background","linear-gradient(to right, "+kl+", "+ta+")"))}ur=Qn.toString(rr)}pn.showInput&&As.val(ur),pn.showPalette&&kg(),Ag()}function Pg(){var nr=Mu,rr=Ru;if(cc&&Sl)ff.hide(),df.hide(),uf.hide();else{ff.show(),df.show(),uf.show();var Qn=nr*Pi,ur=Ni-rr*Ni;Qn=Math.max(-Ri,Math.min(Pi-Ri,Qn-Ri)),ur=Math.max(-Ri,Math.min(Ni-Ri,ur-Ri)),uf.css({top:ur+"px",left:Qn+"px"}),ff.css({left:Os*ls-xl/2+"px"}),df.css({top:Fu*xa-Ca+"px"})}}function dc(nr){var rr=ca(),Qn="",ur=!!wa||!Vt.equals(rr,tu);rr&&(Qn=rr.toString(eu),!Jr&&Mp(rr)),pf&&Ci.val(Qn),nr&&ur&&(Gr.change(rr),Ci.trigger("change",[rr]))}function fc(){Jr&&(Pi=cf.width(),Ni=cf.height(),Ri=uf.height(),Ip.width(),xa=Ip.height(),Ca=df.height(),ls=wg.width(),xl=ff.width(),Tr||(jr.css("position","absolute"),jr.offset(pn.offset?pn.offset:function(nr,rr){for(var Qn=rr[0],ur=nr[0],ta=ur.parentElement,cs=Qn.getBoundingClientRect(),Ol=ur.offsetWidth,kl=ur.offsetHeight,Sa={top:0,left:0,width:Qn.offsetWidth,height:Qn.offsetHeight};Qn&&(Sa.top+=Qn.offsetTop-Qn.scrollTop,Sa.left+=Qn.offsetLeft-Qn.scrollLeft,Qn!==ta&&ta.contains(Qn.offsetParent));)Qn=Qn.offsetParent;return cs.right+Ol>window.innerWidth-window.scrollX&&cs.right-Ol>0&&(Sa.left-=Ol-Sa.width),cs.bottom+kl<window.innerHeight-window.scrollY?Sa.top+=Sa.height:Sa.top-=kl,Sa}(jr,zu))),Pg(),pn.showPalette&&kg(),Ci.trigger("reflow.spectrum"))}function Ng(){Tl(),Dp=!0,Ci.attr("disabled",!0),zu.addClass("sp-disabled")}!function(){if(n&&jr.find("*:not(input)").attr("unselectable","on"),Fp(),Lp&&Ci.after(Jc).hide(),cc||Pp.hide(),Tr)Ci.after(jr).hide();else{var nr="parent"===pn.appendTo?Ci.parent():a(pn.appendTo);1!==nr.length&&(nr=a("body")),nr.append(jr)}function rr(ur){return ur.data&&ur.data.ignore?(uc(a(ur.target).closest(".sp-thumb-el").data("color")),nu()):(uc(a(ur.target).closest(".sp-thumb-el").data("color")),nu(),pn.hideAfterPaletteSelect&&(dc(!0),Tl())),!1}Og(),zu.bind("click.spectrum touchstart.spectrum",function(ur){Dp||Eg(),ur.stopPropagation(),a(ur.target).is("input")||ur.preventDefault()}),(Ci.is(":disabled")||!0===pn.disabled)&&Ng(),jr.click(Uo),As.change(Bp),As.bind("paste",function(){setTimeout(Bp,1)}),As.keydown(function(ur){13==ur.keyCode&&Bp()}),Sg.text(pn.cancelText),Sg.bind("click.spectrum",function(ur){ur.stopPropagation(),ur.preventDefault(),Ig(),Tl()}),Pp.attr("title",pn.clearText),Pp.bind("click.spectrum",function(ur){ur.stopPropagation(),ur.preventDefault(),Sl=!0,nu(),Tr&&dc(!0)}),Tg.text(pn.chooseText),Tg.bind("click.spectrum",function(ur){ur.stopPropagation(),ur.preventDefault(),n&&As.is(":focus")&&As.trigger("change"),As.hasClass("sp-validation-error")||(dc(!0),Tl())}),Np.text(pn.showPaletteOnly?pn.togglePaletteMoreText:pn.togglePaletteLessText),Np.bind("click.spectrum",function(ur){ur.stopPropagation(),ur.preventDefault(),pn.showPaletteOnly=!pn.showPaletteOnly,pn.showPaletteOnly||Tr||jr.css("left","-="+(nb.outerWidth(!0)+5)),Fp()}),ui(wg,function(ur,ta,cs){Os=ur/ls,Sl=!1,cs.shiftKey&&(Os=Math.round(10*Os)/10),nu()},Rp,Hp),ui(Ip,function(ur,ta){Fu=parseFloat(ta/xa),Sl=!1,pn.showAlpha||(Os=1),nu()},Rp,Hp),ui(cf,function(ur,ta,cs){if(cs.shiftKey){if(!Cl){var kl=Ni-Ru*Ni,Sa=Math.abs(ur-Mu*Pi)>Math.abs(ta-kl);Cl=Sa?"x":"y"}}else Cl=null;var ib=!Cl||"y"===Cl;(!Cl||"x"===Cl)&&(Mu=parseFloat(ur/Pi)),ib&&(Ru=parseFloat((Ni-ta)/Ni)),Sl=!1,pn.showAlpha||(Os=1),nu()},Rp,Hp),Uu?(uc(Uu),ru(),eu=pn.preferredFormat||Vt(Uu).getFormat(),Mp(Uu)):ru(),Tr&&Vp();var Qn=n?"mousedown.spectrum":"click.spectrum touchstart.spectrum";xg.delegate(".sp-thumb-el",Qn,rr),Cg.delegate(".sp-thumb-el:nth-child(1)",Qn,{ignore:!0},rr)}();var hf={show:Vp,hide:Tl,toggle:Eg,reflow:fc,option:function(nr,rr){return nr===r?a.extend({},pn):rr===r?pn[nr]:(pn[nr]=rr,"preferredFormat"===nr&&(eu=pn.preferredFormat),void Fp())},enable:function(){Dp=!1,Ci.attr("disabled",!1),zu.removeClass("sp-disabled")},disable:Ng,offset:function(nr){pn.offset=nr,fc()},set:function(nr){uc(nr),dc()},get:ca,destroy:function(){Ci.show(),zu.unbind("click.spectrum touchstart.spectrum"),jr.remove(),Jc.remove(),e[hf.id]=null},container:jr};return hf.id=e.push(hf)-1,hf}(this,a.extend({},ge,a(this).data()));a(this).data(v,Nn.id)})},a.fn.spectrum.load=!0,a.fn.spectrum.loadOpts={},a.fn.spectrum.draggable=ui,a.fn.spectrum.defaults=t,a.fn.spectrum.inputTypeColorSupport=function ge(){if(void 0===ge._cachedResult){var Le=a("<input type='color'/>")[0];ge._cachedResult="color"===Le.type&&""!==Le.value}return ge._cachedResult},a.spectrum={},a.spectrum.localization={},a.spectrum.palettes={},a.fn.spectrum.processNativeColorInputs=function(){var ge=a("input[type=color]");ge.length&&!Ji()&&ge.spectrum({preferredFormat:"hex6"})};var j=/^[\s,#]+/,S=/\s+$/,Y=0,lt=Math,xt=lt.round,Ft=lt.min,Bt=lt.max,te=lt.random,Vt=function(ge,Le){if(Le=Le||{},(ge=ge||"")instanceof Vt)return ge;if(!(this instanceof Vt))return new Vt(ge,Le);var nn,Wi,Qi,Nn,Xn,pn,Tr,Ve=(Nn={r:0,g:0,b:0},Xn=1,pn=!1,Tr=!1,"string"==typeof(nn=ge)&&(nn=function(Gr){Gr=Gr.replace(j,"").replace(S,"").toLowerCase();var Yn,Jr=!1;if(_n[Gr])Gr=_n[Gr],Jr=!0;else if("transparent"==Gr)return{r:0,g:0,b:0,a:0,format:"name"};return(Yn=er.rgb.exec(Gr))?{r:Yn[1],g:Yn[2],b:Yn[3]}:(Yn=er.rgba.exec(Gr))?{r:Yn[1],g:Yn[2],b:Yn[3],a:Yn[4]}:(Yn=er.hsl.exec(Gr))?{h:Yn[1],s:Yn[2],l:Yn[3]}:(Yn=er.hsla.exec(Gr))?{h:Yn[1],s:Yn[2],l:Yn[3],a:Yn[4]}:(Yn=er.hsv.exec(Gr))?{h:Yn[1],s:Yn[2],v:Yn[3]}:(Yn=er.hsva.exec(Gr))?{h:Yn[1],s:Yn[2],v:Yn[3],a:Yn[4]}:(Yn=er.hex8.exec(Gr))?{a:tb(Yn[1]),r:Ts(Yn[2]),g:Ts(Yn[3]),b:Ts(Yn[4]),format:Jr?"name":"hex8"}:(Yn=er.hex6.exec(Gr))?{r:Ts(Yn[1]),g:Ts(Yn[2]),b:Ts(Yn[3]),format:Jr?"name":"hex"}:!!(Yn=er.hex3.exec(Gr))&&{r:Ts(Yn[1]+""+Yn[1]),g:Ts(Yn[2]+""+Yn[2]),b:Ts(Yn[3]+""+Yn[3]),format:Jr?"name":"hex"}}(nn)),"object"==typeof nn&&(nn.hasOwnProperty("r")&&nn.hasOwnProperty("g")&&nn.hasOwnProperty("b")?(Wi=nn.g,Qi=nn.b,Nn={r:255*Yo(nn.r,255),g:255*Yo(Wi,255),b:255*Yo(Qi,255)},pn=!0,Tr="%"===String(nn.r).substr(-1)?"prgb":"rgb"):nn.hasOwnProperty("h")&&nn.hasOwnProperty("s")&&nn.hasOwnProperty("v")?(nn.s=Lu(nn.s),nn.v=Lu(nn.v),Nn=function(Gr,Yn,Jr){Gr=6*Yo(Gr,360),Yn=Yo(Yn,100),Jr=Yo(Jr,100);var ho=lt.floor(Gr),wa=Gr-ho,Pi=Jr*(1-Yn),Ni=Jr*(1-wa*Yn),Ri=Jr*(1-(1-wa)*Yn),xa=ho%6;return{r:255*[Jr,Ni,Pi,Pi,Ri,Jr][xa],g:255*[Ri,Jr,Jr,Ni,Pi,Pi][xa],b:255*[Pi,Pi,Ri,Jr,Jr,Ni][xa]}}(nn.h,nn.s,nn.v),pn=!0,Tr="hsv"):nn.hasOwnProperty("h")&&nn.hasOwnProperty("s")&&nn.hasOwnProperty("l")&&(nn.s=Lu(nn.s),nn.l=Lu(nn.l),Nn=function(Gr,Yn,Jr){var ho,wa,Pi;function Ni(ls,xl,Ca){return Ca<0&&(Ca+=1),Ca>1&&(Ca-=1),Ca<1/6?ls+6*(xl-ls)*Ca:Ca<.5?xl:Ca<2/3?ls+(xl-ls)*(2/3-Ca)*6:ls}if(Gr=Yo(Gr,360),Yn=Yo(Yn,100),Jr=Yo(Jr,100),0===Yn)ho=wa=Pi=Jr;else{var Ri=Jr<.5?Jr*(1+Yn):Jr+Yn-Jr*Yn,xa=2*Jr-Ri;ho=Ni(xa,Ri,Gr+1/3),wa=Ni(xa,Ri,Gr),Pi=Ni(xa,Ri,Gr-1/3)}return{r:255*ho,g:255*wa,b:255*Pi}}(nn.h,nn.s,nn.l),pn=!0,Tr="hsl"),nn.hasOwnProperty("a")&&(Xn=nn.a)),Xn=_g(Xn),{ok:pn,format:nn.format||Tr,r:Ft(255,Bt(Nn.r,0)),g:Ft(255,Bt(Nn.g,0)),b:Ft(255,Bt(Nn.b,0)),a:Xn});this._originalInput=ge,this._r=Ve.r,this._g=Ve.g,this._b=Ve.b,this._a=Ve.a,this._roundA=xt(100*this._a)/100,this._format=Le.format||Ve.format,this._gradientType=Le.gradientType,this._r<1&&(this._r=xt(this._r)),this._g<1&&(this._g=xt(this._g)),this._b<1&&(this._b=xt(this._b)),this._ok=Ve.ok,this._tc_id=Y++};Vt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var ge=this.toRgb();return(299*ge.r+587*ge.g+114*ge.b)/1e3},setAlpha:function(ge){return this._a=_g(ge),this._roundA=xt(100*this._a)/100,this},toHsv:function(){var ge=Ss(this._r,this._g,this._b);return{h:360*ge.h,s:ge.s,v:ge.v,a:this._a}},toHsvString:function(){var ge=Ss(this._r,this._g,this._b),Le=xt(360*ge.h),Ve=xt(100*ge.s),nn=xt(100*ge.v);return 1==this._a?"hsv("+Le+", "+Ve+"%, "+nn+"%)":"hsva("+Le+", "+Ve+"%, "+nn+"%, "+this._roundA+")"},toHsl:function(){var ge=la(this._r,this._g,this._b);return{h:360*ge.h,s:ge.s,l:ge.l,a:this._a}},toHslString:function(){var ge=la(this._r,this._g,this._b),Le=xt(360*ge.h),Ve=xt(100*ge.s),nn=xt(100*ge.l);return 1==this._a?"hsl("+Le+", "+Ve+"%, "+nn+"%)":"hsla("+Le+", "+Ve+"%, "+nn+"%, "+this._roundA+")"},toHex:function(ge){return is(this._r,this._g,this._b,ge)},toHexString:function(ge){return"#"+this.toHex(ge)},toHex8:function(){return as(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:xt(this._r),g:xt(this._g),b:xt(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+xt(this._r)+", "+xt(this._g)+", "+xt(this._b)+")":"rgba("+xt(this._r)+", "+xt(this._g)+", "+xt(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:xt(100*Yo(this._r,255))+"%",g:xt(100*Yo(this._g,255))+"%",b:xt(100*Yo(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+xt(100*Yo(this._r,255))+"%, "+xt(100*Yo(this._g,255))+"%, "+xt(100*Yo(this._b,255))+"%)":"rgba("+xt(100*Yo(this._r,255))+"%, "+xt(100*Yo(this._g,255))+"%, "+xt(100*Yo(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(An[is(this._r,this._g,this._b,!0)]||!1)},toFilter:function(ge){var Le="#"+as(this._r,this._g,this._b,this._a),Ve=Le,nn=this._gradientType?"GradientType = 1, ":"";return ge&&(Ve=Vt(ge).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+nn+"startColorstr="+Le+",endColorstr="+Ve+")"},toString:function(ge){var Le=!!ge;ge=ge||this._format;var Ve=!1;return Le||!(this._a<1&&this._a>=0)||"hex"!==ge&&"hex6"!==ge&&"hex3"!==ge&&"name"!==ge?("rgb"===ge&&(Ve=this.toRgbString()),"prgb"===ge&&(Ve=this.toPercentageRgbString()),"hex"!==ge&&"hex6"!==ge||(Ve=this.toHexString()),"hex3"===ge&&(Ve=this.toHexString(!0)),"hex8"===ge&&(Ve=this.toHex8String()),"name"===ge&&(Ve=this.toName()),"hsl"===ge&&(Ve=this.toHslString()),"hsv"===ge&&(Ve=this.toHsvString()),Ve||this.toHexString()):"name"===ge&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(ge,Le){var Ve=ge.apply(null,[this].concat([].slice.call(Le)));return this._r=Ve._r,this._g=Ve._g,this._b=Ve._b,this.setAlpha(Ve._a),this},lighten:function(){return this._applyModification(Ep,arguments)},brighten:function(){return this._applyModification(of,arguments)},darken:function(){return this._applyModification(sc,arguments)},desaturate:function(){return this._applyModification(Pa,arguments)},saturate:function(){return this._applyModification(ss,arguments)},greyscale:function(){return this._applyModification(Na,arguments)},spin:function(){return this._applyModification(jp,arguments)},_applyCombination:function(ge,Le){return ge.apply(null,[this].concat([].slice.call(Le)))},analogous:function(){return this._applyCombination(J_,arguments)},complement:function(){return this._applyCombination(G_,arguments)},monochromatic:function(){return this._applyCombination(Q_,arguments)},splitcomplement:function(){return this._applyCombination(Z_,arguments)},triad:function(){return this._applyCombination(Y_,arguments)},tetrad:function(){return this._applyCombination(X_,arguments)}},Vt.fromRatio=function(ge,Le){if("object"==typeof ge){var Ve={};for(var nn in ge)ge.hasOwnProperty(nn)&&(Ve[nn]="a"===nn?ge[nn]:Lu(ge[nn]));ge=Ve}return Vt(ge,Le)},Vt.equals=function(ge,Le){return!(!ge||!Le)&&Vt(ge).toRgbString()==Vt(Le).toRgbString()},Vt.random=function(){return Vt.fromRatio({r:te(),g:te(),b:te()})},Vt.mix=function(ge,Le,Ve){Ve=0===Ve?0:Ve||50;var nn,Nn=Vt(ge).toRgb(),Xn=Vt(Le).toRgb(),pn=Ve/100,Tr=2*pn-1,po=Xn.a-Nn.a,Wi=1-(nn=((nn=Tr*po==-1?Tr:(Tr+po)/(1+Tr*po))+1)/2);return Vt({r:Xn.r*nn+Nn.r*Wi,g:Xn.g*nn+Nn.g*Wi,b:Xn.b*nn+Nn.b*Wi,a:Xn.a*pn+Nn.a*(1-pn)})},Vt.readability=function(ge,Le){var Ve=Vt(ge),nn=Vt(Le),Nn=Ve.toRgb(),Xn=nn.toRgb(),pn=Ve.getBrightness(),Tr=nn.getBrightness(),po=Math.max(Nn.r,Xn.r)-Math.min(Nn.r,Xn.r)+Math.max(Nn.g,Xn.g)-Math.min(Nn.g,Xn.g)+Math.max(Nn.b,Xn.b)-Math.min(Nn.b,Xn.b);return{brightness:Math.abs(pn-Tr),color:po}},Vt.isReadable=function(ge,Le){var Ve=Vt.readability(ge,Le);return Ve.brightness>125&&Ve.color>500},Vt.mostReadable=function(ge,Le){for(var Ve=null,nn=0,Nn=!1,Xn=0;Xn<Le.length;Xn++){var pn=Vt.readability(ge,Le[Xn]),Tr=pn.brightness>125&&pn.color>500,po=pn.brightness/125*3+pn.color/500;(Tr&&!Nn||Tr&&Nn&&po>nn||!Tr&&!Nn&&po>nn)&&(Nn=Tr,nn=po,Ve=Vt(Le[Xn]))}return Ve};var ke,ze,on,_n=Vt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},An=Vt.hexNames=function(ge){var Le={};for(var Ve in ge)ge.hasOwnProperty(Ve)&&(Le[ge[Ve]]=Ve);return Le}(_n),er=(ze="[\\s|\\(]+("+(ke="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+ke+")[,|\\s]+("+ke+")\\s*\\)?",on="[\\s|\\(]+("+ke+")[,|\\s]+("+ke+")[,|\\s]+("+ke+")[,|\\s]+("+ke+")\\s*\\)?",{rgb:new RegExp("rgb"+ze),rgba:new RegExp("rgba"+on),hsl:new RegExp("hsl"+ze),hsla:new RegExp("hsla"+on),hsv:new RegExp("hsv"+ze),hsva:new RegExp("hsva"+on),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=Vt,a(function(){a.fn.spectrum.load&&a.fn.spectrum.processNativeColorInputs()})}function Un(ge,Le,Ve,nn){for(var Nn=[],Xn=0;Xn<ge.length;Xn++){var pn=ge[Xn];if(pn){var Tr=Vt(pn),po=Tr.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";po+=Vt.equals(Le,pn)?" sp-thumb-active":"";var Wi=Tr.toString(nn.preferredFormat||"rgb"),Qi=o?"background-color:"+Tr.toRgbString():"filter:"+Tr.toFilter();Nn.push('<span title="'+Wi+'" data-color="'+Tr.toRgbString()+'" class="'+po+'"><span class="sp-thumb-inner" style="'+Qi+';"></span></span>')}else Nn.push(a("<div />").append(a('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",nn.noColorSelectedText)).html())}return"<div class='sp-cf "+Ve+"'>"+Nn.join("")+"</div>"}function xr(){}function Uo(ge){ge.stopPropagation()}function ci(ge,Le){var Ve=Array.prototype.slice,nn=Ve.call(arguments,2);return function(){return ge.apply(Le,nn.concat(Ve.call(arguments)))}}function ui(ge,Le,Ve,nn){Le=Le||function(){},Ve=Ve||function(){},nn=nn||function(){};var Nn=document,Xn=!1,pn={},Tr=0,po=0,Wi="ontouchstart"in window,Qi={};function Gr(ho){ho.stopPropagation&&ho.stopPropagation(),ho.preventDefault&&ho.preventDefault(),ho.returnValue=!1}function Yn(ho){if(Xn){if(n&&Nn.documentMode<9&&!ho.button)return Jr();var wa=ho&&ho.touches&&ho.touches[0],Ni=wa&&wa.pageY||ho.pageY,Ri=Math.max(0,Math.min((wa&&wa.pageX||ho.pageX)-pn.left,po)),xa=Math.max(0,Math.min(Ni-pn.top,Tr));Wi&&Gr(ho),Le.apply(ge,[Ri,xa,ho])}}function Jr(){Xn&&(a(Nn).unbind(Qi),a(Nn.body).removeClass("sp-dragging"),setTimeout(function(){nn.apply(ge,arguments)},0)),Xn=!1}Qi.selectstart=Gr,Qi.dragstart=Gr,Qi["touchmove mousemove"]=Yn,Qi["touchend mouseup"]=Jr,a(ge).bind("touchstart mousedown",function(ho){(ho.which?3==ho.which:2==ho.button)||Xn||!1!==Ve.apply(ge,arguments)&&(Xn=!0,Tr=a(ge).height(),po=a(ge).width(),pn=a(ge).offset(),a(Nn).bind(Qi),a(Nn.body).addClass("sp-dragging"),Yn(ho),Gr(ho))})}function Ji(){return a.fn.spectrum.inputTypeColorSupport()}function la(ge,Le,Ve){ge=Yo(ge,255),Le=Yo(Le,255),Ve=Yo(Ve,255);var nn,Nn,Xn=Bt(ge,Le,Ve),pn=Ft(ge,Le,Ve),Tr=(Xn+pn)/2;if(Xn==pn)nn=Nn=0;else{var po=Xn-pn;switch(Nn=Tr>.5?po/(2-Xn-pn):po/(Xn+pn),Xn){case ge:nn=(Le-Ve)/po+(Le<Ve?6:0);break;case Le:nn=(Ve-ge)/po+2;break;case Ve:nn=(ge-Le)/po+4}nn/=6}return{h:nn,s:Nn,l:Tr}}function Ss(ge,Le,Ve){ge=Yo(ge,255),Le=Yo(Le,255),Ve=Yo(Ve,255);var nn,Nn,Xn=Bt(ge,Le,Ve),pn=Ft(ge,Le,Ve),Tr=Xn,po=Xn-pn;if(Nn=0===Xn?0:po/Xn,Xn==pn)nn=0;else{switch(Xn){case ge:nn=(Le-Ve)/po+(Le<Ve?6:0);break;case Le:nn=(Ve-ge)/po+2;break;case Ve:nn=(ge-Le)/po+4}nn/=6}return{h:nn,s:Nn,v:Tr}}function is(ge,Le,Ve,nn){var Nn=[lc(xt(ge).toString(16)),lc(xt(Le).toString(16)),lc(xt(Ve).toString(16))];return nn&&Nn[0].charAt(0)==Nn[0].charAt(1)&&Nn[1].charAt(0)==Nn[1].charAt(1)&&Nn[2].charAt(0)==Nn[2].charAt(1)?Nn[0].charAt(0)+Nn[1].charAt(0)+Nn[2].charAt(0):Nn.join("")}function as(ge,Le,Ve,nn){var Nn;return[lc((Nn=nn,Math.round(255*parseFloat(Nn)).toString(16))),lc(xt(ge).toString(16)),lc(xt(Le).toString(16)),lc(xt(Ve).toString(16))].join("")}function Pa(ge,Le){Le=0===Le?0:Le||10;var Ve=Vt(ge).toHsl();return Ve.s-=Le/100,Ve.s=af(Ve.s),Vt(Ve)}function ss(ge,Le){Le=0===Le?0:Le||10;var Ve=Vt(ge).toHsl();return Ve.s+=Le/100,Ve.s=af(Ve.s),Vt(Ve)}function Na(ge){return Vt(ge).desaturate(100)}function Ep(ge,Le){Le=0===Le?0:Le||10;var Ve=Vt(ge).toHsl();return Ve.l+=Le/100,Ve.l=af(Ve.l),Vt(Ve)}function of(ge,Le){Le=0===Le?0:Le||10;var Ve=Vt(ge).toRgb();return Ve.r=Bt(0,Ft(255,Ve.r-xt(-Le/100*255))),Ve.g=Bt(0,Ft(255,Ve.g-xt(-Le/100*255))),Ve.b=Bt(0,Ft(255,Ve.b-xt(-Le/100*255))),Vt(Ve)}function sc(ge,Le){Le=0===Le?0:Le||10;var Ve=Vt(ge).toHsl();return Ve.l-=Le/100,Ve.l=af(Ve.l),Vt(Ve)}function jp(ge,Le){var Ve=Vt(ge).toHsl(),nn=(xt(Ve.h)+Le)%360;return Ve.h=nn<0?360+nn:nn,Vt(Ve)}function G_(ge){var Le=Vt(ge).toHsl();return Le.h=(Le.h+180)%360,Vt(Le)}function Y_(ge){var Le=Vt(ge).toHsl(),Ve=Le.h;return[Vt(ge),Vt({h:(Ve+120)%360,s:Le.s,l:Le.l}),Vt({h:(Ve+240)%360,s:Le.s,l:Le.l})]}function X_(ge){var Le=Vt(ge).toHsl(),Ve=Le.h;return[Vt(ge),Vt({h:(Ve+90)%360,s:Le.s,l:Le.l}),Vt({h:(Ve+180)%360,s:Le.s,l:Le.l}),Vt({h:(Ve+270)%360,s:Le.s,l:Le.l})]}function Z_(ge){var Le=Vt(ge).toHsl(),Ve=Le.h;return[Vt(ge),Vt({h:(Ve+72)%360,s:Le.s,l:Le.l}),Vt({h:(Ve+216)%360,s:Le.s,l:Le.l})]}function J_(ge,Le,Ve){Le=Le||6,Ve=Ve||30;var nn=Vt(ge).toHsl(),Nn=360/Ve,Xn=[Vt(ge)];for(nn.h=(nn.h-(Nn*Le>>1)+720)%360;--Le;)nn.h=(nn.h+Nn)%360,Xn.push(Vt(nn));return Xn}function Q_(ge,Le){Le=Le||6;for(var Ve=Vt(ge).toHsv(),nn=Ve.h,Nn=Ve.s,Xn=Ve.v,pn=[],Tr=1/Le;Le--;)pn.push(Vt({h:nn,s:Nn,v:Xn})),Xn=(Xn+Tr)%1;return pn}function _g(ge){return ge=parseFloat(ge),(isNaN(ge)||ge<0||ge>1)&&(ge=1),ge}function Yo(ge,Le){var nn;"string"==typeof(nn=ge)&&-1!=nn.indexOf(".")&&1===parseFloat(nn)&&(ge="100%");var Ve=function(nn){return"string"==typeof nn&&-1!=nn.indexOf("%")}(ge);return ge=Ft(Le,Bt(0,parseFloat(ge))),Ve&&(ge=parseInt(ge*Le,10)/100),lt.abs(ge-Le)<1e-6?1:ge%Le/parseFloat(Le)}function af(ge){return Ft(1,Bt(0,ge))}function Ts(ge){return parseInt(ge,16)}function lc(ge){return 1==ge.length?"0"+ge:""+ge}function Lu(ge){return ge<=1&&(ge=100*ge+"%"),ge}function tb(ge){return Ts(ge)/255}}(ht.default);var Ed=function(a){var r="name"===a.getFormat()&&a.toName(),t=1==a.getAlpha()?a.toHexString():a.toRgbString();return r||t.replace(/ /g,"")},Jg=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Zg(r,a),r.prototype.template=function(){var t=this.ppfx;return'\n      <div class="'.concat(this.holderClass(),'"></div>\n      <div class="').concat(t,'field-colorp">\n        <div class="').concat(t,'field-colorp-c" data-colorp-c>\n          <div class="').concat(t,'checker-bg"></div>\n        </div>\n      </div>\n    ')},r.prototype.inputClass=function(){var t=this.ppfx;return"".concat(t,"field ").concat(t,"field-color")},r.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},r.prototype.remove=function(){return a.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},r.prototype.handleChange=function(t){t.stopPropagation();var e=t.target.value;(0,R.isUndefined)(e)||this.__onInputChange(e)},r.prototype.__onInputChange=function(t){var e=this.model,n=this.opts.onChange,o=t,l=this.getColorEl();if(l){l.spectrum("set",o);var h=l.spectrum("get"),v=o&&Ed(h);v&&(o=v)}n?n(o):e.set({value:o},{fromInput:1})},r.prototype.setValue=function(t,e){void 0===e&&(e={});var n=this.model,o=(0,R.isUndefined)(e.def)?n.get("defaults"):e.def,l=(0,R.isUndefined)(t)?(0,R.isUndefined)(o)?"":o:t,h=this.getInputEl(),v=this.getColorEl(),j="none"!=l?l:"";h.value=l,v.get(0).style.backgroundColor=j,(e.fromTarget||e.fromInput&&!e.avoidStore)&&(v.spectrum("set",j),this.noneColor="none"==l,this.movedColor=j)},r.prototype.getColorEl=function(){var t=this;if(!this.colorEl){var e=this,n=e.em,o=e.model,h=this.ppfx,v=e.opts.onChange,j=(0,ht.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),S=j.get(0).style,Y=n&&n.getConfig&&n.getConfig().colorPicker||{};this.movedColor="";var lt,xt=!1;this.$el.find("[data-colorp-c]").append(j);var Ft=function(Bt,te){void 0===te&&(te=!0),v?v(Bt,!te):(te&&o.setValueFromInput(0,!1),o.setValueFromInput(Bt,te))};j.spectrum(Tu(Tu(Tu({color:o.getValue()||!1,containerClassName:"".concat(h,"one-bg ").concat(h,"two-color ").concat(h,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"\u2a2f",palette:[]},Y),o.get("colorPicker")||{}),{move:function(Bt){var te=Ed(Bt);t.movedColor=te,S.backgroundColor=te,Ft(te,!1)},change:function(Bt){xt=!0;var te=Ed(Bt);S.backgroundColor=te,Ft(te),t.noneColor=!1},show:function(Bt){xt=!1,t.movedColor="",lt=v?o.getValue({noDefault:!0}):Ed(Bt)},hide:function(){xt||!lt&&!v||(t.noneColor&&(lt=""),S.backgroundColor=lt,j.spectrum("set",lt),Ft(lt,!1))}})),n&&n.on&&this.listenTo(n,"component:selected",function(){t.movedColor&&Ft(t.movedColor),xt=!0,t.movedColor="",j.spectrum("hide")}),this.colorEl=j}return this.colorEl},r.prototype.render=function(){return Ad.prototype.render.call(this),this.getColorEl(),this},r}(Ad);const Qp=Jg;var Qg=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const tv=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Qg(r,a),r.prototype.templateInput=function(){return""},r.prototype.getInputEl=function(){if(!this.input){var t=this.model,e=this.getModelValue(),n=new Qp({model:t,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}).render();n.setValue(e,{fromTarget:1}),this.input=n.el}return this.input},r}(Ws);var ev=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),th=function(a){function r(t){void 0===t&&(t={});var e=a.call(this,t)||this;return(0,R.bindAll)(e,"moveIncrement","upIncrement"),e.doc=document,e.listenTo(e.model,"change:unit",e.handleModelChange),e}return ev(r,a),r.prototype.template=function(){var t=this.ppfx;return'\n      <span class="'.concat(t,'input-holder"></span>\n      <span class="').concat(t,'field-units"></span>\n      <div class="').concat(t,'field-arrows" data-arrows>\n        <div class="').concat(t,'field-arrow-u" data-arrow-up></div>\n        <div class="').concat(t,'field-arrow-d" data-arrow-down></div>\n      </div>\n    ')},r.prototype.inputClass=function(){var t=this.ppfx;return this.opts.contClass||"".concat(t,"field ").concat(t,"field-integer")},r.prototype.setValue=function(t,e){var n=e||{},o=this.validateInputValue(t,{deepCheck:1}),l={value:o.value,unit:""};(o.unit||o.force)&&(l.unit=o.unit),this.model.set(l,n),n.silent&&this.handleModelChange()},r.prototype.handleChange=function(t){t.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},r.prototype.handleUnitChange=function(t){t.stopPropagation();var e=this.getUnitEl().value;this.model.set("unit",e),this.elementUpdated()},r.prototype.handleKeyDown=function(t){"ArrowUp"===t.key&&(t.preventDefault(),this.upArrowClick()),"ArrowDown"===t.key&&(t.preventDefault(),this.downArrowClick())},r.prototype.elementUpdated=function(){this.model.trigger("el:change")},r.prototype.handleModelChange=function(){var t=this.model;this.getInputEl().value=t.get("value");var e=this.getUnitEl();e&&(e.value=t.get("unit")||"")},r.prototype.getUnitEl=function(){if(!this.unitEl){var t=this.model,e=t.get("units")||[];if(e.length){var n=['<option value="" disabled hidden>-</option>'];e.forEach(function(l){var h=l==t.get("unit")?"selected":"";n.push("<option ".concat(h,">").concat(l,"</option>"))});var o=document.createElement("div");o.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(n.join(""),"</select>"),this.unitEl=o.firstChild}}return this.unitEl},r.prototype.upArrowClick=function(){var t=this.model.get("step"),e=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(e+t)),this.elementUpdated()},r.prototype.downArrowClick=function(){var t=this.model.get("step"),e=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(e-t)),this.elementUpdated()},r.prototype.downIncrement=function(t){t.preventDefault(),this.moved=!1;var e=this.model.get("value")||0;e=this.normalizeValue(e),this.current={y:t.pageY,val:e},(0,kt.on)(this.doc,"mousemove",this.moveIncrement),(0,kt.on)(this.doc,"mouseup",this.upIncrement)},r.prototype.moveIncrement=function(t){this.moved=!0;var e=this.model,n=e.get("step"),o=this.current,l=this.normalizeValue(o.val+(o.y-t.pageY)*n),h=this.validateInputValue(l),v=h.value,j=h.unit;return this.prValue=v,e.set({value:v,unit:j},{avoidStore:1}),!1},r.prototype.upIncrement=function(){var t=this.model,e=t.get("step");if((0,kt.AU)(this.doc,"mouseup",this.upIncrement),(0,kt.AU)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var n=this.prValue-e;t.set("value",n,{avoidStore:1}).set("value",n+e),this.elementUpdated()}},r.prototype.normalizeValue=function(t,e){void 0===e&&(e=0);var n=this.model.get("step"),o=0;if(isNaN(t))return e;if(t=parseFloat(t),Math.floor(t)!==t){var l=n.toString().split(".")[1];o=l?l.length:0}return o?parseFloat(t.toFixed(o)):t},r.prototype.validateInputValue=function(t,e){void 0===e&&(e={});var n=0,o=e||{},l=this.model,v=(0,R.isUndefined)(t)?"":t,j=e.units||l.get("units")||[],S=l.get("unit")||j.length&&j[0]||"",Y=(0,R.isUndefined)(e.max)?l.get("max"):e.max,lt=(0,R.isUndefined)(e.min)?l.get("min"):e.min,xt=!!l.get("limitlessMax"),Ft=!!l.get("limitlessMin");if(o.deepCheck){var Bt=l.get("fixedValues")||[];if(""===v&&(S=""),v){var te=new RegExp("^"+Bt.join("|"),"g");if(Bt.length&&te.test(v))v=v.match(te)[0],S="",n=1;else{var Vt=v+"";v+="",v=parseFloat(v.replace(",",".")),v=isNaN(v)?"":v;var ke=Vt.replace(v,"");(0,R.indexOf)(j,ke)>=0&&(S=ke)}}}return isNaN(v)||""===v||(xt||(0,R.isUndefined)(Y)||""===Y||(v=v>Y?Y:v),Ft||(0,R.isUndefined)(lt)||""===lt||(v=v<lt?lt:v)),{force:n,value:v,unit:S}},r.prototype.render=function(){Ad.prototype.render.call(this),this.unitEl=null;var t=this.getUnitEl();return t&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(t),this},r}(Ad);const eh=th;th.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var nv=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),rv=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return nv(r,a),r.prototype.getValueForTarget=function(){var t=this.model,e=t.attributes,n=e.value,o=e.unit;return(0,R.isUndefined)(n)||""===n?t.get("default"):n+o},r.prototype.getInputEl=function(){if(!this.input){var t=this.ppfx,e=this.model,n=this.getModelValue(),o=new eh({contClass:"".concat(t,"field-int"),type:"number",model:e,ppfx:t});o.render(),this.$input=o.inputEl,this.$unit=o.unitEl,e.set("value",n,{fromTarget:!0}),this.$input.val(n),this.input=o.el}return this.input},r}(Ws);const ov=rv;var iv=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const av=function(a){function r(t){void 0===t&&(t={});var e=a.call(this,t)||this;return e.listenTo(e.model,"change:options",e.rerender),e}return iv(r,a),r.prototype.templateInput=function(){var t=this.ppfx;return'<div class="'.concat(this.clsField,'">\n      <div data-input></div>\n      <div class="').concat(t,'sel-arrow">\n        <div class="').concat(t,'d-s-arrow"></div>\n      </div>\n    </div>')},r.prototype.getInputEl=function(){if(!this.$input){var t=this.model,e=this.em,n=t.get("name"),o=t.get("options")||[],l=[],h="<select>";o.forEach(function(S){var Y,lt,xt,Ft="";(0,R.isString)(S)?(Y=S,lt=S):(Y=S.name||S.label||S.value,lt="".concat((0,R.isUndefined)(S.value)?S.id:S.value).replace(/"/g,"&quot;"),Ft+=(xt=S.style?S.style.replace(/"/g,"&quot;"):"")?' style="'.concat(xt,'"'):"");var Bt=e.t("traitManager.traits.options.".concat(n,".").concat(lt))||Y;h+='<option value="'.concat(lt,'"').concat(Ft,">").concat(Bt,"</option>"),l.push(lt)}),this.$input=(0,ht.default)(h+="</select>");var v=t.getTargetValue(),j=l.indexOf(v)>=0?v:t.get("default");!(0,R.isUndefined)(j)&&this.$input.val(j)}return this.$input.get(0)},r}(Ws);var sv=Xe(91),lv=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),nh="data-categories",rh="data-no-categories",oh=function(a){function r(t,e){var n=a.call(this,t)||this;n.reuseView=!0,n.renderedCategories=new Map,n.itemsView=e;var o=t.config||{};n.config=o;var l=t.editor;n.em=l;var h=o.pStylePrefix||"";return n.ppfx=h,n.pfx=h+o.stylePrefix||"",n.className="".concat(n.pfx,"traits"),n.traitContClass="".concat(h,"traits-c"),n.classNoCat="".concat(h,"traits-empty-c"),n.catsClass="".concat(h,"trait-categories"),n.collection=new Pn([],{em:l}),n.listenTo(l,"component:toggled",n.updatedCollection),n.updatedCollection(),n}return lv(r,a),r.prototype.updatedCollection=function(){var t=this.ppfx,e=this.em,n=e.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(t,"one-bg ").concat(t,"two-color"),this.collection=n?.traits||new Pn([],{em:e}),this.render()},r.prototype.add=function(t,e){var n=this.config,o=this.renderedCategories,l=this.itemView,h=t.get(this.itemType);this.itemsView&&this.itemsView[h]&&(l=this.itemsView[h]);var v=new l({config:n,model:t,attributes:t.get("attributes")}).render().el,j=t.parent.initCategory(t);if(j){var S=j.getId(),Y=this.getCategoriesEl(),lt=o.get(S);return!lt&&Y&&(lt=new tc({model:j},n,"trait").render(),o.set(S,lt),Y.appendChild(lt.el)),void(null==lt||lt.append(v))}e?e.appendChild(v):this.append(v)},r.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(nh,"]"))),this.catsEl},r.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(rh,"]"))),this.traitsEl},r.prototype.append=function(t){var e=this.getTraitsEl();e?.appendChild(t)},r.prototype.render=function(){var t=this,e=this,n=e.el,o=e.ppfx,l=e.catsClass,h=e.traitContClass,v=e.classNoCat,j=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,n.innerHTML='\n      <div class="'.concat(l,'" ').concat(nh,'></div>\n      <div class="').concat(v," ").concat(h,'" ').concat(rh,"></div>\n    "),this.collection.forEach(function(Y){return t.add(Y,j)}),this.append(j);var S="".concat(h,"s ").concat(o,"one-bg ").concat(o,"two-color");return this.$el.addClass(S),this.rendered=!0,this},r}(sv.A);const ih=oh;oh.prototype.itemView=Ws;var cv=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),dv=function(a){function r(t){var e=a.call(this,t,"TraitManager",{stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1})||this;e.TraitsView=ih,e.events=tn,e.state=new F.Kx({traits:[]}),e.types={text:Ws,number:ov,select:av,checkbox:Yg,color:tv,button:$g};var o=e.state,l=e.config,h=e.events,v=l.pStylePrefix;v&&(l.stylePrefix="".concat(v).concat(l.stylePrefix)),(0,R.bindAll)(e,"__onSelect");var j=(0,R.debounce)(function(){return e.__upSel()},0),S=(0,R.debounce)(function(){return e.__onUp()},0);return o.listenTo(t,"component:toggled",j),o.listenTo(t,h.value,S),o.on("change:traits",e.__onSelect),e.debounced=[j,S],e}return cv(r,a),r.prototype.select=function(t){var e=t?.getTraits()||[];this.state.set({component:t,traits:e}),this.__trgCustom()},r.prototype.getCategories=function(){var t,e=this.getComponent();return function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))}([],(null===(t=e?.traits.categories)||void 0===t?void 0:t.models)||[],!0)},r.prototype.getTraits=function(){return this.getCurrent()},r.prototype.getTraitsByCategory=function(t){return vt(t||this.getTraits())},r.prototype.getComponent=function(){return this.state.attributes.component},r.prototype.addType=function(t,e){var n=this.getType("text");this.types[t]=n.extend(e)},r.prototype.getType=function(t){return this.getTypes()[t]},r.prototype.getTypes=function(){return this.types},r.prototype.getTraitsViewer=function(){return this.view},r.prototype.getCurrent=function(){return this.state.get("traits")||[]},r.prototype.render=function(){var t=this.view,e=this.em;return t=new ih({el:t?.el,collection:[],editor:e,config:this.getConfig()},this.getTypes()),this.view=t,t.el},r.prototype.postRender=function(){this.__appendTo()},r.prototype.__onSelect=function(){var t=this,o=t.state.attributes;t.em.trigger(t.events.select,{component:o.component,traits:o.traits})},r.prototype.__trgCustom=function(t){void 0===t&&(t={});var e=this,n=e.em,o=e.events;this.__ctn=e.__ctn||t.container,n.trigger(o.custom,this.__customData())},r.prototype.__customData=function(){return{container:this.__ctn}},r.prototype.__upSel=function(){this.select(this.em.getSelected())},r.prototype.__onUp=function(){this.select(this.getComponent())},r}(K);const fv=dv;var hv=Xe(3253),gv=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),vv=function(a){function r(){var t=null!==a&&a.apply(this,arguments)||this;return t._dropAreaConfig={ratio:.4,minUndroppableDimension:3,maxUndroppableDimension:20},t}return gv(r,a),Object.defineProperty(r.prototype,"view",{get:function(){return this.model.viewLayer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"element",{get:function(){var t;return null===(t=this.model.viewLayer)||void 0===t?void 0:t.el},enumerable:!1,configurable:!0}),r}(hv.h);const mv=vv;var yv=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),_v=function(a){function r(t){void 0===t&&(t={});var e=a.call(this,t)||this;e.items=[],e.opt=t;var n=t.config||{};e.config=n,e.module=t.module,e.parentView=t.parentView;var o=n.stylePrefix||"",l=e.collection;e.listenTo(l,"add",e.addTo),e.listenTo(l,"reset resetNavigator",e.render),e.listenTo(l,"remove",e.removeChildren),e.className="".concat(o,"layers");var h=n.em;if(n.sortable&&!e.opt.sorter){var v=h.Utils,j=n.sortContainer||e.el,S=e.createPlaceholder(o);e.opt.sorter=new v.ComponentSorter({em:h,treeClass:mv,containerContext:{container:j,containerSel:".".concat(e.className),itemSel:".".concat(o,"layer"),pfx:n.pStylePrefix,document,placeholderElement:S},dragBehavior:{dragDirection:ro.A.Vertical,nested:!0}})}return e.$el.data("collection",l),t.parent&&e.$el.data("model",t.parent),e}return yv(r,a),r.prototype.createPlaceholder=function(t){var e=document.createElement("div"),n=document.createElement("div");return e.className=t+"placeholder",e.style.display="none",e.style.pointerEvents="none",n.className=t+"placeholder-int",e.appendChild(n),e},r.prototype.removeChildren=function(t){var e=t.viewLayer;e&&(e.remove(),delete t.viewLayer)},r.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},r.prototype.addToCollection=function(t,e,n){var o=this,h=o.opt,j=o.el,S=h.ItemView,Bt=t.viewLayer||new S({ItemView:S,level:h.level,model:t,parentView:o.parentView,config:o.config,sorter:h.sorter,opened:h.opened,module:h.module}),te=Bt.render().el;if(e)e.appendChild(te);else{var Vt=j,ke=Vt.childNodes;if((0,R.isUndefined)(n))Vt.appendChild(te);else{var ze=ke.length==n;ze&&n--,ze||!ke.length?Vt.appendChild(te):Vt.insertBefore(te,ke[n])}}return this.items.push(Bt),te},r.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return F.Ss.prototype.remove.apply(this,t),this.items.map(function(n){return n.remove()}),this},r.prototype.render=function(){var t=this,e=this.el,n=this.module,o=document.createDocumentFragment();return e.innerHTML="",this.collection.map(function(l){return n.__getLayerFromComponent(l)}).forEach(function(l){return t.addToCollection(l,o)}),e.appendChild(o),e.className=this.className,this},r}(F.Ss);const bv=_v;var Uf=Xe(5301),xv=Xe(8351),Cv=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),jd=function(){return jd=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},jd.apply(this,arguments)},ah=function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))},sh=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],lh={preserveSelected:1},ch=function(a){return function(r){return a.trigger("".concat(Oi,":start"),r)}},uh=function(a){return function(r){return a.trigger(Oi,r)}},dh=function(a,r,t){return void 0===t&&(t={}),function(e,n,o){setTimeout(function(){r.forEach(function(l){return l.set("status",l.get("selectable")?"selected":"")}),a.setSelected(r),r[0].emitUpdate()}),a.trigger("".concat(Oi,":end"),o),setTimeout(function(){return a.runDefault(lh)}),(t.altMode||o.cancelled)&&a.set("_cmpDrag",1)}},Sv=function(a){function r(t){var e=a.call(this,t,"Commands",{stylePrefix:"com-",defaults:{},strict:!0})||this;e.CommandAbstract=Uf.default,e.defaultCommands={},e.commands={},e.active={},e.events=xv.A;var n=e.config,o=n.pStylePrefix,l=e.defaultCommands;for(var h in o&&(n.stylePrefix=o+n.stylePrefix),Object.keys(n.defaults).forEach(function(v){var j=n.defaults[v];j.id&&e.add(j.id,j)}),l["tlb-delete"]={run:function(v){return v.runCommand("core:component-delete")}},l["tlb-clone"]={run:function(v){v.runCommand("core:copy"),v.runCommand("core:paste",{action:"clone-component"})}},l["tlb-move"]={run:function(v,j,S){var Y;void 0===S&&(S={});var lt=v.getModel(),xt=S.event,Ft=S.target,Bt=(Array.isArray(Ft)?Ft:Ft?[Ft]:ah([],v.getSelectedAll(),!0)).map(function(mr){var xr,Uo;return(null===(Uo=null===(xr=mr.delegate)||void 0===xr?void 0:xr.move)||void 0===Uo?void 0:Uo.call(xr,mr))||mr}).filter(Boolean),te=Bt[Bt.length-1],Vt="dragstart"===xt?.type;if(!te?.get("draggable"))return lt.logWarning("The element is not draggable");var ke=te.get("dmode")||lt.get("dmode"),ze=function(){return lt.stopDefault(lh)},on=(0,R.includes)(["absolute","translate"],ke);Bt.forEach(function(mr){return mr.trigger("disable",{fromMove:!0})}),Vt?setTimeout(ze,0):ze();var _n=ch(lt),An=uh(lt),er=dh(lt,Bt,{altMode:on});if(on)v.runCommand("core:component-drag",{guidesInfo:1,mode:ke,target:te,onStart:_n,onDrag:An,onEnd:er,event:xt});else{Vt&&xt.dataTransfer.setDragImage(null===(Y=te.view)||void 0===Y?void 0:Y.el,0,0);var Un=v.Commands.get("move-comp");Un.onStart=_n,Un.onDrag=An,Un.onEndMoveFromModel=er,Un.initSorterFromModels(Bt)}Bt.filter(function(mr){return mr.get("selectable")}).forEach(function(mr){return mr.set("status","freezed-selected")})}},l["core:undo"]=function(v){return v.UndoManager.undo()},l["core:redo"]=function(v){return v.UndoManager.redo()},sh.forEach(function(v){var j=v[2],S=Xe(585)("./".concat(v[1])).default,Y="core:".concat(v[0]);l[Y]=S,j&&(l[j]=S,["run","stop"].forEach(function(lt){t.on("".concat(lt,":").concat(j),function(){for(var xt=[],Ft=0;Ft<arguments.length;Ft++)xt[Ft]=arguments[Ft];return t.trigger.apply(t,ah(["".concat(lt,":").concat(Y)],xt,!1))})}))}),n.model=t.Canvas,l)e.add(h,l[h]);return e}return Cv(r,a),r.prototype.add=function(t,e){var n=(0,R.isFunction)(e)?{run:e}:e;return n.stop||(n.noStop=!0),delete n.initialize,n.id=t,this.commands[t]=Uf.default.extend(n),this},r.prototype.get=function(t){var e=this.commands[t];return(0,R.isFunction)(e)?(e=new e(this.config),this.commands[t]=e):e||this.em.logWarning("'".concat(t,"' command not found")),e},r.prototype.extend=function(t,e){void 0===e&&(e={});var n=this.get(t);if(n){var o=jd(jd({},n.constructor.prototype),e);this.add(t,o);var l=sh.filter(function(h){return"core:".concat(h[0])===t&&h[2]})[0];l&&this.add(l[2],o)}return this},r.prototype.has=function(t){return!!this.commands[t]},r.prototype.getAll=function(){return this.commands},r.prototype.run=function(t,e){return void 0===e&&(e={}),this.runCommand(this.get(t),e)},r.prototype.stop=function(t,e){return void 0===e&&(e={}),this.stopCommand(this.get(t),e)},r.prototype.isActive=function(t){return this.getActive().hasOwnProperty(t)},r.prototype.getActive=function(){return this.active},r.prototype.runCommand=function(t,e){var n;if(void 0===e&&(e={}),t?.run){var l=this.config,v=this.em.Editor;this.isActive(t.id)&&!e.force&&l.strict||(n=v&&t.callRun(v,e))}return n},r.prototype.stopCommand=function(t,e){var n;if(void 0===e&&(e={}),t?.run){var l=this.config,v=this.em.Editor;(this.isActive(t.id)||e.force||!l.strict)&&(n=t.callStop(v,e))}return n},r.prototype.create=function(t){return t.stop||(t.noStop=!0),new(Uf.default.extend(t))(this.config)},r.prototype.__onRun=function(t,e){this.em.on("".concat(this.events.runCommand).concat(t),e)},r.prototype.__onStop=function(t,e){this.em.on("".concat(this.events.stopCommand).concat(t),e)},r.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},r}(K);const Tv=Sv;var Ov=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wf=function(){return Wf=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Wf.apply(this,arguments)},fh="contentEditable",Dd="data-toggle-move",kv=function(a){function r(t){var e=a.call(this,t)||this;(0,R.bindAll)(e,"__render"),e.opt=t,e.module=t.module,e.config=t.config||{},e.sorter=t.sorter||"",e.parentView=t.parentView;var l=e.pfx,h=e.ppfx,v=e.model.get("type")||"default";return e.className="".concat(l,"layer ").concat(l,"layer__t-").concat(v," no-select ").concat(h,"two-color"),e.inputNameCls="".concat(h,"layer-name"),e.clsTitleC="".concat(l,"layer-title-c"),e.clsTitle="".concat(l,"layer-title"),e.clsCaret="".concat(l,"layer-caret"),e.clsCount="".concat(l,"layer-count"),e.clsMove="".concat(l,"layer-move"),e.clsChildren="".concat(l,"layer-children"),e.clsNoChild="".concat(l,"layer-no-chld"),e.clsEdit="".concat(e.inputNameCls,"--edit"),e.clsNoEdit="".concat(e.inputNameCls,"--no-edit"),e.initComponent(),e}return Ov(r,a),r.prototype.events=function(){var t;return(t={})["mousedown [".concat(Dd,"]")]="startSort",t["touchstart [".concat(Dd,"]")]="startSort",t["click [data-toggle-visible]"]="toggleVisibility",t["click [data-toggle-open]"]="toggleOpening",t["click [data-toggle-select]"]="handleSelect",t["mouseover [data-toggle-select]"]="handleHover",t["mouseout [data-toggle-select]"]="handleHoverOut",t["dblclick [data-name]"]="handleEdit",t["keydown [data-name]"]="handleEditKey",t["focusout [data-name]"]="handleEditEnd",t},r.prototype.template=function(t){var e=this,n=e.pfx,o=e.ppfx,h=e.clsNoEdit,j=e.opt,S=e.em,Y=e.config.hidable,lt=e.module.getComponents(t).length,xt=lt?"":this.clsNoChild,Ft="".concat(this.clsTitle," ").concat(xt),Bt="".concat(this.clsTitleC),te="".concat(this.inputNameCls," ").concat(h," ").concat(o,"no-app"),ke="".concat(10*(j.level||0),"px"),ze=t.getName(),on=t.getIcon(),_n="".concat(n,"layer"),An=(S?.getConfig()).icons,er=An.move,Un=An.eye,mr=An.eyeOff,xr=An.chevron;return'\n      <div class="'.concat(n,"layer-item ").concat(o,'one-bg" data-toggle-select>\n        <div class="').concat(n,'layer-item-left">\n          ').concat(Y?'<i class="'.concat(n,'layer-vis" data-toggle-visible>\n                <i class="').concat(n,'layer-vis-on">').concat(Un,'</i>\n                <i class="').concat(n,'layer-vis-off">').concat(mr,"</i>\n              </i>"):"",'\n          <div class="').concat(Bt,'">\n            <div class="').concat(Ft,'" style="padding-left: ').concat(ke,'">\n              <div class="').concat(n,'layer-title-inn" title="').concat(ze,'">\n                <i class="').concat(this.clsCaret,'" data-toggle-open>').concat(xr,"</i>\n                  ").concat(on?'<span class="'.concat(_n,'__icon">').concat(on,"</span>"):"",'\n                <span class="').concat(te,'" data-name>').concat(ze,'</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="').concat(n,'layer-item-right">\n          <div class="').concat(this.clsCount,'" data-count>').concat(lt||"",'</div>\n          <div class="').concat(this.clsMove,'" ').concat(Dd,">").concat(er||"",'</div>\n        </div>\n      </div>\n      <div class="').concat(this.clsChildren,'"></div>\n    ')},Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),r.prototype.initComponent=function(){var t=this,e=this.model,n=this.config.onInit,o=e.components();this.listenTo(o,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(l){return t.listenTo(e,l[0],l[1])}),this.$el.data("model",e),this.$el.data("collection",o),e.viewLayer=this,n.bind(this)({component:e,render:this.__render,listenTo:this.listenTo})},r.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},r.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},r.prototype.updateVisibility=function(){var t=this,e=t.pfx,n=t.model,o=t.module,l="".concat(e,"layer-hidden"),h=o.isVisible(n)?"removeClass":"addClass";this.$el[h](l),this.getVisibilityEl()[h]("".concat(e,"layer-off"))},r.prototype.updateMove=function(){var t=this.model,e=this.config,n=this.getItemContainer().find("[".concat(Dd,"]"))[0];if(n){var o=t.get("draggable")&&e.sortable;n.style.display=o?"":"none"}},r.prototype.toggleVisibility=function(t){t?.stopImmediatePropagation();var e=this.module,n=this.model;e.setVisible(n,!e.isVisible(n))},r.prototype.handleEdit=function(t){t?.stopPropagation();var e=this,n=e.em,o=e.$el,l=e.clsNoEdit,h=e.clsEdit,v=this.getInputName();v[fh]="true",v.focus(),document.execCommand("selectAll",!1),n.setEditing(!0),o.find(".".concat(this.inputNameCls)).removeClass(l).addClass(h)},r.prototype.handleEditKey=function(t){t.stopPropagation(),((0,kt.v$)(t)||(0,kt.Ci)(t))&&this.handleEditEnd(t)},r.prototype.handleEditEnd=function(t){t?.stopPropagation();var e=this,n=e.em,o=e.$el,l=e.clsNoEdit,h=e.clsEdit,v=e.model,j=this.getInputName(),S=j.textContent;j.scrollLeft=0,j[fh]="false",v.setName(S),n.setEditing(!1),o.find(".".concat(this.inputNameCls)).addClass(l).removeClass(h),this.updateName()},r.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},r.prototype.updateOpening=function(){var t=this,e=t.$el,n=t.model,l="open",h="".concat(t.pfx,"layer-open"),v=this.getCaret();this.module.isOpen(n)?(e.addClass(l),v.addClass(h)):(e.removeClass(l),v.removeClass(h))},r.prototype.toggleOpening=function(t){var e=this.model,n=this.module;t?.stopImmediatePropagation(),e.get("components").length&&n.setOpen(e,!n.isOpen(e))},r.prototype.handleSelect=function(t){t?.stopPropagation(),this.module.setLayerData(this.model,{selected:!0},{event:t})},r.prototype.handleHover=function(t){t?.stopPropagation(),this.module.setLayerData(this.model,{hovered:!0})},r.prototype.handleHoverOut=function(t){t?.stopPropagation(),this.module.setLayerData(this.model,{hovered:!1})},r.prototype.startSort=function(t){var e,n,o;t.stopPropagation();var l=this,h=l.em,v=l.sorter,j=l.model;if((!t.button||0===t.button)&&v){var S=(null===(n=null===(e=j.delegate)||void 0===e?void 0:e.move)||void 0===n?void 0:n.call(e,j))||j;v.eventHandlers=Wf({legacyOnStartSort:ch(h),legacyOnMoveClb:uh(h),legacyOnEndMove:dh(h,[S])},v.eventHandlers);var Y=(null===(o=S.viewLayer)||void 0===o?void 0:o.el)||t.target;v.startSort([{element:Y}])}},r.prototype.updateStatus=function(){lo.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},r.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},r.prototype.checkChildren=function(){var t=this,e=t.model,n=t.clsNoChild,o=t.module,l=o.getComponents(e).length,h=this.getItemContainer(),v=h.find(".".concat(this.clsTitle)),j=h.find("[data-count]");v[l?"removeClass":"addClass"](n),j.html("".concat(l||"")),!l&&o.setOpen(e,!1)},r.prototype.getCaret=function(){return this.caret&&this.caret.length||(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},r.prototype.setRoot=function(t){var e,n=(0,R.isString)(t)?null===(e=this.em.getWrapper())||void 0===e?void 0:e.find(t)[0]:t;n&&(this.stopListening(),this.model=n,this.initComponent(),this._rendered&&this.render())},r.prototype.updateLayerable=function(){(this.parentView||this).render()},r.prototype.__clearItems=function(){var t;null===(t=this.items)||void 0===t||t.remove()},r.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return F.Ss.prototype.remove.apply(this,t),delete this.model.viewLayer,this.__clearItems(),this},r.prototype.render=function(){var t=this,e=t.model,n=t.config,o=t.pfx,l=t.ppfx,h=t.opt,v=t.sorter;this.__clearItems();var j=h.opened,S=h.module,Y=h.ItemView,lt=!S.__isLayerable(e),xt=this.$el.empty(),Ft=h.level+1;delete this.inputName,this.items=new bv({ItemView:Y,collection:e.get("components"),config:n,sorter:v,opened:j,parentView:this,parent:e,level:Ft,module:S});var Bt=this.items.render().$el;return n.showWrapper||1!==Ft?(xt.html(this.template(e)),xt.find(".".concat(this.clsChildren)).append(Bt)):xt.append(Bt),!S.isVisible(e)&&(this.className+=" ".concat(o,"hide")),lt&&(this.className+=" ".concat(l,"hidden")),xt.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},r.prototype.__render=function(){var t=this,o={component:t.model,el:t.el};t.config.onRender.bind(this)(o),this.em.trigger("layer:render",o)},r}(F.Ss);const Av=kv;var Ev=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),qf=function(){return qf=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},qf.apply(this,arguments)},Kf="".concat("layer",":"),hh="".concat(Kf,"root"),gh="".concat(Kf,"component"),jv="".concat(Kf,"custom"),Dv={all:"layer",root:hh,component:gh,custom:jv},$f={mediaText:""},Iv=["open","status","locked","custom-name","components","classes"].map(function(a){return"".concat(Se.I.update,":").concat(a)}).join(" "),Pv=function(a){function r(t){var e=a.call(this,t,"LayerManager",{stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}})||this;return e.events=Dv,(0,R.bindAll)(e,"componentChanged","__onRootChange","__onComponent"),e.model=new et.A(e,{opened:{}}),e.config.stylePrefix=e.config.pStylePrefix,e}return Ev(r,a),r.prototype.onLoad=function(){var t=this,e=this,n=e.em,o=e.config,l=e.model;l.listenTo(n,"component:selected",this.componentChanged),l.on("change:root",this.__onRootChange),l.listenTo(n,Iv,this.__onComponent),this.componentChanged(),l.listenToOnce(n,"load",function(){t.setRoot(o.root),t.__appendTo()})},r.prototype.setRoot=function(t){var e=this.em.getWrapper(),n=(0,at.isComponent)(t)?t:e;t&&(0,R.isString)(t)&&(0,at.hasWin)()&&(n=e.find(t)[0]||e);var o=this.__getLayerFromComponent(n);return this.model.set("root",o),o},r.prototype.getRoot=function(){return this.model.get("root")},r.prototype.getComponents=function(t){var e=this;return t.components().map(function(n){return e.__getLayerFromComponent(n)}).filter(function(n){return e.__isLayerable(n)})},r.prototype.setOpen=function(t,e){t.set("open",e)},r.prototype.isOpen=function(t){return!!t.get("open")},r.prototype.setVisible=function(t,e){var n="__prev-display",o=t.getStyle($f),l=o.display;if(e){var h=t.get(n);delete o.display,h&&(o.display=h,t.unset(n))}else l&&t.set(n,l),o.display="none";t.setStyle(o,$f),this.updateLayer(t),this.em.trigger("component:toggled")},r.prototype.isVisible=function(t){return void 0===(e=t.getStyle($f))&&(e={}),0!==(e.display||"").trim().indexOf("none");var e},r.prototype.setLocked=function(t,e){t.set("locked",e)},r.prototype.isLocked=function(t){return!!t.get("locked")},r.prototype.setName=function(t,e){t.set("custom-name",e)},r.prototype.getName=function(t){return t.getName()},r.prototype.getLayerData=function(t){var e=t.get("status");return{name:t.getName(),open:this.isOpen(t),selected:"selected"===e,hovered:"hovered"===e,visible:this.isVisible(t),locked:this.isLocked(t),components:this.getComponents(t)}},r.prototype.setLayerData=function(t,e,n){var o;void 0===n&&(n={});var l=this.em,h=this.config,v=e.open,j=e.selected,S=e.hovered,Y=e.visible,lt=e.locked,xt=e.name,Ft=qf({fromLayers:!0},n);if((0,at.isDef)(v)&&this.setOpen(t,v),(0,at.isDef)(j))if(j){l.setSelected(t,Ft);var Bt=h.scrollCanvas;Bt&&(null===(o=t.views)||void 0===o||o.forEach(function(te){return te.scrollIntoView(Bt)}))}else l.removeSelected(t,Ft);(0,at.isDef)(S)&&h.showHover&&l.setHovered(S?t:null,Ft),(0,at.isDef)(Y)&&Y!==this.isVisible(t)&&this.setVisible(t,Y),(0,at.isDef)(lt)&&this.setLocked(t,lt),(0,at.isDef)(xt)&&this.setName(t,xt)},r.prototype.componentChanged=function(t,e){var n;if(void 0===e&&(e={}),!e.fromLayers){var o=this.em,l=this.config.scrollLayers,h=this.model.get("opened"),v=o.getSelected(),j=v?.parent();for(var S in h)h[S].set("open",!1),delete h[S];for(;j;)j.set("open",!0),h[j.cid]=j,j=j.parent();if(v&&l){var Y=null===(n=v.viewLayer)||void 0===n?void 0:n.el;Y?.scrollIntoView(l)}}},r.prototype.getAll=function(){return this.view},r.prototype.render=function(){var t,e,n=this.config,o=this.model,l=Av.extend(n.extend);return this.view=new l({el:null===(t=this.view)||void 0===t?void 0:t.el,ItemView:l,level:0,config:n,opened:o.get("opened"),model:this.getRoot(),module:this}),null===(e=this.view)||void 0===e?void 0:e.render().el},r.prototype.destroy=function(){var t;null===(t=this.view)||void 0===t||t.remove()},r.prototype.__onRootChange=function(){var t,e=this.getRoot();null===(t=this.view)||void 0===t||t.setRoot(e),this.em.trigger(hh,e),this.__trgCustom()},r.prototype.__getLayerFromComponent=function(t){var e,n;return(null===(n=null===(e=t.delegate)||void 0===e?void 0:e.layer)||void 0===n?void 0:n.call(e,t))||t},r.prototype.__onComponent=function(t){this.updateLayer(t)},r.prototype.__isLayerable=function(t){var e=t.tagName;return(!this.config.hideTextnode||!t.isInstanceOf("textnode")&&"br"!==e)&&t.get("layerable")},r.prototype.__trgCustom=function(t){var e=this,o=e.em,l=e.events;this.__ctn=e.__ctn||t?.container,o.trigger(l.custom,{container:this.__ctn,root:this.getRoot()})},r.prototype.updateLayer=function(t,e){this.em.trigger(gh,t,e)},r}(K);const Nv=Pv;var Fv=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),vh=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Fv(r,a),r.getDefaults=function(){return(0,R.result)(this.prototype,"defaults")},r.prototype.defaults=function(){return{type:"",src:""}},r.prototype.getType=function(){return this.get("type")},r.prototype.getSrc=function(){return this.get("src")},r.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},r.prototype.getExtension=function(){return this.getFilename().split(".").pop()},r}(F.Kx);const Gf=vh;vh.prototype.idAttribute="src";var Mv=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Id=function(){return Id=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Id.apply(this,arguments)};const Rv=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Mv(r,a),r.prototype.defaults=function(){return Id(Id({},Gf.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},r}(Gf);var Hv=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bv=function(a){function r(t){var e=a.call(this,t)||this;e.options=t,e.collection=t.collection;var n=t.config||{};e.config=n,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.em=n.em,e.className=e.pfx+"asset",e.listenTo(e.model,"destroy remove",e.remove),e.model.view=e;var o=e.init&&e.init.bind(e);return o&&o(t),e}return Hv(r,a),r.prototype.__getBhv=function(){var t=this.em,e=t?.Assets;return e?.__getBehaviour()||{}},r.prototype.template=function(t,e){var n=this.pfx;return'\n      <div class="'.concat(n,'preview-cont">\n        ').concat(this.getPreview(),'\n      </div>\n      <div class="').concat(n,'meta">\n        ').concat(this.getInfo(),'\n      </div>\n      <div class="').concat(n,'close" data-toggle="asset-remove">\n        &Cross;\n      </div>\n    ')},r.prototype.updateTarget=function(t){t&&t.set&&(t.set("attributes",(0,R.clone)(t.get("attributes"))),t.set("src",this.model.get("src")))},r.prototype.getPreview=function(){return""},r.prototype.getInfo=function(){return""},r.prototype.render=function(){var t=this.el;return t.innerHTML=this.template(this,this.model),t.className=this.className,this},r}(F.Ss);const Vv=Bv;var zv=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),mh=function(a,r){return Object.defineProperty?Object.defineProperty(a,"raw",{value:r}):a.raw=r,a},yh=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return zv(r,a),r.prototype.getPreview=function(){var t=this,e=t.pfx,n=t.ppfx,o=t.model.get("src");return ct(_h||(_h=mh(['\n      <div class="','preview" style="background-image: url(\'','\');"></div>\n      <div class="',"preview-bg ",'checker-bg"></div>\n    '],['\n      <div class="','preview" style="background-image: url(\'','\');"></div>\n      <div class="',"preview-bg ",'checker-bg"></div>\n    '])),e,o,e,n)},r.prototype.getInfo=function(){var t=this.pfx,e=this.model,n=e.get("name"),o=e.get("width"),l=e.get("height"),h=e.get("unitDim"),v=o&&l?"".concat(o,"x").concat(l).concat(h):"";return n=n||e.getFilename(),ct(bh||(bh=mh(['\n      <div class="','name">','</div>\n      <div class="','dimensions">',"</div>\n    "],['\n      <div class="','name">','</div>\n      <div class="','dimensions">',"</div>\n    "])),t,n,t,v)},r.prototype.init=function(t){this.className+=" ".concat(this.pfx,"asset-image")},r.prototype.onClick=function(){var t=this.model,e=this.pfx,n=this.__getBhv().select,o=this.config.onClick,l=this.collection;l.trigger("deselectAll"),this.$el.addClass(e+"highlight"),(0,R.isFunction)(n)?n(t,!1):(0,R.isFunction)(o)?o(t):this.updateTarget(l.target)},r.prototype.onDblClick=function(){var t=this.em,e=this.model,n=this.__getBhv().select,o=this.config.onDblClick,l=this.collection,h=l.target,v=l.onSelect;(0,R.isFunction)(n)?n(e,!0):(0,R.isFunction)(o)?o(e):(this.updateTarget(h),t?.Modal.close()),(0,R.isFunction)(v)&&v(e)},r.prototype.onRemove=function(t){t.stopImmediatePropagation(),this.model.collection.remove(this.model)},r}(Vv);const Uv=yh;var _h,bh;yh.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var Pd=function(){return Pd=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Pd.apply(this,arguments)},Wv={types:[],initialize:function(a,r){var t=this;void 0===r&&(r={});var e=r.em;this.em=e,this.opts=r,this.model=function(o,l){var h,v,j;if(void 0===o&&(o={}),void 0===l&&(l={}),o&&o.type){var S=t.getBaseType();h=(j=t.getType(o.type))?j.model:S.model,v=j?j.view:S.view}else{var Y=t.recognizeType(o);h=(j=Y.type).model,v=j.view,o=Y.attributes}var lt=new h(o,Pd(Pd({},l),{em:e}));return lt.typeView=v,t.model.prototype=h.prototype,lt};var n=this.init&&this.init.bind(this);n&&n()},recognizeType:function(a){for(var r=this.getTypes(),t=0;t<r.length;t++){var e=r[t],n=e.isType(a);if(n="boolean"==typeof n&&n?{type:e.id}:n)return{type:e,attributes:n}}return{type:this.getBaseType(),attributes:a}},getBaseType:function(){var a=this.getTypes();return a[a.length-1]},getTypes:function(){return this.types},getType:function(a){for(var r=this.getTypes(),t=0;t<r.length;t++){var e=r[t];if(e.id===a)return e}},addType:function(a,r){var t=this.getType(a),e=this.getBaseType(),n=t?t.model:e.model,o=t?t.view:e.view,l=r.model,h=r.view,v=r.isType;l=l instanceof F.Kx||(0,R.isFunction)(l)?l:n.extend(l||{}),h=h instanceof F.Ss||(0,R.isFunction)(h)?h:o.extend(h||{}),!this.extendViewApi||r.model||r.view||(h=h.extend(r)),t?(t.model=l,t.view=h,t.isType=v||t.isType):(r.id=a,r.model=l,r.view=h,r.isType=v||function(j){if(j&&j.type==a)return!0},this.getTypes().unshift(r))}};const wh=Wv;var qv=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),xh=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return qv(r,a),r}(F.pM.extend(wh));const Yf=xh;var Xf;xh.prototype.types=[{id:"image",model:Rv,view:Uv,isType:function(a){return"string"==typeof a?{type:"image",src:a}:a}}],function(a){a.add="asset:add",a.remove="asset:remove",a.removeBefore="asset:remove:before",a.update="asset:update",a.open="asset:open",a.close="asset:close",a.uploadStart="asset:upload:start",a.uploadEnd="asset:upload:end",a.uploadError="asset:upload:error",a.uploadResponse="asset:upload:response",a.custom="asset:custom",a.all="asset"}(Xf||(Xf={}));const Ch=Xf;var Kv=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sh=function(a){function r(t){void 0===t&&(t={});var e=a.call(this,t)||this;e.options=t,e.config=t.config,e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.em=e.config.em;var n=e.collection;return e.listenTo(n,"reset",e.renderAssets),e.listenTo(n,"add",e.addToAsset),e.listenTo(n,"remove",e.removedAsset),e.listenTo(n,"deselectAll",e.deselectAll),e}return Kv(r,a),r.prototype.template=function(t){var e=t.pfx,n=t.ppfx,o=t.em,l="";return this.config.showUrlInput&&(l='\n          <form class="'.concat(e,'add-asset">\n            <div class="').concat(n,"field ").concat(e,'add-field">\n              <input placeholder="').concat(o?.t("assetManager.inputPlh"),'"/>\n            </div>\n            <button class="').concat(n,'btn-prim">').concat(o?.t("assetManager.addButton"),'</button>\n            <div style="clear:both"></div>\n          </form>\n      ')),'\n    <div class="'.concat(e,'assets-cont">\n      <div class="').concat(e,'assets-header">\n        ').concat(l,'\n      </div>\n      <div class="').concat(e,'assets" data-el="assets"></div>\n      <div style="clear:both"></div>\n    </div>\n    ')},r.prototype.handleSubmit=function(t){t.preventDefault();var e=this.getAddInput(),n=e&&e.value.trim(),o=this.config.handleAdd;if(n){e.value="";var l=this.getAssetsEl();l&&(l.scrollTop=0),o?o.bind(this)(n):this.options.globalCollection.add(n,{at:0})}},r.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},r.prototype.getAddInput=function(){return this.inputUrl&&this.inputUrl.value||(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},r.prototype.removedAsset=function(t){this.collection.length||this.toggleNoAssets()},r.prototype.addToAsset=function(t){1==this.collection.length&&this.toggleNoAssets(!0),this.addAsset(t)},r.prototype.addAsset=function(t,e){void 0===e&&(e=null);var n=e,h=new t.typeView({model:t,collection:this.collection,config:this.config}).render().el;if(n)n.appendChild(h);else{var v=this.getAssetsEl();v&&v.insertBefore(h,v.firstChild)}return h},r.prototype.toggleNoAssets=function(t){void 0===t&&(t=!1);var e=this.$el.find(".".concat(this.pfx,"assets"));if(t)e.empty();else{var n=this.config.noAssets;n&&e.append(n)}},r.prototype.deselectAll=function(){var t=this.pfx;this.$el.find(".".concat(t,"highlight")).removeClass("".concat(t,"highlight"))},r.prototype.renderAssets=function(){var t=this,e=document.createDocumentFragment(),n=this.$el.find(".".concat(this.pfx,"assets"));n.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(o){return t.addAsset(o,e)}),n.append(e)},r.prototype.render=function(){var t=this.options.fu.render().el;return this.$el.empty(),this.$el.append(t).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},r}(F.Ss);const $v=Sh;Sh.prototype.events={submit:"handleSubmit"};var Gv=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xv=function(a){function r(t){void 0===t&&(t={});var e=a.call(this,t)||this;e.options=t;var n=t.config||{};e.module=t.module,e.config=n,e.em=e.config.em,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.target=e.options.globalCollection||{},e.uploadId=e.pfx+"uploadFile",e.disabled=void 0!==n.disableUpload?n.disableUpload:!n.upload&&!n.embedAsBase64,e.multiUpload=void 0===n.multiUpload||n.multiUpload;var o=n.uploadFile;return o?e.uploadFile=o.bind(e):!n.upload&&n.embedAsBase64&&(e.uploadFile=r.embedAsBase64),e.delegateEvents(),e}return Gv(r,a),r.prototype.template=function(t){var e=t.pfx,n=t.title,o=t.uploadId,l=t.disabled,h=t.multiUpload;return ct(Th||(Th=function(a,r){return Object.defineProperty?Object.defineProperty(a,"raw",{value:r}):a.raw=r,a}(['\n      <form>\n        <div id="','title">','</div>\n        <input\n          data-input\n          type="file"\n          id="','"\n          name="file"\n          accept="*/*"\n          ',"\n          ",'\n        />\n        <div style="clear:both;"></div>\n      </form>\n    '],['\n      <form>\n        <div id="','title">','</div>\n        <input\n          data-input\n          type="file"\n          id="','"\n          name="file"\n          accept="*/*"\n          ',"\n          ",'\n        />\n        <div style="clear:both;"></div>\n      </form>\n    '])),e,n,o,l?"disabled":"",h?"multiple":"")},r.prototype.events=function(){return{"change [data-input]":"uploadFile"}},r.prototype.onUploadStart=function(){var t=this.module;t?.__propEv(t.events.uploadStart)},r.prototype.onUploadEnd=function(t){var e=this.$el,n=this.module;n?.__propEv(n.events.uploadEnd,t);var o=e.find("input");o&&o.val("")},r.prototype.onUploadError=function(t){var e=this.module;console.error(t),this.onUploadEnd(t),e?.__propEv(e.events.uploadError,t)},r.prototype.onUploadResponse=function(t,e){var n,o=this,l=o.module,h=o.config,v=o.target;try{n="string"==typeof t?JSON.parse(t):t}catch{n=t}l?.__propEv(l.events.uploadResponse,n),h.autoAdd&&v&&v.add(n.data,{at:0}),this.onUploadEnd(t),e?.(n)},r.prototype.uploadFile=function(t,e){var n=this,o=t.dataTransfer?t.dataTransfer.files:t.target.files,l=this.config,h=l.beforeUpload;if(!1!==(h&&h(o))){var v=new FormData,j=l.params,S=l.customFetch,Y=l.fetchOptions;for(var lt in j)v.append(lt,j[lt]);if(this.multiUpload)for(var xt=0;xt<o.length;xt++)v.append("".concat(l.uploadName).concat(l.multiUploadSuffix),o[xt]);else o.length&&v.append(l.uploadName,o[0]);var Ft=l.upload,Bt=l.headers,te="X-Requested-With";if(void 0===Bt[te]&&(Bt[te]="XMLHttpRequest"),Ft){this.onUploadStart();var Vt={method:"post",credentials:l.credentials||"include",headers:Bt,body:v},ke=Y?.(Vt)||Vt;return(S?S(Ft,ke):Kp(Ft,ke).then(function(ze){return 1==(ze.status/200|0)?ze.text():ze.text().then(function(on){return Promise.reject(on)})})).then(function(ze){return n.onUploadResponse(ze,e)}).catch(function(ze){return n.onUploadError(ze)})}}},r.prototype.initDrop=function(){var t=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var e=this.uploadForm;"draggable"in e&&(this.uploadForm.ondragover=function(){return e.className=t.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return e.className="",!1},this.uploadForm.ondrop=function(n){e.className="",n.preventDefault(),t.uploadFile(n)})}},r.prototype.initDropzone=function(t){var e=this,n=0,o=this.config,l=t.model,h=t.el,v=l.Editor,j=l.Canvas.getBody(),S=this.ppfx,Y="".concat(S,"dropzone-active"),lt="".concat(S,"dropzone"),xt=function(){h.className=h.className.replace(Y,"").trim(),n=0},Ft=function(){return n||(h.className+=" ".concat(Y),n=1),!1},Bt=function(){return xt(),!1},te=function(Vt){if(xt(),Vt.preventDefault(),Vt.stopPropagation(),e.uploadFile(Vt),o.openAssetsOnDrop&&v){var ke=v.getSelected();v.runCommand("open-assets",{target:ke,onSelect:function(){v.Modal.close(),v.AssetManager.setTarget(null)}})}return!1};t.$el.append('<div class="'.concat(lt,'">').concat(o.dropzoneContent,"</div>")),xt(),"draggable"in h&&[h,j].forEach(function(Vt){Vt.ondragover=Ft,Vt.ondragleave=Bt,Vt.ondrop=te})},r.prototype.render=function(){var t=this,e=t.$el,n=t.pfx,o=t.em;return e.html(this.template({title:o&&o.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:n})),this.initDrop(),e.attr("class",n+"file-uploader"),this},r.embedAsBase64=function(t,e){var n=this,l={data:[]};if(FileReader){for(var h=[],v=/^(.+)\/(.+)$/,j=function(lt){var xt=new Promise(function(Ft,Bt){var te=new FileReader;te.addEventListener("load",function(Vt){var ke,ze=lt.name,on=v.exec(lt.type);if("image"===(ke=on?on[1]:lt.type)){var _n={src:te.result,name:ze,type:ke,height:0,width:0},An=new Image;An.addEventListener("error",function(er){Bt(er)}),An.addEventListener("load",function(){_n.height=An.height,_n.width=An.width,Ft(_n)}),An.src=_n.src}else Ft(ke?{src:te.result,name:ze,type:ke}:te.result)}),te.addEventListener("error",function(Vt){Bt(Vt)}),te.addEventListener("abort",function(Vt){Bt("Aborted")}),te.readAsDataURL(lt)});h.push(xt)},S=0,Y=t.dataTransfer?t.dataTransfer.files:t.target.files;S<Y.length;S++)j(Y[S]);return Promise.all(h).then(function(lt){l.data=lt,n.onUploadResponse(l,e)},function(lt){n.onUploadError(lt)})}this.onUploadError(new Error("Unsupported platform, FileReader is not defined"))},r}(F.Ss);const Zv=Xv;var Th,Jv=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),zc=function(){return zc=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},zc.apply(this,arguments)},Oh=function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))},Ou="open-assets",Qv=function(a){function r(t){var e=a.call(this,t,"AssetManager",new Yf([],t),Ch,{assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""})||this;e.storageKey="assets",e.Asset=Gf,e.Assets=Yf,e.events=Ch;var o=e.all,l=e.config;e.assetsVis=new Yf([]);var h=l.pStylePrefix;return h&&(l.stylePrefix="".concat(h).concat(l.stylePrefix)),o.on("add",function(v){return e.getAllVisible().add(v)}),o.on("remove",function(v){return e.getAllVisible().remove(v)}),e.__onAllEvent=(0,R.debounce)(function(){return e.__trgCustom()},0),e}return Jv(r,a),r.prototype.open=function(t){void 0===t&&(t={}),this.em.Commands.run(Ou,zc({types:["image"],select:function(){}},t))},r.prototype.close=function(){this.em.Commands.stop(Ou)},r.prototype.isOpen=function(){var t=this.em.Commands;return!!t?.isActive(Ou)},r.prototype.add=function(t,e){return void 0===e&&(e={}),void 0===e.at&&(e.at=0),this.all.add(t,e)},r.prototype.get=function(t){return this.all.where({src:t})[0]||null},r.prototype.getAll=function(){return this.all},r.prototype.getAllVisible=function(){return this.assetsVis},r.prototype.remove=function(t,e){return this.__remove(t,e)},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(t){return this.loadProjectData(t)},r.prototype.getContainer=function(){var t;return this.__getBehaviour().container||(null===(t=this.am)||void 0===t?void 0:t.el)},r.prototype.getAssetsEl=function(){var t;return null===(t=this.am)||void 0===t?void 0:t.el.querySelector("[data-el=assets]")},r.prototype.render=function(t){if(!this.getConfig().custom){var e=t||this.getAll().models;if(!this.am){var n=this.__viewParams();n.fu=this.FileUploader(),this.am=new $v(zc({},n)),this.am.render()}return this.assetsVis.reset(e),this.getContainer()}},r.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},r.prototype.addType=function(t,e){this.getAll().addType(t,e)},r.prototype.getType=function(t){return this.getAll().getType(t)},r.prototype.getTypes=function(){return this.getAll().getTypes()},r.prototype.AssetsView=function(){return this.am},r.prototype.FileUploader=function(){return this.fu||(this.fu=new Zv(this.__viewParams())),this.fu},r.prototype.onLoad=function(){var t=this;this.getAll().reset(this.config.assets);var e=this.em,n=this.events;e.Commands.__onRun(Ou,function(){return t.__propEv(n.open)}),e.Commands.__onStop(Ou,function(){return t.__propEv(n.close)})},r.prototype.postRender=function(t){var e;this.config.dropzone&&(null===(e=this.fu)||void 0===e||e.initDropzone(t))},r.prototype.setTarget=function(t){this.assetsVis.target=t},r.prototype.onSelect=function(t){this.assetsVis.onSelect=t},r.prototype.onClick=function(t){this.config.onClick=t},r.prototype.onDblClick=function(t){this.config.onDblClick=t},r.prototype.__propEv=function(t){for(var e,n,o=[],l=1;l<arguments.length;l++)o[l-1]=arguments[l];(e=this.em).trigger.apply(e,Oh([t],o,!1)),(n=this.getAll()).trigger.apply(n,Oh([t],o,!1))},r.prototype.__trgCustom=function(){var t=this.__getBehaviour(),e=this.getConfig().custom;(t.container||e.open)&&this.em.trigger(this.events.custom,this.__customData())},r.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:e.types||[],container:e.container,close:function(){return t.close()},remove:function(n,o){return t.remove(n,o)},select:function(n,o){var l=t.add(n);(0,R.isFunction)(e.select)&&e.select(l,o)},options:e.options||{}}},r.prototype.__behaviour=function(t){return void 0===t&&(t={}),this._bhv=zc(zc({},this._bhv||{}),t)},r.prototype.__getBehaviour=function(t){return void 0===t&&(t={}),this._bhv||{}},r.prototype.destroy=function(){var t,e;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),null===(t=this.fu)||void 0===t||t.remove(),null===(e=this.am)||void 0===e||e.remove(),this._bhv={}},r}(st);const tm=Qv;var em=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const Zf=function(a){function r(t,e){void 0===e&&(e={});var n=a.call(this,t,e)||this,o=e.em,l={};n.em=o,t.frames||(l.component=t.component,l.styles=t.styles,["component","styles"].map(function(j){return n.unset(j)}));var v=new dt(o.Canvas,t.frames||[l]);return v.page=n,n.set("frames",v),!n.getId()&&n.set("id",o?.Pages._createId()),o?.UndoManager.add(v),n}return em(r,a),r.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},r.prototype.onRemove=function(){this.getFrames().reset()},r.prototype.getFrames=function(){return this.get("frames")},r.prototype.getId=function(){return this.id},r.prototype.getName=function(){return this.get("name")},r.prototype.setName=function(t){return this.set({name:t})},r.prototype.getAllFrames=function(){return this.getFrames().models||[]},r.prototype.getMainFrame=function(){return this.getFrames().at(0)},r.prototype.getMainComponent=function(){var t=this.getMainFrame();return t?.getComponent()},r.prototype.toJSON=function(t){void 0===t&&(t={});var e=F.Kx.prototype.toJSON.call(this,t),n=(0,R.result)(this,"defaults");return(0,R.forEach)(e,function(o,l){0===l.indexOf("_")&&delete e[l]}),(0,R.forEach)(n,function(o,l){e[l]===o&&delete e[l]}),e},r}(F.Kx);var nm=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Nd=function(){return Nd=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Nd.apply(this,arguments)},rm=function(a){function r(t,e){var n=a.call(this,t)||this;return n.on("reset",n.onReset),n.on("remove",n.onRemove),n.model=function(o,l){return void 0===l&&(l={}),new Zf(o,Nd(Nd({},l),{em:e}))},n}return nm(r,a),r.prototype.onReset=function(t,e){var n,o=this;null===(n=e?.previousModels)||void 0===n||n.map(function(l){return o.onRemove(l,o,e)})},r.prototype.onRemove=function(t,e,n){void 0===n&&(n={}),n.fromUndo||n.temporary||null==t||t.onRemove()},r}(F.pM);const om=rm;var im=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Uc=function(){return Uc=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Uc.apply(this,arguments)},kh="change:selected",lm=function(a){function r(t){var e=a.call(this,t,"PageManager",new om([],t),We)||this;e.events=We,e.storageKey="pages",(0,R.bindAll)(e,"_onPageChange");var n=new et.A(e,{_undo:!0});return e.model=n,e.pages.on("reset",function(o){return o.at(0)&&e.select(o.at(0))}),e.pages.on("all",e.__onChange,e),n.on(kh,e._onPageChange),e}return im(r,a),Object.defineProperty(r.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),r.prototype.getAll=function(){return function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))}([],this.all.models,!0)},r.prototype.__onChange=function(t,e,n,o){this.em.trigger(this.events.all,{event:t,page:e,options:o||n})},r.prototype.onLoad=function(){var t,e=this,n=e.pages,o=e.config,l=e.em,h={silent:!0},v=(null===(t=o.pages)||void 0===t?void 0:t.map(function(S){return new Zf(S,{em:l,config:o})}))||[];n.add(v,h);var j=n.length?this._initPage():this.add({type:"main"},h);j&&this.select(j,h)},r.prototype._onPageChange=function(t,e,n){var o=this.em,l=this.events,h=o.Layers,v=e.getMainComponent();h&&v&&h.setRoot(v),o.trigger(l.select,e,t.previous("selected")),this.__onChange(kh,e,n)},r.prototype.postLoad=function(){var t=this,e=t.em,o=t.pages,l=e.UndoManager;l.add(t.model),l.add(o),o.on("add remove reset change",function(h,v,j){return e.changesUp(j||v)})},r.prototype.add=function(t,e){var n=this;void 0===e&&(e={});var o=this.em,l=this.events;t.id=t.id||this._createId();var h=function(){var v=n.pages.add(new Zf(t,{em:n.em,config:n.config}),e);return e.select&&n.select(v),v};return!e.silent&&o.trigger(l.addBefore,t,h,e),e.abort?void 0:h()},r.prototype.remove=function(t,e){var n=this;void 0===e&&(e={});var o=this.em,l=this.events,h=(0,R.isString)(t)?this.get(t):t,v=function(){return h&&n.pages.remove(h,e),h};return!e.silent&&o.trigger(l.removeBefore,h,v,e),!e.abort&&v()},r.prototype.move=function(t,e){void 0===e&&(e={});var n=this.pages,o=(0,R.isString)(t)?this.get(t):t,l=e.at,h=void 0===l?0:l,v=function(a,r){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&r.indexOf(e)<0&&(t[e]=a[e]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(e=Object.getOwnPropertySymbols(a);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(a,e[n])&&(t[e[n]]=a[e[n]])}return t}(e,["at"]);if(o){var j=n.indexOf(o)===h;if(!(h<0||h>=n.length||j))return this.remove(o,Uc(Uc({},v),{temporary:!0})),n.add(o,Uc(Uc({},v),{at:h})),o}},r.prototype.get=function(t){return this.pages.filter(function(e){return e.get(e.idAttribute)===t})[0]},r.prototype.getMain=function(){var t=this.pages;return t.filter(function(e){return"main"===e.get("type")})[0]||t.at(0)},r.prototype.getAllWrappers=function(){var t=this.getAll();return(0,R.unique)((0,R.flatten)(t.map(function(e){return e.getAllFrames().map(function(n){return n.getComponent()})})))},r.prototype.select=function(t,e){void 0===e&&(e={});var n=this,o=n.em,l=n.model,h=n.events,v=(0,R.isString)(t)?this.get(t):t;return v&&(o.trigger(h.selectBefore,v,e),l.set("selected",v,e)),this},r.prototype.getSelected=function(){return this.model.get("selected")},r.prototype.destroy=function(){var t=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(e){return t[e]=0})},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(t){var e=this.loadProjectData(t,{all:this.pages,reset:!0});return this.pages.forEach(function(n){return n.getFrames().initRefs()}),e},r.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},r.prototype._createId=function(){var t,e=this.getAll().length+16,n=this.getAllMap();do{t=(0,at.createId)(e)}while(n[t]);return t},r}(st);const cm=lm;var Jf={placeholder:"eg. Text here"};const um={assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:Jf,alt:Jf,title:Jf,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}};var Qf;!function(a){a.add="i18n:add",a.update="i18n:update",a.locale="i18n:locale"}(Qf||(Qf={}));const fm=Qf;var pm=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),hm=function(a){function r(t){var e=a.call(this,t,"I18n",{locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:um},messagesAdd:void 0})||this;e.events=fm;var n=e.config.messagesAdd;return n&&e.addMessages(n),e.config.detectLocale&&(e.config.locale=e._localLang()),e}return pm(r,a),r.prototype.setLocale=function(t){var e=this,o=e.config;return e.em.trigger(e.events.locale,{value:t,valuePrev:o.locale}),o.locale=t,this},r.prototype.getLocale=function(){return this.config.locale},r.prototype.getMessages=function(t,e){void 0===e&&(e={});var n=this.config.messages;return t&&!n[t]&&this._debug("'".concat(t,"' i18n lang not found"),e),t?n[t]:n},r.prototype.setMessages=function(t){var e=this,n=e.em,l=e.events;return e.config.messages=t,n.trigger(l.update,t),this},r.prototype.addMessages=function(t){var e=this,l=e.config.messages;return e.em.trigger(e.events.add,t),this.setMessages((0,at.deepMerge)(l,t)),this},r.prototype.t=function(t,e){void 0===e&&(e={});var n=this.config,o=e.params||{},l=e.l||this.getLocale(),h=e.lFlb||n.localeFallback,v=this._getMsg(t,l,e);return v||(v=this._getMsg(t,h,e)),!v&&this._debug("'".concat(t,"' i18n key not found in '").concat(l,"' lang"),e),v&&(0,R.isString)(v)?this._addParams(v,o):v},r.prototype._localLang=function(){var t=(0,at.hasWin)()&&window.navigator||{},e=t.language||t.userLanguage;return e?e.split("-")[0]:"en"},r.prototype._addParams=function(t,e){var n=new RegExp("{([\\w\\d-]*)}","g");return t.replace(n,function(o,l){return e[l]||""}).trim()},r.prototype._getMsg=function(t,e,n){void 0===n&&(n={});var o=this.getMessages(e,n);if(o){var l=o[t];return!l&&t.indexOf(".")>0&&(l=t.split(".").reduce(function(h,v){if(!(0,R.isUndefined)(h))return h[v]},o)),l}},r.prototype._debug=function(t,e){void 0===e&&(e={});var n=this.em;(e.debug||this.config.debug)&&n&&n.logWarning(t)},r.prototype.destroy=function(){},r}(K);const gm=hm;var rc=function(){return rc=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},rc.apply(this,arguments)},vm=function(){function a(r){void 0===r&&(r={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=rc({},this.defOpts),this.setOptions(r),(0,R.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return a.prototype.getConfig=function(){return this.opts},a.prototype.setOptions=function(r,t){void 0===r&&(r={}),this.opts=rc(rc({},t?this.defOpts:this.opts),r),this.setup()},a.prototype.setup=function(){var r=this.opts,t=r.prefix||"",e=r.appendTo||document.body,n=this.container;for(n||((n=document.createElement("div")).className="".concat(t,"resizer-c"),e.appendChild(n),this.container=n);n.firstChild;)n.removeChild(n.firstChild);var o={};for(var l in["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(v){return o[v]=r[v]?function(j,S){void 0===S&&(S={});var Y=S.prefix||"",lt=document.createElement("i");return lt.className=Y+"resizer-h "+Y+"resizer-h-"+j,lt.setAttribute("data-"+Y+"handler",j),lt}(v,r):null}),o){var h=o[l];h&&n.appendChild(h)}this.handlers=o,this.mousePosFetcher=r.mousePosFetcher,this.updateTarget=r.updateTarget,this.posFetcher=r.posFetcher,this.onStart=r.onStart,this.onMove=r.onMove,this.onEnd=r.onEnd,this.onUpdateContainer=r.onUpdateContainer},a.prototype.toggleFrames=function(r){if(this.opts.silentFrames){var t=document.querySelectorAll("iframe");(0,R.each)(t,function(e){return e.style.pointerEvents=r?"none":""})}},a.prototype.isHandler=function(r){var t=this.handlers;for(var e in t)if(t[e]===r)return!0;return!1},a.prototype.getFocusedEl=function(){return this.el},a.prototype.getParentEl=function(){var r;return null===(r=this.el)||void 0===r?void 0:r.parentElement},a.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},a.prototype.getElementPos=function(r,t){void 0===t&&(t={});var l,h,e=this.posFetcher;return e?e(r,t):(l=window,{left:(h=r.getBoundingClientRect()).left+l.pageXOffset,top:h.top+l.pageYOffset,width:h.width,height:h.height})},a.prototype.focus=function(r){r&&r===this.el||(this.el=r,this.updateContainer({forceShow:!0}),(0,kt.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},a.prototype.blur=function(){this.container.style.display="none",this.el&&((0,kt.AU)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},a.prototype.start=function(r){var t=r;if(0===t.button){t.preventDefault(),t.stopPropagation();var e=this.el,n=this.getParentEl(),o=this.opts||{},l=this.mousePosFetcher,h="data-"+o.prefix+"handler",v=this.getElementPos(e,{avoidFrameZoom:!0,avoidFrameOffset:!0}),j=this.getElementPos(n),S=t.target;this.handlerAttr=S.getAttribute(h),this.clickedHandler=S,this.startDim={t:v.top,l:v.left,w:v.width,h:v.height},this.rectDim={t:v.top,l:v.left,w:v.width,h:v.height},this.startPos=l?l(t):{x:t.clientX,y:t.clientY},this.parentDim={t:j.top,l:j.left,w:j.width,h:j.height};var Y=this.getDocumentEl();this.docs=Y,(0,kt.on)(Y,"pointermove",this.move),(0,kt.on)(Y,"keydown",this.handleKeyDown),(0,kt.on)(Y,"pointerup",this.stop),(0,R.isFunction)(this.onStart)&&this.onStart(t,{docs:Y,config:o,el:e,resizer:this}),this.toggleFrames(!0),this.move(t)}},a.prototype.move=function(r){var t=r,e=this.onMove,n=this.mousePosFetcher,o=n?n(t):{x:t.clientX,y:t.clientY};this.currentPos=o,this.delta={x:o.x-this.startPos.x,y:o.y-this.startPos.y},this.keys={shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey},this.rectDim=this.calc(this),this.updateRect(!1),e&&e(t)},a.prototype.stop=function(r){var t=this.el,e=this.opts,n=this.docs||this.getDocumentEl();(0,kt.AU)(n,"pointermove",this.move),(0,kt.AU)(n,"keydown",this.handleKeyDown),(0,kt.AU)(n,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,R.isFunction)(this.onEnd)&&this.onEnd(r,{docs:n,config:e,el:t,resizer:this}),delete this.docs},a.prototype.updateRect=function(r){var t=this.el,e=this.opts,n=this.rectDim,o=this.updateTarget,l=this.getSelectedHandler(),h=e.unitHeight,v=e.unitWidth,j=e.keyWidth,S=e.keyHeight;if((0,R.isFunction)(o))o(t,n,{store:r,selectedHandler:l,resizer:this,config:e});else{var Y=t.style;Y[j]=n.w+v,Y[S]=n.h+h}this.updateContainer()},a.prototype.updateContainer=function(r){var t;void 0===r&&(r={});var e=this,n=e.opts,o=e.container;!n.avoidContainerUpdate&&e.el&&r.forceShow&&(o.style.display="block"),null===(t=this.onUpdateContainer)||void 0===t||t.call(this,{el:o,resizer:this,opts:rc(rc({},n),r)})},a.prototype.getSelectedHandler=function(){var r=this.handlers;if(this.selectedHandler)for(var t in r)if(r[t]===this.selectedHandler)return t},a.prototype.handleKeyDown=function(r){27===r.keyCode&&(this.rectDim=this.startDim,this.stop(r))},a.prototype.handleMouseDown=function(r){var t=r.target;this.isHandler(t)?(this.selectedHandler=t,this.start(r)):t!==this.el&&(delete this.selectedHandler,this.blur())},a.prototype.calc=function(r){var t,e=this.opts||{},n=e.step,o=this.startDim,l=e.minDim,h=e.maxDim,v=r.delta.x,j=r.delta.y,S=this.parentDim.w,Y=this.parentDim.h,lt=this.opts.unitWidth,xt=this.opts.unitHeight,Ft=this.getParentRect(),Bt="%"===lt?o.w/100*S:o.w,te="%"===xt?o.h/100*Y:o.h,Vt={t:o.t-Ft.top,l:o.l-Ft.left,w:Bt,h:te};if(r){var ke=r.handlerAttr;~ke.indexOf("r")&&(t="%"===lt?(0,at.normalizeFloat)((Bt+v*n)/S*100,.01):(0,at.normalizeFloat)(Bt+v*n,n),t=Math.max(l,t),h&&(t=Math.min(h,t)),Vt.w=t),~ke.indexOf("b")&&(t="%"===xt?(0,at.normalizeFloat)((te+j*n)/Y*100,.01):(0,at.normalizeFloat)(te+j*n,n),t=Math.max(l,t),h&&(t=Math.min(h,t)),Vt.h=t),~ke.indexOf("l")&&(t="%"===lt?(0,at.normalizeFloat)((Bt-v*n)/S*100,.01):(0,at.normalizeFloat)(Bt-v*n,n),t=Math.max(l,t),h&&(t=Math.min(h,t)),Vt.w=t),~ke.indexOf("t")&&(t="%"===xt?(0,at.normalizeFloat)((te-j*n)/Y*100,.01):(0,at.normalizeFloat)(te-j*n,n),t=Math.max(l,t),h&&(t=Math.min(h,t)),Vt.h=t);var ze=e.ratioDefault?!r.keys.shift:r.keys.shift;if(ke.indexOf("c")<0&&ze){var on=o.w/o.h;Vt.w/Vt.h>on?Vt.h=Math.round(Vt.w/on):Vt.w=Math.round(Vt.h*on)}for(var _n in~ke.indexOf("l")&&(Vt.l+=o.w-Vt.w),~ke.indexOf("t")&&(Vt.t+=o.h-Vt.h),Vt)Vt[_n]=parseInt("".concat(Vt[_n]),10);return Vt}},a.prototype.getParentRect=function(){var r={left:0,top:0,width:0,height:0},t=this.el;if(!t)return r;var e=t.offsetParent;return e&&"BODY"!==e.tagName&&(r=this.getElementPos(e)),r},a}();const mm=vm;var Da=function(){return Da=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Da.apply(this,arguments)};function Eh(a){var r=a.getBoundingClientRect();return{top:r.top+document.body.scrollTop,left:r.left+document.body.scrollLeft}}function tp(a,r){return at.matches.call(a,r)}function ep(a){return a?[a].concat(ep(a.parent())):[]}var jh=function(){function a(r){this.timeout=null,this.threshold=r}return a.prototype.updateArgs=function(r){this.lastArgs=r},a.prototype.execute=function(r){var t=this;this.timeout||(this.timeout=setTimeout(function(){t.lastArgs&&r(t.lastArgs),t.timeout=null},this.threshold))},a.prototype.clearTimeout=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),delete this.lastArgs},a}(),np=function(){return np=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},np.apply(this,arguments)},ym=function(){function a(r){this.top=r.top,this.left=r.left,this.height=r.height,this.width=r.width,this.offsets=r.offsets,this.dir=r.dir}return a.prototype.calculateDimensionDifference=function(r){return{topDifference:r.top-this.top,leftDifference:r.left-this.left}},a.prototype.adjustDimensions=function(r){return this.top+=r.topDifference,this.left+=r.leftDifference,this},a.prototype.determinePlacement=function(r,t){return this.dir?t<this.top+this.height/2?"before":"after":r<this.left+this.width/2?"before":"after"},a.prototype.equals=function(r){return!!r&&this.top===r.top&&this.left===r.left&&this.height===r.height&&this.width===r.width&&this.dir===r.dir&&JSON.stringify(this.offsets)===JSON.stringify(r.offsets)},a.prototype.clone=function(){return new a({top:this.top,left:this.left,height:this.height,width:this.width,offsets:np({},this.offsets),dir:this.dir})},a.prototype.getDropArea=function(r){var t=this.clone(),e=this.adjustDropDimension(this.width,this.left,r),o=e.newPosition;t.width=e.newSize,t.left=o;var l=this.adjustDropDimension(this.height,this.top,r),v=l.newPosition;return t.height=l.newSize,t.top=v,t},a.prototype.adjustDropDimension=function(r,t,e){var l=e.maxUndroppableDimension,h=r*(1-e.ratio)/2;return h=Math.max(h,e.minUndroppableDimension),{newSize:r-2*(h=Math.min(h,l)),newPosition:t+h}},a.prototype.isWithinBounds=function(r,t){return r>=this.left&&r<=this.left+this.width&&t>=this.top&&t<=this.top+this.height},a}();const _m=ym;var bm=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ld=function(){return Ld=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Ld.apply(this,arguments)},wm=function(a){function r(t){var e=a.call(this)||this;return e.sourceNodes=[],e.containerOffset={top:0,left:0},e.moveThreshold=20,e.treeClass=t.treeClass,e.em=t.em,e.containerContext=t.containerContext,e.positionOptions=t.positionOptions,e.dragDirection=t.dragDirection,e.eventHandlers=t.eventHandlers,(0,R.bindAll)(e,"endDrag","cancelDrag","recalculateTargetOnScroll","startSort","onDragStart","onMove"),e.restLastMoveData(),e.rateLimiter=new jh(e.moveThreshold),e}return bm(r,a),r.prototype.startSort=function(t){this.sourceNodes=t,this.bindDragEventHandlers()},r.prototype.bindDragEventHandlers=function(){(0,kt.on)(this.containerContext.container,"dragstart",this.onDragStart),(0,kt.on)(this.containerContext.container,"mousemove dragover",this.onMove),(0,kt.on)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},r.prototype.recalculateTargetOnScroll=function(){var t=this.lastMoveData.mouseEvent;t&&this.onMove(t)},r.prototype.onMove=function(t){this.rateLimiter.updateArgs(t),this.rateLimiter.execute(this.handleMove.bind(this))},r.prototype.handleMove=function(t){var e,n,o,l,h,v;this.adjustForScroll();var j=this.lastMoveData.targetNode;null===(n=(e=this.eventHandlers).onMouseMove)||void 0===n||n.call(e,t);var S=this.getMousePositionRelativeToContainer(t.clientX,t.clientY),Y=S.mouseXRelative,lt=S.mouseYRelative,xt=this.getTargetNode(t);if(!xt?.equals(j)&&(null===(l=(o=this.eventHandlers).onTargetChange)||void 0===l||l.call(o,j,xt)),!xt)return this.triggerLegacyOnMoveCallback(t,0),this.triggerMoveEvent(Y,lt),void this.restLastMoveData();var Ft=this.getDropPosition(xt,Y,lt),Bt=Ft.index,te=Ft.placement,Vt=Ft.placeholderDimensions;(!Vt.equals(this.lastMoveData.placeholderDimensions)||te!==this.lastMoveData.placement)&&(null===(v=(h=this.eventHandlers).onPlaceholderPositionChange)||void 0===v||v.call(h,Vt,te)),this.lastMoveData=Ld(Ld({},this.lastMoveData),{targetNode:xt,mouseEvent:t,index:Bt,placement:te,placeholderDimensions:Vt}),this.triggerMoveEvent(Y,lt),this.triggerLegacyOnMoveCallback(t,Bt)},r.prototype.adjustForScroll=function(){var t,e,n=this.lastMoveData.targetNode;if(n?.element){var o=this.getDim(n?.element);(h=null===(t=n.nodeDimensions)||void 0===t?void 0:t.calculateDimensionDifference(o))&&n.adjustDimensions(h)}var h,l=this.lastMoveData.hoveredNode;l?.element&&(o=this.getDim(l?.element),(h=null===(e=l.nodeDimensions)||void 0===e?void 0:e.calculateDimensionDifference(o))&&l.adjustDimensions(h))},r.prototype.restLastMoveData=function(){this.lastMoveData={targetNode:void 0,index:void 0,placement:void 0,mouseEvent:void 0}},r.prototype.triggerLegacyOnMoveCallback=function(t,e){var n,o,l,h,v=null===(n=this.sourceNodes[0])||void 0===n?void 0:n.model;null===(l=(o=this.eventHandlers).legacyOnMoveClb)||void 0===l||l.call(o,{event:t,target:v,parent:null===(h=this.lastMoveData.targetNode)||void 0===h?void 0:h.model,index:e})},r.prototype.triggerMoveEvent=function(t,e){var n,o=this.lastMoveData,l=o.targetNode,h=o.placement,v=o.index,j=v?v+("after"===h?-1:0):0;this.em.trigger("sorter:drag",{target:l?.element||null,targetModel:null===(n=this.lastMoveData.targetNode)||void 0===n?void 0:n.model,sourceModel:this.sourceNodes[0].model,dims:l?.childrenDimensions||[],pos:{index:j,indexEl:j,placement:h},x:t,y:e})},r.prototype.getDropPosition=function(t,e,n){var o,l=t.nodeDimensions,h=t.childrenDimensions,v=t.getChildren(),j=v&&v.length>0;l=l||this.getDim(t.element),t.nodeDimensions=l,h=h||this.getChildrenDim(t),t.childrenDimensions=h;var S=l.clone(),Y=0,lt="inside";return j&&(Y=(o=function(xt,Ft,Bt){for(var te,Vt={index:0,placement:"before"},ke=0,ze=0,on=0,_n=0,An=0,er=0,Un=0,mr=xt.length;Un<mr;Un++){var xr=(te=xt[Un]).top,Uo=te.left,ci=te.height,ui=te.width;if(er=xr+ci,_n=Uo+ui/2,An=xr+ci/2,!(ze&&Uo>ze||on&&An>=on||ke&&Uo+ui<ke))if(Vt.index=Un,te.dir){if(Bt<An){Vt.placement="before";break}Vt.placement="after"}else Bt<er&&(on=er),Ft<_n?(ze=_n,Vt.placement="before"):(ke=_n,Vt.placement="after")}return Vt}(h,e,n)).index,lt=o.placement,S=h[Y].clone(),Y+="after"==lt?1:0),{index:Y,placement:lt,placeholderDimensions:S}},r.prototype.getTargetNode=function(t){var e;this.cacheContainerPosition(this.containerContext.container);var n=this.getMousePositionRelativeToContainer(t.clientX,t.clientY),o=n.mouseXRelative,l=n.mouseYRelative,h=this.getMouseTargetElement(t),v=this.getFirstElementWithAModel(h);if(v){var j=null===(e=(0,ht.default)(v))||void 0===e?void 0:e.data("model");if(j){var S=this.getOrCreateHoveredNode(j),Y=this.getDropPosition(S,o,l).index,lt=this.getValidParent(S,Y,o,l);return this.getOrReuseTargetNode(lt)}}},r.prototype.getOrCreateHoveredNode=function(t){var e=this.lastMoveData.hoveredNode,n=new this.treeClass(t),o=n.equals(e)?e:n;return this.lastMoveData.hoveredNode=o,o},r.prototype.getOrReuseTargetNode=function(t){var e=this.lastMoveData.targetNode;return t?.equals(e)?e:t},r.prototype.getMouseTargetElement=function(t){var e=this.containerContext.customTarget,n=this.containerContext.document.elementFromPoint(t.clientX,t.clientY);return e?e({event:t}):n},r.prototype.onDragStart=function(t){this.eventHandlers.onDragStart&&this.eventHandlers.onDragStart(t)},r.prototype.endDrag=function(){this.dropDragged()},r.prototype.cancelDrag=function(){var t,e;null===(e=(t=this.eventHandlers).onTargetChange)||void 0===e||e.call(t,this.lastMoveData.targetNode,void 0),this.finalizeMove()},r.prototype.finalizeMove=function(){var t,e,n,o;this.cleanupEventListeners(),this.triggerOnDragEndEvent(),null===(e=(t=this.eventHandlers).onEnd)||void 0===e||e.call(t),null===(o=(n=this.eventHandlers).legacyOnEnd)||void 0===o||o.call(n),this.restLastMoveData(),this.rateLimiter.clearTimeout()},r.prototype.dropDragged=function(){var t,e,n=this.lastMoveData;null===(e=(t=this.eventHandlers).onDrop)||void 0===e||e.call(t,n.targetNode,this.sourceNodes,n.index),this.finalizeMove()},r.prototype.triggerOnDragEndEvent=function(){var t=this.lastMoveData.targetNode,e=this.sourceNodes[0];this.em.trigger("sorter:drag:end",{targetCollection:t?t.getChildren():null,modelToDrop:e?.model,warns:[""],validResult:{result:!0,src:this.sourceNodes.map(function(n){return n.element}),srcModel:e?.model,trg:t?.element,trgModel:t?.model,draggable:!0,droppable:!0},dst:t?.element,srcEl:e?.element})},r.prototype.getFirstElementWithAModel=function(t){for(;t&&this.containerContext.container.contains(t);){if(void 0!==(0,ht.default)(t).data("model"))return t;t=t.parentElement}return null},r.prototype.getValidParent=function(t,e,n,o){if(t){var l=this.lastMoveData.targetNode,h=t.equals(l);if(t.nodeDimensions=h?l.nodeDimensions:this.getDim(t.element),!t.isWithinDropBounds(n,o))return this.handleParentTraversal(t,n,o);if(h&&e===this.lastMoveData.index)return l;var v=this.sourceNodes.some(function(j){return t.canMove(j,e)});return this.triggerDragValidation(v,t),v?t:this.handleParentTraversal(t,n,o)}},r.prototype.handleParentTraversal=function(t,e,n){var o=t.getParent();if(o){var l=this.getIndexInParent(o,t,t.nodeDimensions,e,n);return this.getValidParent(o,l,e,n)}},r.prototype.getIndexInParent=function(t,e,n,o,l){var h=t?.indexOfChild(e);return n.dir=this.getDirection(e.element,t.element),h+("after"==n.determinePlacement(o,l)?1:0)},r.prototype.triggerDragValidation=function(t,e){var n=this.sourceNodes[0];return this.em.trigger("sorter:drag:validation",{valid:t,src:n?.element,srcModel:n?.model,trg:e.element,trgModel:e.model}),n},r.prototype.cleanupEventListeners=function(){var t=this.containerContext.container;(0,kt.AU)(t,"dragstart",this.onDragStart),(0,kt.AU)(t,"mousemove dragover",this.onMove),(0,kt.AU)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},r.prototype.getDirection=function(t,e){return this.dragDirection===ro.A.Vertical||this.dragDirection!==ro.A.Horizontal&&function(o,l){if((0,kt.ir)(o))return!1;var h=o.style||{},v=(0,ht.default)(o),j=(0,ht.default)(l);if(h.overflow&&"visible"!==h.overflow)return!1;var lt,S=v.css("float");return(!S||"none"===S)&&("flex"!==j.css("display")||"column"===j.css("flex-direction"))&&!!function(Y){switch(Y){case"static":case"relative":case"":return!0;default:return!1}}(h.position)&&(["TR","TBODY","THEAD","TFOOT"].includes(o.tagName)||(lt=v.css("display"),["block","list-item","table","flex","grid"].includes(lt)))}(t,e)},r.prototype.getChildrenDim=function(t){var e=this,n=[],o=t.element;if(!o)return[];var l=t.getChildren();return l&&0!==l.length?((0,R.each)(l,function(h,v){var j=h.element;if(j&&((0,kt.ir)(j)||tp(j,e.containerContext.itemSel))){var S=e.getDim(j);S.dir=e.getDirection(j,o),n.push(S)}}),n):[]},r.prototype.getMousePositionRelativeToContainer=function(t,e){var n=e-this.containerOffset.top+this.containerContext.container.scrollTop,o=t-this.containerOffset.left+this.containerContext.container.scrollLeft;if(this.positionOptions.canvasRelative){var l=this.em.Canvas.getMouseRelativeCanvas({clientX:t,clientY:e},{noScroll:1});o=l.x,n=l.y}return{mouseXRelative:o,mouseYRelative:n}},r.prototype.cacheContainerPosition=function(t){var e=Eh(t),n=this.positionOptions.windowMargin?Math.abs(e.top):e.top,o=this.positionOptions.windowMargin?Math.abs(e.left):e.left;this.containerOffset={top:n,left:o}},r.prototype.getDim=function(t){var e,n,o,l,h=this.em,v=this.positionOptions.relative,j=this.positionOptions.windowMargin,S=h?.Canvas,Y=S?S.getElementOffsets(t):{};if(this.positionOptions.canvasRelative&&this.em){var lt=S.getElementPos(t,{noScroll:1});e=lt.top,n=lt.left,o=lt.height,l=lt.width}else{var xt=Eh(t);e=v?t.offsetTop:xt.top-(j?-1:1)*this.containerOffset.top,n=v?t.offsetLeft:xt.left-(j?-1:1)*this.containerOffset.left,o=t.offsetHeight,l=t.offsetWidth}return new _m({top:e,left:n,height:o,width:l,offsets:Y})},r}(F.Ss),xm=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cm=function(a){function r(t){var e=a.call(this)||this;return e.pfx=t.pfx||"",e.allowNesting=t.allowNesting||!1,e.container=t.container,e.setElement(t.el),e.offset={top:t.offset.top||0,left:t.offset.left||0},e.moveLimiter=new jh(100),e}return xm(r,a),r.prototype.show=function(){this.el.style.display="block"},r.prototype.hide=function(){this.moveLimiter.clearTimeout(),this.el.style.display="none"},r.prototype.move=function(t,e){var n=this;this.moveLimiter.updateArgs({elementDimension:t,placement:e}),this.moveLimiter.execute(function(l){n._move(l.elementDimension,l.placement)})},r.prototype._move=function(t,e){var l=0,h=0,v="",j="";this.setOrientationForDimension(t);var S=t.top,Y=t.left,lt=t.height,xt=t.width,Ft=t.dir,Bt=t.offsets;if("inside"===e){if(this.setOrientation("horizontal"),!this.allowNesting)return void this.hide();var Vt=Bt?.paddingTop||5,ke=Bt?.paddingLeft||5,ze=Bt?.borderTopWidth||0,on=Bt?.borderLeftWidth||0;l=S+Vt+ze,h=Y+ke+on,v=Math.max(xt-2*ke-(on+(Bt?.borderRightWidth||0)),1)+"px",j="auto"}else Ft?(v=xt+"px",j="auto",l="before"===e?S-0:S+lt-0,h=Y):(v="auto",j=lt-0+"px",l=S+0,h="before"===e?Y-0:Y+xt-0,this.setOrientation("vertical"));this.updateStyles(l,h,v,j),this.adjustOffset()},r.prototype.setOrientationForDimension=function(t){this.el.classList.remove("vertical"),this.el.classList.add("horizontal"),t&&!t.dir&&this.setOrientation("vertical")},r.prototype.setOrientation=function(t){this.el.classList.remove("horizontal"),this.el.classList.remove("vertical"),this.el.classList.add(t)},r.prototype.updateStyles=function(t,e,n,o){this.el.style.top=t+"px",this.el.style.left=e+"px",n&&(this.el.style.width=n),o&&(this.el.style.height=o)},r.prototype.adjustOffset=function(){this.$el.css("top","+="+this.offset.top+"px"),this.$el.css("left","+="+this.offset.left+"px")},r}(F.Ss),Wc=function(){return Wc=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Wc.apply(this,arguments)},Sm=function(){function a(r){var e,n,t=(e=r,n={containerContext:{container:"",placeholderElement:"",containerSel:"*",itemSel:"*",pfx:"",document},positionOptions:{borderOffset:10,relative:!1,windowMargin:0,offsetTop:0,offsetLeft:0,scale:1,canvasRelative:!1},dragBehavior:{dragDirection:ro.A.Vertical,nested:!1,selectOnEnd:!0},eventHandlers:{}},Da(Da(Da({},n),e),{containerContext:Da(Da({},n.containerContext),e.containerContext),positionOptions:Da(Da({},n.positionOptions),e.positionOptions),dragBehavior:Da(Da({},n.dragBehavior),e.dragBehavior),eventHandlers:Da(Da({},n.eventHandlers),e.eventHandlers)}));(0,R.bindAll)(this,"startSort","cancelDrag","recalculateTargetOnScroll","rollback","updateOffset","handlePlaceholderMove","finalizeMove"),this.containerContext=t.containerContext,this.positionOptions=t.positionOptions,this.dragBehavior=t.dragBehavior,this.eventHandlers=Wc(Wc({},t.eventHandlers),{onPlaceholderPositionChange:this.handlePlaceholderMove,onEnd:this.finalizeMove}),this.em=r.em,this.treeClass=r.treeClass,this.updateOffset(),this.em.on(this.em.Canvas.events.refresh,this.updateOffset),this.placeholder=this.createPlaceholder(),this.dropLocationDeterminer=new wm({em:this.em,treeClass:this.treeClass,containerContext:this.containerContext,positionOptions:this.positionOptions,dragDirection:this.dragBehavior.dragDirection,eventHandlers:this.eventHandlers})}return a.prototype.startSort=function(r){var t,e,n,o,l,h,v,j=this.getSourceNodes(r),S=j.sourceNodes,Y=j.sourcesWithModel;this.sourceNodes=S,this.dropLocationDeterminer.startSort(S),this.bindDragEventHandlers(),null===(e=(t=this.eventHandlers).onStartSort)||void 0===e||e.call(t,this.sourceNodes,this.containerContext.container);var lt=null===(n=this.sourceNodes[0])||void 0===n?void 0:n.model;null===(l=(o=this.eventHandlers).legacyOnStartSort)||void 0===l||l.call(o,{sorter:this,target:lt,parent:lt&&(null===(h=lt.parent)||void 0===h?void 0:h.call(lt)),index:lt&&(null===(v=lt.index)||void 0===v?void 0:v.call(lt))}),this.em.trigger("sorter:drag:start",r[0],Y[0])},a.prototype.validTarget=function(r,t,e){if(!r)return!1;var n=(0,ht.default)(r).data("model");if(!n)return!1;var o=new this.treeClass(n);return this.getSourceNodes(t).sourceNodes.some(function(l){return o.canMove(l,e)})},a.prototype.getSourceNodes=function(r){var t=this,e=r.filter(function(n){return!!n.dragSource||t.findValidSourceElement(n.element)}).map(function(n){var o;return{model:null===(o=(0,ht.default)(n.element))||void 0===o?void 0:o.data("model"),content:n.dragSource}});return{sourceNodes:e.sort(function(n,o){return function(l,h){var v=ep(l),j=ep(h),S=j.filter(function(lt){return v.includes(lt)})[0];if(!S)return l.model.index()-h.model.index();var Y=j[j.indexOf(S)-1];return v[v.indexOf(S)-1].index()-Y.index()}(n.model,o.model)}).map(function(n){return new t.treeClass(n.model,n.content)}),sourcesWithModel:e}},a.prototype.recalculateTargetOnScroll=function(){this.dropLocationDeterminer.recalculateTargetOnScroll()},a.prototype.cancelDrag=function(){this.triggerNullOnEndMove(!0),this.dropLocationDeterminer.cancelDrag()},a.prototype.endDrag=function(){this.dropLocationDeterminer.endDrag()},a.prototype.handlePlaceholderMove=function(r,t){this.ensurePlaceholderElement(),this.updatePlaceholderPosition(r,t)},a.prototype.createPlaceholder=function(){return new Cm({container:this.containerContext.container,allowNesting:this.dragBehavior.nested,pfx:this.containerContext.pfx,el:this.containerContext.placeholderElement,offset:{top:this.positionOptions.offsetTop,left:this.positionOptions.offsetLeft}})},a.prototype.ensurePlaceholderElement=function(){var r=this.placeholder.el,t=this.containerContext.container;r.ownerDocument.contains(r)||t.append(this.placeholder.el)},a.prototype.updateOffset=function(){var r,t=(null===(r=this.em)||void 0===r?void 0:r.get("canvasOffset"))||{};this.positionOptions.offsetTop=t.top,this.positionOptions.offsetLeft=t.left},a.prototype.findValidSourceElement=function(r){return r&&!tp(r,"".concat(this.containerContext.itemSel,", ").concat(this.containerContext.containerSel))&&(r=function(t,e){if(t)for(var n=t.parentNode;n&&1===n.nodeType;){if(tp(n,e))return n;n=n.parentNode}}(r,this.containerContext.itemSel)),r},a.prototype.bindDragEventHandlers=function(){(0,kt.on)(this.containerContext.document,"keydown",this.rollback)},a.prototype.updatePlaceholderPosition=function(r,t){this.placeholder.move(r,t)},a.prototype.cleanupEventListeners=function(){(0,kt.AU)(this.containerContext.document,"keydown",this.rollback)},a.prototype.finalizeMove=function(){this.cleanupEventListeners(),this.placeholder.hide(),delete this.sourceNodes},a.prototype.rollback=function(r){(0,kt.AU)(this.containerContext.document,"keydown",this.rollback),"Escape"===r.key&&this.cancelDrag()},a.prototype.triggerNullOnEndMove=function(r){var t,e,n,o,l,h=null===(t=this.sourceNodes)||void 0===t?void 0:t[0].model,v={target:h,parent:h&&(null===(e=h.parent)||void 0===e?void 0:e.call(h)),index:h&&(null===(n=h.index)||void 0===n?void 0:n.call(h))};null===(l=(o=this.eventHandlers).legacyOnEndMove)||void 0===l||l.call(o,null,this,Wc(Wc({},v),{cancelled:r}))},a}();const Dh=Sm;var Tm=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),qc=function(){return qc=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},qc.apply(this,arguments)},rp={id:"sorter-target",type:xe.F.Target},Om=function(a){function r(t){var h=t.positionOptions,j=t.eventHandlers,S=void 0===j?{}:j,Y=a.call(this,{em:t.em,treeClass:t.treeClass,containerContext:t.containerContext,positionOptions:void 0===h?{}:h,dragBehavior:t.dragBehavior,eventHandlers:qc(qc({},S),{onStartSort:function(lt,xt){var Ft;null===(Ft=S.onStartSort)||void 0===Ft||Ft.call(S,lt,xt),Y.onStartSort()},onDrop:function(lt,xt,Ft){var Bt;null===(Bt=S.onDrop)||void 0===Bt||Bt.call(S,lt,xt,Ft),Y.onDrop(lt,xt,Ft)},onTargetChange:function(lt,xt){var Ft;null===(Ft=S.onTargetChange)||void 0===Ft||Ft.call(S,lt,xt),Y.onTargetChange(lt,xt)},onMouseMove:function(lt){var xt;null===(xt=S.onMouseMove)||void 0===xt||xt.call(S,lt),Y.onMouseMove(lt)}})})||this;return Y.targetIsText=!1,Y.onMouseMove=function(lt){var xt;Y.targetIsText&&null!==(xt=Y.sourceNodes)&&void 0!==xt&&xt.some(function(Ft){return Ft.isTextable()})&&Y.updateTextViewCursorPosition(lt)},Y.onDrop=function(lt,xt,Ft){lt&&xt.length>0?0===Y.handleNodeAddition(lt,xt,"number"==typeof Ft?Ft:-1).length&&Y.triggerNullOnEndMove(!1):Y.triggerNullOnEndMove(!0),lt?.restNodeState(),Y.placeholder.hide()},Y.onTargetChange=function(lt,xt){var Ft;lt?.restNodeState();var Bt=Y.em.Canvas;if(!xt)return Y.placeholder.hide(),void Bt.removeSpots(rp);xt?.setSelectedParentState(),Y.targetIsText=xt.isTextNode(),Y.targetIsText&&null!==(Ft=Y.sourceNodes)&&void 0!==Ft&&Ft.some(function(te){return te.isTextable()})?(xt.setContentEditable(!0),Y.placeholder.hide()):Y.placeholder.show(),[xe.F.Select,xe.F.Hover,xe.F.Spacing].forEach(function(te){return Bt.removeSpots({type:te})}),Bt.addSpot(qc(qc({},rp),{component:xt.model}))},(0,R.bindAll)(Y,"handleScrollEvent"),Y}return Tm(r,a),r.prototype.onStartSort=function(){this.em.clearSelection(),this.setAutoCanvasScroll(!0)},r.prototype.bindDragEventHandlers=function(){this.em.on("frame:scroll",this.handleScrollEvent),a.prototype.bindDragEventHandlers.call(this)},r.prototype.cleanupEventListeners=function(){this.em.off("frame:scroll",this.handleScrollEvent),a.prototype.cleanupEventListeners.call(this)},r.prototype.handleScrollEvent=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=null===(t=e?.[0])||void 0===t?void 0:t.frame;this.em.Canvas.getCanvasView().frame===o&&this.recalculateTargetOnScroll()},r.prototype.handleNodeAddition=function(t,e,n){var o=this;return e.reduce(function(l,h){if(!t.canMove(h,n))return l;if(o.isPositionChanged(t,h,n)){var v=o.moveNode(t,h,n),j=v.index;l.push(v.addedNode),n=j}return n++,l},[])},r.prototype.isPositionChanged=function(t,e,n){var o=e.getParent(),l=o?o.indexOfChild(e):-1;o?.model.cid===t.model.cid&&l<n&&n--;var h=o?.model.cid===t.model.cid,v=l===n,j=this.targetIsText&&e.isTextable();return!(h&&v&&!j)},r.prototype.moveNode=function(t,e,n){var o=e.getParent();if(o){var l=o.indexOfChild(e);o.removeChildAt(l,{temporary:!0}),o.model.cid===t.model.cid&&l<n&&n--}var h=t.addChildAt(e,n,{action:"move-component"});return h&&this.triggerEndMoveEvent(h),{addedNode:h,index:n}},r.prototype.triggerEndMoveEvent=function(t){var e,n,o,l,h,v;null===(n=(e=this.eventHandlers).legacyOnEndMove)||void 0===n||n.call(e,t.model,this,{target:t.model,parent:t.model&&(null===(l=(o=t.model).parent)||void 0===l?void 0:l.call(o)),index:t.model&&(null===(v=(h=t.model).index)||void 0===v?void 0:v.call(h))})},r.prototype.finalizeMove=function(){var t,e;null===(t=this.em)||void 0===t||t.Canvas.removeSpots(rp),null===(e=this.sourceNodes)||void 0===e||e.forEach(function(n){return n.restNodeState()}),this.setAutoCanvasScroll(!1),a.prototype.finalizeMove.call(this)},r.prototype.updateTextViewCursorPosition=function(t){var e=this.em;if(e){var n=e.Canvas,o=n.getDocument(),l=null,h=(0,kt.G2)(t);if(o.caretPositionFromPoint){var v=o.caretPositionFromPoint(h.clientX,h.clientY);v&&(l=o.createRange()).setStart(v.offsetNode,v.offset)}else o.caretRangeFromPoint?l=o.caretRangeFromPoint(h.clientX,h.clientY):t.rangeParent&&(l=o.createRange()).setStart(t.rangeParent,t.rangeOffset);var j=n.getWindow().getSelection();n.getFrameEl().focus(),j?.removeAllRanges(),l&&j?.addRange(l)}},r.prototype.setAutoCanvasScroll=function(t){var e=this.em,n=e?.Canvas;n&&(t?n.startAutoscroll():n.stopAutoscroll())},r}(Dh);const Ih=Om;var km=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fd=function(){return Fd=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Fd.apply(this,arguments)},Am=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return km(r,a),r.prototype.defaults=function(){return{values:{}}},r.prototype.initialize=function(){var t=this.collection;this.prop=t?.prop},r.prototype.getId=function(){return this.cid},r.prototype.getIndex=function(){var t=this.collection;return t?t.indexOf(this):-1},r.prototype.getValues=function(t){void 0===t&&(t={});var e=this.get("values");return t.camelCase?Object.keys(e).reduce(function(n,o){return n[(0,at.camelCase)(o)]=e[o],n},{}):e},r.prototype.getLabel=function(){var t;return null===(t=this.prop)||void 0===t?void 0:t.getLayerLabel(this)},r.prototype.isSelected=function(){var t;return(null===(t=this.prop)||void 0===t?void 0:t.getSelectedLayer())===this},r.prototype.select=function(){var t;return null===(t=this.prop)||void 0===t?void 0:t.selectLayer(this)},r.prototype.remove=function(){var t;return null===(t=this.prop)||void 0===t?void 0:t.removeLayer(this)},r.prototype.move=function(t){var e;return null===(e=this.prop)||void 0===e?void 0:e.moveLayer(this,t)},r.prototype.getStylePreview=function(t){var e;return void 0===t&&(t={}),null===(e=this.prop)||void 0===e?void 0:e.getStylePreview(this,t)},r.prototype.hasPreview=function(){var t;return!(null===(t=this.prop)||void 0===t||!t.get("preview"))},r.prototype.upValues=function(t){return void 0===t&&(t={}),this.set("values",Fd(Fd({},this.getValues()),t))},r}(F.Kx);const ku=Am;var Em=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ph=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Em(r,a),r.prototype.initialize=function(t,e){void 0===e&&(e={}),this.prop=e.prop},r}(F.pM);const Md=Ph;Ph.prototype.model=ku;var jm=Xe(3161),Dm=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Im=function(a){function r(t){return a.call(this,t)||this}return Dm(r,a),r.prototype.getChildren=function(){return this.model instanceof Md?this.model.models.map(function(t){return new r(t)}):null},r.prototype.getParent=function(){var t=this.model instanceof ku?this.model.collection:null;return t?new r(t):null},r.prototype.addChildAt=function(t,e){if(this.model instanceof ku)throw Error("Cannot add a layer model to another layer model");return new r(this.model.add(t.model,{at:e}))},r.prototype.removeChildAt=function(t){if(this.model instanceof ku)throw Error("Cannot remove a layer model from another layer model");var e=this.model.at(t);e&&this.model.remove(e)},r.prototype.indexOfChild=function(t){return t.model instanceof ku&&this.model instanceof Md?this.model.indexOf(t.model):-1},r.prototype.canMove=function(t,e){return this.model instanceof Md&&!!t.model},Object.defineProperty(r.prototype,"view",{get:function(){return this.model.view},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"element",{get:function(){var t;return null===(t=this.view)||void 0===t?void 0:t.el},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),r}(jm.$),Pm=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),op=function(){return op=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},op.apply(this,arguments)},Nm=function(a){function r(t){var l=t.positionOptions,v=t.eventHandlers,j=void 0===v?{}:v,S=a.call(this,{em:t.em,treeClass:Im,containerContext:t.containerContext,positionOptions:void 0===l?{}:l,dragBehavior:t.dragBehavior,eventHandlers:op({onStartSort:function(Y,lt){var xt;null===(xt=j.onStartSort)||void 0===xt||xt.call(j,Y,lt),S.onLayerStartSort(Y)},onDrop:function(Y,lt,xt){var Ft;null===(Ft=j.onDrop)||void 0===Ft||Ft.call(j,Y,lt,xt),S.onLayerDrop(Y,lt,xt)},onEnd:function(){S.placeholder.hide()}},j)})||this;return S.onLayerStartSort=function(Y){S.em.clearSelection();var lt=Y[0];S.em.trigger("sorter:drag:start",lt?.element,lt?.model),S.placeholder.show()},S.onLayerDrop=function(Y,lt,xt){if(Y){xt="number"==typeof xt?xt:-1;for(var Ft=0;Ft<lt.length;Ft++){var Bt=lt[Ft];if(Y.canMove(Bt,Ft)){var te=Bt.getParent(),Vt=-1;te&&(Vt=te.indexOfChild(Bt),te.removeChildAt(Vt)),Y.addChildAt(Bt,xt=Vt<xt?xt-1:xt)}}S.placeholder.hide()}},S}return Pm(r,a),r}(Dh);const Lm=Nm;var Fm=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),ip=function(){return ip=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},ip.apply(this,arguments)};const Mm=function(a){function r(t){var e=a.call(this,t,"Utils")||this;return e.Sorter=Ih,e.Resizer=mm,e.Dragger=Ge.A,e.ComponentSorter=Ih,e.StyleManagerSorter=Lm,e.helpers=ip({},at),e}return Fm(r,a),r.prototype.destroy=function(){},r}(K);var ya,Ia={},ia={16:!1,18:!1,17:!1,91:!1},Nh="all",oc={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},Lh={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},ap=function(a){return Lh[a]||a.toUpperCase().charCodeAt(0)},Kc=[];for(ya=1;ya<20;ya++)Lh["f"+ya]=111+ya;function Au(a,r){for(var t=a.length;t--;)if(a[t]===r)return t;return-1}function Rm(a,r){if(a.length!=r.length)return!1;for(var t=0;t<a.length;t++)if(a[t]!==r[t])return!1;return!0}var Hm={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function Vm(a){var r,t=a.keyCode,e=Au(Kc,t);if(e>=0&&Kc.splice(e,1),93!=t&&224!=t||(t=91),t in ia)for(r in ia[t]=!1,oc)oc[r]==t&&(aa[r]=!1)}function zm(){for(ya in ia)ia[ya]=!1;for(ya in oc)aa[ya]=!1}function aa(a,r,t){var e,n;e=Fh(a),void 0===t&&(t=r,r="all");for(var o=0;o<e.length;o++)n=[],(a=e[o].split("+")).length>1&&(n=Mh(a),a=[a[a.length-1]]),(a=ap(a=a[0]))in Ia||(Ia[a]=[]),Ia[a].push({shortcut:e[o],scope:r,method:t,key:e[o],mods:n})}for(ya in oc)aa[ya]=!1;function sp(){return Nh||"all"}function Fh(a){var r;return""==(r=(a=a.replace(/\s/g,"")).split(","))[r.length-1]&&(r[r.length-2]+=","),r}function Mh(a){for(var r=a.slice(0,a.length-1),t=0;t<r.length;t++)r[t]=oc[r[t]];return r}function lp(a,r,t){a.addEventListener?a.addEventListener(r,t,!1):a.attachEvent&&a.attachEvent("on"+r,function(){t(window.event)})}aa.setScope=function(a){Nh=a||"all"},aa.getScope=sp,aa.deleteScope=function(a){var r,t,e;for(r in Ia)for(t=Ia[r],e=0;e<t.length;)t[e].scope===a?t.splice(e,1):e++},aa.filter=function(a){var r=(a.target||a.srcElement).tagName;return!("INPUT"==r||"SELECT"==r||"TEXTAREA"==r)},aa.isPressed=function(a){return"string"==typeof a&&(a=ap(a)),-1!=Au(Kc,a)},aa.getPressedKeyCodes=function(){return Kc.slice(0)},aa.unbind=function(a,r){var t,e,n,o,l,h=[];for(t=Fh(a),o=0;o<t.length;o++){if((e=t[o].split("+")).length>1&&(h=Mh(e)),a=ap(a=e[e.length-1]),void 0===r&&(r=sp()),!Ia[a])return;for(n=0;n<Ia[a].length;n++)(l=Ia[a][n]).scope===r&&Rm(l.mods,h)&&(Ia[a][n]={})}},aa.handlers=Ia,aa.init=function(a){lp(a.document,"keydown",function(r){!function(t){var e,n,o,l,h,v;if(-1==Au(Kc,e=t.keyCode)&&Kc.push(e),93!=e&&224!=e||(e=91),e in ia)for(o in ia[e]=!0,oc)oc[o]==e&&(aa[o]=!0);else if(function Bm(a){for(ya in ia)ia[ya]=a[Hm[ya]]}(t),aa.filter.call(this,t)&&e in Ia)for(v=sp(),l=0;l<Ia[e].length;l++)if((n=Ia[e][l]).scope==v||"all"==n.scope){for(o in h=n.mods.length>0,ia)(!ia[o]&&Au(n.mods,+o)>-1||ia[o]&&-1==Au(n.mods,+o))&&(h=!1);(0!=n.mods.length||ia[16]||ia[18]||ia[17]||ia[91])&&!h||!1===n.method(t,n)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}(r)}),lp(a.document,"keyup",Vm),lp(a,"focus",zm)};const Eu=aa;var Wm=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rh=function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))};(0,at.hasWin)()&&Eu.init(window);var qm=function(a){function r(t){var e=a.call(this,t,"Keymaps",{defaults:{"core:undo":{keys:"\u2318+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"\u2318+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"\u2318+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"\u2318+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}})||this;return e.keymaster=Eu,e.keymaps={},e}return Wm(r,a),r.prototype.onLoad=function(){if(!this.em.isHeadless){var t=this.config.defaults;for(var e in t){var n=t[e];this.add(e,n.keys,n.handler,n.opts||{})}}},r.prototype.add=function(t,e,n,o){void 0===o&&(o={});var l=this.em,h=l.Commands,v=l.getEditor(),j=l.Canvas,S={id:t,keys:e,handler:n};return this.keymaps[t]&&this.remove(t),this.keymaps[t]=S,Eu(e,function(Y,lt){var xt,Ft={event:Y,h:lt},Bt=(0,R.isString)(n)?h.get(n):n;if(!l.isEditing()&&!v.Canvas.isInputFocused()||o.force){o.prevent&&(null===(xt=j.getCanvasView())||void 0===xt||xt.preventDefault(Y)),(0,R.isFunction)(Bt)?Bt(v,0,Ft):h.runCommand(Bt,Ft);var te=[t,lt.shortcut,Y];l.trigger.apply(l,Rh(["keymap:emit"],te,!1)),l.trigger.apply(l,Rh(["keymap:emit:".concat(t)],te,!1))}},void 0),l.trigger("keymap:add",S),S},r.prototype.get=function(t){return this.keymaps[t]},r.prototype.getAll=function(){return this.keymaps},r.prototype.remove=function(t){var e=this.em,n=this.get(t);if(n)return delete this.keymaps[t],n.keys.split(", ").forEach(function(o){Eu.unbind(o.trim())}),e?.trigger("keymap:remove",n),n},r.prototype.removeAll=function(){var t=this;return Object.keys(this.keymaps).forEach(function(e){return t.remove(e)}),Eu.handlers={},this},r.prototype.destroy=function(){this.removeAll(),this.keymaps={}},r}(K);const Km=qm;var Gm=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const Ym=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Gm(r,a),r.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},r.prototype.open=function(){this.set("open",!0)},r.prototype.close=function(){this.set("open",!1)},r}(et.A);var Xm=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rd=function(){return Rd=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Rd.apply(this,arguments)},Zm=function(a){function r(t){var e=a.call(this,t)||this,n=e.model;return e.listenTo(n,"change:open",e.updateOpen),e.listenTo(n,"change:title",e.updateTitle),e.listenTo(n,"change:content",e.updateContent),e}return Xm(r,a),r.prototype.template=function(t){var e=t.pfx,n=t.ppfx,o=t.content,l=t.title;return'<div class="'.concat(e,"dialog ").concat(n,"one-bg ").concat(n,'two-color">\n      <div class="').concat(e,'header">\n        <div class="').concat(e,'title">').concat(l,'</div>\n        <div class="').concat(e,'btn-close" data-close-modal>&Cross;</div>\n      </div>\n      <div class="').concat(e,'content">\n        <div id="').concat(e,'c">').concat(o,'</div>\n        <div style="clear:both"></div>\n      </div>\n    </div>\n    <div class="').concat(e,'collector" style="display: none"></div>')},r.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},r.prototype.onClick=function(t){this.config.backdrop&&t.target===this.el&&this.hide()},r.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},r.prototype.getContent=function(){var t=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(t,"content #").concat(t,"c"))),this.$content},r.prototype.getTitle=function(t){return void 0===t&&(t={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),t.$?this.$title:this.$title.get(0)},r.prototype.updateContent=function(){var t=this.getContent(),e=t.children(),n=this.getCollector(),o=this.model.get("content");e.length&&n.append(e),t.empty().append(o)},r.prototype.updateTitle=function(){var t=this.getTitle({$:!0});t&&t.empty().append(this.model.get("title"))},r.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},r.prototype.hide=function(){this.model.close()},r.prototype.show=function(){this.model.open()},r.prototype.updateAttr=function(t){var e=this,n=e.pfx,o=e.$el,h=[].slice.call(e.el.attributes).map(function(v){return v.name});o.removeAttr(h.join(" ")),o.attr(Rd(Rd({},t||{}),{class:"".concat(n,"container ").concat(t&&t.class||"").trim()}))},r.prototype.render=function(){var t=this.$el,e=this.model.toJSON();return e.pfx=this.pfx,e.ppfx=this.ppfx,t.html(this.template(e)),this.updateAttr(),this.updateOpen(),this},r}(Ct);const Jm=Zm;var Qm=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),ty=function(a){function r(t){var e=a.call(this,t,"Modal",{stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}})||this;return e.model=new Ym(e),e.model.on("change:open",function(n,o){t.trigger("modal:".concat(o?"open":"close"))}),e.model.on("change",(0,R.debounce)(function(){var n=e._evData(),o=e.config.custom;(0,R.isFunction)(o)&&o(n),t.trigger("modal",n)},0)),e}return Qm(r,a),r.prototype._evData=function(){var t=this,e=this.getTitle(),n=this.getContent(),o=this.model.attributes;return{open:o.open,attributes:o.attributes,title:(0,R.isString)(e)?(0,kt.GZ)(e):e,content:(0,R.isString)(n)?(0,kt.GZ)(n):n.get?n.get(0):n,close:function(){t.close()}}},r.prototype.postRender=function(t){var e=t.model.config.el||t.el,n=this.render();n&&e?.appendChild(n)},r.prototype.open=function(t){void 0===t&&(t={});var e=t.attributes||{};return t.title&&this.setTitle(t.title),t.content&&this.setContent(t.content),this.model.set("attributes",e),this.model.open(),this.modal&&this.modal.updateAttr(e),this},r.prototype.close=function(){return this.model.close(),this},r.prototype.onceClose=function(t){return this.em.once("modal:close",t),this},r.prototype.onceOpen=function(t){return this.em.once("modal:open",t),this},r.prototype.isOpen=function(){return!!this.model.get("open")},r.prototype.setTitle=function(t){return this.model.set("title",t),this},r.prototype.getTitle=function(){return this.model.get("title")},r.prototype.setContent=function(t){return this.model.set("content"," "),this.model.set("content",t),this},r.prototype.getContent=function(){return this.model.get("content")},r.prototype.getContentEl=function(){var t;return null===(t=this.modal)||void 0===t?void 0:t.getContent().get(0)},r.prototype.getModel=function(){return this.model},r.prototype.render=function(){var t;if(!this.config.custom){var e=Jm.extend(this.config.extend);return this.modal=new e({el:this.modal&&this.modal.el,model:this.model,config:this.config}),null===(t=this.modal)||void 0===t?void 0:t.render().el}},r.prototype.destroy=function(){var t;null===(t=this.modal)||void 0===t||t.remove()},r}(K);const ey=ty;var Hh="sw-visibility",Bh="export-template",Vh="open-sm",zh="open-tm",Uh="open-layers",Wh="open-blocks",cp="fullscreen",up="preview",ry=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const qh=function(a){function r(t,e){var n=a.call(this,t,e)||this;return n.get("buttons").length&&n.set("buttons",new $h(n.module,n.get("buttons"))),n}return ry(r,a),r.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(r.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"active",{get:function(){return this.get("active")},set:function(t){this.set("active",t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),r}(et.A);var oy=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kh=function(a){function r(t,e){return a.call(this,t,e,qh)||this}return oy(r,a),r.prototype.deactivateAllExceptOne=function(t,e){this.forEach(function(n,o){n!==t&&(n.set("active",!1),e&&n.get("buttons").length&&n.get("buttons").deactivateAllExceptOne(t,e))})},r.prototype.deactivateAll=function(t,e){var n=t||"";this.forEach(function(o){o.get("context")==n&&o!==e&&o.set("active",!1,{fromCollection:!0})})},r.prototype.disableAllButtons=function(t){var e=t||"";this.forEach(function(n,o){n.get("context")==e&&n.set("disable",!0)})},r.prototype.disableAllButtonsExceptOne=function(t,e){this.forEach(function(n,o){n!==t&&(n.set("disable",!0),e&&n.get("buttons").length&&n.get("buttons").disableAllButtonsExceptOne(t,e))})},r}(Kt);const $h=Kh;Kh.prototype.model=qh;var iy=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const Gh=function(a){function r(t,e){var n=a.call(this,t,e)||this,o=n.get("buttons")||[];return n.buttons=new $h(t,o),n}return iy(r,a),r.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(r.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(t){this.set("buttons",t)},enumerable:!1,configurable:!0}),r}(et.A);var ay=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yh=function(a){function r(t,e){return a.call(this,t,e,Gh)||this}return ay(r,a),r}(Kt);const sy=Yh;Yh.prototype.model=Gh;var ly=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),$c=function(){return $c=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},$c.apply(this,arguments)},cy=function(a){function r(t){var e=a.call(this,t)||this,o=e.model,l=e.em,h=e.pfx,v=e.ppfx,j=o.className,S=o.attributes,Y=S.command,lt=S.listen;if(e.id=h+o.get("id"),e.activeCls="".concat(h,"active ").concat(v,"four-color"),e.disableCls="".concat(v,"disabled"),e.btnsVisCls="".concat(h,"visible"),e.className=h+"btn"+(j?" "+j:""),e.listenTo(o,"change",e.render),e.listenTo(o,"change:active updateActive",e.updateActive),e.listenTo(o,"checkActive",e.checkActive),e.listenTo(o,"change:bntsVis",e.updateBtnsVis),e.listenTo(o,"change:attributes",e.updateAttributes),e.listenTo(o,"change:className",e.updateClassName),e.listenTo(o,"change:disable",e.updateDisable),l&&(0,R.isString)(Y)&&lt){var xt={fromListen:!0};e.listenTo(l,"run:".concat(Y),function(){return o.set("active",!0,xt)}),e.listenTo(l,"stop:".concat(Y),function(){return o.set("active",!1,xt)})}return l&&l.get&&(e.commands=l.get("Commands")),e}return ly(r,a),r.prototype.tagName=function(){return this.model.get("tagName")},r.prototype.events=function(){return{click:"clicked"}},r.prototype.updateClassName=function(){var t=this.model,e=this.pfx,n=t.className,o=t.get("attributes").class,l="".concat(o||""," ").concat(e,"btn ").concat(n||"");this.$el.attr("class",l.trim())},r.prototype.updateAttributes=function(){var t=this,e=t.em,n=t.model,o=t.$el,l=n.get("attributes")||{},h=e&&e.t&&e.t("panels.buttons.titles.".concat(n.id));o.attr(l),h&&o.attr({title:h}),this.updateClassName()},r.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},r.prototype.updateActive=function(t,e,n){var o;void 0===n&&(n={});var l=this,h=l.model,v=l.commands,j=l.$el,S=l.activeCls,Y=n.fromCollection,lt=n.fromListen,xt=h.get("context"),Ft=h.get("options"),Bt=h.command,te={};Bt&&(v&&(0,R.isString)(Bt)?te=v.get(Bt)||{}:(0,R.isFunction)(Bt)?te=v.create({run:Bt}):null!==Bt&&(0,R.isObject)(Bt)&&(te=v.create(Bt)),h.active?(!Y&&(null===(o=h.collection)||void 0===o||o.deactivateAll(xt,h)),h.set("active",!0,{silent:!0}).trigger("checkActive"),!lt&&v.runCommand(te,$c($c({},Ft),{sender:h})),te.noStop&&h.set("active",!1)):(j.removeClass(S),!lt&&v.stopCommand(te,$c($c({},Ft),{sender:h,force:1}))))},r.prototype.updateDisable=function(){this.$el[this.model.disable?"addClass":"removeClass"](this.disableCls)},r.prototype.checkActive=function(){var t=this,n=t.$el,o=t.activeCls;t.model.active?n.addClass(o):n.removeClass(o)},r.prototype.clicked=function(){var t=this.model;t.get("bntsVis")||t.disable||!t.command||this.toggleActive()},r.prototype.toggleActive=function(){var t=this.model,e=this.em,n=t.active;n&&!t.togglable||(t.active=!n,n?t.runDefaultCommand&&e.runDefault():t.stopDefaultCommand&&e.stopDefault())},r.prototype.render=function(){var t=this.model,e=t.get("label"),n=this.$el;return!t.get("el")&&n.empty(),this.updateAttributes(),e&&n.append(e),this.checkActive(),this.updateDisable(),this},r}(Ct);const uy=cy;var dy=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const fy=function(a){function r(t){var e=a.call(this,{collection:t})||this;return e.listenTo(e.collection,"add",e.addTo),e.listenTo(e.collection,"reset remove",e.render),e.className=e.pfx+"buttons",e}return dy(r,a),r.prototype.addTo=function(t){this.addToCollection(t)},r.prototype.addToCollection=function(t,e){var n=e||null,o=t.get("el"),l=new uy({el:o,model:t}).render().el;return n?n.appendChild(l):this.$el.append(l),l},r.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(n){return t.addToCollection(n,e)}),this.$el.append(e),this.$el.attr("class",(0,R.result)(this,"className")),this},r}(Ct);var py=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),dp=function(){return dp=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},dp.apply(this,arguments)},hy=function(a){function r(t){var e=a.call(this,{model:t,el:t.get("el")})||this;return e.className=e.pfx+"panel",e.id=e.pfx+t.get("id"),e.listenTo(t,"change:appendContent",e.appendContent),e.listenTo(t,"change:content",e.updateContent),e.listenTo(t,"change:visible",e.toggleVisible),t.view=e,e}return py(r,a),r.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},r.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},r.prototype.toggleVisible=function(){this.model.get("visible")?this.$el.removeClass("".concat(this.ppfx,"hidden")):this.$el.addClass("".concat(this.ppfx,"hidden"))},r.prototype.attributes=function(){return this.model.get("attributes")},r.prototype.initResize=function(){var t=this.em,e=t?.Editor,n=this.model.get("resizable");if(e&&n){var o=!0===n?[!0,!0,!0,!0]:n,l=o.length,h=void 0,v=void 0,j=void 0,S=!1;if(2==l)h=(Y=o)[0],j=Y[0],v=Y[1],S=Y[1];else if(4==l){var Y;h=(Y=o)[0],v=Y[1],j=Y[2],S=Y[3]}var lt=new e.Utils.Resizer(dp({tc:h,cr:v,bc:j,cl:S,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:e.getConfig().stylePrefix,onEnd:function(){t.Canvas.refresh({all:!0})},posFetcher:function(xt,Ft){var Bt=Ft.target,te=xt.style,Vt=lt.getConfig(),ke=Vt.keyWidth,ze=Vt.keyHeight,on=xt.getBoundingClientRect(),_n="container"==Bt,An=te[ke],er=te[ze];return{left:0,top:0,width:An&&!_n?parseFloat(An):on.width,height:er&&!_n?parseFloat(er):on.height}}},n&&"boolean"!=typeof n?n:{}));lt.blur=function(){},lt.focus(this.el)}},r.prototype.render=function(){var t=this.model.buttons,e=this.$el,n=this.ppfx,o="".concat(this.className," ").concat(this.id," ").concat(n,"one-bg ").concat(n,"two-color");if(e.addClass(o),this.toggleVisible(),t.length){var l=new fy(t);e.append(l.render().el)}return e.append(this.model.get("content")),this},r}(Ct);const gy=hy;var vy=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const my=function(a){function r(t){var e=a.call(this,{collection:t})||this;return e.listenTo(t,"add",e.addTo),e.listenTo(t,"reset",e.render),e.listenTo(t,"remove",e.onRemove),e.className=e.pfx+"panels",e}return vy(r,a),r.prototype.onRemove=function(t){var e=t.view;e&&e.remove()},r.prototype.addTo=function(t){this.addToCollection(t)},r.prototype.addToCollection=function(t,e){var n=e||null,o=t.get("el"),l=new gy(t),h=l.render().el,v=t.get("appendTo");if(!o)if(v){var j=document.querySelector(v);j?.appendChild(h)}else n?n.appendChild(h):this.$el.append(h);return l.initResize(),h},r.prototype.render=function(){var t=this,e=this.$el,n=document.createDocumentFragment();return e.empty(),this.collection.each(function(o){return t.addToCollection(o,n)}),e.append(n),e.attr("class",this.className),this},r}(Ct);var yy=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),_y=function(a){function r(t){var e=a.call(this,t,"Panels",{stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:Hh,className:"fa fa-square-o",command:"core:component-outline",context:Hh,attributes:{title:"View components"}},{id:up,className:"fa fa-eye",command:up,context:up,attributes:{title:"Preview"}},{id:cp,className:"fa fa-arrows-alt",command:cp,context:cp,attributes:{title:"Fullscreen"}},{id:Bh,className:"fa fa-code",command:Bh,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:Vh,className:"fa fa-paint-brush",command:Vh,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:zh,className:"fa fa-cog",command:zh,togglable:!1,attributes:{title:"Settings"}},{id:Uh,className:"fa fa-bars",command:Uh,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:Wh,className:"fa fa-th-large",command:Wh,togglable:!1,attributes:{title:"Open Blocks"}}]}]})||this;return e.panels=new sy(e,e.config.defaults),e}return yy(r,a),r.prototype.getPanels=function(){return this.panels},r.prototype.getPanelsEl=function(){var t;return null===(t=this.PanelsViewObj)||void 0===t?void 0:t.el},r.prototype.addPanel=function(t){return this.panels.add(t)},r.prototype.removePanel=function(t){return this.panels.remove(t)},r.prototype.getPanel=function(t){var e=this.panels.where({id:t});return e.length?e[0]:null},r.prototype.addButton=function(t,e){var n=this.getPanel(t);return n?n.buttons.add(e):null},r.prototype.removeButton=function(t,e){var n=this.getPanel(t);return n&&n.buttons.remove(e)},r.prototype.getButton=function(t,e){var n=this.getPanel(t);if(n){var o=n.buttons.where({id:e});return o.length?o[0]:null}return null},r.prototype.render=function(){var t;return null===(t=this.PanelsViewObj)||void 0===t||t.remove(),this.PanelsViewObj=new my(this.panels),this.PanelsViewObj.render().el},r.prototype.active=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("active")&&e.trigger("updateActive")})})},r.prototype.disableButtons=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("disable")&&e.trigger("change:disable")})})},r.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},r}(K);const by=_y;var xy=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const Sy=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return xy(r,a),r.prototype.build=function(t,e){void 0===e&&(e={});var n=e.em,o=function(a,r){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&r.indexOf(e)<0&&(t[e]=a[e]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(e=Object.getOwnPropertySymbols(a);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(a,e[n])&&(t[e[n]]=a[e[n]])}return t}(e,["em"]);if(e.cleanId&&n){var l=n.Css.getAll().toJSON().map(function(h){var v=h.selectors,j=v&&1===v.length&&v.models[0];return j&&j.isId()&&j.get("name")}).filter(Boolean);o.attributes||(o.attributes=function(h,v){var j=v.id;return j&&"i"===j[0]&&!h.get("script")&&!h.get("script-export")&&!h.get("attributes").id&&l.indexOf(j)<0&&delete v.id,v})}return t.toHTML(o)},r}(F.Kx);var Ty=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Oy=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Ty(r,a),r.prototype.build=function(t){var e=this,n=t.toJSON();return this.beforeEach(n),(0,R.each)(n,function(o,l){var h=n[l];if(h instanceof F.Kx)n[l]=e.build(h);else if(h instanceof F.pM){var v=h;n[l]=[],v.length&&v.forEach(function(j,S){n[l][S]=e.build(j)})}}),n},r.prototype.beforeEach=function(t){delete t.status},r}(F.Kx);const ky=Oy;var Ay=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();function Ey(a){var r;return 0===((null===(r=a.toString().match(/\{([\s\S]*)\}/m))||void 0===r?void 0:r[1])||"").replace(/^\s*\/\/.*$/gm,"").trim().length}var jy=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Ay(r,a),r.prototype.mapModel=function(t){var e,n=this,o="",l=t.get("script-export")||t.get("script"),h=t.get("type"),v=t.get("components"),j=t.getId();if(l){var S=t.get("attributes");S=(0,R.extend)({},S,{id:j}),t.set("attributes",S,{silent:!0});var Y=t.getScriptString(l),lt=t.get("script-props");if(t.get("scriptUpdated")&&!lt)this.mapJs[h+"-"+j]={ids:[j],code:Y};else{var xt=void 0,Ft=this.mapJs[h];if(lt&&(xt=t.__getScriptProps()),Ft)Ft.ids.push(j),xt&&(Ft.props[j]=xt);else{var Bt={ids:[j],code:Y};xt&&(Bt.props=((e={})[j]=xt,e)),this.mapJs[h]=Bt}}}return v.forEach(function(te){o+=n.mapModel(te)}),o},r.prototype.build=function(t){this.mapJs={},this.mapModel(t);var e="";for(var n in this.mapJs){var o=this.mapJs[n];if(o.code)if(o.props){if(Ey(o.code))continue;e+="\n          var props = ".concat(JSON.stringify(o.props),";\n          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');\n          var els = document.querySelectorAll(ids);\n          for (var i = 0, len = els.length; i < len; i++) {\n            var el = els[i];\n            (").concat(o.code,".bind(el))(props[el.id]);\n          }")}else{var l="#"+o.ids.join(", #");e+="\n          var items = document.querySelectorAll('".concat(l,"');\n          for (var i = 0, len = items.length; i < len; i++) {\n            (function(){\n").concat(o.code,"\n}.bind(items[i]))();\n          }")}}return e},r}(F.Kx);const Dy=jy;var ju,Iy=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),fp=function(){return fp=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},fp.apply(this,arguments)};(0,at.hasWin)()&&(ju=Xe(4408),Xe(8253),Xe(7389),Xe(3640));var Xh=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Iy(r,a),r.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},r.prototype.init=function(t){return(0,R.bindAll)(this,"onChange"),this.editor=ju.fromTextArea(t,fp({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=t,this.editor.on("change",this.onChange),this},r.prototype.onChange=function(){this.trigger("update",this)},r.prototype.getEditor=function(){return this.editor},r.prototype.getElement=function(){return this.element},r.prototype.setElement=function(t){return this.element=t,this},r.prototype.refresh=function(){return this.getEditor().refresh(),this},r.prototype.focus=function(){return this.getEditor().focus(),this},r.prototype.getContent=function(){var t=this.getEditor();return t&&t.getValue()},r.prototype.setContent=function(t,e){var n=this;void 0===e&&(e={});var o=this.editor;if(o){o.setValue(t);var l=this.get("autoFormat");o.autoFormatRange&&(!0===l||Array.isArray(l)&&l.includes(this.get("codeName")))&&(ju.commands.selectAll(o),o.autoFormatRange(o.getCursor(!0),o.getCursor(!1)),ju.commands.goDocStart(o)),!e.noRefresh&&setTimeout(function(){return n.refresh()})}},r}(F.Kx);const Py=Xh;Xh.prototype.CodeMirror=ju;var Ny=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fy=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Ny(r,a),r.prototype.template=function(t){var e=t.pfx,n=t.codeName,o=t.label;return ct(Zh||(Zh=function(a,r){return Object.defineProperty?Object.defineProperty(a,"raw",{value:r}):a.raw=r,a}(['\n      <div class="','editor" id="',"",'">\n        <div id="','title">','</div>\n        <div id="','code"></div>\n      </div>\n    '],['\n      <div class="','editor" id="',"",'">\n        <div id="','title">','</div>\n        <div id="','code"></div>\n      </div>\n    '])),e,e,n,e,o,e)},r.prototype.initialize=function(t){this.config=t.config||{},this.pfx=this.config.stylePrefix},r.prototype.render=function(){var t,e,n=this,o=n.model,l=n.pfx,h=n.$el,v=o.toJSON(),j=o.get("input")||(null===(e=(t=o).getElement)||void 0===e?void 0:e.call(t));return v.pfx=l,h.html(this.template(v)),h.attr("class","".concat(l,"editor-c")),h.find("#".concat(l,"code")).append(j),this},r}(F.Ss);const My=Fy;var Zh,Ry=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hd=function(){return Hd=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Hd.apply(this,arguments)},By=function(a){function r(t){var e=a.call(this,t,"CodeManager",{stylePrefix:"cm-",optsCodeViewer:{}})||this;e.EditorView=My;var n=e.config,o=n.pStylePrefix;return o&&(n.stylePrefix=o+n.stylePrefix),e.generators={},e.viewers={},e.defGenerators={html:new Sy,css:new Yl,json:new ky,js:new Dy},e.defViewers={CodeMirror:new Py},e.loadDefaultGenerators().loadDefaultViewers(),e}return Ry(r,a),r.prototype.addGenerator=function(t,e){return this.generators[t]=e,this},r.prototype.getGenerator=function(t){return this.generators[t]},r.prototype.getGenerators=function(){return this.generators},r.prototype.addViewer=function(t,e){return this.viewers[t]=e,this},r.prototype.getViewer=function(t){return this.viewers[t]},r.prototype.getViewers=function(){return this.viewers},r.prototype.createViewer=function(t){void 0===t&&(t={});var e=(0,R.isUndefined)(t.type)?"CodeMirror":t.type,n=this.getViewer(e)&&this.getViewer(e).clone(),o=document.createElement("div"),l=document.createElement("textarea");return o.appendChild(l),n.set(Hd(Hd({},this.config.optsCodeViewer),t)),n.init(l),n.setElement(o),n},r.prototype.updateViewer=function(t,e){t.setContent(e)},r.prototype.getCode=function(t,e,n){void 0===n&&(n={}),n.em=this.em;var o=this.getGenerator(e);return o?o.build(t,n):""},r.prototype.loadDefaultGenerators=function(){for(var t in this.defGenerators)this.addGenerator(t,this.defGenerators[t]);return this},r.prototype.loadDefaultViewers=function(){for(var t in this.defViewers)this.addViewer(t,this.defViewers[t]);return this},r.prototype.destroy=function(){},r}(K);const Vy=By;var _a,zy=Xe(4729),Uy=Xe.n(zy);!function(a){a.update="update",a.undo="undo",a.redo="redo",a.load="load",a.projectLoad="project:load",a.projectGet="project:get",a.log="log",a.telemetryInit="telemetry:init",a.destroy="destroy",a.destroyed="destroyed"}(_a||(_a={}));var qy=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),qs=function(){return qs=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},qs.apply(this,arguments)},Ky=function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))},Bd=function(a){return a.avoidStore||a.noUndo||a.partial},Jh=function(a){return Object.keys(a.changedAttributes())},Vd=new WeakMap,$y=function(a){function r(t){var e=a.call(this,t,"UndoManager",{maximumStackLength:500,trackSelection:!0})||this;e.config._disable&&(e.config.maximumStackLength=0);var n=!0;return e.um=new(Uy())(qs({track:!0,register:[]},e.config)),e.um.changeUndoType("change",{condition:function(o){var l=o.get("_undo");if(l){var h=o.get("_undoexc");if((0,R.isArray)(h)&&Jh(o).some(function(v){return h.indexOf(v)>=0}))return!1;if((0,R.isBoolean)(l)||(0,R.isArray)(l)&&Jh(o).some(function(v){return l.indexOf(v)>=0}))return!0}return!1},on:function(o,l,h){var v=Vd.get(o);v||(v=o.previousAttributes(),Vd.set(o,v));var j=h||l||{};if(j.noUndo&&setTimeout(function(){Vd.delete(o)}),!Bd(j)){var S=o.toJSON({fromUndo:n}),Y={object:o,before:v,after:S};if(Vd.delete(o),!(0,R.isEmpty)(S))return Y}}}),e.um.changeUndoType("add",{on:function(o,l,h){if(void 0===h&&(h={}),!Bd(h)&&e.isRegistered(l))return{object:l,before:void 0,after:o,options:qs(qs({},h),{fromUndo:n})}}}),e.um.changeUndoType("remove",{on:function(o,l,h){if(void 0===h&&(h={}),!Bd(h)&&e.isRegistered(l))return{object:l,before:o,after:void 0,options:qs(qs({},h),{fromUndo:n})}}}),e.um.changeUndoType("reset",{undo:function(o,l){o.reset(l,{fromUndo:n})},redo:function(o,l,h){o.reset(h,{fromUndo:n})},on:function(o,l){if(void 0===l&&(l={}),!Bd(l)&&e.isRegistered(o))return{object:o,before:l.previousModels,after:Ky([],o.models,!0),options:qs(qs({},l),{fromUndo:n})}}}),e.um.on("undo redo",function(){t.getSelectedAll().map(function(o){return o.trigger("rerender:layer")})}),[_a.undo,_a.redo].forEach(function(o){return e.um.on(o,function(){return t.trigger(o)})}),e}return qy(r,a),r.prototype.postLoad=function(){var e=this.em;this.config.trackSelection&&e&&this.add(e.get("selected"))},r.prototype.add=function(t){return this.um.register(t),this},r.prototype.remove=function(t){return this.um.unregister(t),this},r.prototype.removeAll=function(){return this.um.unregisterAll(),this},r.prototype.start=function(){return this.um.startTracking(),this},r.prototype.stop=function(){return this.um.stopTracking(),this},r.prototype.undo=function(t){void 0===t&&(t=!0);var n=this.um;return!this.em.isEditing()&&n.undo(t),this},r.prototype.undoAll=function(){return this.um.undoAll(),this},r.prototype.redo=function(t){void 0===t&&(t=!0);var n=this.um;return!this.em.isEditing()&&n.redo(t),this},r.prototype.redoAll=function(){return this.um.redoAll(),this},r.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},r.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},r.prototype.isRegistered=function(t){return!!this.getInstance().objectRegistry.isRegistered(t)},r.prototype.getStack=function(){return this.um.stack},r.prototype.getStackGroup=function(){var t=[],e=[];return this.getStack().forEach(function(n){var o=n.get("magicFusionIndex");e.indexOf(o)<0&&(e.push(o),t.push(n))}),t},r.prototype.skip=function(t){var e=!!this.um.isTracking();e&&this.stop(),t(),e&&this.start()},r.prototype.getGroupedStack=function(){var t={};return this.getStack().forEach(function(n,o){var S,Bt,l=n.get("magicFusionIndex"),h={index:o,type:(S=n.attributes).type,after:S.after,before:S.before,object:S.object,options:void 0===(Bt=S.options)?{}:Bt};t[l]?t[l].push(h):t[l]=[h]}),Object.keys(t).map(function(n){var o=t[n];return{index:o[o.length-1].index,actions:o,labels:(0,R.unique)(o.reduce(function(l,h){var v,j=null===(v=h.options)||void 0===v?void 0:v.action;return j&&l.push(j),l},[]))}})},r.prototype.goToGroup=function(t){var e=this;if(t){var n=this.getPointer(),o=t.index-n;(0,R.times)(Math.abs(o),function(){e[o<0?"undo":"redo"](!1)})}},r.prototype.getPointer=function(){return this.getStack().pointer},r.prototype.clear=function(){return this.um.clear(),this},r.prototype.getInstance=function(){return this.um},r.prototype.destroy=function(){this.clear().removeAll()},r}(K);const Gy=$y;var zd,Gc=function(){return Gc=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Gc.apply(this,arguments)};!function(a){a[a.ACTIVE=1]="ACTIVE",a[a.INACTIVE=0]="INACTIVE",a[a.DISABLED=-1]="DISABLED"}(zd||(zd={}));var pp="_rte",Ud=function(a,r){void 0===r&&(r="A");var t=a.selection()||{},e=t.anchorNode,n=t.focusNode,o=e?.parentNode,l=n?.parentNode;return o?.nodeName==r||l?.nodeName==r},Wd="data-selectme",Du={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(a){return a.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(a){return a.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(a){return a.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(a){return a.exec("strikeThrough")}},link:{icon:'<svg viewBox="0 0 24 24">\n          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />\n        </svg>',name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(a){return a&&a.selection()&&Ud(a)?1:0},result:function(a){Ud(a)?a.exec("unlink"):a.insertHTML('<a href="" '.concat(Wd,">").concat(a.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:'<svg viewBox="0 0 24 24">\n            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />\n        </svg>',attributes:{title:"Wrap for style"},state:function(a){return a?.selection()&&Ud(a,"SPAN")?-1:0},result:function(a){!Ud(a,"SPAN")&&a.insertHTML("<span ".concat(Wd,">").concat(a.selection(),"</span>"),{select:!0})}}},Xy=function(){function a(r,t,e){void 0===e&&(e={});var n=this;if(this.em=r,this.settings=e,t[pp])return t[pp];t[pp]=this,this.setEl(t),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var o=(e.actions||[]).map(function(S){var Y=S;return(0,R.isString)(S)?Y=Gc({},Du[S]):Du[S.name]&&(Y=Gc(Gc({},Du[S.name]),S)),Y}),l=o.length?o:Object.keys(Du).map(function(S){return Du[S]});e.classes=Gc({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},e.classes);var h=e.classes,v=e.actionbar;if(this.actionbar=v,this.classes=h,this.actions=l,!v){if(!this.isCustom(e.module)){var j=e.actionbarContainer;(v=document.createElement("div")).className=h.actionbar,j?.appendChild(v),this.actionbar=v}l.forEach(function(S){return n.addAction(S)})}return e.styleWithCSS&&this.exec("styleWithCSS"),this}return a.prototype.isCustom=function(r){var t=r||this.em.RichTextEditor;return!(!t?.config.custom&&!t?.customRte)},a.prototype.destroy=function(){},a.prototype.setEl=function(r){this.el=r,this.doc=r.ownerDocument},a.prototype.updateActiveActions=function(){var r=this,t=this.getActions();t.forEach(function(e){var n=e.update,o=e.btn,l=r.classes,h=l.active,v=l.inactive,j=l.disabled,S=e.state,Y=e.name,lt=r.doc,xt=zd.INACTIVE;if(o&&(o.className=o.className.replace(h,"").trim(),o.className=o.className.replace(v,"").trim(),o.className=o.className.replace(j,"").trim()),S){var Ft=S(r,lt);if(xt=Ft,o)switch(Ft){case 1:o.className+=" ".concat(h);break;case 0:o.className+=" ".concat(v);break;case-1:o.className+=" ".concat(j)}}else lt.queryCommandSupported(Y)&&lt.queryCommandState(Y)&&(o&&(o.className+=" ".concat(h)),xt=zd.ACTIVE);e.currentState=xt,n?.(r,e)}),t.length&&this.em.RichTextEditor.__dbdTrgCustom()},a.prototype.enable=function(r){return this.enabled?this:this.__toggleEffects(!0,r)},a.prototype.disable=function(){return this.__toggleEffects(!1)},a.prototype.__toggleEffects=function(r,t){void 0===r&&(r=!1),void 0===t&&(t={});var e=r?kt.on:kt.AU,n=this.el,o=this.doc,l=this.actionbarEl();if(l&&(l.style.display=r?"":"none"),n.contentEditable="".concat(!!r),e(n,"mouseup keyup",this.updateActiveActions),e(o,"keydown",this.__onKeydown),e(o,"paste",this.__onPaste),this.enabled=r,r){var h=t.event;if(this.syncActions(),this.updateActiveActions(),h){var v=null;if(o.caretRangeFromPoint){var j=(0,kt.G2)(h);v=o.caretRangeFromPoint(j.clientX,j.clientY)}else h.rangeParent&&(v=o.createRange()).setStart(h.rangeParent,h.rangeOffset);var S=o.getSelection();S?.removeAllRanges(),v&&S?.addRange(v)}n.focus()}return this},a.prototype.__onKeydown=function(r){var t=this.em,e=t.RichTextEditor.getConfig().onKeydown;if(e)return e({ev:r,rte:this,editor:t.getEditor()});var n=this.doc;"Enter"!==r.key||["insertOrderedList","insertUnorderedList"].some(function(o){return n.queryCommandState(o)})||(n.execCommand("insertLineBreak"),r.preventDefault())},a.prototype.__onPaste=function(r){var t=this.em,e=t.RichTextEditor.getConfig().onPaste;if(e)return e({ev:r,rte:this,editor:t.getEditor()});var n=r.clipboardData,o=n.getData("text"),l=n.getData("text/html");if(o&&!l){r.preventDefault();var h=o.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,h)}},a.prototype.syncActions=function(){var r=this;this.getActions().forEach(function(t){if(r.actionbar&&(!t.state||t.state&&t.state(r,r.doc)>=0)){var n=t.btn;n&&(n["on".concat(t.event||"click")]=function(){t.result(r,t),r.updateActiveActions()})}})},a.prototype.addAction=function(r,t){void 0===t&&(t={});var e=t.sync,n=this.actionbarEl();if(n){var o=r.icon,l=r.attributes,h=void 0===l?{}:l,v=document.createElement("span");for(var j in v.className=this.classes.button,r.btn=v,h)v.setAttribute(j,h[j]);"string"==typeof o?v.innerHTML=o:v.appendChild(o),n.appendChild(v)}e&&(this.actions.push(r),this.syncActions())},a.prototype.getActions=function(){return this.actions},a.prototype.selection=function(){return this.doc.getSelection()},a.prototype.exec=function(r,t){this.doc.execCommand(r,!1,t)},a.prototype.actionbarEl=function(){return this.actionbar},a.prototype.insertHTML=function(r,t){var e=(void 0===t?{}:t).select,n=this,o=n.em,l=n.doc,h=n.el,v=l.getSelection();if(v&&v.rangeCount){var j=(0,at.getComponentModel)(h)||o.getSelected(),S=l.createElement("div"),Y=v.getRangeAt(0);Y.deleteContents(),(0,R.isString)(r)?S.innerHTML=r:r&&S.appendChild(r),Array.prototype.slice.call(S.childNodes).forEach(function(lt){Y.insertNode(lt)}),v.removeAllRanges(),v.addRange(Y),h.focus(),e&&j&&(j.once("rte:disable",function(){var lt=j.find("[".concat(Wd,"]"))[0];lt&&(o.setSelected(lt),lt.removeAttributes(Wd))}),j.trigger("disable"))}},a}();const Zy=Xy;var Jy=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),qd=function(){return qd=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},qd.apply(this,arguments)},gp=function(a,r,t,e){return new(t||(t=Promise))(function(n,o){function l(j){try{v(e.next(j))}catch(S){o(S)}}function h(j){try{v(e.throw(j))}catch(S){o(S)}}function v(j){var S;j.done?n(j.value):(S=j.value,S instanceof t?S:new t(function(Y){Y(S)})).then(l,h)}v((e=e.apply(a,r||[])).next())})},vp=function(a,r){var t,e,n,o,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function h(v){return function(j){return function(S){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,S[0]&&(l=0)),l;)try{if(t=1,e&&(n=2&S[0]?e.return:S[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,S[1])).done)return n;switch(e=0,n&&(S=[2&S[0],n.value]),S[0]){case 0:case 1:n=S;break;case 4:return l.label++,{value:S[1],done:!1};case 5:l.label++,e=S[1],S=[0];continue;case 7:S=l.ops.pop(),l.trys.pop();continue;default:if(!((n=(n=l.trys).length>0&&n[n.length-1])||6!==S[0]&&2!==S[0])){l=0;continue}if(3===S[0]&&(!n||S[1]>n[0]&&S[1]<n[3])){l.label=S[1];break}if(6===S[0]&&l.label<n[1]){l.label=n[1],n=S;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(S);break}n[2]&&l.ops.pop(),l.trys.pop();continue}S=r.call(a,l)}catch(Y){S=[6,Y],e=0}finally{t=n=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([v,j])}}},mp="".concat($n.refresh," frame:scroll ").concat(Se.I.update),t0={enable:"rte:enable",disable:"rte:disable",custom:"rte:custom"},e0=function(a){function r(t){var e=a.call(this,t,"RichTextEditor",{stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1})||this;e.events=t0;var n=e.config,o=n.pStylePrefix;o&&(n.stylePrefix=o+n.stylePrefix),e.pfx=n.stylePrefix,e.actions=n.actions||[];var l=new F.Kx;return e.model=l,l.on("change:currentView",e.__trgCustom,e),e.__dbdTrgCustom=(0,R.debounce)(function(){return e.__trgCustom()},0),e}return Jy(r,a),r.prototype.onLoad=function(){if((0,at.hasWin)()){var t=this.config,e=t.pStylePrefix,n=t.custom,o=(0,kt.a_)("div",{class:(0,kt.cx)("".concat(e,"rte-toolbar"),!n&&"".concat(e,"one-bg ").concat(e,"rte-toolbar-ui"))});this.toolbar=o,this.initRte((0,kt.a_)("div")),(0,kt.on)(o,"mousedown",function(l){return l.stopPropagation()})}},r.prototype.__trgCustom=function(){var t=this;t.em.trigger(t.events.custom,{enabled:!!t.model.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},r.prototype.destroy=function(){var t,e,n;null===(t=this.globalRte)||void 0===t||t.destroy(),null===(n=null===(e=this.customRte)||void 0===e?void 0:e.destroy)||void 0===n||n.call(e),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,kt.YZ)(this.toolbar)},r.prototype.postRender=function(t){var e=t.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),e.getToolsEl().appendChild(this.toolbar)},r.prototype.initRte=function(t){var e=this.globalRte,n=this,o=n.em,l=n.pfx,h=n.actionbar,j=this.actions||function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))}([],n.config.actions,!0),S={actionbar:"".concat(l,"actionbar"),button:"".concat(l,"action"),active:"".concat(l,"active"),inactive:"".concat(l,"inactive"),disabled:"".concat(l,"disabled")};return e?(e.em=o,e.setEl(t)):(e=new Zy(o,t,{classes:S,actions:j,actionbar:h,actionbarContainer:this.toolbar,module:this}),this.globalRte=e),e.actionbar&&(this.actionbar=e.actionbar),e.actions&&(this.actions=e.actions),e},r.prototype.add=function(t,e){var n;void 0===e&&(e={}),e.name=t,null===(n=this.globalRte)||void 0===n||n.addAction(e,{sync:!0})},r.prototype.get=function(t){var e,n;return null===(e=this.globalRte)||void 0===e||e.getActions().forEach(function(o){o.name==t&&(n=o)}),n},r.prototype.getAll=function(){var t;return(null===(t=this.globalRte)||void 0===t?void 0:t.getActions())||[]},r.prototype.remove=function(t){var e,n=this.getAll(),o=this.get(t);if(o){var l=o.btn,h=n.indexOf(o);null===(e=l?.parentNode)||void 0===e||e.removeChild(l),n.splice(h,1)}return o},r.prototype.run=function(t){var e=this.globalRte,n=(0,R.isString)(t)?this.get(t):t;e&&n&&(n.result(e,n),e.updateActiveActions())},r.prototype.getToolbarEl=function(){return this.toolbar},r.prototype.updatePosition=function(){var e=this.toolbar,l=e.style,h=this.em.Canvas.getTargetToElementFixed(this.lastEl,e,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(v){var j=h[v];(0,at.isDef)(j)&&(l[v]=(0,R.isString)(j)?j:(j||0)+"px")})},r.prototype.enable=function(t,e,n){return gp(this,void 0,void 0,function(){var o,l,h,v,j;return vp(this,function(S){switch(S.label){case 0:return this.lastEl=t.el,l=(o=this).customRte,h=o.em,v=t.getChildrenContainer(),this.toolbar.style.display="",[4,l?l.enable(v,e,n):this.initRte(v).enable(n)];case 1:return j=S.sent(),h&&(setTimeout(this.updatePosition.bind(this),0),h.off(mp,this.updatePosition,this),h.on(mp,this.updatePosition,this),h.trigger("rte:enable",t,j)),this.model.set({currentView:t}),[2,j]}})})},r.prototype.getContent=function(t,e){return gp(this,void 0,void 0,function(){var n,o;return vp(this,function(l){switch(l.label){case 0:return n=this.customRte,o=t.getChildrenContainer(),n&&e&&(0,R.isFunction)(n.getContent)?[4,n.getContent(o,e,{view:t})]:[3,2];case 1:return[2,l.sent()];case 2:return[2,o.innerHTML]}})})},r.prototype.hideToolbar=function(){var t=this.toolbar.style,e="-1000px";t.top=e,t.left=e,t.display="none"},r.prototype.disable=function(t,e){return gp(this,arguments,void 0,function(n,o,l){var h,v,j,S;return void 0===l&&(l={}),vp(this,function(Y){switch(Y.label){case 0:return h={},v=this.em,(j=this.customRte)?[4,j.disable(n.getChildrenContainer(),o,qd(qd({},l),{view:n}))]:[3,2];case 1:return(S=Y.sent())&&(h=S),[3,3];case 2:o&&o.disable(),Y.label=3;case 3:return this.hideToolbar(),v&&(v.off(mp,this.updatePosition,this),!l.fromMove&&v.trigger("rte:disable",n,o)),this.model.unset("currentView"),[2,h]}})})},r}(K);const n0=e0;var o0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),sa=function(){return sa=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},sa.apply(this,arguments)},eg=function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))},yp=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return o0(r,a),r.getDefaults=function(){return(0,R.result)(this.prototype,"defaults")},r.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},r.prototype.initialize=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this.em=e.em;var n=this.getId()||"",o=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(o||n).replace(/ /g,"-"));var l=this.get("property");!this.get("id")&&this.set("id",l),!o&&this.set("name",(0,at.capitalize)(l).replace(/-/g," ")),this.on("change",this.__upTargets),r.callInit(this,t,e)},r.prototype.__getParentProp=function(){var t,e;return null===(e=null===(t=this.collection)||void 0===t?void 0:t.opts)||void 0===e?void 0:e.parentProp},r.prototype.__upTargets=function(t,e){var n,o=this;void 0===e&&(e={});var l=this.em.Styles,h=this.getName(),v=e.__clear,j=v?"":this.__getFullValue(e),S=this.__getParentProp(),Y=this.changedAttributes(),lt=(0,R.keys)(Y).reduce(function(ke,ze){return ke[ze]=o.previous(ze),ke},{}),xt=eg(eg([],(0,R.keys)(this.__getClearProps()),!0),["__p"],!1),Ft=(0,R.keys)(Y),Bt=!e.__up&&!S&&(v||xt.some(function(ke){return Ft.indexOf(ke)>=0})),te=this.get("onChange"),Vt={property:this,from:lt,to:Y,value:j,opts:e};l.__trgEv(l.events.propertyUpdate,Vt),te&&te(Vt),Bt&&this.__upTargetsStyle(((n={})[h]=j,n),e)},r.prototype.__upTargetsStyle=function(t,e){var n,o=null===(n=this.em)||void 0===n?void 0:n.get("StyleManager");o?.addStyleTargets(sa(sa({},t),{__p:!!e.avoidStore}),e)},r.prototype._up=function(t,e){void 0===e&&(e={}),e.noTarget&&(e.__up=!0);var n=e.partial,o=function(a,r){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&r.indexOf(e)<0&&(t[e]=a[e]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(e=Object.getOwnPropertySymbols(a);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(a,e[n])&&(t[e[n]]=a[e[n]])}return t}(e,["partial"]);return t.__p=!(!o.avoidStore&&!n),this.set(t,sa(sa({},o),{avoidStore:t.__p}))},r.prototype.up=function(t,e){void 0===e&&(e={}),this.set(t,sa(sa({},e),{__up:!0}))},r.prototype.init=function(){},r.prototype.getId=function(){return this.get("id")},r.prototype.getType=function(){return this.get("type")},r.prototype.getName=function(){return this.get("property")},r.prototype.getLabel=function(t){var e;void 0===t&&(t={});var n=t.locale,o=void 0===n||n,l=this.getId(),h=this.get("name")||this.get("label");return o&&(null===(e=this.em)||void 0===e?void 0:e.t("styleManager.properties.".concat(l)))||h},r.prototype.getValue=function(t){void 0===t&&(t={});var e=t.noDefault,n=this.get("value");return this.hasValue()||e?n:this.getDefaultValue()},r.prototype.hasValue=function(t){void 0===t&&(t={});var e=t.noParent&&this.getParentTarget(),n=this.get("value");return!(0,R.isUndefined)(n)&&""!==n&&!e},r.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},r.prototype.getStyle=function(t){var e;void 0===t&&(t={});var n=this.getName();return(e={})[t.camelCase?(0,at.camelCase)(n):n]=this.__getFullValue(t),e},r.prototype.getDefaultValue=function(){var t=this.get("default");return"".concat((0,R.isUndefined)(t)?this.get("defaults"):t)},r.prototype.upValue=function(t,e){void 0===e&&(e={});var n=null===t||""===t?this.__getClearProps():this.__parseValue(t,e);return this._up(n,e)},r.prototype.isVisible=function(){return!!this.get("visible")},r.prototype.clear=function(t){return void 0===t&&(t={}),this._up(this.__getClearProps(),sa(sa({},t),{__clear:!0})),this},r.prototype.canClear=function(){var t=this.getParent();return t?t.__canClearProp(this):this.hasValue({noParent:!0})},r.prototype.getParent=function(){return this.__getParentProp()},r.prototype.isFull=function(){return!!this.get("full")},r.prototype.__parseValue=function(t,e){return this.parseValue(t,e)},r.prototype.__getClearProps=function(){return{value:"",important:!1}},r.prototype.setValue=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n={});var o=this.parseValue(t),l=!e;!l&&this.set({value:void 0},{avoidStore:l,silent:!0}),this.set(o,sa({avoidStore:l},n))},r.prototype.setValueFromInput=function(t,e,n){void 0===n&&(n={}),this.setValue(t,e,sa(sa({},n),{fromInput:1}))},r.prototype.parseValue=function(t,e){void 0===e&&(e={});var n={value:t},o="!important",l=this.get("functionName")||"";if((0,R.isString)(t)&&-1!==t.indexOf(o)&&(n.value=t.replace(o,"").trim(),n.important=!0),!l&&!e.complete)return n;var h=[],v="".concat(n.value).trim(),j=v.indexOf("(")+1,S=l||v.substring(0,j-1);if(S&&(n.functionName=S),!l||0===v.indexOf("".concat(l,"("))){var Y=v.lastIndexOf(")");h.push(j),Y>=0&&h.push(Y),n.value=String.prototype.substring.apply(v,h)}if(e.numeric){var lt=parseFloat(n.value);n.unit=n.value.replace(lt,""),n.value=lt}return n},r.prototype.__getFullValue=function(t){var e=(void 0===t?{}:t).withDefault;return!this.hasValue()&&e?this.getDefaultValue():this.getFullValue()},r.prototype.getFullValue=function(t,e){void 0===e&&(e={});var n=this.get("functionName"),o=this.getDefaultValue(),l=(0,R.isUndefined)(t)?this.get("value"):t,h=this.hasValue();if(l&&o&&l===o)return o;if(n&&h){var v="url"===n?"'".concat(l.replace(/'|"/g,""),"'"):l;l="".concat(n,"(").concat(v,")")}return h&&this.get("important")&&!e.skipImportant&&(l="".concat(l," !important")),l||""},r.prototype.__setParentTarget=function(t){this.up({parentTarget:t})},r.prototype.getParentTarget=function(){return this.get("parentTarget")||null},r.prototype.__parseFn=function(t){void 0===t&&(t="");var e=t.indexOf("(")+1,n=t.lastIndexOf(")");return{name:t.substring(0,e-1).trim(),value:String.prototype.substring.apply(t,[e,n>=0?n:void 0]).trim()}},r.prototype.__checkVisibility=function(t){var e=t.target,n=t.component,o=t.sectors,l=n||e;if(!l)return!1;var h=this.getId(),v=this.getName(),j=this.get("toRequire"),S=this.get("requires"),Y=this.get("requiresParent"),lt=l.get("unstylable"),xt=l.get("stylable-require"),Ft=l.get("stylable");if((0,R.isArray)(Ft)&&(Ft=Ft.indexOf(v)>=0),(0,R.isArray)(lt)&&(Ft=lt.indexOf(v)<0),j&&(Ft=!e||xt&&(xt.indexOf(h)>=0||xt.indexOf(v)>=0)),o&&S){var Bt=(0,R.keys)(S);o.forEach(function(ze){ze.getProperties().forEach(function(on){(0,R.includes)(Bt,on.id)&&(Ft=Ft&&(0,R.includes)(S[on.id],on.get("value")))})})}if(Y){var te=n&&n.parent(),Vt=te&&te.getEl();if(Vt){var ke=(0,at.hasWin)()?window.getComputedStyle(Vt):{};(0,R.each)(Y,function(ze,on){Ft=Ft&&ke[on]&&(0,R.includes)(ze,ke[on])})}else Ft=!1}return!!Ft},r}(F.Kx);const zo=yp;yp.callParentInit=function(a,r,t,e){void 0===e&&(e={}),a.prototype.initialize.apply(r,[t,sa(sa({},e),{skipInit:1})])},yp.callInit=function(a,r,t){void 0===t&&(t={}),!t.skipInit&&a.init(r,t)};var a0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yc=function(){return Yc=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Yc.apply(this,arguments)},ng=function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))},rg=function(a){return"integer"===a||"number"===a},s0=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return a0(r,a),r.prototype.defaults=function(){return Yc(Yc({},zo.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},r.prototype.initialize=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),zo.callParentInit(zo,this,t,e);var n=this.em,o=new xp(this.get("properties")||[],{em:n,parentProp:this});this.set("properties",o,{silent:!0}),this.listenTo(o,"change",this.__upProperties),zo.callInit(this,t,e)},Object.defineProperty(r.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),r.prototype.getProperties=function(){return ng([],this.get("properties").models,!0)},r.prototype.getProperty=function(t){return this.properties.filter(function(e){return e.getId()===t||e.getName()===t})[0]},r.prototype.getPropertyAt=function(t){return this.get("properties").at(t)},r.prototype.isDetached=function(){return!!this.get("detached")},r.prototype.getValues=function(t){var e=(void 0===t?{}:t).byName;return this.getProperties().reduce(function(n,o){return n[e?o.getName():o.getId()]="".concat(o.__getFullValue()),n},{})},r.prototype.getSeparator=function(){return this.getSplitSeparator()},r.prototype.getJoin=function(){return this.__getJoin()},r.prototype.getStyleFromProps=function(t){var e;void 0===t&&(t={});var n=this.getName(),o=this.__getJoin(),l=this.get("toStyle"),h=this.getValues(),v={};if(l)v=l(h,{join:o,name:n,property:this});else if(h=this.getValues({byName:!0}),this.isDetached())v=h;else{var j=this.getProperties().map(function(S){return S.__getFullValue({withDefault:1})}).filter(Boolean).join(o);(e={})[n]=j,v=e}return this.isDetached()?v[n]="":(v[n]=v[n]||"",v=Yc(Yc({},v),this.getProperties().reduce(function(S,Y){return S[Y.getName()]="",S},{}))),t.camelCase?Object.keys(v).reduce(function(S,Y){return S[(0,at.camelCase)(Y)]=v[Y],S},{}):v},r.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},r.prototype.__upProperties=function(t,e){if(void 0===e&&(e={}),!e.__up&&!e.__clearIn){var n=this.__getParentProp();if(n)return n.__upProperties(this,e);this.__upTargetsStyleProps(e,t)}},r.prototype.__upTargetsStyleProps=function(t,e){var n;void 0===t&&(t={});var o=this.getStyleFromProps();if(this.isDetached()&&e){var l=e.getName();(n={})[l]=o[l],o=n}this.__upTargetsStyle(o,t)},r.prototype._up=function(t,e){return void 0===e&&(e={}),this.__setProperties(this.__getSplitValue(t.value),e),zo.prototype._up.call(this,t,e),this},r.prototype.getStyle=function(t){return this.getStyleFromProps(t)},r.prototype.__getFullValue=function(t){if(void 0===t&&(t={}),this.isDetached()||t.__clear)return"";var e=this.getStyleFromProps()[this.getName()]||"";return qo(e)},r.prototype.__getJoin=function(){var t=this.get("join");return(0,R.isString)(t)?t:this.get("separator")},r.prototype.__styleHasProps=function(t){void 0===t&&(t={});var e=this.getName(),n=this.getProperties().map(function(o){return o.getName()});return ng([e],n,!0).some(function(o){return!(0,R.isUndefined)(t[o])&&""!==t[o]})},r.prototype.__splitValue=function(t,e){return qo(t).split(e).map(function(n){return n.trim()}).filter(Boolean)},r.prototype.__splitStyleName=function(t,e,n){return this.__splitValue(t[e]||"",n)},r.prototype.__getSplitValue=function(t,e){void 0===t&&(t="");var n=(void 0===e?{}:e).byName,o=this.getProperties(),l=4===o.length&&o.every(function(j){return rg(j.getType())}),h=this.__splitValue(t,this.getSplitSeparator()),v={};return o.forEach(function(j,S){var Y=h[S],lt=(0,R.isUndefined)(Y)?"":Y;if(l){var xt=h.length;lt=h[S]||h[S%xt+(1!=xt&&xt%2?1:0)]||lt}var Ft=n?j.getName():j.getId();v[Ft]=lt||""}),v},r.prototype.__getPropsFromStyle=function(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!this.__styleHasProps(t))return null;var n=e.byName,o=this.getName(),l=this.getProperties(),h=this.getSplitSeparator(),v=this.get("fromStyle"),j=v?v(t,{property:this,name:o,separator:h}):{};return v||(j=this.__getSplitValue(t[o]||"",{byName:n}),l.forEach(function(Y){var lt=t[Y.getName()],xt=n?Y.getName():Y.getId();(0,R.isUndefined)(lt)||""===lt||(j[xt]=lt)})),j},r.prototype.__setProperties=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this.getProperties().forEach(function(o){var l=t[o.getId()];o.__getFullValue()!==l&&o.upValue(l,e)});var n=(0,R.keys)(t).map(function(o){return t[o]}).join(" ");this.set("value",n,{silent:!0})},r.prototype.clear=function(){var t=this;return this.getProperties().map(function(e){return e.clear({__clearIn:!t.isDetached()})}),zo.prototype.clear.call(this),this},r.prototype.hasValue=function(t){return this.getProperties().some(function(e){return e.hasValue(t)})},r.prototype.getFullValue=function(){return this.__getFullValue()},r.prototype.__canClearProp=function(t){return this.isDetached()&&t.hasValue({noParent:!0})},r}(zo);const Xc=s0;var l0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),ba=function(){return ba=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},ba.apply(this,arguments)},u0=/,(?![^\(]*\))/,d0=/\s(?![^(]*\))/,f0=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return l0(r,a),r.prototype.defaults=function(){return ba(ba({},Xc.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},r.prototype.initialize=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),Xc.callParentInit(Xc,this,t,e);var n=this.get("layers"),o=new Md(n,{prop:this});o.property=this,o.properties=this.get("properties"),this.set("layers",o,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(o,"add remove",this.__upLayers),Xc.callInit(this,t,e)},Object.defineProperty(r.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),r.prototype.getLayers=function(){return this.layers.models},r.prototype.hasLayers=function(){return this.getLayers().length>0},r.prototype.getLayer=function(t){return void 0===t&&(t=0),this.layers.at(t)||void 0},r.prototype.getSelectedLayer=function(){var t=this.get("selectedLayer");return t&&t.getIndex()>=0?t:void 0},r.prototype.selectLayer=function(t){return this.set("selectedLayer",t,{__select:!0})},r.prototype.selectLayerAt=function(t){void 0===t&&(t=0);var e=this.getLayer(t);return e&&this.selectLayer(e)},r.prototype.moveLayer=function(t,e){void 0===e&&(e=0);var n=this.layers,o=t?t.getIndex():-1;o>=0&&(0,R.isNumber)(e)&&e>=0&&e<n.length&&o!==e&&(this.removeLayer(t),n.add(t,{at:e}))},r.prototype.addLayer=function(t,e){void 0===t&&(t={}),void 0===e&&(e={});var n={};return this.getProperties().forEach(function(o){var l=o.getId(),h=t[l];n[l]=(0,R.isUndefined)(h)?o.getDefaultValue():h}),this.layers.push({values:n},e)},r.prototype.removeLayer=function(t){return this.layers.remove(t)},r.prototype.removeLayerAt=function(t){void 0===t&&(t=0);var e=this.getLayer(t);return e?this.removeLayer(e):null},r.prototype.getLayerLabel=function(t){var e="";if(t){var n=this.get("layerLabel"),o=t.getValues(),l=t.getIndex();if(n)e=n(t,{index:l,values:o,property:this});else{var h=[];this.getProperties().map(function(v){h.push(o[v.getId()])}),e=h.filter(Boolean).join(" ")}}return e},r.prototype.getStyleFromLayer=function(t,e){var n;void 0===e&&(e={});var o,l=this.__getJoin(),h=this.__getJoinLayers(),v=this.get("toStyle"),j=this.getName(),S=t.getValues();if(v)o=v(S,{join:l,joinLayers:h,name:j,layer:t,property:this});else{var Y=this.getProperties().map(function(lt){var xt=lt.getName(),Ft=S[lt.getId()],Bt=(0,R.isUndefined)(Ft)?lt.getDefaultValue():Ft;if(e.number&&rg(lt.getType())){var te=lt.parseValue(Ft,e.number);Bt="".concat(te.value).concat(te.unit)}return{name:xt,value:Bt}});o=this.isDetached()?Y.reduce(function(lt,xt){return lt[xt.name]=xt.value,lt},{}):((n={})[this.getName()]=Y.map(function(lt){return lt.value}).join(l),n)}return e.camelCase?Object.keys(o).reduce(function(lt,xt){return lt[(0,at.camelCase)(xt)]=o[xt],lt},{}):o},r.prototype.getStylePreview=function(t,e){void 0===e&&(e={});var n={};return this.get("preview")&&(n=this.getStyleFromLayer(t,e)),n},r.prototype.getLayerSeparator=function(){var t=this.get("layerSeparator");return(0,R.isString)(t)?new RegExp("".concat(t,"(?![^\\(]*\\))")):t},r.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},r.prototype.__upProperties=function(t,e){var n;void 0===e&&(e={});var o=this.getSelectedLayer();o&&(o.upValues(((n={})[t.getId()]=t.__getFullValue(),n)),e.__up||this.__upTargetsStyleProps(e))},r.prototype.__upLayers=function(t,e,n){this.__upTargetsStyleProps(n||e)},r.prototype.__upTargets=function(t,e){if(void 0===e&&(e={}),!e.__select)return zo.prototype.__upTargets.call(this,t,e)},r.prototype.__upTargetsStyleProps=function(t){void 0===t&&(t={}),this.__upTargetsStyle(this.getStyleFromLayers(t),t)},r.prototype.__upTargetsStyle=function(t,e){return zo.prototype.__upTargetsStyle.call(this,t,e)},r.prototype.__upSelected=function(t,e){var n=(void 0===t?{}:t).noEvent;void 0===e&&(e={});var o=this.em.Styles,l=this.getSelectedLayer(),h=l?.getValues();h&&this.getProperties().forEach(function(v){var j,S=null!==(j=h[v.getId()])&&void 0!==j?j:"";v.__getFullValue()!==S&&v.upValue(S,ba(ba({},e),{__up:!0}))}),!n&&o.__trgEv(o.events.layerSelect,{property:this})},r.prototype._up=function(t,e){void 0===e&&(e={});var n=t.__layers,o=void 0===n?[]:n,l=function(a,r){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&r.indexOf(e)<0&&(t[e]=a[e]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(e=Object.getOwnPropertySymbols(a);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(a,e[n])&&(t[e[n]]=a[e[n]])}return t}(t,["__layers"]);return!this.isDetached()&&this.__setLayers(o),this.__upSelected({noEvent:!0},e),zo.prototype._up.call(this,l,e),this},r.prototype.__setLayers=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={});var n=this.layers,o=t.map(function(l){return{values:l}});n.length===o.length?o.map(function(l,h){var v;return null===(v=n.at(h))||void 0===v?void 0:v.upValues(l.values)}):n.reset(o),this.set({isEmptyValue:!!e.isEmptyValue}),this.__upSelected({noEvent:!0})},r.prototype.__parseValue=function(t){var e=this,n=this.parseValue(t);return n.__layers=t.split(u0).map(function(o){return o.trim()}).map(function(o){return e.__parseLayer(o)}).filter(Boolean),n},r.prototype.__parseLayer=function(t){var e=this.get("parseLayer"),n=t.split(d0),o=this.getProperties();return e?e({value:t,values:n}):o.reduce(function(l,h,v){var j=n[v];return l[h.getId()]=(0,R.isUndefined)(j)?h.getDefaultValue():j,l},{})},r.prototype.__getLayersFromStyle=function(t){var e=this;if(void 0===t&&(t={}),!this.__styleHasProps(t))return null;if(this.isEmptyValueStyle(t))return[];var n=this.getName(),o=this.getProperties(),l=this.getLayerSeparator(),h=this.attributes.fromStyle,v=h?h(t,{property:this,name:n,separatorLayers:l}):[];if(!h){var j=this.__splitStyleName(t,n,l).map(function(S){return S.split(e.getSplitSeparator())}).map(function(S){var Y={};return o.forEach(function(lt,xt){var Ft=S[xt];Y[lt.getId()]=(0,R.isUndefined)(Ft)?lt.getDefaultValue():Ft}),Y});o.forEach(function(S){var Y=S.getId();e.__splitStyleName(t,S.getName(),l).map(function(lt){var xt;return(xt={})[Y]=lt||S.getDefaultValue(),xt}).forEach(function(lt,xt){j[xt]=j[xt]?ba(ba({},j[xt]),lt):lt})}),v=j}return(0,R.isArray)(v)?v:[v]},r.prototype.getStyle=function(t){return void 0===t&&(t={}),this.getStyleFromLayers(t)},r.prototype.getStyleFromLayers=function(t){var e=this;void 0===t&&(t={});var n={},o=this.getName(),l=this.getLayers(),h=this.getProperties();if(l.map(function(j){return e.getStyleFromLayer(j,t)}).forEach(function(j){(0,R.keys)(j).map(function(S){n[S]||(n[S]=[]),n[S].push(j[S])})}),(0,R.keys)(n).map(function(j){n[j]=n[j].join(e.__getJoinLayers())}),this.isDetached())n[o]="",!l.length&&h.map(function(j){n[j.getName()]=""});else{var v=h.reduce(function(j,S){return j[S.getName()]="",j},{});n[o]=n[o]||"",n=ba(ba({},n),v)}return ba(ba({},n),t.__clear?{}:this.getEmptyValueStyle())},r.prototype.isEmptyValueStyle=function(t){void 0===t&&(t={});var e=this.getEmptyValueStyle({force:!0}),n=(0,R.keys)(e);return!!n.length&&n.every(function(o){return e[o]===t[o]})},r.prototype.getEmptyValueStyle=function(t){void 0===t&&(t={});var e=this.attributes.emptyValue;if(!e||this.hasLayers()&&!t.force)return{};var n=this.getName(),o=this.getProperties(),l=(0,R.isString)(e)?e:e({property:this});if((0,R.isString)(l)){var h={};return this.isDetached()?o.map(function(v){h[v.getName()]=l}):h[n]=l,h}return l},r.prototype.__getJoinLayers=function(){var t=this.get("layerJoin"),e=this.get("layerSeparator");return t||((0,R.isString)(e)?e:t)},r.prototype.__getFullValue=function(){if(this.get("detached"))return"";var t=this.getStyleFromLayers();return qo(t[this.getName()])},r.prototype.hasValue=function(t){void 0===t&&(t={});var e=t.noParent&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!e},r.prototype.clear=function(t){return void 0===t&&(t={}),this.layers.reset(),this.__upTargetsStyleProps(ba(ba({},t),{__clear:!0})),zo.prototype.clear.call(this),this},r.prototype.__canClearProp=function(){return!1},r.prototype.__getLayers=function(){return this.layers},r}(Xc);const p0=f0;var h0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kd=function(){return Kd=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Kd.apply(this,arguments)},_p="data-clear-style",m0=function(a){function r(t){void 0===t&&(t={});var e=a.call(this,t)||this;(0,R.bindAll)(e,"__change","__updateStyle");var n=t.config||{},o=n.em;e.config=n,e.em=o,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.__destroyFn=e.destroy?e.destroy.bind(e):function(){};var l=e.model;l.view=e,e.onValueChange=(0,R.debounce)(e.onValueChange.bind(e),10),e.updateStatus=(0,R.debounce)(e.updateStatus.bind(e),0),e.listenTo(l,"destroy remove",e.remove),e.listenTo(l,"change:visible",e.updateVisibility),e.listenTo(l,"change:name change:className change:full",e.render),e.listenTo(l,"change:value",e.onValueChange),e.listenTo(l,"change:parentTarget",e.updateStatus),e.listenTo(o,"change:device",e.onValueChange);var h=e.init&&e.init.bind(e);return h&&h(),e}return h0(r,a),r.prototype.events=function(){var t;return(t={change:"inputValueChanged"})["click [".concat(_p,"]")]="clear",t},r.prototype.template=function(t){var n=this.ppfx;return'\n      <div class="'.concat(this.pfx,'label" data-sm-label></div>\n      <div class="').concat(n,'fields" data-sm-fields></div>\n    ')},r.prototype.templateLabel=function(t){var e=this.pfx,n=this.em,o=t.parent,l=t.attributes,h=l.icon,v=void 0===h?"":h,j=l.info,S=void 0===j?"":j,Y=n?.getConfig().icons,lt=Y?.close||"";return'\n      <span class="'.concat(e,"icon ").concat(v,'" title="').concat(S,'">\n        ').concat(t.getLabel(),"\n      </span>\n      ").concat(o?"":'<div class="'.concat(e,'clear" style="display: none" ').concat(_p,">").concat(lt,"</div>"),"\n    ")},r.prototype.templateInput=function(t){return'\n      <div class="'.concat(this.ppfx,'field">\n        <input placeholder="').concat(t.getDefaultValue(),'"/>\n      </div>\n    ')},r.prototype.remove=function(){var t=this;return F.Ss.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(e){return t[e]=null}),this.__destroyFn(this._getClbOpts()),this},r.prototype.updateStatus=function(){var t,e=this,n=e.model,o=e.pfx,l=e.ppfx,h=e.config,v="".concat(l,"four-color"),j="".concat(l,"color-warn"),S=this.$el.children(".".concat(o,"label")),Y=this.getClearEl(),lt=Y?Y.style:{};S.removeClass("".concat(v," ").concat(j)),lt.display="none",n.hasValue({noParent:!0})&&h.highlightChanged?(S.addClass(v),h.clearProperties&&(lt.display="")):n.hasValue()&&h.highlightComputed&&S.addClass(j),null===(t=this.parent)||void 0===t||t.updateStatus()},r.prototype.clear=function(t){t&&t.stopPropagation(),this.model.clear()},r.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(_p,"]"))),this.clearEl},r.prototype.inputValueChanged=function(t){t&&t.stopPropagation(),this.emit||this.model.upValue(t.target.value)},r.prototype.onValueChange=function(t,e,n){void 0===n&&(n={}),this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},r.prototype.setValue=function(t){var e=this.model,n=(0,R.isUndefined)(t)||""===t?e.getDefaultValue():t;if(this.update)return this.__update(n);this.__setValueInput(n)},r.prototype.__setValueInput=function(t){var e=this.getInputEl();e&&(e.value=t)},r.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},r.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},r.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},r.prototype.__unset=function(){var t=this.unset&&this.unset.bind(this);t&&t(this._getClbOpts())},r.prototype.__update=function(t){var e=this.update&&this.update.bind(this);e&&e(Kd(Kd({},this._getClbOpts()),{value:t}))},r.prototype.__change=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.emit&&this.emit.bind(this);n&&n.apply(void 0,function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))}([this._getClbOpts()],t,!1))},r.prototype.__updateStyle=function(t,e){void 0===e&&(e={});var n=e.complete,o=e.partial,l=(function(a,r){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&r.indexOf(e)<0&&(t[e]=a[e]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(e=Object.getOwnPropertySymbols(a);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(a,e[n])&&(t[e[n]]=a[e[n]])}}(e,["complete","partial"]),this.model),h=!1!==n&&!0!==o;(0,at.isObject)(t)?l.__upTargetsStyle(t,{avoidStore:!h}):l.upValue(t,{partial:!h})},r.prototype._getClbOpts=function(){var t=this,e=t.model;return{el:t.el,createdEl:t.createdEl,property:e,props:e.attributes,change:this.__change,updateStyle:this.__updateStyle}},r.prototype.render=function(){this.clearCached();var t=this,e=t.pfx,n=t.model,o=t.el,l=t.$el,h=n.getName(),v=n.getType(),j=n.get("className")||"",S="".concat(e,"property"),Y="number"===v?"".concat(e).concat(v," ").concat(e,"integer"):"".concat(e).concat(v);this.createdEl&&this.__destroyFn(this._getClbOpts()),l.empty().append(this.template(n)),l.find("[data-sm-label]").append(this.templateLabel(n));var lt=this.create&&this.create.bind(this);this.createdEl=lt&&lt(this._getClbOpts()),l.find("[data-sm-fields]").append(this.createdEl||this.templateInput(n)),o.className="".concat(S," ").concat(Y," ").concat(S,"__").concat(h," ").concat(j).trim(),o.className+=n.isFull()?" ".concat(S,"--full"):"";var xt=this.onRender&&this.onRender.bind(this);return xt&&xt(),this.setValue(n.getValue()),this},r.prototype.onRender=function(){},r}(F.Ss);const Ks=m0;var y0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),_0=function(a){function r(t){var e=a.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.properties=[],e.parent=t.parent;var n=e.collection;return e.listenTo(n,"add",e.addTo),e.listenTo(n,"reset",e.render),e}return y0(r,a),r.prototype.addTo=function(t,e,n){this.add(t,null,n)},r.prototype.add=function(t,e,n){void 0===n&&(n={});var o=this.parent,h=e||this.el,v=new t.typeView({model:t,config:this.config});o&&(v.parent=o),v.render();var j=v.el;this.properties.push(v),(0,kt.Sc)(h,j,n.at)},r.prototype.remove=function(){return F.Ss.prototype.remove.apply(this,arguments),this.clearItems(),this},r.prototype.clearItems=function(){this.properties.forEach(function(t){return t.remove()}),this.properties=[]},r.prototype.render=function(){var t=this,e=this.$el,n=this.pfx;this.clearItems();var o=document.createDocumentFragment();return this.collection.forEach(function(l){return t.add(l,o)}),e.empty(),e.append(o),e.attr("class","".concat(n,"properties")),this},r}(F.Ss);const bp=_0;var b0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),$d=function(){return $d=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},$d.apply(this,arguments)},w0=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return b0(r,a),r.prototype.templateInput=function(){var t=this.pfx;return'\n      <div class="'.concat(t,"field ").concat(t,'composite">\n        <span id="').concat(t,'input-holder"></span>\n      </div>\n    ')},r.prototype.remove=function(){var t;return null===(t=this.props)||void 0===t||t.remove(),Ks.prototype.remove.apply(this,arguments),this},r.prototype.onValueChange=function(){},r.prototype.onRender=function(){var t=this.pfx,e=this.model,n=e.get("properties");if(n.length&&!this.props){var o=e.isDetached(),l=new bp({config:$d($d({},this.config),{highlightComputed:o,highlightChanged:o}),collection:n,parent:this});l.render(),this.$el.find("#".concat(t,"input-holder")).append(l.el),this.props=l}},r.prototype.clearCached=function(){Ks.prototype.clearCached.apply(this,arguments),delete this.props},r}(Ks);const Iu=w0;var x0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),C0=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return x0(r,a),r.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},r.prototype.template=function(){var t=this,e=t.pfx,n=t.ppfx,o=t.em,l=o?.getConfig().icons,h=l?.close||"",v=l?.move||"";return'\n      <div class="'.concat(e,'label-wrp">\n        <div id="').concat(e,'move" class="').concat(n,'no-touch-actions" data-move-layer>\n          ').concat(v,'\n        </div>\n        <div id="').concat(e,'label" data-label></div>\n        <div id="').concat(e,'preview-box" class="').concat(e,'layer-preview" style="display: none" data-preview-box>\n          <div id="').concat(e,'preview" class="').concat(e,'layer-preview-cnt" data-preview></div>\n        </div>\n        <div id="').concat(e,'close-layer" class="').concat(e,'btn-close" data-close-layer>\n          ').concat(h,'\n        </div>\n      </div>\n      <div id="').concat(e,'inputs" data-properties></div>\n    ')},r.prototype.initialize=function(t){void 0===t&&(t={});var e=this.model,n=t.config||{};this.em=n.em,this.config=n,this.sorter=t.sorter,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.propertyView=t.propertyView;var o=this.propertyView.model;this.listenTo(e,"destroy remove",this.remove),this.listenTo(e,"change:values",this.updateLabel),this.listenTo(o,"change:selectedLayer",this.updateVisibility),e.view=this,e.set({droppable:0,draggable:1}),this.$el.data("model",e)},r.prototype.initSorter=function(){var t;null===(t=this.sorter)||void 0===t||t.startSort([{element:this.el}])},r.prototype.removeItem=function(t){t&&t.stopPropagation(),this.model.remove()},r.prototype.select=function(){this.model.select()},r.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},r.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},r.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},r.prototype.updateLabel=function(){var t=this.model,e=t.getLabel();if(this.getLabelEl().innerHTML=e,t.hasPreview()){var n=this.getPreviewEl(),o=t.getStylePreview({number:{min:-3,max:3}}),l=(0,R.keys)(o).map(function(h){return"".concat(h,":").concat(o[h])}).join(";");n.setAttribute("style",l)}},r.prototype.updateVisibility=function(){var t,e=this,n=e.pfx,o=e.model,l=e.propertyView,h=this.getPropertiesWrapper(),v=o.isSelected();h.style.display=v?"":"none",this.$el[v?"addClass":"removeClass"]("".concat(n,"active")),v&&h.appendChild(null===(t=l.props)||void 0===t?void 0:t.el)},r.prototype.render=function(){var t=this,e=t.el,n=t.pfx,o=t.model;return e.innerHTML=this.template(),e.className="".concat(n,"layer"),o.hasPreview()&&(e.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},r}(F.Ss);const S0=C0;var T0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),O0=function(a){function r(t){var e=a.call(this,t)||this,n=e.collection,o=t.config||{},l=o.em,h=o.stylePrefix||"",v=o.pStylePrefix||"";e.config=o,e.pfx=h,e.ppfx=v,e.propertyView=t.propertyView,e.className="".concat(h,"layers ").concat(v,"field"),e.listenTo(n,"add",e.addTo),e.listenTo(n,"reset",e.reset),e.items=[];var j=e.createPlaceholder(o.pStylePrefix);e.$el.append(j);var S=l?.Utils;return e.sorter=S?new S.StyleManagerSorter({em:l,containerContext:{container:e.el,containerSel:".".concat(h,"layers"),itemSel:".".concat(h,"layer"),pfx:o.pStylePrefix,document,placeholderElement:j},dragBehavior:{dragDirection:ro.A.Vertical,nested:!1}}):void 0,n.view=e,e.$el.data("model",n),e.$el.data("collection",n),e}return T0(r,a),r.prototype.addTo=function(t){var e=this.collection.indexOf(t);this.addToCollection(t,null,e)},r.prototype.addToCollection=function(t,e,n){var o=e||null,l=this,S=l.$el,Y=new S0({model:t,config:l.config,sorter:l.sorter,propertyView:l.propertyView}),lt=Y.render().el;if(this.items.push(Y),o)o.appendChild(lt);else if(void 0!==n){var xt="before";S.children().length===n&&(n--,xt="after"),n<0?S.append(lt):S.children().eq(n)[xt](lt)}else S.append(lt);return lt},r.prototype.reset=function(t,e){this.clearItems(),this.render()},r.prototype.remove=function(){return this.clearItems(),F.Ss.prototype.remove.apply(this,arguments),this},r.prototype.clearItems=function(){this.items.forEach(function(t){return t.remove()}),this.items=[]},r.prototype.render=function(){var t=this,e=this.$el,n=document.createDocumentFragment();return e.empty(),this.collection.forEach(function(o){return t.addToCollection(o,n)}),e.append(n),e.attr("class",this.className),this},r.prototype.createPlaceholder=function(t){var e=document.createElement("div"),n=document.createElement("div");return e.className=t+"placeholder",e.style.display="none",e.style.pointerEvents="none",n.className=t+"placeholder-int",e.appendChild(n),e},r}(F.Ss);const k0=O0;var A0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zc=function(){return Zc=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Zc.apply(this,arguments)},E0=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return A0(r,a),r.prototype.events=function(){return Zc(Zc({},Iu.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},r.prototype.templateInput=function(){var t=this.pfx,e=this.em,n=e?.getConfig().icons,o=n?.plus||"+";return'\n      <div class="'.concat(t,"field ").concat(t,'stack">\n        <button type="button" id="').concat(t,'add" data-add-layer>\n          ').concat(o,"\n        </button>\n        <div data-layers-wrapper></div>\n      </div>\n    ")},r.prototype.init=function(){var t=this.model;this.listenTo(t.layers,"change reset",this.updateStatus),this.listenTo(t,"change:isEmptyValue",this.updateStatus)},r.prototype.addLayer=function(){this.model.addLayer({},{at:0})},r.prototype.setValue=function(){},r.prototype.remove=function(){var t;return null===(t=this.layersView)||void 0===t||t.remove(),Iu.prototype.remove.apply(this,arguments),this},r.prototype.clearCached=function(){Iu.prototype.clearCached.apply(this,arguments),delete this.layersView},r.prototype.onRender=function(){var t=this,e=t.model,n=t.el,o=t.config,l=e.get("properties");if(l.length&&!this.props){var h=new bp({config:Zc(Zc({},o),{highlightComputed:!1,highlightChanged:!1}),collection:l,parent:this});h.render();var v=new k0({collection:e.layers,config:o,propertyView:this});v.render(),n.querySelector("[data-layers-wrapper]").appendChild(v.el),this.props=h,this.layersView=v}},r}(Iu);const j0=E0;var D0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gd=function(){return Gd=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Gd.apply(this,arguments)},I0=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return D0(r,a),r.prototype.events=function(){return Gd(Gd({},Ks.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},r.prototype.templateInput=function(){var t,e=this.pfx,n=this.em,o=null===(t=this.em)||void 0===t?void 0:t.getConfig().icons,l=o?.close;return'\n      <div class="'.concat(e,"field ").concat(e,"file\">\n        <div id='").concat(e,"input-holder'>\n          <div class=\"").concat(e,'btn-c">\n            <button class="').concat(e,'btn" id="').concat(e,'images" type="button" data-open-assets>\n              ').concat(n.t("styleManager.fileButton"),'\n            </button>\n          </div>\n          <div style="clear:both;"></div>\n        </div>\n        <div id="').concat(e,'preview-box" class="').concat(e,'preview-file" data-preview-box>\n          <div id="').concat(e,'preview-file" class="').concat(e,'preview-file-cnt" data-preview></div>\n          <div id="').concat(e,'close" class="').concat(e,'preview-file-close" data-clear-asset>').concat(l,"</div>\n        </div>\n      </div>\n    ")},r.prototype.__setValueInput=function(t){var e=this.model,n=this.el,o=e.getDefaultValue(),l=n.querySelector("[data-preview-box]"),h=n.querySelector("[data-preview]");l.style.display=t&&t!==o?"":"none",h.style.backgroundImage=t||e.getDefaultValue()},r.prototype.openAssetManager=function(){var t,e=this,n=null===(t=this.em)||void 0===t?void 0:t.Assets;n?.open({select:function(o,l){var h=(0,R.isString)(o)?o:o.get("src");e.model.upValue(h,{partial:!l}),l&&n.close()},types:["image"],accept:"image/*"})},r}(Ks);const P0=I0;var N0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),L0=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return N0(r,a),r.prototype.templateInput=function(t){return""},r.prototype.init=function(){var t=this.model;this.listenTo(t,"change:unit",this.onValueChange),this.listenTo(t,"change:units",this.render)},r.prototype.setValue=function(t){},r.prototype.onRender=function(){var t=this,e=t.ppfx,o=t.el;if(!this.inputInst){var l=t.model.input;l.ppfx=e,l.render(),o.querySelector(".".concat(e,"fields")).appendChild(l.el),this.input=l.inputEl.get(0),this.inputInst=l}},r.prototype.clearCached=function(){Ks.prototype.clearCached.apply(this,arguments),this.inputInst=null},r}(Ks);const $s=L0;var F0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),M0=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return F0(r,a),r.prototype.setValue=function(t){var e;null===(e=this.inputInst)||void 0===e||e.setValue(t,{fromTarget:1,def:this.model.getDefaultValue()})},r.prototype.remove=function(){var t=this;$s.prototype.remove.apply(this,arguments);var e=this.inputInst;return e&&e.remove&&e.remove(),["inputInst","$color"].forEach(function(n){return t[n]=null}),this},r.prototype.__handleChange=function(t,e){this.model.upValue(t,{partial:e})},r.prototype.onRender=function(){var t;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var e=this,n=e.ppfx,h=e.el,v=new Qp({target:e.em,model:e.model,ppfx:n,onChange:this.__handleChange}).render();h.querySelector(".".concat(n,"fields")).appendChild(v.el),this.input=null===(t=v.inputEl)||void 0===t?void 0:t.get(0),this.inputInst=v}},r}($s);const R0=M0;var H0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yd=function(){return Yd=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Yd.apply(this,arguments)},og=function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))},B0=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return H0(r,a),r.prototype.defaults=function(){return Yd(Yd({},zo.getDefaults()),{options:[],full:0})},r.prototype.getOptions=function(){var t=this.attributes,e=t.options;return(e&&e.length?e:t.list)||[]},r.prototype.getOption=function(t){var e=this,n=(0,at.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(o){return e.getOptionId(o)===n})[0]||null},r.prototype.setOptions=function(t){return void 0===t&&(t=[]),this.set("options",t),this},r.prototype.addOption=function(t){if(t){var e=this.getOptions();this.setOptions(og(og([],e,!0),[t],!1))}return this},r.prototype.getOptionId=function(t){return(0,at.isDef)(t.id)?t.id:t.value},r.prototype.getOptionLabel=function(t,e){var n;void 0===e&&(e={});var o=e.locale,l=void 0===o||o,h=((0,R.isString)(t)?this.getOption(t):t)||{},v=this.getOptionId(h),j=h.label||h.name||v,S=e.property||this.getId();return l&&(null===(n=this.em)||void 0===n?void 0:n.t("styleManager.options.".concat(S,".").concat(v)))||j},r.prototype.initialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];zo.prototype.initialize.apply(this,t),this.listenTo(this,"change:options",this.__onOptionChange)},r.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},r}(zo);const wp=B0;var V0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();const ig=function(a){function r(t){var e=a.call(this,t)||this;return e.listenTo(e.model,"change:options",e.updateOptions),e}return V0(r,a),r.prototype.templateInput=function(){var t=this.pfx,e=this.ppfx;return'\n      <div class="'.concat(e,"field ").concat(e,'select">\n        <span id="').concat(t,'input-holder"></span>\n        <div class="').concat(e,'sel-arrow">\n          <div class="').concat(e,'d-s-arrow"></div>\n        </div>\n      </div>\n    ')},r.prototype.updateOptions=function(){delete this.input,this.onRender()},r.prototype.onRender=function(){var t=this.pfx,e=this.model,n=e.getOptions();if(!this.input){var o=[];n.forEach(function(h){var v=e.getOptionId(h),j=e.getOptionLabel(v),S=h.style?h.style.replace(/"/g,"&quot;"):"",Y=S?'style="'.concat(S,'"'):"",lt=v.replace(/"/g,"&quot;");o.push('<option value="'.concat(lt,'" ').concat(Y,">").concat(j,"</option>"))});var l=this.el.querySelector("#".concat(t,"input-holder"));l.innerHTML="<select>".concat(o.join(""),"</select>"),this.input=l.firstChild}},r.prototype.__setValueInput=function(t){var e=this.model,n=this.getInputEl(),o=e.getOptions()[0],l=o?e.getOptionId(o):"";n&&(n.value=t||l)},r}(Ks);var z0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xd=function(){return Xd=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Xd.apply(this,arguments)};const U0=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return z0(r,a),r.prototype.defaults=function(){return Xd(Xd({},wp.getDefaults()),{full:1})},r}(wp);var W0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),q0=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return W0(r,a),r.prototype.templateInput=function(){var t=this.ppfx;return'<div class="'.concat(t,"field ").concat(t,'field-radio"></div>')},r.prototype.onRender=function(){var t=this.pfx,e=this.ppfx,n=this.model,o="".concat(e,"radio-item-label"),l=n.getName(),h=n.getOptions(),v="".concat(t,"radio ").concat(t,"radio-").concat(l),j=n.cid;if(!this.input){var S=[];h.forEach(function(lt){var xt=lt.className?"".concat(lt.className," ").concat(t,"icon ").concat(o):"",Ft=n.getOptionId(lt),Bt="".concat(l,"-").concat(Ft,"-").concat(j),te=xt?"":n.getOptionLabel(Ft),Vt=lt.title?'title="'.concat(lt.title,'"'):"",ke=n.getValue()===Ft?"checked":"";S.push('\n          <div class="'.concat(e,'radio-item">\n            <input type="radio" class="').concat(v,'" id="').concat(Bt,'" name="').concat(l,"-").concat(j,'" value="').concat(Ft,'" ').concat(ke,'/>\n            <label class="').concat(xt||o,'" ').concat(Vt,' for="').concat(Bt,'">').concat(te,"</label>\n          </div>\n        "))});var Y=this.el.querySelector(".".concat(e,"field"));Y.innerHTML='<div class="'.concat(e,'radio-items">').concat(S.join(""),"</div>"),this.input=Y.firstChild}},r.prototype.__setValueInput=function(t){var e,o=t||this.model.getDefaultValue(),l=null===(e=this.getInputEl())||void 0===e?void 0:e.querySelector('[value="'.concat(o,'"]'));l&&(l.checked=!0)},r}(ig);const K0=q0;var $0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),ic=function(){return ic=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},ic.apply(this,arguments)},G0=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return $0(r,a),r.prototype.defaults=function(){return ic(ic({},zo.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},r.prototype.getUnits=function(){return this.get("units")||[]},r.prototype.getUnit=function(){return this.get("unit")},r.prototype.getMin=function(){return this.get("min")},r.prototype.getMax=function(){return this.get("max")},r.prototype.getStep=function(){return this.get("step")},r.prototype.upUnit=function(t,e){return void 0===e&&(e={}),this._up({unit:t},e)},r.prototype.initialize=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),zo.callParentInit(zo,this,t,e);var n=this.get("unit"),o=this.getUnits();this.input=(0,at.hasWin)()?new eh({model:this}):void 0,o.length&&!n&&this.set("unit",o[0],{silent:!0}),zo.callInit(this,t,e)},r.prototype.__getClearProps=function(){return ic(ic({},zo.prototype.__getClearProps()),{unit:""})},r.prototype.parseValue=function(t,e){void 0===e&&(e={});var n=zo.prototype.parseValue.apply(this,arguments),o=this.input.validateInputValue(n.value,ic({deepCheck:1},e)),h=o.unit;return n.value=o.value,n.unit=h,n},r.prototype.getFullValue=function(){var t=this.get("value"),e=this.get("unit"),n=(0,R.isUndefined)(t)?"":"".concat(t),o=!(0,R.isUndefined)(e)&&n?e:"",l="".concat(n).concat(o);return zo.prototype.getFullValue.apply(this,[l])},r}(zo);const Zd=G0;var Y0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jd=function(){return Jd=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Jd.apply(this,arguments)};const X0=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Y0(r,a),r.prototype.defaults=function(){return Jd(Jd({},Zd.getDefaults()),{showInput:1})},r}(Zd);var Z0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qd=function(){return Qd=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Qd.apply(this,arguments)};const J0=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return Z0(r,a),r.prototype.events=function(){return Qd(Qd({},$s.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},r.prototype.templateInput=function(t){var e=this.ppfx;return'\n      <div class="'.concat(e,"field ").concat(e,'field-range">\n        <input type="range" min="').concat(t.get("min"),'" max="').concat(t.get("max"),'" step="').concat(t.get("step"),'"/>\n      </div>\n    ')},r.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},r.prototype.inputValueChanged=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value)},r.prototype.inputValueChangedSoft=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},r.prototype.setValue=function(t){var e=this.model,n=e.parseValue(t);this.getSliderEl().value=""===t?e.getDefaultValue():parseFloat(n.value),$s.prototype.setValue.apply(this,arguments)},r.prototype.onRender=function(){$s.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},r.prototype.clearCached=function(){$s.prototype.clearCached.apply(this,arguments),delete this.slider},r}($s),xp=F.pM.extend(wh).extend({extendViewApi:1,init:function(){var r=this.em,t=this.opts.module||r?.get("StyleManager");t&&(t.__listenAdd(this,t.events.propertyAdd),t.__listenRemove(this,t.events.propertyRemove))},types:[{id:"stack",model:p0,view:j0,isType:function(a){if(a&&"stack"==a.type)return a}},{id:"composite",model:Xc,view:Iu,isType:function(a){if(a&&"composite"==a.type)return a}},{id:"file",model:zo,view:P0,isType:function(a){if(a&&"file"==a.type)return a}},{id:"color",model:zo,view:R0,isType:function(a){if(a&&"color"==a.type)return a}},{id:"select",model:wp,view:ig,isType:function(a){if(a&&"select"==a.type)return a}},{id:"radio",model:U0,view:K0,isType:function(a){if(a&&"radio"==a.type)return a}},{id:"slider",model:X0,view:J0,isType:function(a){if(a&&"slider"==a.type)return a}},{id:"integer",model:Zd,view:$s,isType:function(a){if(a&&"integer"==a.type)return a}},{id:"number",model:Zd,view:$s,isType:function(a){if(a&&"number"==a.type)return a}},{id:"base",model:zo,view:Ks,isType:function(a){return a.type="base",a}}]});var Q0=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),tf=function(){return tf=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},tf.apply(this,arguments)},n_=function(a){function r(t,e){void 0===e&&(e={});var n=a.call(this,t)||this,o=e.em;n.em=o;var h=n.buildProperties((t||{}).buildProps),v=n.get("name")||"",j=[];!n.get("id")&&n.set("id",v.replace(/ /g,"_").toLowerCase()),j=(j=h?n.extendProperties(h):n.get("properties").map(function(Y){return(0,R.isString)(Y)?n.buildProperties(Y)[0]:Y}).filter(Boolean)).map(function(Y){return n.checkExtend(Y)});var S=new xp(j,{em:o});return S.sector=n,n.set("properties",S),n}return Q0(r,a),r.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(r.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),r.prototype.getId=function(){return this.get("id")},r.prototype.getName=function(){var t,e=this.getId();return(null===(t=this.em)||void 0===t?void 0:t.t("styleManager.sectors.".concat(e)))||this.get("name")},r.prototype.setName=function(t){return this.set("name",t)},r.prototype.isOpen=function(){return!!this.get("open")},r.prototype.setOpen=function(t){return this.set("open",t)},r.prototype.isVisible=function(){return!!this.get("visible")},r.prototype.getProperties=function(t){void 0===t&&(t={});var e=this.properties;return(e.models?function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))}([],e.models,!0):e).filter(function(n){var o=!0;return t.withValue&&(o=n.hasValue({noParent:!0})),t.withParentValue&&(o=!n.hasValue({noParent:!0})&&n.hasValue()),o})},r.prototype.getProperty=function(t){return this.getProperties().filter(function(e){return e.get("id")===t})[0]||void 0},r.prototype.addProperty=function(t,e){return this.properties.add(this.checkExtend(t),e)},r.prototype.extendProperties=function(t,e,n){void 0===n&&(n=!1);for(var o=t.length,l=e||this.get("properties"),h=this.get("extendBuilded"),v=[],j=0,S=l.length;j<S;j++){for(var Y=l[j],lt=0,xt=0;xt<o;xt++){var Ft=t[xt];if(Y.property==Ft.property||Y.id==Ft.property){var Bt=Y.properties;Bt&&Bt.length&&(Y.properties=this.extendProperties(Ft.properties||[],Bt,1)),t[xt]=h?(0,R.extend)(Ft,Y):Y,v[xt]=t[xt],lt=1}}lt||(t.push(Y),v.push(Y))}return n?v.filter(function(te){return te}):t},r.prototype.checkExtend=function(t){var e=((0,R.isString)(t)?{extend:t}:t)||{},n=e.extend,o=function(a,r){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&r.indexOf(e)<0&&(t[e]=a[e]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(e=Object.getOwnPropertySymbols(a);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(a,e[n])&&(t[e[n]]=a[e[n]])}return t}(e,["extend"]);return n?tf(tf({},this.buildProperties([n])[0]||{}),o):t},r.prototype.buildProperties=function(t){var e,n=t||[];if(!n.length)return[];var o=null===(e=this.em)||void 0===e?void 0:e.Styles.builtIn;return o?.build(n)},r}(F.Kx);const ag=n_;var r_=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),ef=function(){return ef=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},ef.apply(this,arguments)};const o_=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return r_(r,a),r.prototype.initialize=function(t,e){void 0===e&&(e={});var n=e.module;this.em=e.em,this.module=n,this.listenTo(this,"reset",this.onReset)},r.prototype.model=function(t,e){void 0===e&&(e={});var n=e.collection.em;return new ag(t,ef(ef({},e),{em:n}))},r.prototype.onReset=function(t,e){void 0===e&&(e={}),(e.previousModels||[]).forEach(function(n){return n.get("properties").reset()})},r}(F.pM);var bl=function(){return bl=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},bl.apply(this,arguments)},ac=function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))},Ii=function(a){return a.map(function(r){return{id:r}})},a_=function(){function a(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var r=", sans-serif",t=["flex-start","flex-end","center"],e=ac(ac([],t,!0),["baseline","stretch"],!1);this.optsBgSize=Ii(["auto","cover","contain"]),this.optsBgAttach=Ii(["scroll","fixed","local"]),this.optsBgRepeat=Ii(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=Ii(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=Ii(["visible","hidden","scroll","auto"]),this.optsDir=Ii(["row","row-reverse","column","column-reverse"]),this.opstDisplay=Ii(["block","inline","inline-block","flex","none"]),this.optsTransitFn=Ii(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=Ii(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=Ii(["none","left","right"]),this.optsPos=Ii(["static","relative","absolute","fixed"]),this.optsTextAlign=Ii(["left","center","right","justify"]),this.optsFlexAlign=Ii(e),this.optsJustCont=Ii(ac(ac([],t,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=Ii(ac(ac([],t,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=Ii(ac(["auto"],e,!0)),this.optsTransitProp=Ii(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=Ii(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=Ii(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+r,"Arial Black, Gadget"+r,"Brush Script MT"+r,"Comic Sans MS, cursive"+r,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+r,"Impact, Charcoal"+r,"Lucida Sans Unicode, Lucida Grande"+r,"Tahoma, Geneva"+r,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+r,"Verdana, Geneva"+r].map(function(n){return{id:n,label:n.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return a.prototype.__sub=function(r){var t=this;return function(){return r.map(function(e){if((0,R.isString)(e))return t.get(e);var n=e.extend,o=function(a,r){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&r.indexOf(e)<0&&(t[e]=a[e]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(e=Object.getOwnPropertySymbols(a);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(a,e[n])&&(t[e[n]]=a[e[n]])}return t}(e,["extend"]);return bl(bl({},t.get(n)),o)})}},a.prototype.init=function(){var r=this,t=this,e=t.fixedValues,n=t.requireFlex,o=t.typeNumber;return this.props={},[["text-shadow-h",{type:o,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:e},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:n},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:o,default:"0",requiresParent:n}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:n},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:n},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(h,v){var j=v.values,Y=j["box-shadow-v"],lt=j["box-shadow-blur"],xt=j["box-shadow-spread"];return"".concat(j["box-shadow-h"]," ").concat(Y," ").concat(lt," ").concat(xt)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(h,v){var j=v.values,Y=j["text-shadow-v"],lt=j["text-shadow-blur"];return"".concat(j["text-shadow-h"]," ").concat(Y," ").concat(lt)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(h,v){var j=v.values;return[j["background-repeat-sub"]||"",j["background-position-sub"]||"",j["background-attachment-sub"]||"",j["background-size-sub"]||""].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(h,v){var j=v.property,S=h[v.name]||"",Y=j.getLayerSeparator();return S?S.split(Y).map(function(lt){var xt=j.__parseFn(lt);return{"transform-type":xt.name,"transform-value":xt.value}}):[]},toStyle:function(h,v){var j;return(j={})[v.name]="".concat(h["transform-type"],"(").concat(h["transform-value"],")"),j},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(h){var v=h.property;if(h.to.value){var j=v.getOption(),S=bl({},j.propValue||{}),Y=v.getParent().getProperty("transform-value"),lt=Y.getUnit();(!lt||S?.units.indexOf(lt)<0)&&(S.unit=S?.units[0]||""),Y.up(S)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]].forEach(function(h){r.add(h[0],h[1]||{},{from:h[2]})}),this},a.prototype.add=function(r,t,e){void 0===t&&(t={}),void 0===e&&(e={});var l=bl(bl(bl({},this.props[e.from||r]||{}),{property:r}),t);return l.properties&&(0,R.isFunction)(l.properties)&&(l.properties=l.properties()),this.props[r]=l,l},a.prototype.get=function(r){return this.props[r]},a.prototype.build=function(r){var t=this,e=[];return((0,R.isString)(r)?[r]:r).forEach(function(n){e.push(t.get(n)||{property:n})}),e},a}();const s_=a_;var l_=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),u_=function(a){function r(t){var e=a.call(this,t)||this,n=t.config||{},o=e.model,l=n.em;return e.config=n,e.em=l,e.pfx=n.stylePrefix||"",e.listenTo(o,"destroy remove",e.remove),e.listenTo(o,"change:open",e.updateOpen),e.listenTo(o,"change:visible",e.updateVisibility),e}return l_(r,a),r.prototype.template=function(t){var e,n=t.pfx,o=t.label,l=null===(e=this.em)||void 0===e?void 0:e.getConfig().icons,h=l?.caret||"",v="".concat(n,"sector-");return ct(sg||(sg=function(a,r){return Object.defineProperty?Object.defineProperty(a,"raw",{value:r}):a.raw=r,a}(['\n      <div class="','title" data-sector-title>\n        <div class="','caret">$','</div>\n        <div class="','label">',"</div>\n      </div>\n    "],['\n      <div class="','title" data-sector-title>\n        <div class="','caret">$','</div>\n        <div class="','label">',"</div>\n      </div>\n    "])),v,v,h,v,o)},r.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},r.prototype.updateOpen=function(){var t=this,e=t.$el,o=t.pfx,l=t.model.isOpen();e[l?"addClass":"removeClass"]("".concat(o,"open")),this.getPropertiesEl().style.display=l?"":"none"},r.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},r.prototype.getPropertiesEl=function(){return this.$el.find(".".concat(this.pfx,"properties")).get(0)},r.prototype.toggle=function(){var t=this.model;t.setOpen(!t.get("open"))},r.prototype.renderProperties=function(){var e=this.config,n=this.model.get("properties");if(n){var o=new bp({collection:n,config:e});this.$el.append(o.render().el)}},r.prototype.render=function(){var t=this,e=t.pfx,n=t.model,o=t.$el,l=n.getId(),h=n.getName();return o.html(this.template({pfx:e,label:h})),this.renderProperties(),o.attr("class","".concat(e,"sector ").concat(e,"sector__").concat(l," no-select")),this.updateOpen(),this},r}(F.Ss);const d_=u_;var sg,f_=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),p_=function(a){function r(t){void 0===t&&(t={});var e=a.call(this,t)||this,n=t.module,o=t.config,l=e.collection;return e.pfx=o?.stylePrefix||"",e.ppfx=o?.pStylePrefix||"",e.config=o,e.module=n,e.listenTo(l,"add",e.addTo),e.listenTo(l,"reset",e.render),e}return f_(r,a),r.prototype.remove=function(){var t=this;return F.Ss.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(e){return t[e]={}}),this},r.prototype.addTo=function(t,e,n){void 0===n&&(n={}),this.addToCollection(t,null,n)},r.prototype.addToCollection=function(t,e,n){void 0===n&&(n={});var h=e||this.el,v=new d_({model:t,config:this.config}).render().el;return(0,kt.Sc)(h,v,n.at),v},r.prototype.render=function(){var t=this,e=this,n=e.$el,o=e.pfx,l=e.ppfx;n.empty();var h=document.createDocumentFragment();return this.collection.each(function(v){return t.addToCollection(v,h)}),n.append(h),n.addClass("".concat(o,"sectors ").concat(l,"one-bg ").concat(l,"two-color")),this},r}(F.Ss);const h_=p_;var g_=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),wl=function(){return wl=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},wl.apply(this,arguments)},lg=function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))},Pu="".concat("style",":"),Cp="".concat(Pu,"sector"),v_="".concat(Cp,":add"),m_="".concat(Cp,":remove"),y_="".concat(Cp,":update"),Sp="".concat(Pu,"property"),__="".concat(Sp,":add"),b_="".concat(Sp,":remove"),w_="".concat(Sp,":update"),ug="".concat(Pu,"layer:select"),Tp="".concat(Pu,"target"),x_="".concat(Pu,"custom"),dg=function(a){return a||0===a},C_={all:"style",sectorAdd:v_,sectorRemove:m_,sectorUpdate:y_,propertyAdd:__,propertyRemove:b_,propertyUpdate:w_,layerSelect:ug,target:Tp,custom:x_},S_=function(a){function r(t){var e=a.call(this,t,"StyleManager",new o_([],{em:t}),C_,{sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]})||this;e.Sector=ag,e.storageKey="",(0,R.bindAll)(e,"__clearStateTarget");var n=e.config,o=n.pStylePrefix;o&&(n.stylePrefix=o+n.stylePrefix),e.builtIn=new s_,e.properties=new xp([],{em:t,module:e}),e.sectors=e.all;var l=new F.Kx({targets:[]});e.model=l;var v="component:toggled ".concat(Se.I.update,":classes change:state change:device frame:resized selector:type");e.upAll=(0,R.debounce)(function(){return e.__upSel()},0),l.listenTo(t,v,e.upAll),l.listenTo(t,"component:toggled",e.__clearStateTarget);var j=(0,R.debounce)(function(){e.__upProps(),e.__trgCustom()},0);l.listenTo(t,"styleable:change undo redo",j);var S=(0,R.debounce)(function(){return e.__trgCustom()},0);return l.listenTo(t,"".concat(ug," ").concat(Tp),S),l.on("change:lastTarget",function(){return t.trigger(Tp,e.getSelected())}),e}return g_(r,a),r.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},r.prototype.__trgCustom=function(t){void 0===t&&(t={}),this.__ctn=this.__ctn||t.container,this.em.trigger(this.events.custom,{container:this.__ctn})},r.prototype.__trgEv=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(e=this.em).trigger.apply(e,lg([t],n,!1))},r.prototype.__clearStateTarget=function(){var t=this,e=this.em,n=this.__getStateTarget();n&&e?.skip(function(){e.Css.remove(n),t.model.set({stateTarget:null})})},r.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},r.prototype.postRender=function(){this.__appendTo()},r.prototype.addSector=function(t,e,n){void 0===n&&(n={});var o=this.getSector(t);return o||(e.id=t,o=this.sectors.add(e,n)),o},r.prototype.getSector=function(t,e){void 0===e&&(e={});var n=this.sectors.where({id:t})[0];return!n&&e.warn&&this._logNoSector(t),n||null},r.prototype.getSectors=function(t){void 0===t&&(t={});var e=this.sectors,n=e&&e.models?t.array?lg([],e.models,!0):e:[];return t.visible?n.filter(function(o){return o.isVisible()}):n},r.prototype.removeSector=function(t){return this.getSectors().remove(this.getSector(t,{warn:!0}))},r.prototype.addProperty=function(t,e,n){void 0===n&&(n={});var o,l=this.getSector(t,{warn:!0});return l&&(o=l.addProperty(e,n)),o},r.prototype.getProperty=function(t,e){var n,o=this.getSector(t,{warn:!0});return o&&(n=o.properties.filter(function(l){return l.get("property")===e||l.get("id")===e})[0]),n},r.prototype.getProperties=function(t){var e,n=this.getSector(t,{warn:!0});return n&&(e=n.properties),e},r.prototype.removeProperty=function(t,e){var n=this.getProperties(t);return n?n.remove(this.getProperty(t,e)):null},r.prototype.select=function(t,e){var n=this;void 0===e&&(e={});var o=this.em,l=(0,R.isArray)(t)?t:[t],h=e.stylable,v=o.Css,j=[];l.filter(Boolean).forEach(function(Bt){var te=Bt;if((0,R.isString)(Bt)){var Vt=v.getRule(Bt)||v.setRule(Bt);!(0,R.isUndefined)(h)&&Vt.set({stylable:h}),te=Vt}j.push(te)});var S=e.component||j.filter(function(Bt){return(0,at.isComponent)(Bt)}).reverse()[0];j=j.map(function(Bt){return n.getModelToStyle(Bt)});var Y=o.getState(),lt=j.slice().reverse()[0],xt=this.getParentRules(lt,{state:Y,component:S}),Ft=this.__getStateTarget();return o.skip(function(){var Bt;if(Y&&null!==(Bt=lt?.getState)&&void 0!==Bt&&Bt.call(lt)){var te=lt.getStyle();Ft?Ft.setStyle(te):Ft=v.getAll().add({selectors:"gjs-selected",style:te,shallow:!0,important:!0})}else Ft&&(v.remove(Ft),Ft=void 0)}),this.model.set({targets:j,lastTarget:lt,lastTargetParents:xt,stateTarget:Ft,component:S}),this.__upProps(e),j},r.prototype.getSelected=function(){return this.model.get("lastTarget")},r.prototype.getSelectedAll=function(){return this.model.get("targets")},r.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},r.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},r.prototype.addStyleTargets=function(t,e){this.getSelectedAll().map(function(l){return l.addStyle(t,e)});var n=this.getSelected();n&&this.__emitCmpStyleUpdate(t);var o=this.__getStateTarget();n&&o?.setStyle(n.getStyle(),e)},r.prototype.getBuiltIn=function(t){return this.builtIn.get(t)},r.prototype.getBuiltInAll=function(){return this.builtIn.props},r.prototype.addBuiltIn=function(t,e){return this.builtIn.add(t,e)},r.prototype.getModelToStyle=function(t,e){void 0===e&&(e={});var n=this.em,o=e.skipAdd;if(n&&t?.toHTML){var l=n.getConfig(),h=n.UndoManager,v=n.Css,j=n.Selectors,S=j?j.getConfig():{},Y=l.devicePreviewMode?"":n.get("state"),lt=t.get("classes").getStyleable(),xt=lt.length,Ft=!S.componentFirst||e.useClasses,Bt={noCount:1},te={state:Y,addOpts:Bt};h.skip(function(){var Vt;if(xt&&Ft){var ke=n.getCurrentMedia();(Vt=v.get(lt,Y,ke))||o||(Vt=v.add(lt,Y,ke,{},Bt))}else if(l.avoidInlineStyle){var ze=t.getId();!(Vt=v.getIdRule(ze,te))&&!o&&(Vt=v.setIdRule(ze,{},te)),t.is("wrapper")&&Vt.set("wrapper",1,Bt)}Vt&&(t=Vt)})}return t},r.prototype.getParentRules=function(t,e){var n=void 0===e?{}:e,o=n.state,h=this.em,v=[];if(h&&t){var j=n.component,S=h.Css,Y=h.CodeManager.getGenerator("css"),lt=t.toHTML?t:t.getComponent(),xt={array:!0},Ft=[],Bt=[],te=[],Vt=[],ke=function(_n){return _n.length?S.getRules().filter(function(An){var er=An.getSelectors().map(function(Un){return Un.getFullName()});return 0!==er.length&&er.every(function(Un){return _n.indexOf(Un)>=0})}):[]},ze=function(_n){return _n?S.getRules().filter(function(An){return An.selectorsToString()===_n}):[]};lt?(Ft=S.getRules("#".concat(lt.getId())),Bt=ze(lt.get("tagName")),Vt=(j?ke(j.getSelectors().getFullName(xt)):[]).concat(Bt).concat(Ft)):(Ft=j?S.getRules("#".concat(j.getId())):[],Bt=ze(j?.get("tagName")||""),te=ke((j?.getSelectors().getFullName(xt)||[]).filter(function(_n){return-1===t.getSelectors().getFullName(xt).findIndex(function(An){return An===_n})}).concat(t.getSelectors().getFullName(xt))),Vt=Bt.concat(Ft).concat(te));var on=Vt.filter(function(_n){return(0,R.isUndefined)(o)?1:_n.get("state")===o}).sort(Y.sortRules).reverse();v=on.slice(on.indexOf(t)+1)}return v},r.prototype.addType=function(t,e){this.properties.addType(t,e)},r.prototype.getType=function(t){return this.properties.getType(t)},r.prototype.getTypes=function(){return this.properties.getTypes()},r.prototype.createType=function(t,e){var n=void 0===e?{}:e,o=n.model,l=void 0===o?{}:o,h=n.view,v=void 0===h?{}:h,j=this.config,S=this.getType(t);if(S)return new S.view(wl({model:new S.model(l),config:j},v))},r.prototype.render=function(){var t=this,o=t.SectView;return this.SectView=new h_({el:o&&o.el,em:t.em,config:t.config,module:this,collection:this.sectors}),this.SectView.render().el},r.prototype._logNoSector=function(t){var e=this.em;e&&e.logWarning("'".concat(t,"' sector not found"))},r.prototype.__emitCmpStyleUpdate=function(t,e){void 0===e&&(e={});var n=this.em;if(!t.__p){var o=this.getSelectedAll(),l=e.components||n.getSelectedAll(),h=Array.isArray(l)?l:[l],v=wl({},t);delete v.__p,h.forEach(function(j){return!o.includes(j)&&j.__onStyleChange(v)})}},r.prototype.__upProps=function(t){var e=this;void 0===t&&(t={});var n=this.getSelected();if(n){var o=this.sectors,l=this.model.get("component"),h=this.getSelectedParents(),v=n.getStyle(),j=h.map(function(S){return{target:S,style:S.getStyle()}});o.map(function(S){S.getProperties().map(function(Y){e.__upProp(Y,v,j,t)})}),o.forEach(function(S){var Y=S.getProperties();Y.forEach(function(xt){var Ft=xt.__checkVisibility({target:n,component:l,sectors:o});xt.set("visible",Ft)});var lt=Y.some(function(xt){return xt.isVisible()});S.set("visible",lt)})}},r.prototype.__upProp=function(t,e,n,o){var l=this,h=t.getName(),v=e[h],j=dg(v),S="stack"===t.getType(),Y="composite"===t.getType(),lt=wl(wl({},o),{__up:!0}),xt=!Y&&!S,Ft=t,Bt=t,te=S?Ft.__getLayersFromStyle(e):[],Vt=Y?Bt.__getPropsFromStyle(e):{},ke=j?v:null,ze=null;if(S&&null===te||Y&&null===Vt){var on=S?"__getLayersFromStyle":"__getPropsFromStyle";if(An=n.filter(function(xr){return null!==Ft[on](xr.style)})[0]){ke=An.style[h],ze=An.target;var _n=Ft[on](An.style);S?te=_n:Vt=_n}}else if(!j){var An;ke=null,(An=n.filter(function(xr){return dg(xr.style[h])})[0])&&(ke=An.style[h],ze=An.target)}if(t.__setParentTarget(ze),xt&&t.__getFullValue()!==ke&&t.upValue(ke,lt),S&&Ft.__setLayers(te||[],{isEmptyValue:Ft.isEmptyValueStyle(e)}),Y){var er=Bt.getProperties();if(Bt.isDetached()){var Un=Bt.__getPropsFromStyle(e,{byName:!0})||{},mr=n.map(function(xr){return wl(wl({},xr),{style:Bt.__getPropsFromStyle(xr.style,{byName:!0})||{}})});er.map(function(xr){return l.__upProp(xr,Un,mr,o)})}else Bt.__setProperties(Vt||{},lt),Bt.getProperties().map(function(xr){return xr.__setParentTarget(ze)})}},r.prototype.destroy=function(){var t;[this.properties,this.sectors].forEach(function(e){e.reset(),e.stopListening()}),null===(t=this.SectView)||void 0===t||t.remove(),this.model.stopListening(),this.upAll.cancel()},r}(st);const T_=S_;var O_=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),nf=function(){return nf=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},nf.apply(this,arguments)};const k_=function(a){function r(t,e){var n=a.call(this,t,e)||this;return n.em=e,n.model=function(o,l){return void 0===l&&(l={}),new fu(o,nf(nf({},l),{em:e}))},n}return O_(r,a),r}(F.pM);var A_=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),E_=function(a){function r(t){var e=a.call(this,t,"DataSources",new k_([],t),Bn)||this;return e.storageKey="dataSources",e.events=Bn,Object.assign(e,pt.Events),e}return A_(r,a),r.prototype.destroy=function(){},r.prototype.add=function(t,e){void 0===e&&(e={});var n=this.all;return t.id=t.id||this._createId(),n.add(t,e)},r.prototype.get=function(t){return this.all.get(t)},r.prototype.getValue=function(t,e){return(0,at.get)(this.getContext(),t,e)},r.prototype.getContext=function(){return this.all.reduce(function(t,e){return t[e.id]=e.records.reduce(function(n,o,l){return n[o.id||l]=o.attributes,n},{}),t},{})},r.prototype.remove=function(t,e){return this.__remove(t,e)},r.prototype.fromPath=function(t){var e=[],n=(0,at.stringToPath)(t||""),o=n[0],l=n[1],h=n.slice(2),v=this.get(o),j=v?.records.get(l);return v&&e.push(v),j&&(e.push(j),h.length&&e.push(h.join("."))),e},r.prototype.store=function(){var t,e=[];return this.all.forEach(function(n){var o=n.get("skipFromStorage");o||e.push({id:n.id,name:n.get("name"),records:n.records.toJSON(),skipFromStorage:o})}),(t={})[this.storageKey]=e,t},r.prototype.load=function(t){return this.loadProjectData(t)},r.prototype.postLoad=function(){var t=this.em;t.listenTo(this.all,F.e2,function(n,o,l){return t.changesUp(l||o)})},r}(st);const fg=E_;var j_=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zi=function(){return Zi=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Zi.apply(this,arguments)},Op=function(a,r,t,e){return new(t||(t=Promise))(function(n,o){function l(j){try{v(e.next(j))}catch(S){o(S)}}function h(j){try{v(e.throw(j))}catch(S){o(S)}}function v(j){var S;j.done?n(j.value):(S=j.value,S instanceof t?S:new t(function(Y){Y(S)})).then(l,h)}v((e=e.apply(a,r||[])).next())})},kp=function(a,r){var t,e,n,o,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function h(v){return function(j){return function(S){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,S[0]&&(l=0)),l;)try{if(t=1,e&&(n=2&S[0]?e.return:S[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,S[1])).done)return n;switch(e=0,n&&(S=[2&S[0],n.value]),S[0]){case 0:case 1:n=S;break;case 4:return l.label++,{value:S[1],done:!1};case 5:l.label++,e=S[1],S=[0];continue;case 7:S=l.ops.pop(),l.trys.pop();continue;default:if(!((n=(n=l.trys).length>0&&n[n.length-1])||6!==S[0]&&2!==S[0])){l=0;continue}if(3===S[0]&&(!n||S[1]>n[0]&&S[1]<n[3])){l.label=S[1];break}if(6===S[0]&&l.label<n[1]){l.label=n[1],n=S;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(S);break}n[2]&&l.ops.pop(),l.trys.pop();continue}S=r.call(a,l)}catch(Y){S=[6,Y],e=0}finally{t=n=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([v,j])}}};J().$=ht.default;var P_=[Mm,gm,Km,Gy,Ug,me,ri,T_,be,ey,Vy,by,n0,fv,Nv,Qo,Tv,Hc,fg],N_=[tm,cd,cm,Tf,fg];!function(a){var r=a.$;if(r&&r.prototype&&"jQuery"!==r.prototype.constructor.name){var t=r.fn;t.hide=function(){return this.css("display","none")},t.show=function(){return this.css("display","block")},t.focus=function(){var o=this.get(0);return o&&o.focus(),this},t.bind=function(o,l){return this.on(o,l)},t.unbind=function(o,l){if((0,R.isObject)(o)){for(var h in o)o.hasOwnProperty(h)&&this.off(h,o[h]);return this}return this.off(o,l)},t.click=function(o){return o?this.on("click",o):this.trigger("click")},t.change=function(o){return o?this.on("change",o):this.trigger("change")},t.keydown=function(o){return o?this.on("keydown",o):this.trigger("keydown")},t.delegate=function(o,l,h,v){return v||(v=h),this.on(l,o,function(j){j.data=h,v(j)})},t.scrollLeft=function(){var o=this.get(0),l=(o=9==o.nodeType?o.defaultView:o)instanceof Window?o:null;return l?l.pageXOffset:o.scrollLeft||0},t.scrollTop=function(){var o=this.get(0),l=(o=9==o.nodeType?o.defaultView:o)instanceof Window?o:null;return l?l.pageYOffset:o.scrollTop||0};var e=r.prototype.offset;t.offset=function(o){var l,h;return o&&(l=o.top,h=o.left),void 0!==l&&this.css("top","".concat(l,"px")),void 0!==h&&this.css("left","".concat(h,"px")),e.call(this)},r.map=function(o,l){for(var h=[],v=0;v<o.length;v++)h.push(l(o[v],v));return h};var n=Array.prototype.indexOf;r.inArray=function(o,l,h){return null==l?-1:n.call(l,o,h)},r.Event=function(o,l){if(!(this instanceof r.Event))return new r.Event(o,l);this.type=o,this.isDefaultPrevented=function(){return!1}}}}({$:ht.default});var pg={debug:console.log,info:console.info,warning:console.warn,error:console.error},L_=function(a){function r(t){void 0===t&&(t={});var e=a.call(this)||this;e.Model=F.Kx,e.Collection=F.pM,e.events=_a,e.__skip=!1,e.defaultRunning=!1,e.destroyed=!1,e._config=t;var n=e.config;e.set("Config",t),e.set("modules",[]),e.set("toLoad",[]),e.set("storables",[]),e.set("selected",new X),e.set("dmode",n.dragMode);var o=n.el,l=n.log,h=!0===l?(0,R.keys)(pg):(0,R.isArray)(l)?l:[];return(0,R.bindAll)(e,"initBaseColorPicker"),o&&n.fromElement&&(n.components=o.innerHTML),e.attrsOrig=o?(0,R.toArray)(o.attributes).reduce(function(v,j){return v[j.nodeName]=j.nodeValue,v},{}):"",n.components&&!n.pageManager&&(n.pageManager={pages:[{component:n.components}]}),P_.forEach(function(v){return e.loadModule(v)}),N_.forEach(function(v){return e.loadStorableModule(v)}),e.on("change:componentHovered",e.componentHovered,e),e.on("change:changesCount",e.updateChanges,e),e.on("change:readyLoad change:readyCanvas",e._checkReady,e),h.forEach(function(v){return e.listenLog(v)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(v){var j=v.from,S=v.to;e.listenTo(e,j,function(){for(var Y=[],lt=0;lt<arguments.length;lt++)Y[lt]=arguments[lt];e.trigger.apply(e,function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))}([S],Y,!1)),e.logWarning("The event '".concat(j,"' is deprecated, replace it with '").concat(S,"'"))})}),e}return j_(r,a),r.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(r.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"DataSources",{get:function(){return this.get("DataSources")},enumerable:!1,configurable:!0}),r.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},r.prototype.getContainer=function(){return this.config.el},r.prototype.listenLog=function(t){this.listenTo(this,"log:".concat(t),pg[t])},Object.defineProperty(r.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"version",{get:function(){var t;return(null===(t=this.config.grapesjs)||void 0===t?void 0:t.version)||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isHeadless",{get:function(){return!!this.config.headless},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isShallow",{get:function(){return!!this.get("isShallow")},enumerable:!1,configurable:!0}),r.prototype.getConfig=function(t){var e=this.config;return(0,R.isUndefined)(t)?e:e[t]},r.prototype.loadOnStart=function(){var t=this,e=this.config,n=e.projectData,o=e.headless,l={initial:!0},h=this.Storage;this.toLoad.reverse().forEach(function(S){return S.onLoad()});var v=function(){t.modules.forEach(function(S){return S.postLoad&&S.postLoad(t)}),t.set("readyLoad",1)};o?(n&&this.loadData(n,l),v()):this._storageTimeout=setTimeout(function(){return Op(t,void 0,void 0,function(){var S;return kp(this,function(Y){switch(Y.label){case 0:return n?(this.loadData(n,l),[3,5]):[3,1];case 1:if(!h?.canAutoload())return[3,5];Y.label=2;case 2:return Y.trys.push([2,4,,5]),[4,this.load({},l)];case 3:return Y.sent(),[3,5];case 4:return S=Y.sent(),this.logError(S),[3,5];case 5:return v(),[2]}})})});var j=new r({noticeOnUnload:!1,storageManager:!1,undoManager:!1});j.set({isShallow:!0}),j.Pages.onLoad(),j.Canvas.postLoad(),this.set("shallow",j)},r.prototype.updateChanges=function(t,e,n){var o=this,l=this.Storage,h=this.getDirtyCount();n.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return o.trigger(_a.update)})),this.config.noticeOnUnload&&(window.onbeforeunload=h?function(){return!0}:null),l.isAutosave()&&h>=l.getStepsBeforeSave()&&this.store().catch(function(v){return o.logError(v)})},r.prototype.loadModule=function(t){var e=new t(this);return this.set(e.name,e),e.onLoad&&this.toLoad.push(e),this.modules.push(e),e},r.prototype.loadStorableModule=function(t){var e=this.loadModule(t);return this.storables.push(e),e},r.prototype.init=function(t,e){void 0===e&&(e={}),this.destroyed&&(this.initialize(e),this.destroyed=!1),this.set("Editor",t)},r.prototype.getEditor=function(){return this.get("Editor")},r.prototype.handleUpdates=function(t,e,n){var o=this;void 0===n&&(n={}),this.__skip||n.temporary||n.noCount||n.avoidStore||n.partial||!this.get("ready")||(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var l=o.getDirtyCount()||0,h=function(a,r){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&r.indexOf(e)<0&&(t[e]=a[e]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(e=Object.getOwnPropertySymbols(a);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(a,e[n])&&(t[e[n]]=a[e[n]])}return t}(n,["unset"]);o.set("changesCount",l+1,h)},0))},r.prototype.changesUp=function(t){this.handleUpdates(0,0,t)},r.prototype.componentHovered=function(t,e,n){var o=this.previous("componentHovered");o&&this.trigger("component:unhovered",o,n),e&&this.trigger("component:hovered",e,n)},r.prototype.getSelected=function(){return this.selected.lastComponent()},r.prototype.getSelectedAll=function(){return this.selected.allComponents()},r.prototype.setSelected=function(t,e){var n=this;void 0===e&&(e={});var o=e.event,l=o&&(o.ctrlKey||o.metaKey),h=(o||{}).shiftKey,v=((0,R.isArray)(t)?t:[t]).map(function(lt){var xt,Ft;return(null===(Ft=null===(xt=lt?.delegate)||void 0===xt?void 0:xt.select)||void 0===Ft?void 0:Ft.call(xt,lt))||lt}).filter(Boolean),j=this.getSelectedAll(),S=this.getConfig().multipleSelection,Y=(0,R.isArray)(t);!Y&&t||this.removeSelected(j.filter(function(lt){return!(0,R.contains)(v,lt)})),v.forEach(function(lt){if(lt&&(n.trigger(Se.I.selectBefore,lt,e),!lt.get("selectable")||e.abort)){if(!e.useValid)return;for(var xt=lt.parent();xt&&!xt.get("selectable");)xt=xt.parent();lt=xt}if(l&&S)return n.toggleSelected(lt);if(h&&S){if(n.isEditing())return;n.clearSelection(n.Canvas.getWindow());var Ft,Bt,te=lt.collection,Vt=lt.index();if(n.getSelectedAll().forEach(function(ke){var ze=ke.collection,on=ke.index();ze===te&&(on<Vt?Ft=(0,R.isUndefined)(Ft)?on:Math.max(Ft,on):on>Vt&&(Bt=(0,R.isUndefined)(Bt)?on:Math.min(Bt,on)))}),!(0,R.isUndefined)(Ft))for(;Ft!==Vt;)n.addSelected(te.at(Ft),e),Ft++;if(!(0,R.isUndefined)(Bt))for(;Bt!==Vt;)n.addSelected(te.at(Bt),e),Bt--;return n.addSelected(lt,e)}!Y&&n.removeSelected(j.filter(function(ke){return ke!==lt})),n.addSelected(lt,e)})},r.prototype.addSelected=function(t,e){var n=this;void 0===e&&(e={}),((0,R.isArray)(t)?t:[t]).forEach(function(o){var l=n.selected;o&&o.get("selectable")&&!o.parents().some(function(h){return l.hasComponent(h)})&&(e.forceChange&&n.removeSelected(o,e),l.allComponents().filter(function(h){return(0,R.contains)(h.parents(),o)}).forEach(function(h){return n.removeSelected(h,e)}),l.addComponent(o,e),n.trigger(Se.I.select,o,e),n.Canvas.addSpot({type:xe.F.Select,component:o}))})},r.prototype.removeSelected=function(t,e){var n=this;void 0===e&&(e={}),this.selected.removeComponent(t,e),((0,R.isArray)(t)?t:[t]).forEach(function(o){return n.Canvas.removeSpots({type:xe.F.Select,component:o})})},r.prototype.toggleSelected=function(t,e){var n=this;void 0===e&&(e={}),((0,R.isArray)(t)?t:[t]).forEach(function(o){n.selected.hasComponent(o)?n.removeSelected(o,e):n.addSelected(o,e)})},r.prototype.setHovered=function(t,e){var n=this;void 0===e&&(e={});var o=function(v,j){var Y=n.config,lt=n.Canvas,xt=n.getHovered(),Ft=n.getSelectedAll(),Bt=xe.F.Hover,te=xe.F.Spacing;n.set("componentHovered",v||null,j),xt&&(lt.removeSpots({type:Bt,component:xt}),lt.removeSpots({type:te,component:xt})),v&&(lt.addSpot({type:Bt,component:v}),Ft.includes(v)&&!Y.showOffsetsSelected||lt.addSpot({type:te,component:v}))};if(!t)return o();var l="component:hover";if(e.forceChange&&o(),this.trigger("".concat(l,":before"),t,e),!t.get("hoverable")){if(!e.useValid||e.abort)return;for(var h=t.parent();h&&!h.get("hoverable");)h=h.parent();t=h}e.abort||(o(t,e),this.trigger(l,t,e))},r.prototype.getHovered=function(){return this.get("componentHovered")},r.prototype.setComponents=function(t,e){return void 0===e&&(e={}),this.Components.setComponents(t,e)},r.prototype.getComponents=function(){var t=this.Components,e=this.CodeManager;if(t&&e){var n=t.getComponents();return e.getCode(n,"json")}},r.prototype.setStyle=function(t,e){void 0===e&&(e={});var n=this.Css;return n.clear(e),n.getAll().add(t,e),this},r.prototype.addStyle=function(t,e){void 0===e&&(e={});var n=this.getStyle().add(t,e);return(0,R.isArray)(n)?n:[n]},r.prototype.getStyle=function(){return this.Css.getAll()},r.prototype.setState=function(t){return this.set("state",t),this},r.prototype.getState=function(){return this.get("state")||""},r.prototype.getHtml=function(t){void 0===t&&(t={});var e=this.config,n=e.optsHtml,o=e.jsInHtml?this.getJs(t):"",l=t.component||this.Components.getComponent();return(l?this.CodeManager.getCode(l,"html",Zi(Zi({},n),t)):"")+(o?"<script>".concat(o,"<\/script>"):"")},r.prototype.getCss=function(t){void 0===t&&(t={});var e=this.config,n=e.optsCss,o=t.avoidProtected,l=(0,R.isUndefined)(t.keepUnusedStyles)?e.keepUnusedStyles:t.keepUnusedStyles,h=this.Css,v=t.component||this.Components.getComponent(),j=o?"":e.protectedCss,S=v&&this.CodeManager.getCode(v,"css",Zi(Zi({cssc:h,keepUnusedStyles:l},n),t));return v?t.json?S:j+S:""},r.prototype.getJs=function(t){void 0===t&&(t={});var e=t.component||this.Components.getWrapper();return e?this.CodeManager.getCode(e,"js").trim():""},r.prototype.store=function(t){return Op(this,void 0,void 0,function(){var e;return kp(this,function(n){switch(n.label){case 0:return e=this.storeData(),[4,this.Storage.store(e,t)];case 1:return n.sent(),this.clearDirtyCount(),[2,e]}})})},r.prototype.load=function(t){return Op(this,arguments,void 0,function(e,n){var o;return void 0===n&&(n={}),kp(this,function(l){switch(l.label){case 0:return[4,this.Storage.load(e)];case 1:return o=l.sent(),this.loadData(o,n),[4,(0,at.wait)()];case 2:return l.sent(),n.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,o]}})})},r.prototype.storeData=function(){var t={},e=this.getEditing();e&&e.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(o){t=Zi(Zi({},t),o.store(1))});var n=JSON.parse(JSON.stringify(t));return this.trigger(_a.projectGet,{project:n}),n},r.prototype.loadData=function(t,e){void 0===t&&(t={}),void 0===e&&(e={});var n=!1;return(0,at.isEmptyObj)(t)||(this.storables.forEach(function(o){return o.clear()}),this.storables.forEach(function(o){return o.load(t)}),n=!0),this.trigger(_a.projectLoad,{project:t,loaded:n,initial:!!e.initial}),t},r.prototype.getDeviceModel=function(){var t=this.get("device");return this.Devices.get(t)},r.prototype.runDefault=function(t){void 0===t&&(t={});var e=this.Commands.get(this.config.defaultCommand);e&&!this.defaultRunning&&(e.stop(this,this,t),e.run(this,this,t),this.defaultRunning=!0)},r.prototype.stopDefault=function(t){void 0===t&&(t={});var e=this.Commands;if(e){var n=e.get(this.config.defaultCommand);n&&this.defaultRunning&&(n.stop(this,this,t),this.defaultRunning=!1)}},r.prototype.refreshCanvas=function(t){void 0===t&&(t={}),this.Canvas.refresh({spots:t.tools})},r.prototype.clearSelection=function(t){var e;null===(e=(t||window).getSelection())||void 0===e||e.removeAllRanges()},r.prototype.getCurrentMedia=function(){var t=this.config,e=this.getDeviceModel(),n=t.mediaCondition,o=t.devicePreviewMode,l=e&&e.get("widthMedia");return e&&l&&!o?"(".concat(n,": ").concat(l,")"):""},r.prototype.getWrapper=function(){return this.Components.getWrapper()},r.prototype.setCurrentFrame=function(t){return this.set("currentFrame",t)},r.prototype.getCurrentFrame=function(){return this.get("currentFrame")},r.prototype.getCurrentFrameModel=function(){var t;return null===(t=this.getCurrentFrame()||{})||void 0===t?void 0:t.model},r.prototype.getIcon=function(t){return(this.config.icons||{})[t]||""},r.prototype.getDirtyCount=function(){return this.get("changesCount")},r.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},r.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},r.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},r.prototype.setDragMode=function(t){return this.set("dmode",t)},r.prototype.getDragMode=function(t){return t?.getDragMode()||this.get("dmode")||""},r.prototype.t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.get("I18n");return n?.t.apply(n,t)},r.prototype.inAbsoluteMode=function(t){return"absolute"===this.getDragMode(t)},r.prototype.destroyAll=function(){var t=this,e=this.config,n=this.view;this.trigger(_a.destroy);var o=this.getEditor(),l=(e.grapesjs||{}).editors,h=void 0===l?[]:l,v=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),v?.destroyAll(),this.stopListening(),this.stopDefault(),(this.modules||[]).slice().reverse().forEach(function(j){return j.destroy()}),n?.remove&&n.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(j){return t[j]={}}),h.splice(h.indexOf(o),1),(0,at.hasWin)()&&(0,ht.default)(e.el).empty().attr(this.attrsOrig),this.trigger(_a.destroyed)},r.prototype.getEditing=function(){var t=this.get("editing");return t&&t.model||void 0},r.prototype.setEditing=function(t){return this.set("editing",t),this},r.prototype.isEditing=function(){return!!this.get("editing")},r.prototype.log=function(t,e){void 0===e&&(e={});var n=_a.log,o=e.ns,l=e.level,h=void 0===l?"debug":l;if(this.trigger(n,t,e),h&&this.trigger("".concat(n,":").concat(h),t,e),o){var v="".concat(n,"-").concat(o);this.trigger(v,t,e),h&&this.trigger("".concat(v,":").concat(h),t,e)}},r.prototype.logInfo=function(t,e){this.log(t,Zi(Zi({},e),{level:"info"}))},r.prototype.logWarning=function(t,e){this.log(t,Zi(Zi({},e),{level:"warning"}))},r.prototype.logError=function(t,e){this.log(t,Zi(Zi({},e),{level:"error"}))},r.prototype.initBaseColorPicker=function(t,e){void 0===e&&(e={});var n=this.config,o=n.colorPicker,l=void 0===o?{}:o,h=n.el,v=n.stylePrefix;return(0,ht.default)(t).spectrum(Zi(Zi({containerClassName:"".concat(v,"one-bg ").concat(v,"two-color"),appendTo:h||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"\u2a2f"},e),l))},r.prototype.skip=function(t){this.__skip=!0;var e=this.UndoManager;e?e.skip(t):t(),this.__skip=!1},r.prototype.data=function(t,e,n){var o="_gjs-data";if(t[o]||(t[o]={}),(0,R.isUndefined)(n))return t[o][e];t[o][e]=n},r}(F.Kx);const F_=L_;var M_=function(){var a=function(r,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}a(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),B_=function(a){function r(t){var e=a.call(this,{model:t})||this,n=t.Panels,o=t.UndoManager;return t.view=e,t.once("change:ready",function(){n.active(),n.disableButtons(),o.clear(),t.getConfig().telemetry&&e.sendTelemetryData().catch(function(){}),setTimeout(function(){t.trigger(_a.load,t.Editor),t.clearDirtyCount()})}),e}return M_(r,a),r.prototype.render=function(){var t=this,e=this.$el,n=this.model,o=n.Panels,l=n.Canvas,h=n.config,v=n.modules,j=h.stylePrefix,S=["".concat(j,"editor")];!h.customUI&&S.push("".concat(j,"one-bg ").concat(j,"two-color"));var Y=(0,ht.default)(h.el||"body ".concat(h.container));h.cssIcons&&(0,at.appendStyles)(h.cssIcons,{unique:!0,prepand:!0}),e.empty(),h.width&&Y.css("width",h.width),h.height&&Y.css("height",h.height),e.append(l.render()),e.append(o.render());var lt=n.shallow.Canvas.render();return lt.style.display="none",e.append(lt),e.attr("class",S.join(" ")),Y.addClass("".concat(j,"editor-cont")).empty().append(e),v.forEach(function(xt){var Ft;return null===(Ft=xt.postRender)||void 0===Ft?void 0:Ft.call(xt,t)}),this},r.prototype.sendTelemetryData=function(){return function(a,r,t,e){return new(t||(t=Promise))(function(n,o){function l(j){try{v(e.next(j))}catch(S){o(S)}}function h(j){try{v(e.throw(j))}catch(S){o(S)}}function v(j){var S;j.done?n(j.value):(S=j.value,S instanceof t?S:new t(function(Y){Y(S)})).then(l,h)}v((e=e.apply(a,[])).next())})}(this,0,void 0,function(){var t,e,n,o,l,h,v;return function(a,r){var t,e,n,o,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function h(v){return function(j){return function(S){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,S[0]&&(l=0)),l;)try{if(t=1,e&&(n=2&S[0]?e.return:S[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,S[1])).done)return n;switch(e=0,n&&(S=[2&S[0],n.value]),S[0]){case 0:case 1:n=S;break;case 4:return l.label++,{value:S[1],done:!1};case 5:l.label++,e=S[1],S=[0];continue;case 7:S=l.ops.pop(),l.trys.pop();continue;default:if(!((n=(n=l.trys).length>0&&n[n.length-1])||6!==S[0]&&2!==S[0])){l=0;continue}if(3===S[0]&&(!n||S[1]>n[0]&&S[1]<n[3])){l.label=S[1];break}if(6===S[0]&&l.label<n[1]){l.label=n[1],n=S;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(S);break}n[2]&&l.ops.pop(),l.trys.pop();continue}S=r.call(a,l)}catch(Y){S=[6,Y],e=0}finally{t=n=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([v,j])}}}(this,function(j){switch(j.label){case 0:return"localhost"===(t=window.location.hostname)||t.includes("localhost")?[2]:(n=this.model.version,o="".concat(e="gjs_telemetry_sent_").concat(n),sessionStorage.getItem(o)?[2]:[4,fetch("".concat("https://app.grapesjs.com","/api/gjs/telemetry/collect"),{method:"POST",body:JSON.stringify({domain:t,version:n})})]);case 1:return(l=j.sent()).ok?[3,3]:(h=Error.bind,v="Failed to send telemetry data ".concat,[4,l.text()]);case 2:throw new(h.apply(Error,[void 0,v.apply("Failed to send telemetry data ",[j.sent()])]));case 3:return sessionStorage.setItem(o,"true"),Object.keys(sessionStorage).forEach(function(S){S.startsWith(e)&&S!==o&&sessionStorage.removeItem(S)}),this.trigger(_a.telemetryInit),[2]}})})},r}(F.Ss);const V_=B_;var Nu=function(){return Nu=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},Nu.apply(this,arguments)},hg=function(a,r,t,e){return new(t||(t=Promise))(function(n,o){function l(j){try{v(e.next(j))}catch(S){o(S)}}function h(j){try{v(e.throw(j))}catch(S){o(S)}}function v(j){var S;j.done?n(j.value):(S=j.value,S instanceof t?S:new t(function(Y){Y(S)})).then(l,h)}v((e=e.apply(a,r||[])).next())})},gg=function(a,r){var t,e,n,o,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function h(v){return function(j){return function(S){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,S[0]&&(l=0)),l;)try{if(t=1,e&&(n=2&S[0]?e.return:S[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,S[1])).done)return n;switch(e=0,n&&(S=[2&S[0],n.value]),S[0]){case 0:case 1:n=S;break;case 4:return l.label++,{value:S[1],done:!1};case 5:l.label++,e=S[1],S=[0];continue;case 7:S=l.ops.pop(),l.trys.pop();continue;default:if(!((n=(n=l.trys).length>0&&n[n.length-1])||6!==S[0]&&2!==S[0])){l=0;continue}if(3===S[0]&&(!n||S[1]>n[0]&&S[1]<n[3])){l.label=S[1];break}if(6===S[0]&&l.label<n[1]){l.label=n[1],n=S;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(S);break}n[2]&&l.ops.pop(),l.trys.pop();continue}S=r.call(a,l)}catch(Y){S=[6,Y],e=0}finally{t=n=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([v,j])}}},U_=function(){function a(r,t){var e;void 0===r&&(r={}),void 0===t&&(t={}),this.events=_a,this.html=ct;var n={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1,telemetry:!0};this.config=Nu(Nu(Nu({},n),r),{pStylePrefix:null!==(e=r.stylePrefix)&&void 0!==e?e:n.stylePrefix}),this.em=new F_(this.config),this.$=t.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(a.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"DataSources",{get:function(){return this.em.DataSources},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),a.prototype.getConfig=function(r){return this.em.getConfig(r)},a.prototype.getHtml=function(r){return this.em.getHtml(r)},a.prototype.getCss=function(r){return this.em.getCss(r)},a.prototype.getJs=function(r){return this.em.getJs(r)},a.prototype.getComponents=function(){return this.Components.getComponents()},a.prototype.getWrapper=function(){return this.Components.getWrapper()},a.prototype.setComponents=function(r,t){return void 0===t&&(t={}),this.em.setComponents(r,t),this},a.prototype.addComponents=function(r,t){return this.getWrapper().append(r,t)},a.prototype.getStyle=function(){return this.em.Css.getAll()},a.prototype.setStyle=function(r,t){return void 0===t&&(t={}),this.em.setStyle(r,t),this},a.prototype.addStyle=function(r,t){return void 0===t&&(t={}),this.em.addStyle(r,t)},a.prototype.getSelected=function(){return this.em.getSelected()},a.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},a.prototype.getSelectedToStyle=function(){var r=this.em.getSelected();if(r)return this.StyleManager.getModelToStyle(r)},a.prototype.select=function(r,t){return this.em.setSelected(r,t),this},a.prototype.selectAdd=function(r){return this.em.addSelected(r),this},a.prototype.selectRemove=function(r){return this.em.removeSelected(r),this},a.prototype.selectToggle=function(r){return this.em.toggleSelected(r),this},a.prototype.getEditing=function(){return this.em.getEditing()},a.prototype.setDevice=function(r){return this.em.set("device",r),this},a.prototype.getDevice=function(){return this.em.get("device")},a.prototype.runCommand=function(r,t){return void 0===t&&(t={}),this.Commands.run(r,t)},a.prototype.stopCommand=function(r,t){return void 0===t&&(t={}),this.Commands.stop(r,t)},a.prototype.store=function(r){return hg(this,void 0,void 0,function(){return gg(this,function(t){switch(t.label){case 0:return[4,this.em.store(r)];case 1:return[2,t.sent()]}})})},a.prototype.load=function(r){return hg(this,arguments,void 0,function(t,e){return void 0===e&&(e={}),gg(this,function(n){switch(n.label){case 0:return[4,this.em.load(t,e)];case 1:return[2,n.sent()]}})})},a.prototype.getProjectData=function(){return this.em.storeData()},a.prototype.loadProjectData=function(r){return this.em.loadData(r)},a.prototype.storeData=function(){return this.em.storeData()},a.prototype.loadData=function(r){return this.em.loadData(r)},a.prototype.getContainer=function(){return this.config.el},a.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},a.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},a.prototype.refresh=function(r){this.em.refreshCanvas(r)},a.prototype.setCustomRte=function(r){this.RichTextEditor.customRte=r},a.prototype.setCustomParserCss=function(r){return this.Parser.getConfig().parserCss=r,this},a.prototype.setDragMode=function(r){return this.em.setDragMode(r),this},a.prototype.log=function(r,t){return void 0===t&&(t={}),this.em.log(r,t),this},a.prototype.t=function(){for(var r,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(r=this.em).t.apply(r,t)},a.prototype.on=function(r,t){return this.em.on(r,t),this},a.prototype.once=function(r,t){return this.em.once(r,t),this},a.prototype.off=function(r,t){return this.em.off(r,t),this},a.prototype.trigger=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return this.em.trigger.apply(this.em,function(a,r,t){if(t||2===arguments.length)for(var e,n=0,o=r.length;n<o;n++)!e&&n in r||(e||(e=Array.prototype.slice.call(r,0,n)),e[n]=r[n]);return a.concat(e||Array.prototype.slice.call(r))}([r],t,!0)),this},a.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},a.prototype.getEl=function(){var r;return null===(r=this.editorView)||void 0===r?void 0:r.el},a.prototype.getModel=function(){return this.em},a.prototype.render=function(){var r;return null===(r=this.editorView)||void 0===r||r.remove(),this.editorView=new V_(this.em),this.editorView.render().el},a.prototype.onReady=function(r){this.em.get("ready")?r(this):this.em.on("load",r)},a}();const W_=U_;var vg=function(a,r){return(0,R.isString)(a)?function(t,e){var n=e.get(t);if(!n){var o=(0,at.getGlobal)()[t];n=o?.default||o}return n}(a,r):a?.default||a},mg=function(a,r){a.getModel().logWarning("Plugin ".concat(r," not found"),{context:"plugins",plugin:r})};const q_=function(){function a(){this.plugins={}}return a.prototype.add=function(r,t){return this.get(r)||(this.plugins[r]=t,t)},a.prototype.get=function(r){return this.plugins[r]},a.prototype.getAll=function(){return this.plugins},a}();var rf=function(){return rf=Object.assign||function(a){for(var r,t=1,e=arguments.length;t<e;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);return a},rf.apply(this,arguments)};!function(){if((0,at.hasWin)()&&function(){for(var r,t=window.navigator.userAgent,e=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],n=0;n<e.length&&!(r=e[n][1].exec(t));n++);return!!r}()){var a=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(r){return r||(r=""),a.apply(document.implementation,[r])}}}();var Ap=new q_,yg=[],K_={$:ht.default,editors:yg,plugins:Ap,usePlugin:function(a,r){var t=vg(a,Ap);return function(e){t?t(e,r||{}):mg(e,a)}},version:"0.22.6",init:function(a){void 0===a&&(a={});var r=a.headless,t=a.container;if(!t&&!r)throw new Error("'container' is required");var e=rf(rf({autorender:!0,plugins:[],pluginsOpts:{}},a),{grapesjs:this,el:r?void 0:(0,R.isElement)(t)?t:document.querySelector(t)}),n=new W_(e,{$:ht.default}),o=n.getModel();return e.plugins.forEach(function(l){var h=vg(l,Ap);h?h(n,e.pluginsOpts[l]||{}):mg(n,l)}),o.loadOnStart(),e.autorender&&!r&&n.render(),yg.push(n),n}};const $_=K_})(),wt.default})());