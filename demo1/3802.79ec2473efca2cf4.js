"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[3802],{23802:(re,F,I)=>{I.r(F),I.d(F,{OperationalscheduleModule:()=>de});var d=I(86656),H=I(96814),K=I(22939),L=I(64190),A=I(15861),y=I(56223),E=I(13519),S=I.n(E),e=I(65879),Q=I(5588),R=I(31552),G=I(16519),Y=I(78325);const z=["closeOS"],j=["closeHoliday"],W=["closeMultiSlot"],X=["closeCustomSchedule"];function V(Z,v){if(1&Z){const D=e.EpF();e.TgZ(0,"button",117),e.NdJ("click",function(){e.CHM(D);const l=e.oxw();return e.KtG(l.openModal("",""))}),e._uU(1," New "),e.qZA()}}function ee(Z,v){1&Z&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Label"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Updated"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Holiday"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Multislot"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Custom Schedule"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Edit"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Delete"),e.qZA()())}function te(Z,v){1&Z&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Label"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Updated"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Holiday"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Multislot"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Custom Schedule"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Edit"),e.qZA()())}function le(Z,v){1&Z&&(e.TgZ(0,"h2",118),e._uU(1,"Add Operational Schedule Configuration"),e.qZA())}function oe(Z,v){1&Z&&(e.TgZ(0,"h2",118),e._uU(1,"Edit Operational Schedule Configuration"),e.qZA())}function ie(Z,v){1&Z&&(e.TgZ(0,"div",119),e._uU(1," Opertional schedule id is required "),e.qZA())}function ae(Z,v){1&Z&&(e.TgZ(0,"div",119),e._uU(1," Opertional schedule label is required "),e.qZA())}function se(Z,v){if(1&Z){const D=e.EpF();e.TgZ(0,"button",120),e.NdJ("click",function(){e.CHM(D);const l=e.oxw();return e.KtG(l.updateOS(l.createOSField.value,"editOS"))}),e._uU(1," Update "),e.qZA()}if(2&Z){const D=e.oxw();e.Q6J("hidden",D.hideUpdateButton)("disabled",D.createOSField.invalid)("disabled",!D.createOSField.dirty||D.createOSField.invalid)}}function ue(Z,v){if(1&Z){const D=e.EpF();e.TgZ(0,"button",121),e.NdJ("click",function(){e.CHM(D);const l=e.oxw();return e.KtG(l.createNewOS(l.createOSField.value))}),e._uU(1,"Save"),e.qZA()}if(2&Z){const D=e.oxw();e.Q6J("disabled",D.createOSField.invalid||"Operational Schedule already exists"==D.errorForUniqueID)}}let ne=(()=>{var Z;class v{constructor(t,l,i,n,s,a,o){(0,d.Z)(this,"fb",void 0),(0,d.Z)(this,"operationalscheduleType",void 0),(0,d.Z)(this,"api",void 0),(0,d.Z)(this,"toast",void 0),(0,d.Z)(this,"router",void 0),(0,d.Z)(this,"cd",void 0),(0,d.Z)(this,"auditTrialServices",void 0),(0,d.Z)(this,"createOSField",void 0),(0,d.Z)(this,"createHoliday",void 0),(0,d.Z)(this,"createMultislot",void 0),(0,d.Z)(this,"createCustomSchedule",void 0),(0,d.Z)(this,"holidayTable",[]),(0,d.Z)(this,"multiSlotTable",[]),(0,d.Z)(this,"alertSchedule",[]),(0,d.Z)(this,"dayslist",[]),(0,d.Z)(this,"customScheduleTable",[]),(0,d.Z)(this,"data_temp",[]),(0,d.Z)(this,"allOSDetails",{}),(0,d.Z)(this,"osSK",void 0),(0,d.Z)(this,"showModal",!1),(0,d.Z)(this,"showHeading",!1),(0,d.Z)(this,"listofSK",[]),(0,d.Z)(this,"errorForUniqueID",""),(0,d.Z)(this,"errorForUniqueCustomID",""),(0,d.Z)(this,"errorForUniqueHoliday",""),(0,d.Z)(this,"errorForUniqueMultislotID",""),(0,d.Z)(this,"final_params",[]),(0,d.Z)(this,"final_multiSlot_params",[]),(0,d.Z)(this,"final_customSchedule",[]),(0,d.Z)(this,"multi_params",[]),(0,d.Z)(this,"multi_multislot_params",[]),(0,d.Z)(this,"multi_custom_schedule",[]),(0,d.Z)(this,"listofParameterID",[]),(0,d.Z)(this,"listofcustomID",[]),(0,d.Z)(this,"listofholidays",[]),(0,d.Z)(this,"listofmultislotID",[]),(0,d.Z)(this,"isFromSundayTime",!1),(0,d.Z)(this,"isToSundayTime",!1),(0,d.Z)(this,"enableSaveButton",!1),(0,d.Z)(this,"enableMultiSlot",!0),(0,d.Z)(this,"enableHoliday",!0),(0,d.Z)(this,"enableCustomSchedule",!0),(0,d.Z)(this,"disableAddButton",!0),(0,d.Z)(this,"TemposLabel",void 0),(0,d.Z)(this,"closeOS",void 0),(0,d.Z)(this,"closeHoliday",void 0),(0,d.Z)(this,"closeMultiSlot",void 0),(0,d.Z)(this,"closeCustomSchedule",void 0),(0,d.Z)(this,"getLoggedUser",void 0),(0,d.Z)(this,"SK_clientID",void 0),(0,d.Z)(this,"allPermissions_user",void 0),(0,d.Z)(this,"hideUpdateButton",!1),(0,d.Z)(this,"hideDeleteButton",!1),(0,d.Z)(this,"columnDatatable",[]),(0,d.Z)(this,"dataform",[]),(0,d.Z)(this,"lookup_data_user",[]),(0,d.Z)(this,"clientID",void 0),(0,d.Z)(this,"columnTableData",[]),(0,d.Z)(this,"deviceTableData",void 0),(0,d.Z)(this,"maxlength",500),this.fb=t,this.operationalscheduleType=l,this.api=i,this.toast=n,this.router=s,this.cd=a,this.auditTrialServices=o}ngOnInit(){this.getLoggedUser=this.operationalscheduleType.getLoggedUserDetails(),this.SK_clientID=this.getLoggedUser.attributes["custom:clientID"],this.clientID=this.getLoggedUser.attributes["custom:clientID"]+"#operationalschedule",this.allPermissions_user=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("permissionDetails")))),this.auditTrialServices.audit_trail("2.1","Operational Schedule","View","Operational Schedule Page Loaded","1"),this.addFromService(),this.loading(),this.initializeOSFields(),this.initializeHoliday(),this.initializeMultislot(),this.initializeCustomSchedule()}loading(){$("#datatables").DataTable().destroy(),this.dataform=[],this.lookup_data_user=[],this.fetchTMLookupData(1)}fetchTMLookupData(t){var l=this;return(0,A.Z)(function*(){console.log("Iam called Bro");try{const i=yield l.api.GetLookupMasterTable(l.clientID,t);if(i&&i.items)if("string"==typeof i.items){let n=JSON.parse(i.items);if(console.log("d1 =",n),Array.isArray(n)){for(let s=0;s<n.length;s++){const a=n[s];if(null==a)break;{const o=Object.keys(a)[0],{P1:g,P2:f,P3:u}=a[o];l.lookup_data_user.push({P1:g,P2:f,P3:u}),console.log("d2 =",l.lookup_data_user)}}l.lookup_data_user.sort((s,a)=>a.P3-s.P3),console.log("Lookup sorting",l.lookup_data_user),yield l.fetchTMLookupData(t+1)}else console.error("Invalid data format - not an array.")}else console.error("response.listOfItems is not a string.");else console.log(),console.log("Permissions to be displayed",l.lookup_data_user),l.getTableUser(l.lookup_data_user),l.auditTrialServices.audit_trail("2.1","Operational Schedule","View","Operational Schedule Table was viewed",l.lookup_data_user.length)}catch(i){console.error("Error:",i)}})()}getTableUser(t){let l="btn btn-sm btn-primary editclassoperational ",i="btn btn-sm btn-danger editclassoperational ",n="btn btn-sm btn-success editclassoperational ",s="btn btn-sm btn-success editclassoperational",a="btn btn-sm btn-warning editclassoperational ";if(typeof t<"u")for(let f=0;f<t.length;f++)this.dataform.push({osID:t[f].P1,oslabel:t[f].P2,updated:new Date(1e3*t[f].P3).toDateString()+" "+new Date(1e3*t[f].P3).toLocaleTimeString()});else this.dataform=[];let o=[];if(typeof t<"u")for(let f=0;f<t.length;f++)o[f]=new Date(t[f].updatedTime).toLocaleString(),t[f].updatedTime=o[f];else t=[];!0===this.hideDeleteButton?this.columnTableData.push({defaultContent:"<button class='"+n+"' data-bs-target='#holidayModal' data-bs-toggle='modal'>Holiday</button>"},{defaultContent:"<button class='"+s+"' data-bs-target='#multislotModal' data-bs-toggle='modal'>Multislot</button>"},{defaultContent:"<button class='"+a+"' data-bs-target='#customscheduleModal' data-bs-toggle='modal'>Custom Schedule</button>"},{defaultContent:"<button class='"+l+"'data-bs-target='#osModal' data-bs-toggle='modal' ><i class='fa fa-edit'></i></button>"},{defaultContent:"<button class='"+i+"'><i class='fa fa-trash'></i></button>"}):this.columnTableData.push({defaultContent:"<button class='"+n+"' data-bs-target='#holidayModal' data-bs-toggle='modal'>Holiday</button>"},{defaultContent:"<button class='"+s+"' data-bs-target='#multislotModal' data-bs-toggle='modal'>Multislot</button>"},{defaultContent:"<button class='"+a+"' data-bs-target='#customscheduleModal' data-bs-toggle='modal'>Custom Schedule</button>"},{defaultContent:"<button class='"+l+"'data-bs-target='#osModal' data-bs-toggle='modal' ><i class='fa fa-edit'></i></button>"}),console.log("columnDatatable",this.columnTableData),console.log("dataform",this.dataform),$("#operational_lookup_table").off("click"),$("#operational_lookup_table").on("click",".editclassoperational",function(){let f=$(this).closest("tr"),u=g.deviceTableData.row(f);this.className==i?g.deleteOS(u.data()):this.className==l?g.openModal(u.data(),"edit"):this.className==n?(this.enableHoliday=!0,g.showPopupHelpher(u.data(),"editHoliday")):this.className==s?(this.enableMultiSlot=!0,g.showPopupHelpher(u.data(),"editMultislot")):this.className==a&&(this.enableCustomSchedule=!0,g.showPopupHelpher(u.data(),"editSchedule"))}),this.getLookupTableData(this.dataform,this.columnTableData),this.addFromService();let g=this}showPopupHelpher(t,l){console.log("Showing holidays value :",t),this.TemposLabel=t.oslabel,this.api.GetOperationalSchedule(t.osID,this.SK_clientID).then(i=>{if(i&&void 0!==i&&(console.log("Operation Schedule details :",i),i)){let n=[],s=[];if(s.push(i),typeof s<"u")for(let a=0;a<s.length;a++){let o=s[a].PK,g=s[a].oslabel,f=new Date(s[a].updated).toLocaleString(),u=[],b=[],T=[];if(null==s[a].alertschedule)u=[];else{for(let r=0;r<JSON.parse(s[a].alertschedule).length;r++)u.push(JSON.parse(s[a].alertschedule));console.log("holiday_array",u)}if(null==s[a].customschedule)b=[];else for(let r=0;r<JSON.parse(s[a].customschedule).length;r++)b.push(JSON.parse(s[a].customschedule));if(null==s[a].customscheduleTwo)T=[];else for(let r=0;r<JSON.parse(s[a].customscheduleTwo).length;r++)T.push(JSON.parse(s[a].customscheduleTwo));let C=[],p=[],q=[],_=[],U=[],w=[],k=[],O=[],M=[],P=[],N=[],J=[];for(let r=0;r<1;r++){if(JSON.parse(s[a].alertschedule)&&0!==u.length)for(let c=0;c<JSON.parse(s[a].alertschedule).length;c++)q.push(u[r][c]&&u[r][c].enablemultislot&&void 0!==u[r][c].enablemultislot?u[r][c].enablemultislot:""),O.push(u[r][c]&&u[r][c].break_type&&void 0!==u[r][c].break_type?u[r][c].break_type:""),_.push(u[r][c]&&u[r][c].multislotID&&void 0!==u[r][c].multislotID?u[r][c].multislotID:""),U.push(u[r][c]&&u[r][c].days&&void 0!==u[r][c].days?u[r][c].days:""),w.push(u[r][c]&&u[r][c].multiSlot_fromTime&&void 0!==u[r][c].multiSlot_fromTime?u[r][c].multiSlot_fromTime:""),k.push(u[r][c]&&u[r][c].multiSlot_toTime&&void 0!==u[r][c].multiSlot_toTime?u[r][c].multiSlot_toTime:"");if(JSON.parse(s[a].customschedule)&&0!==b.length)for(let c=0;c<JSON.parse(s[a].customschedule).length;c++)C.push(b[r][c]&&void 0!==b[r][c].holiday?b[r][c].holiday:""),p.push(b[r][c]&&void 0!==b[r][c].holidate?b[r][c].holidate:"");if(JSON.parse(s[a].customscheduleTwo)&&0!==T.length)for(let c=0;c<JSON.parse(s[a].customscheduleTwo).length;c++)M.push(T[r][c]&&void 0!==T[r][c].customID?T[r][c].customID:""),P.push(T[r][c]&&void 0!==T[r][c].customLabel?T[r][c].customLabel:""),N.push(T[r][c]&&void 0!==T[r][c].custom_from_time?T[r][c].custom_from_time:""),J.push(T[r][c]&&void 0!==T[r][c].custom_to_time?T[r][c].custom_to_time:"")}n.push({osID:o,oslabel:g,updated:f,holiday:C,datelist:p,enablemultislot:q,multislotID:_,breakType:O,multislot_days:U,multi_fromTime:w,multi_toTime:k,customID:M,customLabel:P,customFromTime:N,customToTime:J})}else n=[];"editHoliday"==l&&n?this.showPopup(n[0],"editHoliday"):"editMultislot"==l&&n?this.showPopup(n[0],"editMultislot"):"editSchedule"==l&&n&&this.showPopup(n[0],"editSchedule")}}).catch(i=>{console.log("cant fetch",i)})}getLookupTableData(t,l){var i=this;return(0,A.Z)(function*(){console.log("chk1 tm",t),console.log("chk2 tm",l);try{i.deviceTableData&&$.fn.DataTable.isDataTable("#operational_lookup_table")&&i.deviceTableData.destroy(),i.deviceTableData=$("#operational_lookup_table").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!0,responsive:!0,data:t,ordering:!0,order:[[3,"asc"]],columnDefs:[{type:"date",targets:3}],columns:l})}catch(n){console.error("Error initializing DataTable:",n)}})()}initializeOSFields(){this.createOSField=this.fb.group({osID:["",y.kI.required],oslabel:["",y.kI.required]})}initializeHoliday(){this.createHoliday=this.fb.group({holiday:[""],holidate:[""]})}initializeMultislot(){this.createMultislot=this.fb.group({enablemultislot:["",y.kI.required],multislotID:["",y.kI.required],break_type:["",y.kI.required],days:["",y.kI.required],multiSlot_fromTime:[""],multiSlot_toTime:[""]})}initializeCustomSchedule(){this.createCustomSchedule=this.fb.group({customID:["",y.kI.required],customLabel:["",y.kI.required],custom_from_time:["",y.kI.required],custom_to_time:["",y.kI.required]})}addFromService(){this.columnDatatable=[],this.columnTableData=[],this.columnDatatable=[{data:"osID"},{data:"oslabel"},{data:"updated"}],this.columnTableData=[{data:"osID"},{data:"oslabel"},{data:"updated"}],this.checkPermission(),this.operationalscheduleType.getSpecificOperationalSchedule(this.SK_clientID).then(t=>{if(t&&void 0!==t){this.data_temp=t,this.listofSK=[];for(let l=0;l<t.length;l++)this.listofSK.push(t[l]?.PK);this.getMultiSlotDatatable(this.data_temp)}(null==t||null==t)&&(this.data_temp=t,this.getMultiSlotDatatable(this.data_temp))}).catch(t=>{console.log("cant fetch",t)})}checkPermission(){let t=!1,l=!1;for(let i=0;i<this.allPermissions_user.length;i++)"Operational Schedule - Update"===this.allPermissions_user[i]?t=!0:"Operational Schedule - View"===this.allPermissions_user[i]&&(l=!0);t&&l||t?this.hideDeleteButton=!0:l?this.hideDeleteButton=!1:this.router.navigate(["/404"])}checkUniqueIdentifier(t){this.errorForUniqueID="";for(let l=0;l<this.listofSK.length;l++)t.target.value==this.listofSK[l]&&(this.errorForUniqueID="Operational Schedule already exists")}openModal(t,l){if("edit"==l||""==l)if(this.errorForUniqueID="",""==t)this.showModal=!1,this.showHeading=!0,this.createOSField.get("osID")?.enable(),this.createOSField=this.fb.group({osID:t.osID,oslabel:t.oslabel});else if(t){this.showModal=!0,this.showHeading=!1,this.createOSField.get("osID")?.disable(),this.errorForUniqueID="";for(let i=0;i<this.allPermissions_user.length;i++){if("Operational Schedule - Update"===this.allPermissions_user[i]){this.hideUpdateButton=!1;break}"Operational Schedule - View"===this.allPermissions_user[i]&&(this.hideUpdateButton=!0)}this.createOSField=this.fb.group({osID:t.osID,oslabel:t.oslabel,enablemultislot:t.enablemultislot}),this.auditTrialServices.audit_trail("2.1","Operational Schedule","View",`${t.osID} Operational Schedule was viewed`,"1")}"editHoliday"==l&&(this.createOSField=this.fb.group({osID:t.osID,oslabel:t.oslabel})),"editMultislot"==l&&(this.createOSField=this.fb.group({osID:t.osID,oslabel:t.oslabel})),"editSchedule"==l&&(this.createOSField=this.fb.group({osID:t.osID,oslabel:t.oslabel})),this.cd.detectChanges()}getHolidayDatatable(t){let l=[];if(typeof t<"u")for(let u=0;u<t.length;u++){let b=t[u].PK,T=t[u].oslabel,C=new Date(t[u].updated).toLocaleString(),p=[],q=[],_=[];if(null==t[u].alertschedule)p=[];else{for(let m=0;m<JSON.parse(t[u].alertschedule).length;m++)p.push(JSON.parse(t[u].alertschedule));console.log("holiday_array",p)}if(null==t[u].customschedule)q=[];else for(let m=0;m<JSON.parse(t[u].customschedule).length;m++)q.push(JSON.parse(t[u].customschedule));if(null==t[u].customscheduleTwo)_=[];else for(let m=0;m<JSON.parse(t[u].customscheduleTwo).length;m++)_.push(JSON.parse(t[u].customscheduleTwo));let U=[],w=[],k=[],O=[],M=[],P=[],N=[],J=[],r=[],c=[],B=[],x=[];for(let m=0;m<1;m++){if(JSON.parse(t[u].alertschedule)&&0!==p.length)for(let h=0;h<JSON.parse(t[u].alertschedule).length;h++)k.push(p[m][h]&&p[m][h].enablemultislot&&void 0!==p[m][h].enablemultislot?p[m][h].enablemultislot:""),J.push(p[m][h]&&p[m][h].break_type&&void 0!==p[m][h].break_type?p[m][h].break_type:""),O.push(p[m][h]&&p[m][h].multislotID&&void 0!==p[m][h].multislotID?p[m][h].multislotID:""),M.push(p[m][h]&&p[m][h].days&&void 0!==p[m][h].days?p[m][h].days:""),P.push(p[m][h]&&p[m][h].multiSlot_fromTime&&void 0!==p[m][h].multiSlot_fromTime?p[m][h].multiSlot_fromTime:""),N.push(p[m][h]&&p[m][h].multiSlot_toTime&&void 0!==p[m][h].multiSlot_toTime?p[m][h].multiSlot_toTime:"");if(JSON.parse(t[u].customschedule)&&0!==q.length)for(let h=0;h<JSON.parse(t[u].customschedule).length;h++)U.push(q[m][h]&&void 0!==q[m][h].holiday?q[m][h].holiday:""),w.push(q[m][h]&&void 0!==q[m][h].holidate?q[m][h].holidate:"");if(JSON.parse(t[u].customscheduleTwo)&&0!==_.length)for(let h=0;h<JSON.parse(t[u].customscheduleTwo).length;h++)r.push(_[m][h]&&void 0!==_[m][h].customID?_[m][h].customID:""),c.push(_[m][h]&&void 0!==_[m][h].customLabel?_[m][h].customLabel:""),B.push(_[m][h]&&void 0!==_[m][h].custom_from_time?_[m][h].custom_from_time:""),x.push(_[m][h]&&void 0!==_[m][h].custom_to_time?_[m][h].custom_to_time:"")}l.push({osID:b,oslabel:T,updated:C,holiday:U,datelist:w,enablemultislot:k,multislotID:O,breakType:J,multislot_days:M,multi_fromTime:P,multi_toTime:N,customID:r,customLabel:c,customFromTime:B,customToTime:x})}else l=[];let i="btn btn-sm btn-success editdelete ",n="btn btn-sm btn-success editdelete",s="btn btn-sm btn-warning editdelete ",a="btn btn-sm btn-primary editdelete ",o="btn btn-sm btn-danger editdelete ";$("#operational_schedule").off("click"),$("#operational_schedule").on("click",".editdelete",function(){let u=$(this).closest("tr"),b=g.row(u);this.className==o?f.deleteOS(b.data()):this.className==a?f.openModal(b.data(),"edit"):this.className==i?(this.enableHoliday=!0,f.showPopup(b.data(),"editHoliday")):this.className==n?(this.enableMultiSlot=!0,f.showPopup(b.data(),"editMultislot")):this.className==s&&(this.enableCustomSchedule=!0,f.showPopup(b.data(),"editSchedule"))}),!0===this.hideDeleteButton?this.columnDatatable.push({defaultContent:"<button class='"+i+"' data-bs-target='#holidayModal' data-bs-toggle='modal'>Holiday</button>"},{defaultContent:"<button class='"+n+"' data-bs-target='#multislotModal' data-bs-toggle='modal'>Multislot</button>"},{defaultContent:"<button class='"+s+"' data-bs-target='#customscheduleModal' data-bs-toggle='modal'>Custom Schedule</button>"},{defaultContent:"<button class='"+a+"'data-bs-target='#osModal' data-bs-toggle='modal' ><i class='fa fa-edit'></i></button>"},{defaultContent:"<button class='"+o+"'><i class='fa fa-trash'></i></button>"}):this.columnDatatable.push({defaultContent:"<button class='"+i+"' data-bs-target='#holidayModal' data-bs-toggle='modal'>Holiday</button>"},{defaultContent:"<button class='"+n+"' data-bs-target='#multislotModal' data-bs-toggle='modal'>Multislot</button>"},{defaultContent:"<button class='"+s+"' data-bs-target='#customscheduleModal' data-bs-toggle='modal'>Custom Schedule</button>"},{defaultContent:"<button class='"+a+"'data-bs-target='#osModal' data-bs-toggle='modal' ><i class='fa fa-edit'></i></button>"});let g=$("#operational_schedule").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!1,responsive:!0,data:l,order:[[3,"date"]],columnDefs:[{type:"date",targets:3}],columns:this.columnDatatable}),f=this}getMultiSlotDatatable(t){let l=[];if(typeof t<"u")for(let f=0;f<t.length;f++){let u=[];if(null==t[f].customschedule)u=[];else for(let _=0;_<JSON.parse(t[f].customschedule).length;_++)u.push(JSON.parse(t[f].customschedule));let b=[],T=[],C=[],p=[],q=[];for(let _=0;_<1;_++)if(JSON.parse(t[f].customschedule))for(let U=0;U<JSON.parse(t[f].customschedule).length;U++)b.push(u[_][U].breakType),T.push(u[_][U].days),C.push(u[_][U].fromTime),p.push(u[_][U].id),q.push(u[_][U].toTime);l.push({customScheduleId:p,breakType:b,days:T,fromTime:C,toTime:q})}else l=[];let s="btn btn-sm btn-primary editdelete ",a="btn btn-sm btn-danger editdelete ";$("#multislot_table").off("click"),$("#multislot_table").on("click",".editdelete",function(){let f=$(this).closest("tr"),u=o.row(f);this.className==a||this.className==s&&g.openModal(u.data(),"edit")});let o=$("#multislot_table").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!1,responsive:!0,data:l,order:[[3,"date"]],columnDefs:[{type:"date",targets:3}],columns:[{data:"customScheduleId"},{data:"breakType"},{data:"days"},{data:"fromTime"},{data:"toTime"},{defaultContent:"<button class='btn btn-sm btn-success editdelete ' data-bs-target='#multislotModal' data-bs-toggle='modal'>Alert Schedule</button>"},{defaultContent:"<button class='btn btn-sm btn-warning editdelete ' data-bs-target='#customscheduleModal' data-bs-toggle='modal'>Custom Schedule</button>"},{defaultContent:"<button class='"+s+"' data-bs-target='#osModal' data-bs-toggle='modal'>Edit</button>"},{defaultContent:"<button class='"+a+"'>Delete</button>"}]}),g=this}showPopup(t,l){console.log("Show Popup values :",t),this.enableSaveButton=!1,this.openModal(t,l),"editHoliday"==l&&null!==t.PK&&null!==t.SK&&this.editHoliday_params(t,""),"editMultislot"==l&&null!==t.PK&&null!==t.SK&&this.editMultislot_params(t,""),"editSchedule"==l&&null!==t.PK&&null!==t.SK&&this.editCustomSchedule_params(t,"")}editHoliday_params(t,l){if("multiple"==l&&t.holiday){for(let o=0;o<1;o++)this.final_params.push({holidate:t.holidate,holiday:t.holiday});this.enableHoliday=!1}if(t.holiday&&void 0!==t.holiday&&"multiple"!==l){this.final_params=[];for(let o=0;o<t.holiday.length;o++)""!==t.holiday[o]&&this.final_params.push({holidate:t.datelist[o],holiday:t.holiday[o]})}else if("from_delete"!==l)for(let o=0;o<t.length;o++)this.final_params.push({holidate:t.holidate,holiday:t.holiday});if("from_delete"==l){this.final_params=[];for(let o=0;o<t.length;o++)this.final_params.push({holidate:t[o].holidate,holiday:t[o].holiday})}this.multi_params=this.final_params,this.listofholidays=[];for(let o=0;o<this.multi_params.length;o++)this.listofholidays.push(this.multi_params[o]?.holiday);this.createHoliday.reset();let n="btn btn-sm btn-danger editparamspopup";$("#holiday_table").off("click"),$("#holiday_table").on("click",".editparamspopup",function(){let o=$(this).closest("tr"),g=s.row(o);"btn btn-sm btn-primary editparamspopup"==this.className||this.className==n&&a.deleteHolidayRow(g.data())});let s=$("#holiday_table").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!1,responsive:!0,data:this.final_params,columns:[{data:"holiday"},{data:"holidate"},{defaultContent:"<button class='"+n+"'>Delete</button>"}]}),a=this}editMultislot_params(t,l){if(console.log("add of mulislot",t),"multiple"==l&&t.multislotID){for(let o=0;o<1;o++)this.final_multiSlot_params.push({enablemultislot:t.enablemultislot,multislotID:t.multislotID,break_type:t.break_type,days:t.days,multiSlot_fromTime:t.multiSlot_fromTime,multiSlot_toTime:t.multiSlot_toTime});this.enableMultiSlot=!1}if(t.multislotID&&void 0!==t.multislotID&&"multiple"!==l){this.final_multiSlot_params=[];for(let o=0;o<t.multislotID.length;o++)""!==t.multislotID[o]&&this.final_multiSlot_params.push({enablemultislot:t.enablemultislot[o],multislotID:t.multislotID[o],break_type:t.breakType[o],days:t.multislot_days[o],multiSlot_fromTime:t.multi_fromTime[o],multiSlot_toTime:t.multi_toTime[o]})}else if("from_delete"!==l)for(let o=0;o<t.length;o++)this.final_multiSlot_params.push({enablemultislot:t.enablemultislot,multislotID:t.multislotID,break_type:t.break_type,days:t.days,multiSlot_fromTime:t.multiSlot_fromTime,multiSlot_toTime:t.multiSlot_toTime});if("from_delete"==l){this.final_multiSlot_params=[];for(let o=0;o<t.length;o++)this.final_multiSlot_params.push({enablemultislot:t[o].enablemultislot,multislotID:t[o].multislotID,break_type:t[o].break_type,days:t[o].days,multiSlot_fromTime:t[o].multiSlot_fromTime,multiSlot_toTime:t[o].multiSlot_toTime})}this.multi_multislot_params=this.final_multiSlot_params,this.listofmultislotID=[];for(let o=0;o<this.multi_multislot_params.length;o++)this.listofmultislotID.push(this.multi_multislot_params[o]?.multislotID);this.createMultislot.reset();let n="btn btn-sm btn-danger editmultislot";$("#multislot").off("click"),$("#multislot").on("click",".editmultislot",function(){let o=$(this).closest("tr"),g=s.row(o);"btn btn-sm btn-primary editmultislot"==this.className||this.className==n&&a.deleteMultislotRow(g.data())});let s=$("#multislot").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!1,responsive:!0,data:this.final_multiSlot_params,columns:[{data:"multislotID"},{data:"break_type"},{data:"days"},{data:"multiSlot_fromTime"},{data:"multiSlot_toTime"},{defaultContent:"<button class='"+n+"'>Delete</button>"}]}),a=this}editCustomSchedule_params(t,l){if("multiple"==l&&t.customID){for(let o=0;o<1;o++)this.final_customSchedule.push({customID:t.customID,customLabel:t.customLabel,custom_from_time:t.custom_from_time,custom_to_time:t.custom_to_time});this.enableCustomSchedule=!1}if(t.customID&&void 0!==t.customID&&"multiple"!==l){this.final_customSchedule=[];for(let o=0;o<t.customID.length;o++)this.final_customSchedule.push({customID:t.customID[o],customLabel:t.customLabel[o],custom_from_time:t.customFromTime[o],custom_to_time:t.customToTime[o]})}else if("from_delete"!==l)for(let o=0;o<t.length;o++)this.final_customSchedule.push({customID:t.customID,customLabel:t.customLabel,custom_from_time:t.customFromTime,custom_to_time:t.customToTime});if("from_delete"==l){this.final_customSchedule=[];for(let o=0;o<t.length;o++)this.final_customSchedule.push({customID:t[o].customID,customLabel:t[o].customLabel,custom_from_time:t[o].custom_from_time,custom_to_time:t[o].custom_to_time})}this.multi_custom_schedule=this.final_customSchedule,this.listofcustomID=[];for(let o=0;o<this.multi_custom_schedule.length;o++)this.listofcustomID.push(this.multi_custom_schedule[o]?.customID);this.createCustomSchedule.reset();let n="btn btn-sm btn-danger editcspopup";$("#customSchedule_table").off("click"),$("#customSchedule_table").on("click",".editcspopup",function(){let o=$(this).closest("tr"),g=s.row(o);"btn btn-sm btn-primary editcspopup"==this.className||this.className==n&&a.deleteCustomSchedule(g.data())});let s=$("#customSchedule_table").DataTable({pagingType:"full_numbers",destroy:!0,lengthChange:!1,responsive:!0,data:this.final_customSchedule,columns:[{data:"customID"},{data:"customLabel"},{data:"custom_from_time"},{data:"custom_to_time"},{defaultContent:"<button class='"+n+"'>Delete</button>"}]}),a=this}checkUniqueCustomID(t){this.errorForUniqueCustomID="";for(let l=0;l<this.listofcustomID.length;l++)t.target.value==this.listofcustomID[l]&&(this.errorForUniqueCustomID="Custom ID already exists")}checkUniqueHoliday(t){this.errorForUniqueHoliday="";for(let l=0;l<this.listofholidays.length;l++)t.target.value==this.listofholidays[l]&&(this.errorForUniqueHoliday="Holiday already exists")}checkUniqueMultiSlotID(t){this.errorForUniqueMultislotID="";for(let l=0;l<this.listofmultislotID.length;l++)t.target.value==this.listofmultislotID[l]&&(this.errorForUniqueMultislotID="MultiSlot ID already exists")}checkValidTime(t,l){console.log("fro time",t),console.log("to time",l),t>l?(console.log("time is greater than to"),this.disableAddButton=!1):(console.log("time is lesser than to"),this.disableAddButton=!0)}createNewOS(t){var l=this;this.allOSDetails={PK:this.createOSField.value.osID.trim(),SK:this.SK_clientID,oslabel:this.createOSField.value.oslabel,updated:new Date};const i=Math.ceil((new Date).getTime()/1e3),n={P1:this.allOSDetails.PK,P2:this.allOSDetails.oslabel,P3:i};this.api.CreateOperationalSchedule(this.allOSDetails).then(function(){var s=(0,A.Z)(function*(a){l.addFromService(),a?(l.auditTrialServices.audit_trail("2.1","Operational Schedule","Create",`${l.allOSDetails.PK} Operational Schedule was created`,"1"),yield l.createLookUpRdt(n,1),yield l.loading(),l.toast.open("New Operational Schedule configuration created successfully"," ",{duration:2e3,horizontalPosition:"right",verticalPosition:"top"}),l.closeOS.nativeElement.click()):alert("Error in Creating operational schedule Configuration")});return function(a){return s.apply(this,arguments)}}()).catch(s=>{console.log("err for creation",s),this.toast.open("Error in Creating New operational schedule Configuration ","Check again",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})})}createLookUpRdt(t,l){var i=this;return(0,A.Z)(function*(){try{console.log("iam a calleddd dude",t,l);const n=yield i.api.GetLookupMasterTable(i.clientID,l);let s=[];if(null!=n&&n.items&&"string"==typeof n.items&&(s=JSON.parse(n.items)),null!=n&&s.length<i.maxlength){let a=[];n.items&&"string"==typeof n.items&&JSON.parse(n.items).forEach(u=>{for(const b in u)Object.prototype.hasOwnProperty.call(u,b)&&a.push(u[b])}),a.unshift(t),a=a.map((f,u)=>({[`L${u+1}`]:f})),console.log("newdata 11111111 :>> ",a);let o={PK:i.clientID,SK:n.SK,createdTime:"",updatedTime:"",items:JSON.stringify(a)};const g=yield i.api.UpdateLookupMasterTable(o);console.log("createResponse :>> ",g)}else if(null==n){let a=[];a.push(t),a=a.map((f,u)=>({[`L${u+1}`]:f}));let o={SK:l,PK:i.clientID,items:JSON.stringify(a)};console.log(o);const g=yield i.api.CreateLookupMasterTable(o);console.log(g)}else yield i.createLookUpRdt(t,l+1)}catch(n){console.log("err :>> ",n)}})()}updateOS(t,l){var i=this;let n;if("editOS"==l){this.allOSDetails={PK:this.createOSField.value.osID,SK:this.SK_clientID,oslabel:this.createOSField.value.oslabel,updated:new Date};const s=Math.ceil((new Date).getTime()/1e3);n={P1:this.allOSDetails.PK,P2:this.allOSDetails.oslabel,P3:s}}if("editmultislot"==l){this.allOSDetails={PK:this.createOSField.value.osID,SK:this.SK_clientID,alertschedule:JSON.stringify(this.final_multiSlot_params),updated:new Date};const s=Math.ceil((new Date).getTime()/1e3);n={P1:this.allOSDetails.PK,P2:this.TemposLabel,P3:s}}if("deletemultislot"==l){this.allOSDetails={PK:this.createOSField.value.osID,SK:this.SK_clientID,alertschedule:JSON.stringify(this.final_multiSlot_params),updated:new Date};const s=Math.ceil((new Date).getTime()/1e3);n={P1:this.allOSDetails.PK,P2:this.TemposLabel,P3:s}}if("editholiday"==l){this.allOSDetails={PK:this.createOSField.value.osID,SK:this.SK_clientID,customschedule:JSON.stringify(this.final_params),updated:new Date};const s=Math.ceil((new Date).getTime()/1e3);n={P1:this.allOSDetails.PK,P2:this.TemposLabel,P3:s}}if("deleteholiday"==l){this.allOSDetails={PK:this.createOSField.value.osID,SK:this.SK_clientID,customschedule:JSON.stringify(this.final_params),updated:new Date};const s=Math.ceil((new Date).getTime()/1e3);n={P1:this.allOSDetails.PK,P2:this.TemposLabel,P3:s}}if("editCustomSchedule"==l){this.allOSDetails={PK:this.createOSField.value.osID,SK:this.SK_clientID,customscheduleTwo:JSON.stringify(this.final_customSchedule),updated:new Date};const s=Math.ceil((new Date).getTime()/1e3);n={P1:this.allOSDetails.PK,P2:this.TemposLabel,P3:s}}this.api.UpdateOperationalSchedule(this.allOSDetails).then(function(){var s=(0,A.Z)(function*(a){a?(i.auditTrialServices.audit_trail("2.1","Operational Schedule","Update",`${i.allOSDetails.PK} Operational Schedule was updated`,"1"),yield i.fetchTimeMachineById(1,n.P1,"update",n),yield i.loading(),i.toast.open("Operational Schedule Configuration updated successfully","",{duration:2e3,horizontalPosition:"right",verticalPosition:"top"}),i.addFromService(),i.closeOS.nativeElement.click(),i.closeMultiSlot.nativeElement.click(),i.closeHoliday.nativeElement.click(),i.closeCustomSchedule.nativeElement.click(),i.enableHoliday=!0,i.enableMultiSlot=!0,i.enableCustomSchedule=!0):alert("Error in updating Configuration")});return function(a){return s.apply(this,arguments)}}()).catch(s=>{console.log("error for updating",s)})}fetchTimeMachineById(t,l,i,n){var s=this;return(0,A.Z)(function*(){try{const a=yield s.api.GetLookupMasterTable(s.clientID,t);if(a&&a.items){let o=yield JSON.parse(a.items),g=o.findIndex(f=>f[Object.keys(f)[0]].P1===l);if(-1!==g){if("update"===i){o[g][`L${g+1}`]=n;const u=[];for(let b=0;b<o.length;b++){const T=Object.keys(o[b])[0],C=`L${b+1}`;if(T){const p={[C]:o[b][T]},q=u.findIndex(_=>Object.keys(_)[0]===C);-1!==q?Object.assign(u[q][C],o[b][T]):u.push(p)}else console.error(`Original key not found for renaming in data[${b}].`)}o=u}else"delete"===i&&o.splice(g,1);let f={PK:s.clientID,SK:a.SK,items:JSON.stringify(o)};yield s.api.UpdateLookupMasterTable(f)}else yield new Promise(f=>setTimeout(f,500)),yield s.fetchTimeMachineById(t+1,l,i,n)}else S().fire({position:"top-right",icon:"error",title:`ID ${l} not found`,showConfirmButton:!1,timer:1500})}catch(a){console.error("Error:",a)}})()}deleteOS(t){var l=this;this.allOSDetails=t,this.allOSDetails&&this.allOSDetails.osID&&(this.allOSDetails={PK:this.allOSDetails.osID,SK:this.SK_clientID},S().fire({position:"center",title:"Are you sure?",text:"You wont get these details back again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, let me think"}).then(i=>{if(console.log("inside sweetalert",i),i.dismiss!==S().DismissReason.cancel){Math.ceil((new Date).getTime()/1e3);const s={P1:this.allOSDetails.PK};this.api.DeleteOperationalSchedule(this.allOSDetails).then(function(){var a=(0,A.Z)(function*(o){l.addFromService(),o&&(l.auditTrialServices.audit_trail("2.1","Operational Schedule","Delete",`${l.allOSDetails.PK} Operational Schedule was deleted`,"1"),yield l.fetchTimeMachineById(1,s.P1,"delete",s),yield l.loading(),S().fire("Removed!","OS removed successfully.","success"))});return function(o){return a.apply(this,arguments)}}()).catch(a=>{console.log("error for deleting",a)})}else i.dismiss===S().DismissReason.cancel&&S().fire("Cancelled","OS not removed","error")}))}deleteHolidayRow(t){S().fire({position:"center",title:"Are you sure?",text:"You wont get these details back again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, let me think"}).then(l=>{if(console.log("inside sweetalert",l),l.dismiss!==S().DismissReason.cancel){if(1==l.isConfirmed){const i=this.final_params.indexOf(t);this.final_params.splice(i,1),this.editHoliday_params(this.final_params,"from_delete"),this.updateOS(this.final_params,"deleteholiday"),S().fire("Removed!","holiday removed successfully.","success")}}else l.dismiss===S().DismissReason.cancel&&S().fire("Cancelled","holiday not removed","error")})}deleteMultislotRow(t){S().fire({position:"center",title:"Are you sure?",text:"You wont get these details back again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, let me think"}).then(l=>{if(console.log("inside sweetalert",l),l.dismiss!==S().DismissReason.cancel){if(1==l.isConfirmed){const i=this.final_multiSlot_params.indexOf(t);this.final_multiSlot_params.splice(i,1),console.log("after deleted",this.final_multiSlot_params),this.editMultislot_params(this.final_multiSlot_params,"from_delete"),this.updateOS(this.final_multiSlot_params,"deletemultislot"),S().fire("Removed!","Multislot removed successfully.","success")}}else l.dismiss===S().DismissReason.cancel&&S().fire("Cancelled","Multislot not removed","error")})}deleteCustomSchedule(t){S().fire({position:"center",title:"Are you sure?",text:"You wont get these details back again",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Yes, go ahead.",cancelButtonText:"No, let me think"}).then(l=>{if(console.log("inside sweetalert",l),l.dismiss!==S().DismissReason.cancel){if(1==l.isConfirmed){const i=this.final_customSchedule.indexOf(t);this.final_customSchedule.splice(i,1),console.log("after deleted",this.final_customSchedule),this.editCustomSchedule_params(this.final_customSchedule,"from_delete"),this.updateOS(this.final_customSchedule,"editCustomSchedule"),S().fire("Removed!","Custom schedule removed successfully.","success")}}else l.dismiss===S().DismissReason.cancel&&S().fire("Cancelled","Custom schedule not removed","error")})}}return Z=v,(0,d.Z)(v,"\u0275fac",function(t){return new(t||Z)(e.Y36(y.QS),e.Y36(Q.F),e.Y36(R.t),e.Y36(K.ux),e.Y36(L.F0),e.Y36(e.sBO),e.Y36(G.C))}),(0,d.Z)(v,"\u0275cmp",e.Xpm({type:Z,selectors:[["app-operationalschedule"]],viewQuery:function(t,l){if(1&t&&(e.Gf(z,5),e.Gf(j,5),e.Gf(W,5),e.Gf(X,5)),2&t){let i;e.iGM(i=e.CRH())&&(l.closeOS=i.first),e.iGM(i=e.CRH())&&(l.closeHoliday=i.first),e.iGM(i=e.CRH())&&(l.closeMultiSlot=i.first),e.iGM(i=e.CRH())&&(l.closeCustomSchedule=i.first)}},decls:355,vars:30,consts:[[1,"card","mb-5","mb-xl-8"],[1,"card-header","border-0","pt-5"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bolder","fs-3","mb-1"],[1,"card-toolbar"],["type","button","class","btn btn-sm btn-primary","data-bs-toggle","modal","data-bs-target","#osModal",3,"click",4,"ngIf"],[1,"card-body","py-3"],[1,"table-responsive"],["id","operational_lookup_table",1,"table","table-striped","table-bordered","table-hover","table-responsive-sm"],[4,"ngIf"],["id","osModal","tabindex","-1","aria-labelledby","osModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content",2,"width","600px","transform","translate(-10%, 0px)"],[1,"modal-header"],["class","modal-title","id","osLabel",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"fv-row",3,"formGroup"],[1,"card-body","border-top","p-9"],[1,"container"],[1,"column"],[1,"col-md-12"],[1,"col-lg-12","col-form-label","fw-bold","fs-6","required"],["type","text","placeholder","Enter operationalschedule id","name","osID","formControlName","osID","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"keyup"],[2,"color","#fc1900"],["class","fv-plugins-message-container invalid-feedback",4,"ngIf"],["type","text","placeholder","Enter operationalschedule label","name","oslabel","formControlName","oslabel","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-sm","btn-danger"],["closeOS",""],["type","submit","class","btn btn-sm btn-primary",3,"hidden","disabled","click",4,"ngIf"],["type","button","class","btn btn-sm btn-primary not-allowed",3,"disabled","click",4,"ngIf"],["id","holidayModal","tabindex","-1","aria-labelledby","osholidayModal","aria-hidden","true",1,"modal","fade"],[1,"modal-content",2,"width","900px","transform","translate(-27%, 0px)"],["id","osholidayModal",1,"modal-title"],[1,"card-body","border-top"],[1,"row"],[1,"col-lg-4",2,"padding-top","30px"],[1,"col-lg-4"],[1,"col-lg-12","col-form-label","fw-bold","fs-6"],[1,"col-md-8"],["type","text","placeholder","Enter holiday","name","holiday","formControlName","holiday","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"keyup"],["type","date","name","holidate","formControlName","holidate","required","",1,"col-lg-12","col-form-label","fw-bold","fs-6"],[1,"col-lg-4",2,"padding-top","35px"],["type","button",1,"col-lg-12","btn","btn-sm","btn-icon","btn-primary",3,"disabled","click"],[1,"svg-icon","svg-icon-3",3,"inlineSVG"],[1,"container","table-responsive"],["id","holiday_table",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4",2,"width","100%"],["closeHoliday",""],["type","button",1,"btn","btn-sm","btn-primary",3,"disabled","click"],["id","multislotModal","tabindex","-1","aria-labelledby","osMultiSlotModal","aria-hidden","true",1,"modal","fade"],[1,"modal-content",2,"width","1200px","transform","translate(-27%, 0px)"],["id","osMultiSlotModal",1,"modal-title"],[1,"col-lg-4","form-check","form-switch"],[1,"col-lg-6",2,"padding-top","10px"],["formControlName","enablemultislot","type","checkbox",1,"col-lg-12","form-check-input"],[1,"col-lg-12","col-form-label","fw-bold","fs-6",2,"padding-top","0px"],[1,"col-lg-6"],[1,"col-lg-3"],[1,"col-lg-4","col-form-label","fw-bold","fs-6"],[1,"col-lg-9"],["type","text","placeholder","Enter id","name","multislotID","formControlName","multislotID","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"keyup"],[1,"col-form-label","fw-bold","fs-6"],["placeholder","select break type","name","break_type","formControlName","break_type","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["value","null","disabled","true",3,"selected"],["value","Operation"],["value","Break"],["value","Non Working Hour"],[1,"col-md-6"],["placeholder","select days","name","days","formControlName","days","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["value","Sunday"],["value","Monday"],["value","Tuesday"],["value","Wednesday"],["value","Thursday"],["value","Friday"],["value","Saturday"],[1,"col-lg-5"],[1,"col-lg-3","col-form-label","fw-bold","fs-6"],["formControlName","multiSlot_fromTime","type","time","name","multiSlot_fromTime","id","multiSlot_fromTime","required","",1,"col-lg-9","col-form-label","fw-bold","fs-6"],["formControlName","multiSlot_toTime","type","time","name","multiSlot_toTime","id","multiSlot_toTime","required","",1,"col-lg-9","col-form-label","fw-bold","fs-6"],[1,"col-lg-2"],["id","multislot",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4",2,"width","100%"],["closeMultiSlot",""],["id","customscheduleModal","tabindex","-1","aria-labelledby","oscustomScheduleModal","aria-hidden","true",1,"modal","fade"],["id","oscustomScheduleModal",1,"modal-title"],[1,"col-lg-6",2,"padding-top","5px"],["type","text","placeholder","Enter id","name","customID","formControlName","customID","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0",3,"keyup"],["type","text","placeholder","Enter label","name","customLabel","formControlName","customLabel","required","",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["placeholder","select break type","name","custom_from_time","formControlName","custom_from_time","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],["value","13"],["value","14"],["value","15"],["value","16"],["value","17"],["value","18"],["value","19"],["value","20"],["value","21"],["value","22"],["value","23"],["value","24"],["placeholder","select break type","name","custom_to_time","formControlName","custom_to_time","required","",1,"form-select","form-select-solid","form-select-lg","fw-bold"],[1,"col-lg-2",2,"padding-top","5px"],["id","customSchedule_table",1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4",2,"width","100%"],["closeCustomSchedule",""],["type","button","data-bs-toggle","modal","data-bs-target","#osModal",1,"btn","btn-sm","btn-primary",3,"click"],["id","osLabel",1,"modal-title"],[1,"fv-plugins-message-container","invalid-feedback"],["type","submit",1,"btn","btn-sm","btn-primary",3,"hidden","disabled","click"],["type","button",1,"btn","btn-sm","btn-primary","not-allowed",3,"disabled","click"]],template:function(t,l){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"span",3),e._uU(4," Operational Schedule"),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,V,2,0,"button",5),e.qZA()()(),e.TgZ(7,"div",0)(8,"div",6)(9,"div",7)(10,"table",8)(11,"thead"),e.YNc(12,ee,17,0,"tr",9),e.YNc(13,te,15,0,"tr",9),e.qZA()()()()(),e.TgZ(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13),e.YNc(18,le,2,0,"h2",14),e.YNc(19,oe,2,0,"h2",14),e._UZ(20,"button",15),e.qZA(),e.TgZ(21,"div",16)(22,"div",17)(23,"div",18)(24,"div",19)(25,"div",20)(26,"label",21),e._uU(27,"ID"),e.qZA(),e.TgZ(28,"input",22),e.NdJ("keyup",function(n){return l.checkUniqueIdentifier(n)}),e.qZA(),e.TgZ(29,"span",23),e._uU(30),e.qZA(),e.YNc(31,ie,2,0,"div",24),e.qZA(),e.TgZ(32,"div",20)(33,"label",21),e._uU(34," Label"),e.qZA(),e._UZ(35,"input",25),e.YNc(36,ae,2,0,"div",24),e.qZA()()()()(),e.TgZ(37,"div",26)(38,"button",27,28),e._uU(40,"Cancel"),e.qZA(),e.YNc(41,se,2,3,"button",29),e.YNc(42,ue,2,1,"button",30),e.qZA()()()(),e.TgZ(43,"div",31)(44,"div",11)(45,"div",32)(46,"div",13)(47,"h2",33),e._uU(48," Holiday Configuration"),e.qZA(),e._UZ(49,"button",15),e.qZA(),e.TgZ(50,"div",16)(51,"div",34)(52,"div",18)(53,"div",35)(54,"div",36)(55,"div",35)(56,"div",37)(57,"label",38)(58,"b"),e._uU(59," Add Holidays"),e.qZA()()(),e.TgZ(60,"div",39)(61,"input",40),e.NdJ("keyup",function(n){return l.checkUniqueHoliday(n)}),e.qZA(),e.TgZ(62,"span",23),e._uU(63),e.qZA()()()(),e.TgZ(64,"div",36),e._UZ(65,"input",41),e.qZA(),e.TgZ(66,"div",42)(67,"button",43),e.NdJ("click",function(){return l.editHoliday_params(l.createHoliday.value,"multiple")}),e._UZ(68,"span",44),e.qZA()()()(),e.TgZ(69,"div",45)(70,"table",46)(71,"thead")(72,"tr")(73,"th"),e._uU(74,"Holiday"),e.qZA(),e.TgZ(75,"th"),e._uU(76,"Date"),e.qZA(),e.TgZ(77,"th"),e._uU(78,"Delete"),e.qZA()()()()()()(),e.TgZ(79,"div",26)(80,"button",27,47),e._uU(82,"Cancel"),e.qZA(),e.TgZ(83,"button",48),e.NdJ("click",function(){return l.updateOS(l.createHoliday.value,"editholiday")}),e._uU(84," Add Holiday "),e.qZA()()()()(),e.TgZ(85,"div",49)(86,"div",11)(87,"div",50)(88,"div",13)(89,"h2",51),e._uU(90," MultiSlot Configuration"),e.qZA(),e._UZ(91,"button",15),e.qZA(),e.TgZ(92,"div",16)(93,"div",34)(94,"div",18)(95,"div",35)(96,"div",52)(97,"div",35)(98,"div",53),e._UZ(99,"input",54),e.TgZ(100,"label",55)(101,"b"),e._uU(102,"Enable Multislot"),e.qZA()()(),e.TgZ(103,"div",56)(104,"div",35)(105,"div",57)(106,"label",58),e._uU(107,"ID"),e.qZA()(),e.TgZ(108,"div",59)(109,"input",60),e.NdJ("keyup",function(n){return l.checkUniqueMultiSlotID(n)}),e.qZA(),e.TgZ(110,"span",23),e._uU(111),e.qZA()()()()()(),e.TgZ(112,"div",37)(113,"div",35)(114,"div",56)(115,"div",35)(116,"div",57)(117,"label",61),e._uU(118," Type"),e.qZA()(),e.TgZ(119,"div",59)(120,"select",62)(121,"option",63),e._uU(122,"Select Type"),e.qZA(),e.TgZ(123,"option",64),e._uU(124,"Operation"),e.qZA(),e.TgZ(125,"option",65),e._uU(126,"Break"),e.qZA(),e.TgZ(127,"option",66),e._uU(128,"Non Working Hour"),e.qZA()()()()(),e.TgZ(129,"div",67)(130,"div",35)(131,"div",57)(132,"label",61),e._uU(133," Day"),e.qZA()(),e.TgZ(134,"div",59)(135,"select",68)(136,"option",63),e._uU(137,"Select Days"),e.qZA(),e.TgZ(138,"option",69),e._uU(139,"Sunday "),e.qZA(),e.TgZ(140,"option",70),e._uU(141,"Monday"),e.qZA(),e.TgZ(142,"option",71),e._uU(143,"Tuesday"),e.qZA(),e.TgZ(144,"option",72),e._uU(145,"Wednesday"),e.qZA(),e.TgZ(146,"option",73),e._uU(147,"Thursday"),e.qZA(),e.TgZ(148,"option",74),e._uU(149,"Friday"),e.qZA(),e.TgZ(150,"option",75),e._uU(151,"Saturday"),e.qZA()()()()()()(),e.TgZ(152,"div",37)(153,"div",35)(154,"div",76)(155,"label",77),e._uU(156,"From "),e.qZA(),e._UZ(157,"input",78),e.qZA(),e.TgZ(158,"div",76)(159,"label",77),e._uU(160,"To "),e.qZA(),e._UZ(161,"input",79),e.qZA(),e.TgZ(162,"div",80)(163,"button",43),e.NdJ("click",function(){return l.editMultislot_params(l.createMultislot.value,"multiple")}),e._UZ(164,"span",44),e.qZA()()()()()(),e.TgZ(165,"div",45)(166,"table",81)(167,"thead")(168,"tr")(169,"th"),e._uU(170,"Custom Schedule Id"),e.qZA(),e.TgZ(171,"th"),e._uU(172,"Break Type"),e.qZA(),e.TgZ(173,"th"),e._uU(174,"Days"),e.qZA(),e.TgZ(175,"th"),e._uU(176,"From Time"),e.qZA(),e.TgZ(177,"th"),e._uU(178,"To Time"),e.qZA(),e.TgZ(179,"th"),e._uU(180,"Delete"),e.qZA()()()()()()(),e.TgZ(181,"div",26)(182,"button",27,82),e._uU(184,"Cancel"),e.qZA(),e.TgZ(185,"button",48),e.NdJ("click",function(){return l.updateOS(l.createMultislot.value,"editmultislot")}),e._uU(186," Add multislot "),e.qZA()()()()(),e.TgZ(187,"div",83)(188,"div",11)(189,"div",50)(190,"div",13)(191,"h2",84),e._uU(192," Custom Schedule Configuration"),e.qZA(),e._UZ(193,"button",15),e.qZA(),e.TgZ(194,"div",16)(195,"div",34)(196,"div",18)(197,"div",35)(198,"div",85)(199,"div",35)(200,"div",56)(201,"div",35)(202,"div",57)(203,"label",58),e._uU(204,"ID"),e.qZA()(),e.TgZ(205,"div",59)(206,"input",86),e.NdJ("keyup",function(n){return l.checkUniqueCustomID(n)}),e.qZA(),e.TgZ(207,"span",23),e._uU(208),e.qZA()()()(),e.TgZ(209,"div",56)(210,"div",35)(211,"div",57)(212,"label",61),e._uU(213," Label"),e.qZA()(),e.TgZ(214,"div",59),e._UZ(215,"input",87),e.qZA()()()()(),e.TgZ(216,"div",85)(217,"div",35)(218,"div",76)(219,"div",35)(220,"div",57)(221,"label",77),e._uU(222,"From "),e.qZA()(),e.TgZ(223,"div",59)(224,"select",88)(225,"option",63),e._uU(226,"Select From"),e.qZA(),e.TgZ(227,"option",89),e._uU(228,"1"),e.qZA(),e.TgZ(229,"option",90),e._uU(230,"2"),e.qZA(),e.TgZ(231,"option",91),e._uU(232,"3"),e.qZA(),e.TgZ(233,"option",92),e._uU(234,"4"),e.qZA(),e.TgZ(235,"option",93),e._uU(236,"5"),e.qZA(),e.TgZ(237,"option",94),e._uU(238,"6"),e.qZA(),e.TgZ(239,"option",95),e._uU(240,"7"),e.qZA(),e.TgZ(241,"option",96),e._uU(242,"8"),e.qZA(),e.TgZ(243,"option",97),e._uU(244,"9"),e.qZA(),e.TgZ(245,"option",98),e._uU(246,"10"),e.qZA(),e.TgZ(247,"option",99),e._uU(248,"11"),e.qZA(),e.TgZ(249,"option",100),e._uU(250,"12"),e.qZA(),e.TgZ(251,"option",101),e._uU(252,"13"),e.qZA(),e.TgZ(253,"option",102),e._uU(254,"14"),e.qZA(),e.TgZ(255,"option",103),e._uU(256,"15"),e.qZA(),e.TgZ(257,"option",104),e._uU(258,"16"),e.qZA(),e.TgZ(259,"option",105),e._uU(260,"17"),e.qZA(),e.TgZ(261,"option",106),e._uU(262,"18"),e.qZA(),e.TgZ(263,"option",107),e._uU(264,"19"),e.qZA(),e.TgZ(265,"option",108),e._uU(266,"20"),e.qZA(),e.TgZ(267,"option",109),e._uU(268,"21"),e.qZA(),e.TgZ(269,"option",110),e._uU(270,"22"),e.qZA(),e.TgZ(271,"option",111),e._uU(272,"23"),e.qZA(),e.TgZ(273,"option",112),e._uU(274,"24"),e.qZA()()()()(),e.TgZ(275,"div",76)(276,"div",35)(277,"div",57)(278,"label",77),e._uU(279,"To "),e.qZA()(),e.TgZ(280,"div",59)(281,"select",113)(282,"option",63),e._uU(283,"Select To"),e.qZA(),e.TgZ(284,"option",89),e._uU(285,"1"),e.qZA(),e.TgZ(286,"option",90),e._uU(287,"2"),e.qZA(),e.TgZ(288,"option",91),e._uU(289,"3"),e.qZA(),e.TgZ(290,"option",92),e._uU(291,"4"),e.qZA(),e.TgZ(292,"option",93),e._uU(293,"5"),e.qZA(),e.TgZ(294,"option",94),e._uU(295,"6"),e.qZA(),e.TgZ(296,"option",95),e._uU(297,"7"),e.qZA(),e.TgZ(298,"option",96),e._uU(299,"8"),e.qZA(),e.TgZ(300,"option",97),e._uU(301,"9"),e.qZA(),e.TgZ(302,"option",98),e._uU(303,"10"),e.qZA(),e.TgZ(304,"option",99),e._uU(305,"11"),e.qZA(),e.TgZ(306,"option",100),e._uU(307,"12"),e.qZA(),e.TgZ(308,"option",101),e._uU(309,"13"),e.qZA(),e.TgZ(310,"option",102),e._uU(311,"14"),e.qZA(),e.TgZ(312,"option",103),e._uU(313,"15"),e.qZA(),e.TgZ(314,"option",104),e._uU(315,"16"),e.qZA(),e.TgZ(316,"option",105),e._uU(317,"17"),e.qZA(),e.TgZ(318,"option",106),e._uU(319,"18"),e.qZA(),e.TgZ(320,"option",107),e._uU(321,"19"),e.qZA(),e.TgZ(322,"option",108),e._uU(323,"20"),e.qZA(),e.TgZ(324,"option",109),e._uU(325,"21"),e.qZA(),e.TgZ(326,"option",110),e._uU(327,"22"),e.qZA(),e.TgZ(328,"option",111),e._uU(329,"23"),e.qZA(),e.TgZ(330,"option",112),e._uU(331,"24"),e.qZA()()()()(),e.TgZ(332,"div",114)(333,"button",43),e.NdJ("click",function(){return l.editCustomSchedule_params(l.createCustomSchedule.value,"multiple")}),e._UZ(334,"span",44),e.qZA()()()()()(),e.TgZ(335,"div",45)(336,"table",115)(337,"thead")(338,"tr")(339,"th"),e._uU(340,"ID"),e.qZA(),e.TgZ(341,"th"),e._uU(342,"Label"),e.qZA(),e.TgZ(343,"th"),e._uU(344,"From"),e.qZA(),e.TgZ(345,"th"),e._uU(346,"To"),e.qZA(),e.TgZ(347,"th"),e._uU(348,"Delete"),e.qZA()()()()()(),e.TgZ(349,"div",26)(350,"button",27,116),e._uU(352,"Cancel"),e.qZA(),e.TgZ(353,"button",48),e.NdJ("click",function(){return l.updateOS(l.createCustomSchedule.value,"editCustomSchedule")}),e._uU(354," Add Schedule "),e.qZA()()()()()()),2&t){let i,n,s,a,o;e.xp6(6),e.Q6J("ngIf",l.hideDeleteButton),e.xp6(6),e.Q6J("ngIf",!0===l.hideDeleteButton),e.xp6(1),e.Q6J("ngIf",!1===l.hideDeleteButton),e.xp6(5),e.Q6J("ngIf",l.showHeading),e.xp6(1),e.Q6J("ngIf",!l.showHeading),e.xp6(2),e.Q6J("formGroup",l.createOSField),e.xp6(9),e.Oqu(l.errorForUniqueID),e.xp6(1),e.Q6J("ngIf",(null==(i=l.createOSField.get("osID"))?null:i.hasError("required"))&&(null==(i=l.createOSField.get("osID"))?null:i.touched)),e.xp6(5),e.Q6J("ngIf",(null==(n=l.createOSField.get("oslabel"))?null:n.hasError("required"))&&(null==(n=l.createOSField.get("oslabel"))?null:n.touched)),e.xp6(5),e.Q6J("ngIf",l.showModal),e.xp6(1),e.Q6J("ngIf",!l.showModal),e.xp6(8),e.Q6J("formGroup",l.createHoliday),e.xp6(13),e.Oqu(l.errorForUniqueHoliday),e.xp6(4),e.Q6J("disabled","Holiday already exists"==l.errorForUniqueHoliday||(null==(s=l.createHoliday.get("holiday"))?null:s.hasError("required"))||(null==(s=l.createHoliday.get("holidate"))?null:s.hasError("required"))),e.xp6(1),e.Q6J("inlineSVG","./assets/media/icons/duotune/arrows/arr075.svg"),e.xp6(15),e.Q6J("disabled",l.enableHoliday),e.xp6(9),e.Q6J("formGroup",l.createMultislot),e.xp6(19),e.Oqu(l.errorForUniqueMultislotID),e.xp6(10),e.Q6J("selected",!0),e.xp6(15),e.Q6J("selected",!0),e.xp6(27),e.Q6J("disabled","MultiSlot ID already exists"==l.errorForUniqueMultislotID||(null==(a=l.createMultislot.get("multislotID"))?null:a.hasError("required"))||(null==(a=l.createMultislot.get("break_type"))?null:a.hasError("required"))||(null==(a=l.createMultislot.get("multiSlot_fromTime"))?null:a.hasError("required"))||(null==(a=l.createMultislot.get("multiSlot_toTime"))?null:a.hasError("required"))),e.xp6(1),e.Q6J("inlineSVG","./assets/media/icons/duotune/arrows/arr075.svg"),e.xp6(21),e.Q6J("disabled",l.enableMultiSlot),e.xp6(9),e.Q6J("formGroup",l.createCustomSchedule),e.xp6(14),e.Oqu(l.errorForUniqueCustomID),e.xp6(17),e.Q6J("selected",!0),e.xp6(57),e.Q6J("selected",!0),e.xp6(51),e.Q6J("disabled","Custom ID already exists"==l.errorForUniqueCustomID||(null==(o=l.createCustomSchedule.get("customID"))?null:o.hasError("required"))||(null==(o=l.createCustomSchedule.get("customLabel"))?null:o.hasError("required"))||(null==(o=l.createCustomSchedule.get("custom_from_time"))?null:o.hasError("required"))||(null==(o=l.createCustomSchedule.get("custom_to_time"))?null:o.hasError("required"))||(null==(o=l.createCustomSchedule.get("custom_from_time"))?null:o.value)>(null==(o=l.createCustomSchedule.get("custom_to_time"))?null:o.value)),e.xp6(1),e.Q6J("inlineSVG","./assets/media/icons/duotune/arrows/arr075.svg"),e.xp6(19),e.Q6J("disabled",l.enableCustomSchedule)}},dependencies:[H.O5,y.YN,y.Kr,y.Fj,y.Wl,y.EJ,y.JJ,y.JL,y.Q7,y.sg,y.u,Y.d$],styles:["input[type=time][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%]{background-color:#f5f8fa;border-color:#f5f8fa;color:#5e6278;transition:color .2s ease,background-color .2s ease;border:none;padding-left:10px;border-radius:5px}input[_ngcontent-%COMP%]:focus{outline:none!important}.swal2-container[_ngcontent-%COMP%]{z-index:10000}.btn-close[_ngcontent-%COMP%]{background-color:#f1416c}"]})),v})(),de=(()=>{var Z;class v{}return Z=v,(0,d.Z)(v,"\u0275fac",function(t){return new(t||Z)}),(0,d.Z)(v,"\u0275mod",e.oAB({type:Z})),(0,d.Z)(v,"\u0275inj",e.cJS({imports:[H.ez,K.ZX,L.Bz.forChild([{path:"",component:ne}])]})),v})()}}]);